/*! For license information please see mirador-with-plugins.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,(()=>(()=>{var e={83415:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"}},56262:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={black:"#000",white:"#fff"}},25164:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"}},48052:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"}},34709:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"}},28209:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"}},8391:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"}},21672:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"}},80381:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(63063),i=n(53466),o=n(78281),a=(n(43979),n(80634)),s=n(74855),l=n(30568),u=o.forwardRef((function(e,t){var n=e.anchorOrigin,s=void 0===n?{vertical:"top",horizontal:"right"}:n,u=e.badgeContent,c=e.children,f=e.classes,d=e.className,p=e.color,h=void 0===p?"default":p,m=e.component,v=void 0===m?"span":m,g=e.invisible,y=e.max,b=void 0===y?99:y,w=e.overlap,x=void 0===w?"rectangle":w,S=e.showZero,E=void 0!==S&&S,_=e.variant,T=void 0===_?"standard":_,O=(0,i.A)(e,["anchorOrigin","badgeContent","children","classes","className","color","component","invisible","max","overlap","showZero","variant"]),A=g;null==g&&(0===u&&!E||null==u&&"dot"!==T)&&(A=!0);var C="";return"dot"!==T&&(C=u>b?"".concat(b,"+"):u),o.createElement(v,(0,r.A)({className:(0,a.default)(f.root,d),ref:t},O),c,o.createElement("span",{className:(0,a.default)(f.badge,f["".concat(s.horizontal).concat((0,l.A)(s.vertical),"}")],f["anchorOrigin".concat((0,l.A)(s.vertical)).concat((0,l.A)(s.horizontal)).concat((0,l.A)(x))],"default"!==h&&f["color".concat((0,l.A)(h))],A&&f.invisible,"dot"===T&&f.dot)},C))}));const c=(0,s.A)((function(e){return{root:{position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0},badge:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorError:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText},dot:{borderRadius:4,height:8,minWidth:8,padding:0},anchorOriginTopRightRectangle:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginTopRightRectangular:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightRectangle:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginBottomRightRectangular:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftRectangle:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginTopLeftRectangular:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftRectangle:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginBottomLeftRectangular:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginTopRightCircle:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginTopRightCircular:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightCircle:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginBottomRightCircular:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftCircle:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginTopLeftCircular:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftCircle:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginBottomLeftCircular:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},invisible:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}}),{name:"MuiBadge"})(u)},37891:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(53466),i=n(63063),o=n(78281),a=(n(43979),n(80634)),s=n(74855),l=n(61276),u=n(52757),c=n(30568),f=o.forwardRef((function(e,t){var n=e.children,s=e.classes,l=e.className,f=e.color,d=void 0===f?"default":f,p=e.component,h=void 0===p?"button":p,m=e.disabled,v=void 0!==m&&m,g=e.disableElevation,y=void 0!==g&&g,b=e.disableFocusRipple,w=void 0!==b&&b,x=e.endIcon,S=e.focusVisibleClassName,E=e.fullWidth,_=void 0!==E&&E,T=e.size,O=void 0===T?"medium":T,A=e.startIcon,C=e.type,P=void 0===C?"button":C,k=e.variant,R=void 0===k?"text":k,I=(0,r.A)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),M=A&&o.createElement("span",{className:(0,a.default)(s.startIcon,s["iconSize".concat((0,c.A)(O))])},A),D=x&&o.createElement("span",{className:(0,a.default)(s.endIcon,s["iconSize".concat((0,c.A)(O))])},x);return o.createElement(u.A,(0,i.A)({className:(0,a.default)(s.root,s[R],l,"inherit"===d?s.colorInherit:"default"!==d&&s["".concat(R).concat((0,c.A)(d))],"medium"!==O&&[s["".concat(R,"Size").concat((0,c.A)(O))],s["size".concat((0,c.A)(O))]],y&&s.disableElevation,v&&s.disabled,_&&s.fullWidth),component:h,disabled:v,focusRipple:!w,focusVisibleClassName:(0,a.default)(s.focusVisible,S),ref:t,type:P},I),o.createElement("span",{className:s.label},M,n,D))}));const d=(0,s.A)((function(e){return{root:(0,i.A)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,l.X4)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,l.X4)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,l.X4)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat((0,l.X4)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:(0,l.X4)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat((0,l.X4)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:(0,l.X4)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(f)},52757:(e,t,n)=>{"use strict";n.d(t,{A:()=>C});var r=n(63063),i=n(53466),o=n(78281),a=(n(43979),n(8568)),s=n(80634),l=n(86390),u=n(68596),c=n(74855),f=n(11473),d=n(109),p=n(5550),h=n(87354),m=n(25588),v=n(65612);function g(e,t){var n=Object.create(null);return e&&o.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,o.isValidElement)(e)?t(e):e}(e)})),n}function y(e,t,n){return null!=n[t]?n[t]:e.props[t]}function b(e,t,n){var r=g(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];s[i[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(i).forEach((function(a){var s=i[a];if((0,o.isValidElement)(s)){var l=a in t,u=a in r,c=t[a],f=(0,o.isValidElement)(c)&&!c.props.in;!u||l&&!f?u||!l||f?u&&l&&(0,o.isValidElement)(c)&&(i[a]=(0,o.cloneElement)(s,{onExited:n.bind(null,s),in:c.props.in,exit:y(s,"exit",e),enter:y(s,"enter",e)})):i[a]=(0,o.cloneElement)(s,{in:!1}):i[a]=(0,o.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:y(s,"exit",e),enter:y(s,"enter",e)})}})),i}var w=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},x=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind((0,h.A)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,m.A)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,g(n.children,(function(e){return(0,o.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:y(e,"appear",n),enter:y(e,"enter",n),exit:y(e,"exit",n)})}))):b(e,i,a),firstRender:!1}},n.handleExited=function(e,t){var n=g(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,r.A)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,p.A)(e,["component","childFactory"]),i=this.state.contextValue,a=w(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o.createElement(v.A.Provider,{value:i},a):o.createElement(v.A.Provider,{value:i},o.createElement(t,r,a))},t}(o.Component);x.propTypes={},x.defaultProps={component:"div",childFactory:function(e){return e}};const S=x;var E="undefined"==typeof window?o.useEffect:o.useLayoutEffect;const _=function(e){var t=e.classes,n=e.pulsate,r=void 0!==n&&n,i=e.rippleX,a=e.rippleY,l=e.rippleSize,c=e.in,f=e.onExited,d=void 0===f?function(){}:f,p=e.timeout,h=o.useState(!1),m=h[0],v=h[1],g=(0,s.default)(t.ripple,t.rippleVisible,r&&t.ripplePulsate),y={width:l,height:l,top:-l/2+a,left:-l/2+i},b=(0,s.default)(t.child,m&&t.childLeaving,r&&t.childPulsate),w=(0,u.A)(d);return E((function(){if(!c){v(!0);var e=setTimeout(w,p);return function(){clearTimeout(e)}}}),[w,c,p]),o.createElement("span",{className:g,style:y},o.createElement("span",{className:b}))};var T=o.forwardRef((function(e,t){var n=e.center,a=void 0!==n&&n,l=e.classes,u=e.className,c=(0,i.A)(e,["center","classes","className"]),f=o.useState([]),p=f[0],h=f[1],m=o.useRef(0),v=o.useRef(null);o.useEffect((function(){v.current&&(v.current(),v.current=null)}),[p]);var g=o.useRef(!1),y=o.useRef(null),b=o.useRef(null),w=o.useRef(null);o.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var x=o.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;h((function(e){return[].concat((0,d.A)(e),[o.createElement(_,{key:m.current,classes:l,timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i})])})),m.current+=1,v.current=a}),[l]),E=o.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,s=void 0===o?a||t.pulsate:o,l=t.fakeElement,u=void 0!==l&&l;if("mousedown"===e.type&&g.current)g.current=!1;else{"touchstart"===e.type&&(g.current=!0);var c,f,d,p=u?null:w.current,h=p?p.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(h.width/2),f=Math.round(h.height/2);else{var m=e.touches?e.touches[0]:e,v=m.clientX,S=m.clientY;c=Math.round(v-h.left),f=Math.round(S-h.top)}if(s)(d=Math.sqrt((2*Math.pow(h.width,2)+Math.pow(h.height,2))/3))%2==0&&(d+=1);else{var E=2*Math.max(Math.abs((p?p.clientWidth:0)-c),c)+2,_=2*Math.max(Math.abs((p?p.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(E,2)+Math.pow(_,2))}e.touches?null===b.current&&(b.current=function(){x({pulsate:i,rippleX:c,rippleY:f,rippleSize:d,cb:n})},y.current=setTimeout((function(){b.current&&(b.current(),b.current=null)}),80)):x({pulsate:i,rippleX:c,rippleY:f,rippleSize:d,cb:n})}}),[a,x]),T=o.useCallback((function(){E({},{pulsate:!0})}),[E]),O=o.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===e.type&&b.current)return e.persist(),b.current(),b.current=null,void(y.current=setTimeout((function(){O(e,t)})));b.current=null,h((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return o.useImperativeHandle(t,(function(){return{pulsate:T,start:E,stop:O}}),[T,E,O]),o.createElement("span",(0,r.A)({className:(0,s.default)(l.root,u),ref:w},c),o.createElement(S,{component:null,exit:!0},p))}));const O=(0,c.A)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(o.memo(T));var A=o.forwardRef((function(e,t){var n=e.action,c=e.buttonRef,d=e.centerRipple,p=void 0!==d&&d,h=e.children,m=e.classes,v=e.className,g=e.component,y=void 0===g?"button":g,b=e.disabled,w=void 0!==b&&b,x=e.disableRipple,S=void 0!==x&&x,E=e.disableTouchRipple,_=void 0!==E&&E,T=e.focusRipple,A=void 0!==T&&T,C=e.focusVisibleClassName,P=e.onBlur,k=e.onClick,R=e.onFocus,I=e.onFocusVisible,M=e.onKeyDown,D=e.onKeyUp,j=e.onMouseDown,L=e.onMouseLeave,N=e.onMouseUp,z=e.onTouchEnd,B=e.onTouchMove,F=e.onTouchStart,W=e.onDragLeave,H=e.tabIndex,U=void 0===H?0:H,V=e.TouchRippleProps,G=e.type,q=void 0===G?"button":G,X=(0,i.A)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),Z=o.useRef(null),$=o.useRef(null),Y=o.useState(!1),K=Y[0],J=Y[1];w&&K&&J(!1);var Q=(0,f.A)(),ee=Q.isFocusVisible,te=Q.onBlurVisible,ne=Q.ref;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;return(0,u.A)((function(r){return t&&t(r),!n&&$.current&&$.current[e](r),!0}))}o.useImperativeHandle(n,(function(){return{focusVisible:function(){J(!0),Z.current.focus()}}}),[]),o.useEffect((function(){K&&A&&!S&&$.current.pulsate()}),[S,A,K]);var ie=re("start",j),oe=re("stop",W),ae=re("stop",N),se=re("stop",(function(e){K&&e.preventDefault(),L&&L(e)})),le=re("start",F),ue=re("stop",z),ce=re("stop",B),fe=re("stop",(function(e){K&&(te(e),J(!1)),P&&P(e)}),!1),de=(0,u.A)((function(e){Z.current||(Z.current=e.currentTarget),ee(e)&&(J(!0),I&&I(e)),R&&R(e)})),pe=function(){var e=a.findDOMNode(Z.current);return y&&"button"!==y&&!("A"===e.tagName&&e.href)},he=o.useRef(!1),me=(0,u.A)((function(e){A&&!he.current&&K&&$.current&&" "===e.key&&(he.current=!0,e.persist(),$.current.stop(e,(function(){$.current.start(e)}))),e.target===e.currentTarget&&pe()&&" "===e.key&&e.preventDefault(),M&&M(e),e.target===e.currentTarget&&pe()&&"Enter"===e.key&&!w&&(e.preventDefault(),k&&k(e))})),ve=(0,u.A)((function(e){A&&" "===e.key&&$.current&&K&&!e.defaultPrevented&&(he.current=!1,e.persist(),$.current.stop(e,(function(){$.current.pulsate(e)}))),D&&D(e),k&&e.target===e.currentTarget&&pe()&&" "===e.key&&!e.defaultPrevented&&k(e)})),ge=y;"button"===ge&&X.href&&(ge="a");var ye={};"button"===ge?(ye.type=q,ye.disabled=w):("a"===ge&&X.href||(ye.role="button"),ye["aria-disabled"]=w);var be=(0,l.A)(c,t),we=(0,l.A)(ne,Z),xe=(0,l.A)(be,we),Se=o.useState(!1),Ee=Se[0],_e=Se[1];o.useEffect((function(){_e(!0)}),[]);var Te=Ee&&!S&&!w;return o.createElement(ge,(0,r.A)({className:(0,s.default)(m.root,v,K&&[m.focusVisible,C],w&&m.disabled),onBlur:fe,onClick:k,onFocus:de,onKeyDown:me,onKeyUp:ve,onMouseDown:ie,onMouseLeave:se,onMouseUp:ae,onDragLeave:oe,onTouchEnd:ue,onTouchMove:ce,onTouchStart:le,ref:xe,tabIndex:w?-1:U},ye,X),h,Te?o.createElement(O,(0,r.A)({ref:$,center:p},V)):null)}));const C=(0,c.A)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(A)},87817:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(63063),i=n(53466),o=n(78281),a=(n(43979),n(80634));const s=(0,n(82083).A)(o.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");var l=n(74855),u=n(61276),c=n(86390),f=n(30568),d=n(52757);function p(e){return"Backspace"===e.key||"Delete"===e.key}var h=o.forwardRef((function(e,t){var n=e.avatar,l=e.classes,u=e.className,h=e.clickable,m=e.color,v=void 0===m?"default":m,g=e.component,y=e.deleteIcon,b=e.disabled,w=void 0!==b&&b,x=e.icon,S=e.label,E=e.onClick,_=e.onDelete,T=e.onKeyDown,O=e.onKeyUp,A=e.size,C=void 0===A?"medium":A,P=e.variant,k=void 0===P?"default":P,R=(0,i.A)(e,["avatar","classes","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"]),I=o.useRef(null),M=(0,c.A)(I,t),D=function(e){e.stopPropagation(),_&&_(e)},j=!(!1===h||!E)||h,L="small"===C,N=g||(j?d.A:"div"),z=N===d.A?{component:"div"}:{},B=null;if(_){var F=(0,a.default)("default"!==v&&("default"===k?l["deleteIconColor".concat((0,f.A)(v))]:l["deleteIconOutlinedColor".concat((0,f.A)(v))]),L&&l.deleteIconSmall);B=y&&o.isValidElement(y)?o.cloneElement(y,{className:(0,a.default)(y.props.className,l.deleteIcon,F),onClick:D}):o.createElement(s,{className:(0,a.default)(l.deleteIcon,F),onClick:D})}var W=null;n&&o.isValidElement(n)&&(W=o.cloneElement(n,{className:(0,a.default)(l.avatar,n.props.className,L&&l.avatarSmall,"default"!==v&&l["avatarColor".concat((0,f.A)(v))])}));var H=null;return x&&o.isValidElement(x)&&(H=o.cloneElement(x,{className:(0,a.default)(l.icon,x.props.className,L&&l.iconSmall,"default"!==v&&l["iconColor".concat((0,f.A)(v))])})),o.createElement(N,(0,r.A)({role:j||_?"button":void 0,className:(0,a.default)(l.root,u,"default"!==v&&[l["color".concat((0,f.A)(v))],j&&l["clickableColor".concat((0,f.A)(v))],_&&l["deletableColor".concat((0,f.A)(v))]],"default"!==k&&[l.outlined,{primary:l.outlinedPrimary,secondary:l.outlinedSecondary}[v]],w&&l.disabled,L&&l.sizeSmall,j&&l.clickable,_&&l.deletable),"aria-disabled":!!w||void 0,tabIndex:j||_?0:void 0,onClick:E,onKeyDown:function(e){e.currentTarget===e.target&&p(e)&&e.preventDefault(),T&&T(e)},onKeyUp:function(e){e.currentTarget===e.target&&(_&&p(e)?_(e):"Escape"===e.key&&I.current&&I.current.blur()),O&&O(e)},ref:M},z,R),W||H,o.createElement("span",{className:(0,a.default)(l.label,L&&l.labelSmall)},S),B)}));const m=(0,l.A)((function(e){var t="light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],n=(0,u.X4)(e.palette.text.primary,.26);return{root:{fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:e.palette.getContrastText(t),backgroundColor:t,borderRadius:16,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:"none",padding:0,verticalAlign:"middle",boxSizing:"border-box","&$disabled":{opacity:.5,pointerEvents:"none"},"& $avatar":{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],fontSize:e.typography.pxToRem(12)},"& $avatarColorPrimary":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark},"& $avatarColorSecondary":{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.dark},"& $avatarSmall":{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)}},sizeSmall:{height:24},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},disabled:{},clickable:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover, &:focus":{backgroundColor:(0,u.tL)(t,.08)},"&:active":{boxShadow:e.shadows[1]}},clickableColorPrimary:{"&:hover, &:focus":{backgroundColor:(0,u.tL)(e.palette.primary.main,.08)}},clickableColorSecondary:{"&:hover, &:focus":{backgroundColor:(0,u.tL)(e.palette.secondary.main,.08)}},deletable:{"&:focus":{backgroundColor:(0,u.tL)(t,.08)}},deletableColorPrimary:{"&:focus":{backgroundColor:(0,u.tL)(e.palette.primary.main,.2)}},deletableColorSecondary:{"&:focus":{backgroundColor:(0,u.tL)(e.palette.secondary.main,.2)}},outlined:{backgroundColor:"transparent",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:(0,u.X4)(e.palette.text.primary,e.palette.action.hoverOpacity)},"& $avatar":{marginLeft:4},"& $avatarSmall":{marginLeft:2},"& $icon":{marginLeft:4},"& $iconSmall":{marginLeft:2},"& $deleteIcon":{marginRight:5},"& $deleteIconSmall":{marginRight:3}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(e.palette.primary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:(0,u.X4)(e.palette.primary.main,e.palette.action.hoverOpacity)}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(e.palette.secondary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:(0,u.X4)(e.palette.secondary.main,e.palette.action.hoverOpacity)}},avatar:{},avatarSmall:{},avatarColorPrimary:{},avatarColorSecondary:{},icon:{color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],marginLeft:5,marginRight:-6},iconSmall:{width:18,height:18,marginLeft:4,marginRight:-4},iconColorPrimary:{color:"inherit"},iconColorSecondary:{color:"inherit"},label:{overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},labelSmall:{paddingLeft:8,paddingRight:8},deleteIcon:{WebkitTapHighlightColor:"transparent",color:n,height:22,width:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:(0,u.X4)(n,.4)}},deleteIconSmall:{height:16,width:16,marginRight:4,marginLeft:-4},deleteIconColorPrimary:{color:(0,u.X4)(e.palette.primary.contrastText,.7),"&:hover, &:active":{color:e.palette.primary.contrastText}},deleteIconColorSecondary:{color:(0,u.X4)(e.palette.secondary.contrastText,.7),"&:hover, &:active":{color:e.palette.secondary.contrastText}},deleteIconOutlinedColorPrimary:{color:(0,u.X4)(e.palette.primary.main,.7),"&:hover, &:active":{color:e.palette.primary.main}},deleteIconOutlinedColorSecondary:{color:(0,u.X4)(e.palette.secondary.main,.7),"&:hover, &:active":{color:e.palette.secondary.main}}}}),{name:"MuiChip"})(h)},90117:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(63063),i=n(55258),o=n(53466),a=n(78281),s=n(80634),l=(n(43979),n(21460)),u=n(74855),c=n(58705),f=n(29812),d=n(17429),p=n(86390),h=a.forwardRef((function(e,t){var n=e.children,u=e.classes,h=e.className,m=e.collapsedHeight,v=e.collapsedSize,g=void 0===v?"0px":v,y=e.component,b=void 0===y?"div":y,w=e.disableStrictModeCompat,x=void 0!==w&&w,S=e.in,E=e.onEnter,_=e.onEntered,T=e.onEntering,O=e.onExit,A=e.onExited,C=e.onExiting,P=e.style,k=e.timeout,R=void 0===k?c.p0.standard:k,I=e.TransitionComponent,M=void 0===I?l.Ay:I,D=(0,o.A)(e,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),j=(0,d.A)(),L=a.useRef(),N=a.useRef(null),z=a.useRef(),B="number"==typeof(m||g)?"".concat(m||g,"px"):m||g;a.useEffect((function(){return function(){clearTimeout(L.current)}}),[]);var F=j.unstable_strictMode&&!x,W=a.useRef(null),H=(0,p.A)(t,F?W:void 0),U=function(e){return function(t,n){if(e){var r=F?[W.current,t]:[t,n],o=(0,i.A)(r,2),a=o[0],s=o[1];void 0===s?e(a):e(a,s)}}},V=U((function(e,t){e.style.height=B,E&&E(e,t)})),G=U((function(e,t){var n=N.current?N.current.clientHeight:0,r=(0,f.c)({style:P,timeout:R},{mode:"enter"}).duration;if("auto"===R){var i=j.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(i,"ms"),z.current=i}else e.style.transitionDuration="string"==typeof r?r:"".concat(r,"ms");e.style.height="".concat(n,"px"),T&&T(e,t)})),q=U((function(e,t){e.style.height="auto",_&&_(e,t)})),X=U((function(e){var t=N.current?N.current.clientHeight:0;e.style.height="".concat(t,"px"),O&&O(e)})),Z=U(A),$=U((function(e){var t=N.current?N.current.clientHeight:0,n=(0,f.c)({style:P,timeout:R},{mode:"exit"}).duration;if("auto"===R){var r=j.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(r,"ms"),z.current=r}else e.style.transitionDuration="string"==typeof n?n:"".concat(n,"ms");e.style.height=B,C&&C(e)}));return a.createElement(M,(0,r.A)({in:S,onEnter:V,onEntered:q,onEntering:G,onExit:X,onExited:Z,onExiting:$,addEndListener:function(e,t){var n=F?e:t;"auto"===R&&(L.current=setTimeout(n,z.current||0))},nodeRef:F?W:void 0,timeout:"auto"===R?null:R},D),(function(e,t){return a.createElement(b,(0,r.A)({className:(0,s.default)(u.root,u.container,h,{entered:u.entered,exited:!S&&"0px"===B&&u.hidden}[e]),style:(0,r.A)({minHeight:B},P),ref:H},t),a.createElement("div",{className:u.wrapper,ref:N},a.createElement("div",{className:u.wrapperInner},n)))}))}));h.muiSupportAuto=!0;const m=(0,u.A)((function(e){return{root:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(h)},1529:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(63063),i=n(53466),o=n(78281),a=(n(43979),n(80634)),s=n(50046),l=n(74855),u=o.forwardRef((function(e,t){var n=e.disableUnderline,l=e.classes,u=e.fullWidth,c=void 0!==u&&u,f=e.inputComponent,d=void 0===f?"input":f,p=e.multiline,h=void 0!==p&&p,m=e.type,v=void 0===m?"text":m,g=(0,i.A)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return o.createElement(s.A,(0,r.A)({classes:(0,r.A)({},l,{root:(0,a.default)(l.root,!n&&l.underline),underline:null}),fullWidth:c,inputComponent:d,multiline:h,ref:t,type:v},g))}));u.muiName="Input";const c=(0,l.A)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(u)},2021:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(63063),i=n(53466),o=n(78281),a=(n(43979),n(80634)),s=n(37825),l=n(74855),u=n(30568),c=n(16037),f=n(65022),d=o.forwardRef((function(e,t){var n=e.children,l=e.classes,d=e.className,p=e.color,h=void 0===p?"primary":p,m=e.component,v=void 0===m?"div":m,g=e.disabled,y=void 0!==g&&g,b=e.error,w=void 0!==b&&b,x=e.fullWidth,S=void 0!==x&&x,E=e.focused,_=e.hiddenLabel,T=void 0!==_&&_,O=e.margin,A=void 0===O?"none":O,C=e.required,P=void 0!==C&&C,k=e.size,R=e.variant,I=void 0===R?"standard":R,M=(0,i.A)(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),D=o.useState((function(){var e=!1;return n&&o.Children.forEach(n,(function(t){if((0,c.A)(t,["Input","Select"])){var n=(0,c.A)(t,["Select"])?t.props.input:t;n&&(0,s.gr)(n.props)&&(e=!0)}})),e})),j=D[0],L=D[1],N=o.useState((function(){var e=!1;return n&&o.Children.forEach(n,(function(t){(0,c.A)(t,["Input","Select"])&&(0,s.lq)(t.props,!0)&&(e=!0)})),e})),z=N[0],B=N[1],F=o.useState(!1),W=F[0],H=F[1],U=void 0!==E?E:W;y&&U&&H(!1);var V=o.useCallback((function(){B(!0)}),[]),G={adornedStart:j,setAdornedStart:L,color:h,disabled:y,error:w,filled:z,focused:U,fullWidth:S,hiddenLabel:T,margin:("small"===k?"dense":void 0)||A,onBlur:function(){H(!1)},onEmpty:o.useCallback((function(){B(!1)}),[]),onFilled:V,onFocus:function(){H(!0)},registerEffect:void 0,required:P,variant:I};return o.createElement(f.A.Provider,{value:G},o.createElement(v,(0,r.A)({className:(0,a.default)(l.root,d,"none"!==A&&l["margin".concat((0,u.A)(A))],S&&l.fullWidth),ref:t},M),n))}));const p=(0,l.A)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(d)},65022:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,t:()=>o});var r=n(78281),i=r.createContext();function o(){return r.useContext(i)}const a=i},62964:(e,t,n)=>{"use strict";function r(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&void 0===t[n]&&(e[n]=r[n]),e}),{})}n.d(t,{A:()=>r})},95906:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(78281),i=n(65022);function o(){return r.useContext(i.A)}},85763:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(53466),i=n(63063),o=n(78281),a=(n(43979),n(80634)),s=n(74855),l=[0,1,2,3,4,5,6,7,8,9,10],u=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var f=o.forwardRef((function(e,t){var n=e.alignContent,s=void 0===n?"stretch":n,l=e.alignItems,u=void 0===l?"stretch":l,c=e.classes,f=e.className,d=e.component,p=void 0===d?"div":d,h=e.container,m=void 0!==h&&h,v=e.direction,g=void 0===v?"row":v,y=e.item,b=void 0!==y&&y,w=e.justify,x=e.justifyContent,S=void 0===x?"flex-start":x,E=e.lg,_=void 0!==E&&E,T=e.md,O=void 0!==T&&T,A=e.sm,C=void 0!==A&&A,P=e.spacing,k=void 0===P?0:P,R=e.wrap,I=void 0===R?"wrap":R,M=e.xl,D=void 0!==M&&M,j=e.xs,L=void 0!==j&&j,N=e.zeroMinWidth,z=void 0!==N&&N,B=(0,r.A)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),F=(0,a.default)(c.root,f,m&&[c.container,0!==k&&c["spacing-xs-".concat(String(k))]],b&&c.item,z&&c.zeroMinWidth,"row"!==g&&c["direction-xs-".concat(String(g))],"wrap"!==I&&c["wrap-xs-".concat(String(I))],"stretch"!==u&&c["align-items-xs-".concat(String(u))],"stretch"!==s&&c["align-content-xs-".concat(String(s))],"flex-start"!==(w||S)&&c["justify-content-xs-".concat(String(w||S))],!1!==L&&c["grid-xs-".concat(String(L))],!1!==C&&c["grid-sm-".concat(String(C))],!1!==O&&c["grid-md-".concat(String(O))],!1!==_&&c["grid-lg-".concat(String(_))],!1!==D&&c["grid-xl-".concat(String(D))]);return o.createElement(p,(0,i.A)({className:F,ref:t},B))}));const d=(0,s.A)((function(e){return(0,i.A)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return l.forEach((function(t){var r=e.spacing(t);0!==r&&(n["spacing-".concat("xs","-").concat(t)]={margin:"-".concat(c(r,2)),width:"calc(100% + ".concat(c(r),")"),"& > $item":{padding:c(r,2)}})})),n}(e),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var r={};u.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?(0,i.A)(e,r):e[t.breakpoints.up(n)]=r}(t,e,n),t}),{}))}),{name:"MuiGrid"})(f)},68553:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(63063),i=n(55258),o=n(53466),a=n(78281),s=(n(43979),n(21460)),l=n(17429),u=n(29812),c=n(86390);function f(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var d={entering:{opacity:1,transform:f(1)},entered:{opacity:1,transform:"none"}},p=a.forwardRef((function(e,t){var n=e.children,p=e.disableStrictModeCompat,h=void 0!==p&&p,m=e.in,v=e.onEnter,g=e.onEntered,y=e.onEntering,b=e.onExit,w=e.onExited,x=e.onExiting,S=e.style,E=e.timeout,_=void 0===E?"auto":E,T=e.TransitionComponent,O=void 0===T?s.Ay:T,A=(0,o.A)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),C=a.useRef(),P=a.useRef(),k=(0,l.A)(),R=k.unstable_strictMode&&!h,I=a.useRef(null),M=(0,c.A)(n.ref,t),D=(0,c.A)(R?I:void 0,M),j=function(e){return function(t,n){if(e){var r=R?[I.current,t]:[t,n],o=(0,i.A)(r,2),a=o[0],s=o[1];void 0===s?e(a):e(a,s)}}},L=j(y),N=j((function(e,t){(0,u.q)(e);var n,r=(0,u.c)({style:S,timeout:_},{mode:"enter"}),i=r.duration,o=r.delay;"auto"===_?(n=k.transitions.getAutoHeightDuration(e.clientHeight),P.current=n):n=i,e.style.transition=[k.transitions.create("opacity",{duration:n,delay:o}),k.transitions.create("transform",{duration:.666*n,delay:o})].join(","),v&&v(e,t)})),z=j(g),B=j(x),F=j((function(e){var t,n=(0,u.c)({style:S,timeout:_},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===_?(t=k.transitions.getAutoHeightDuration(e.clientHeight),P.current=t):t=r,e.style.transition=[k.transitions.create("opacity",{duration:t,delay:i}),k.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=f(.75),b&&b(e)})),W=j(w);return a.useEffect((function(){return function(){clearTimeout(C.current)}}),[]),a.createElement(O,(0,r.A)({appear:!0,in:m,nodeRef:R?I:void 0,onEnter:N,onEntered:z,onEntering:L,onExit:F,onExited:W,onExiting:B,addEndListener:function(e,t){var n=R?e:t;"auto"===_&&(C.current=setTimeout(n,P.current||0))},timeout:"auto"===_?null:_},A),(function(e,t){return a.cloneElement(n,(0,r.A)({style:(0,r.A)({opacity:0,transform:f(.75),visibility:"exited"!==e||m?void 0:"hidden"},d[e],S,n.props.style),ref:D},t))}))}));p.muiSupportAuto=!0;const h=p},5157:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(63063),i=n(53466),o=n(78281),a=(n(43979),n(80634)),s=n(74855),l=n(61276),u=n(52757),c=n(30568),f=o.forwardRef((function(e,t){var n=e.edge,s=void 0!==n&&n,l=e.children,f=e.classes,d=e.className,p=e.color,h=void 0===p?"default":p,m=e.disabled,v=void 0!==m&&m,g=e.disableFocusRipple,y=void 0!==g&&g,b=e.size,w=void 0===b?"medium":b,x=(0,i.A)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return o.createElement(u.A,(0,r.A)({className:(0,a.default)(f.root,d,"default"!==h&&f["color".concat((0,c.A)(h))],v&&f.disabled,"small"===w&&f["size".concat((0,c.A)(w))],{start:f.edgeStart,end:f.edgeEnd}[s]),centerRipple:!0,focusRipple:!y,disabled:v,ref:t},x),o.createElement("span",{className:f.label},l))}));const d=(0,s.A)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,l.X4)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,l.X4)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,l.X4)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(f)},57525:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(63063),i=n(53466),o=n(78281),a=(n(43979),n(80634)),s=n(50046),l=n(74855),u=o.forwardRef((function(e,t){var n=e.disableUnderline,l=e.classes,u=e.fullWidth,c=void 0!==u&&u,f=e.inputComponent,d=void 0===f?"input":f,p=e.multiline,h=void 0!==p&&p,m=e.type,v=void 0===m?"text":m,g=(0,i.A)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return o.createElement(s.A,(0,r.A)({classes:(0,r.A)({},l,{root:(0,a.default)(l.root,!n&&l.underline),underline:null}),fullWidth:c,inputComponent:d,multiline:h,ref:t,type:v},g))}));u.muiName="Input";const c=(0,l.A)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(u)},50046:(e,t,n)=>{"use strict";n.d(t,{A:()=>x});var r=n(53466),i=n(63063),o=n(60743),a=n(78281),s=(n(43979),n(80634)),l=n(62964),u=n(65022),c=n(74855),f=n(30568),d=n(86390),p=n(55053);function h(e,t){return parseInt(e[t],10)||0}var m="undefined"!=typeof window?a.useLayoutEffect:a.useEffect,v={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const g=a.forwardRef((function(e,t){var n=e.onChange,o=e.rows,s=e.rowsMax,l=e.rowsMin,u=e.maxRows,c=e.minRows,f=void 0===c?1:c,g=e.style,y=e.value,b=(0,r.A)(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),w=u||s,x=o||l||f,S=a.useRef(null!=y).current,E=a.useRef(null),_=(0,d.A)(t,E),T=a.useRef(null),O=a.useRef(0),A=a.useState({}),C=A[0],P=A[1],k=a.useCallback((function(){var t=E.current,n=window.getComputedStyle(t),r=T.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],o=h(n,"padding-bottom")+h(n,"padding-top"),a=h(n,"border-bottom-width")+h(n,"border-top-width"),s=r.scrollHeight-o;r.value="x";var l=r.scrollHeight-o,u=s;x&&(u=Math.max(Number(x)*l,u)),w&&(u=Math.min(Number(w)*l,u));var c=(u=Math.max(u,l))+("border-box"===i?o+a:0),f=Math.abs(u-s)<=1;P((function(e){return O.current<20&&(c>0&&Math.abs((e.outerHeightStyle||0)-c)>1||e.overflow!==f)?(O.current+=1,{overflow:f,outerHeightStyle:c}):e}))}),[w,x,e.placeholder]);return a.useEffect((function(){var e=(0,p.A)((function(){O.current=0,k()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[k]),m((function(){k()})),a.useEffect((function(){O.current=0}),[y]),a.createElement(a.Fragment,null,a.createElement("textarea",(0,i.A)({value:y,onChange:function(e){O.current=0,S||k(),n&&n(e)},ref:_,rows:x,style:(0,i.A)({height:C.outerHeightStyle,overflow:C.overflow?"hidden":null},g)},b)),a.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:T,tabIndex:-1,style:(0,i.A)({},v,g)}))}));var y=n(37825),b="undefined"==typeof window?a.useEffect:a.useLayoutEffect,w=a.forwardRef((function(e,t){var n=e["aria-describedby"],c=e.autoComplete,p=e.autoFocus,h=e.classes,m=e.className,v=(e.color,e.defaultValue),w=e.disabled,x=e.endAdornment,S=(e.error,e.fullWidth),E=void 0!==S&&S,_=e.id,T=e.inputComponent,O=void 0===T?"input":T,A=e.inputProps,C=void 0===A?{}:A,P=e.inputRef,k=(e.margin,e.multiline),R=void 0!==k&&k,I=e.name,M=e.onBlur,D=e.onChange,j=e.onClick,L=e.onFocus,N=e.onKeyDown,z=e.onKeyUp,B=e.placeholder,F=e.readOnly,W=e.renderSuffix,H=e.rows,U=e.rowsMax,V=e.rowsMin,G=e.maxRows,q=e.minRows,X=e.startAdornment,Z=e.type,$=void 0===Z?"text":Z,Y=e.value,K=(0,r.A)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),J=null!=C.value?C.value:Y,Q=a.useRef(null!=J).current,ee=a.useRef(),te=a.useCallback((function(e){}),[]),ne=(0,d.A)(C.ref,te),re=(0,d.A)(P,ne),ie=(0,d.A)(ee,re),oe=a.useState(!1),ae=oe[0],se=oe[1],le=(0,u.t)(),ue=(0,l.A)({props:e,muiFormControl:le,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});ue.focused=le?le.focused:ae,a.useEffect((function(){!le&&w&&ae&&(se(!1),M&&M())}),[le,w,ae,M]);var ce=le&&le.onFilled,fe=le&&le.onEmpty,de=a.useCallback((function(e){(0,y.lq)(e)?ce&&ce():fe&&fe()}),[ce,fe]);b((function(){Q&&de({value:J})}),[J,de,Q]),a.useEffect((function(){de(ee.current)}),[]);var pe=O,he=(0,i.A)({},C,{ref:ie});return"string"!=typeof pe?he=(0,i.A)({inputRef:ie,type:$},he,{ref:null}):R?!H||G||q||U||V?(he=(0,i.A)({minRows:H||q,rowsMax:U,maxRows:G},he),pe=g):pe="textarea":he=(0,i.A)({type:$},he),a.useEffect((function(){le&&le.setAdornedStart(Boolean(X))}),[le,X]),a.createElement("div",(0,i.A)({className:(0,s.default)(h.root,h["color".concat((0,f.A)(ue.color||"primary"))],m,ue.disabled&&h.disabled,ue.error&&h.error,E&&h.fullWidth,ue.focused&&h.focused,le&&h.formControl,R&&h.multiline,X&&h.adornedStart,x&&h.adornedEnd,"dense"===ue.margin&&h.marginDense),onClick:function(e){ee.current&&e.currentTarget===e.target&&ee.current.focus(),j&&j(e)},ref:t},K),X,a.createElement(u.A.Provider,{value:null},a.createElement(pe,(0,i.A)({"aria-invalid":ue.error,"aria-describedby":n,autoComplete:c,autoFocus:p,defaultValue:v,disabled:ue.disabled,id:_,onAnimationStart:function(e){de("mui-auto-fill-cancel"===e.animationName?ee.current:{value:"x"})},name:I,placeholder:B,readOnly:F,required:ue.required,rows:H,value:J,onKeyDown:N,onKeyUp:z},he,{className:(0,s.default)(h.input,C.className,ue.disabled&&h.disabled,R&&h.inputMultiline,ue.hiddenLabel&&h.inputHiddenLabel,X&&h.inputAdornedStart,x&&h.inputAdornedEnd,"search"===$&&h.inputTypeSearch,"dense"===ue.margin&&h.inputMarginDense),onBlur:function(e){M&&M(e),C.onBlur&&C.onBlur(e),le&&le.onBlur?le.onBlur(e):se(!1)},onChange:function(e){if(!Q){var t=e.target||ee.current;if(null==t)throw new Error((0,o.A)(1));de({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];C.onChange&&C.onChange.apply(C,[e].concat(r)),D&&D.apply(void 0,[e].concat(r))},onFocus:function(e){ue.disabled?e.stopPropagation():(L&&L(e),C.onFocus&&C.onFocus(e),le&&le.onFocus?le.onFocus(e):se(!0))}}))),x,W?W((0,i.A)({},ue,{startAdornment:X})):null)}));const x=(0,c.A)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},o={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:(0,i.A)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(w)},37825:(e,t,n)=>{"use strict";function r(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(r(e.value)&&""!==e.value||t&&r(e.defaultValue)&&""!==e.defaultValue)}function o(e){return e.startAdornment}n.d(t,{gr:()=>o,lq:()=>i})},79747:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(63063),i=n(53466),o=n(78281),a=(n(43979),n(80634)),s=n(30568),l=n(74855),u=n(11473),c=n(86390),f=n(72133),d=o.forwardRef((function(e,t){var n=e.classes,l=e.className,d=e.color,p=void 0===d?"primary":d,h=e.component,m=void 0===h?"a":h,v=e.onBlur,g=e.onFocus,y=e.TypographyClasses,b=e.underline,w=void 0===b?"hover":b,x=e.variant,S=void 0===x?"inherit":x,E=(0,i.A)(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),_=(0,u.A)(),T=_.isFocusVisible,O=_.onBlurVisible,A=_.ref,C=o.useState(!1),P=C[0],k=C[1],R=(0,c.A)(t,A);return o.createElement(f.A,(0,r.A)({className:(0,a.default)(n.root,n["underline".concat((0,s.A)(w))],l,P&&n.focusVisible,"button"===m&&n.button),classes:y,color:p,component:m,onBlur:function(e){P&&(O(),k(!1)),v&&v(e)},onFocus:function(e){T(e)&&k(!0),g&&g(e)},ref:R,variant:S},E))}));const p=(0,l.A)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(d)},81511:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(63063),i=n(53466),o=n(78281),a=(n(43979),n(80634)),s=n(74855),l=n(6272),u=o.forwardRef((function(e,t){var n=e.children,s=e.classes,u=e.className,c=e.component,f=void 0===c?"ul":c,d=e.dense,p=void 0!==d&&d,h=e.disablePadding,m=void 0!==h&&h,v=e.subheader,g=(0,i.A)(e,["children","classes","className","component","dense","disablePadding","subheader"]),y=o.useMemo((function(){return{dense:p}}),[p]);return o.createElement(l.A.Provider,{value:y},o.createElement(f,(0,r.A)({className:(0,a.default)(s.root,u,p&&s.dense,!m&&s.padding,v&&s.subheader),ref:t},g),v,n))}));const c=(0,s.A)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(u)},6272:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(78281).createContext({})},68445:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(63063),i=n(53466),o=n(78281),a=(n(43979),n(80634)),s=n(74855),l=n(52757),u=n(16037),c=n(86390),f=n(6272),d=n(8568),p="undefined"==typeof window?o.useEffect:o.useLayoutEffect,h=o.forwardRef((function(e,t){var n=e.alignItems,s=void 0===n?"center":n,h=e.autoFocus,m=void 0!==h&&h,v=e.button,g=void 0!==v&&v,y=e.children,b=e.classes,w=e.className,x=e.component,S=e.ContainerComponent,E=void 0===S?"li":S,_=e.ContainerProps,T=(_=void 0===_?{}:_).className,O=(0,i.A)(_,["className"]),A=e.dense,C=void 0!==A&&A,P=e.disabled,k=void 0!==P&&P,R=e.disableGutters,I=void 0!==R&&R,M=e.divider,D=void 0!==M&&M,j=e.focusVisibleClassName,L=e.selected,N=void 0!==L&&L,z=(0,i.A)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),B=o.useContext(f.A),F={dense:C||B.dense||!1,alignItems:s},W=o.useRef(null);p((function(){m&&W.current&&W.current.focus()}),[m]);var H=o.Children.toArray(y),U=H.length&&(0,u.A)(H[H.length-1],["ListItemSecondaryAction"]),V=o.useCallback((function(e){W.current=d.findDOMNode(e)}),[]),G=(0,c.A)(V,t),q=(0,r.A)({className:(0,a.default)(b.root,w,F.dense&&b.dense,!I&&b.gutters,D&&b.divider,k&&b.disabled,g&&b.button,"center"!==s&&b.alignItemsFlexStart,U&&b.secondaryAction,N&&b.selected),disabled:k},z),X=x||"li";return g&&(q.component=x||"div",q.focusVisibleClassName=(0,a.default)(b.focusVisible,j),X=l.A),U?(X=q.component||x?X:"div","li"===E&&("li"===X?X="div":"li"===q.component&&(q.component="div")),o.createElement(f.A.Provider,{value:F},o.createElement(E,(0,r.A)({className:(0,a.default)(b.container,T),ref:G},O),o.createElement(X,q,H),H.pop()))):o.createElement(f.A.Provider,{value:F},o.createElement(X,(0,r.A)({ref:G},q),H))}));const m=(0,s.A)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(h)},35143:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(63063),i=n(53466),o=n(78281),a=(n(43979),n(80634)),s=n(74855),l=n(6272),u=o.forwardRef((function(e,t){var n=e.classes,s=e.className,u=(0,i.A)(e,["classes","className"]),c=o.useContext(l.A);return o.createElement("div",(0,r.A)({className:(0,a.default)(n.root,s,"flex-start"===c.alignItems&&n.alignItemsFlexStart),ref:t},u))}));const c=(0,s.A)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(u)},23631:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(63063),i=n(53466),o=n(78281),a=(n(43979),n(80634)),s=n(74855),l=n(72133),u=n(6272),c=o.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,f=e.disableTypography,d=void 0!==f&&f,p=e.inset,h=void 0!==p&&p,m=e.primary,v=e.primaryTypographyProps,g=e.secondary,y=e.secondaryTypographyProps,b=(0,i.A)(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),w=o.useContext(u.A).dense,x=null!=m?m:n;null==x||x.type===l.A||d||(x=o.createElement(l.A,(0,r.A)({variant:w?"body2":"body1",className:s.primary,component:"span",display:"block"},v),x));var S=g;return null==S||S.type===l.A||d||(S=o.createElement(l.A,(0,r.A)({variant:"body2",className:s.secondary,color:"textSecondary",display:"block"},y),S)),o.createElement("div",(0,r.A)({className:(0,a.default)(s.root,c,w&&s.dense,h&&s.inset,x&&S&&s.multiline),ref:t},b),x,S)}));const f=(0,s.A)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(c)},71205:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(63063),i=n(53466),o=n(78281),a=(n(43979),n(80634)),s=n(74855),l=n(30568),u=o.forwardRef((function(e,t){var n=e.classes,s=e.className,u=e.color,c=void 0===u?"default":u,f=e.component,d=void 0===f?"li":f,p=e.disableGutters,h=void 0!==p&&p,m=e.disableSticky,v=void 0!==m&&m,g=e.inset,y=void 0!==g&&g,b=(0,i.A)(e,["classes","className","color","component","disableGutters","disableSticky","inset"]);return o.createElement(d,(0,r.A)({className:(0,a.default)(n.root,s,"default"!==c&&n["color".concat((0,l.A)(c))],y&&n.inset,!v&&n.sticky,!h&&n.gutters),ref:t},b))}));const c=(0,s.A)((function(e){return{root:{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:e.palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},colorPrimary:{color:e.palette.primary.main},colorInherit:{color:"inherit"},gutters:{paddingLeft:16,paddingRight:16},inset:{paddingLeft:72},sticky:{position:"sticky",top:0,zIndex:1,backgroundColor:"inherit"}}}),{name:"MuiListSubheader"})(u)},22046:(e,t,n)=>{"use strict";n.d(t,{A:()=>C});var r=n(63063),i=n(53466),o=n(78281),a=(n(38428),n(43979),n(80634)),s=n(74855),l=n(8568),u=n(55053),c=n(8046),f=n(12463),d=n(61788),p=n(80101),h=n(68553),m=n(39729);function v(e,t){var n=0;return"number"==typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function g(e,t){var n=0;return"number"==typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function y(e){return[e.horizontal,e.vertical].map((function(e){return"number"==typeof e?"".concat(e,"px"):e})).join(" ")}function b(e){return"function"==typeof e?e():e}var w=o.forwardRef((function(e,t){var n=e.action,s=e.anchorEl,w=e.anchorOrigin,x=void 0===w?{vertical:"top",horizontal:"left"}:w,S=e.anchorPosition,E=e.anchorReference,_=void 0===E?"anchorEl":E,T=e.children,O=e.classes,A=e.className,C=e.container,P=e.elevation,k=void 0===P?8:P,R=e.getContentAnchorEl,I=e.marginThreshold,M=void 0===I?16:I,D=e.onEnter,j=e.onEntered,L=e.onEntering,N=e.onExit,z=e.onExited,B=e.onExiting,F=e.open,W=e.PaperProps,H=void 0===W?{}:W,U=e.transformOrigin,V=void 0===U?{vertical:"top",horizontal:"left"}:U,G=e.TransitionComponent,q=void 0===G?h.A:G,X=e.transitionDuration,Z=void 0===X?"auto":X,$=e.TransitionProps,Y=void 0===$?{}:$,K=(0,i.A)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),J=o.useRef(),Q=o.useCallback((function(e){if("anchorPosition"===_)return S;var t=b(s),n=(t&&1===t.nodeType?t:(0,c.A)(J.current).body).getBoundingClientRect(),r=0===e?x.vertical:"center";return{top:n.top+v(n,r),left:n.left+g(n,x.horizontal)}}),[s,x.horizontal,x.vertical,S,_]),ee=o.useCallback((function(e){var t=0;if(R&&"anchorEl"===_){var n=R(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}}return t}),[x.vertical,_,R]),te=o.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:v(e,V.vertical)+t,horizontal:g(e,V.horizontal)}}),[V.horizontal,V.vertical]),ne=o.useCallback((function(e){var t=ee(e),n={width:e.offsetWidth,height:e.offsetHeight},r=te(n,t);if("none"===_)return{top:null,left:null,transformOrigin:y(r)};var i=Q(t),o=i.top-r.vertical,a=i.left-r.horizontal,l=o+n.height,u=a+n.width,c=(0,f.A)(b(s)),d=c.innerHeight-M,p=c.innerWidth-M;if(o<M){var h=o-M;o-=h,r.vertical+=h}else if(l>d){var m=l-d;o-=m,r.vertical+=m}if(a<M){var v=a-M;a-=v,r.horizontal+=v}else if(u>p){var g=u-p;a-=g,r.horizontal+=g}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(a),"px"),transformOrigin:y(r)}}),[s,_,Q,ee,te,M]),re=o.useCallback((function(){var e=J.current;if(e){var t=ne(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[ne]),ie=o.useCallback((function(e){J.current=l.findDOMNode(e)}),[]);o.useEffect((function(){F&&re()})),o.useImperativeHandle(n,(function(){return F?{updatePosition:function(){re()}}:null}),[F,re]),o.useEffect((function(){if(F){var e=(0,u.A)((function(){re()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[F,re]);var oe=Z;"auto"!==Z||q.muiSupportAuto||(oe=void 0);var ae=C||(s?(0,c.A)(b(s)).body:void 0);return o.createElement(p.A,(0,r.A)({container:ae,open:F,ref:t,BackdropProps:{invisible:!0},className:(0,a.default)(O.root,A)},K),o.createElement(q,(0,r.A)({appear:!0,in:F,onEnter:D,onEntered:j,onExit:N,onExited:z,onExiting:B,timeout:oe},Y,{onEntering:(0,d.A)((function(e,t){L&&L(e,t),re()}),Y.onEntering)}),o.createElement(m.A,(0,r.A)({elevation:k,ref:ie},H,{className:(0,a.default)(O.paper,H.className)}),T)))}));const x=(0,s.A)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(w);var S=n(71289),E=n(35851),_=n(17429),T={vertical:"top",horizontal:"right"},O={vertical:"top",horizontal:"left"},A=o.forwardRef((function(e,t){var n=e.autoFocus,s=void 0===n||n,u=e.children,c=e.classes,f=e.disableAutoFocusItem,d=void 0!==f&&f,p=e.MenuListProps,h=void 0===p?{}:p,m=e.onClose,v=e.onEntering,g=e.open,y=e.PaperProps,b=void 0===y?{}:y,w=e.PopoverClasses,A=e.transitionDuration,C=void 0===A?"auto":A,P=e.TransitionProps,k=(P=void 0===P?{}:P).onEntering,R=(0,i.A)(P,["onEntering"]),I=e.variant,M=void 0===I?"selectedMenu":I,D=(0,i.A)(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),j=(0,_.A)(),L=s&&!d&&g,N=o.useRef(null),z=o.useRef(null),B=-1;o.Children.map(u,(function(e,t){o.isValidElement(e)&&(e.props.disabled||("menu"!==M&&e.props.selected||-1===B)&&(B=t))}));var F=o.Children.map(u,(function(e,t){return t===B?o.cloneElement(e,{ref:function(t){z.current=l.findDOMNode(t),(0,E.A)(e.ref,t)}}):e}));return o.createElement(x,(0,r.A)({getContentAnchorEl:function(){return z.current},classes:w,onClose:m,TransitionProps:(0,r.A)({onEntering:function(e,t){N.current&&N.current.adjustStyleForScrollbar(e,j),v&&v(e,t),k&&k(e,t)}},R),anchorOrigin:"rtl"===j.direction?T:O,transformOrigin:"rtl"===j.direction?T:O,PaperProps:(0,r.A)({},b,{classes:(0,r.A)({},b.classes,{root:c.paper})}),open:g,ref:t,transitionDuration:C},D),o.createElement(S.A,(0,r.A)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),m&&m(e,"tabKeyDown"))},actions:N,autoFocus:s&&(-1===B||d),autoFocusItem:L,variant:M},h,{className:(0,a.default)(c.list,h.className)}),F))}));const C=(0,s.A)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(A)},44631:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(53466),i=n(2362),o=n(63063),a=n(78281),s=(n(43979),n(80634)),l=n(74855),u=n(68445),c=a.forwardRef((function(e,t){var n,i=e.classes,l=e.className,c=e.component,f=void 0===c?"li":c,d=e.disableGutters,p=void 0!==d&&d,h=e.ListItemClasses,m=e.role,v=void 0===m?"menuitem":m,g=e.selected,y=e.tabIndex,b=(0,r.A)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==y?y:-1),a.createElement(u.A,(0,o.A)({button:!0,role:v,tabIndex:n,component:f,selected:g,disableGutters:p,classes:(0,o.A)({dense:i.dense},h),className:(0,s.default)(i.root,l,g&&i.selected,!p&&i.gutters),ref:t},b))}));const f=(0,l.A)((function(e){return{root:(0,o.A)({},e.typography.body1,(0,i.A)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:(0,o.A)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(c)},71289:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var r=n(63063),i=n(53466),o=n(78281),a=(n(38428),n(43979),n(8568)),s=n(8046),l=n(81511),u=n(2929),c=n(86390);function f(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function d(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function p(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function h(e,t,n,r,i,o){for(var a=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(a)return;a=!0}var l=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&p(s,o)&&!l)return void s.focus();s=i(e,s,n)}}var m="undefined"==typeof window?o.useEffect:o.useLayoutEffect;const v=o.forwardRef((function(e,t){var n=e.actions,v=e.autoFocus,g=void 0!==v&&v,y=e.autoFocusItem,b=void 0!==y&&y,w=e.children,x=e.className,S=e.disabledItemsFocusable,E=void 0!==S&&S,_=e.disableListWrap,T=void 0!==_&&_,O=e.onKeyDown,A=e.variant,C=void 0===A?"selectedMenu":A,P=(0,i.A)(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),k=o.useRef(null),R=o.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});m((function(){g&&k.current.focus()}),[g]),o.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!k.current.style.width;if(e.clientHeight<k.current.clientHeight&&n){var r="".concat((0,u.A)(!0),"px");k.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,k.current.style.width="calc(100% + ".concat(r,")")}return k.current}}}),[]);var I=o.useCallback((function(e){k.current=a.findDOMNode(e)}),[]),M=(0,c.A)(I,t),D=-1;o.Children.forEach(w,(function(e,t){o.isValidElement(e)&&(e.props.disabled||("selectedMenu"===C&&e.props.selected||-1===D)&&(D=t))}));var j=o.Children.map(w,(function(e,t){if(t===D){var n={};return b&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===C&&(n.tabIndex=0),o.cloneElement(e,n)}return e}));return o.createElement(l.A,(0,r.A)({role:"menu",ref:M,className:x,onKeyDown:function(e){var t=k.current,n=e.key,r=(0,s.A)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),h(t,r,T,E,f);else if("ArrowUp"===n)e.preventDefault(),h(t,r,T,E,d);else if("Home"===n)e.preventDefault(),h(t,null,T,E,f);else if("End"===n)e.preventDefault(),h(t,null,T,E,d);else if(1===n.length){var i=R.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);var l=r&&!i.repeating&&p(r,i);i.previousKeyMatched&&(l||h(t,r,!1,E,f,i))?e.preventDefault():i.previousKeyMatched=!1}O&&O(e)},tabIndex:g?0:-1},P),j)}))},80101:(e,t,n)=>{"use strict";n.d(t,{A:()=>P});var r=n(53466),i=n(63063),o=n(78281),a=n(8568),s=(n(43979),n(14909)),l=n(15968),u=n(8046),c=n(40747),f=n(61788),d=n(86390),p=n(68596),h=n(50883),m=n(85408),v=n(91358),g=n(109),y=n(2929),b=n(12463);function w(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function x(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function S(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=[t,n].concat((0,g.A)(r)),a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===o.indexOf(e)&&-1===a.indexOf(e.tagName)&&w(e,i)}))}function E(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}var _=function(){function e(){(0,m.A)(this,e),this.modals=[],this.containers=[]}return(0,v.A)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&w(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);S(t,e.mountNode,e.modalRef,r,!0);var i=E(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=E(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=function(e,t){var n,r=[],i=[],o=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,u.A)(e);return t.body===e?(0,b.A)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(o)){var a=(0,y.A)();r.push({value:o.style.paddingRight,key:"padding-right",el:o}),o.style["padding-right"]="".concat(x(o)+a,"px"),n=(0,u.A)(o).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(x(e)+a,"px")}))}var s=o.parentElement,l="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:o;r.push({value:l.style.overflow,key:"overflow",el:l}),l.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=E(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&w(e.modalRef,!0),S(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&w(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();const T=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,i=e.disableEnforceFocus,s=void 0!==i&&i,l=e.disableRestoreFocus,c=void 0!==l&&l,f=e.getDoc,p=e.isEnabled,h=e.open,m=o.useRef(),v=o.useRef(null),g=o.useRef(null),y=o.useRef(),b=o.useRef(null),w=o.useCallback((function(e){b.current=a.findDOMNode(e)}),[]),x=(0,d.A)(t.ref,w),S=o.useRef();return o.useEffect((function(){S.current=h}),[h]),!S.current&&h&&"undefined"!=typeof window&&(y.current=f().activeElement),o.useEffect((function(){if(h){var e=(0,u.A)(b.current);r||!b.current||b.current.contains(e.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex",-1),b.current.focus());var t=function(){null!==b.current&&(e.hasFocus()&&!s&&p()&&!m.current?b.current&&!b.current.contains(e.activeElement)&&b.current.focus():m.current=!1)},n=function(t){!s&&p()&&9===t.keyCode&&e.activeElement===b.current&&(m.current=!0,t.shiftKey?g.current.focus():v.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var i=setInterval((function(){t()}),50);return function(){clearInterval(i),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),c||(y.current&&y.current.focus&&y.current.focus(),y.current=null)}}}),[r,s,c,p,h]),o.createElement(o.Fragment,null,o.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelStart"}),o.cloneElement(t,{ref:x}),o.createElement("div",{tabIndex:0,ref:g,"data-test":"sentinelEnd"}))};var O={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}};const A=o.forwardRef((function(e,t){var n=e.invisible,a=void 0!==n&&n,s=e.open,l=(0,r.A)(e,["invisible","open"]);return s?o.createElement("div",(0,i.A)({"aria-hidden":!0,ref:t},l,{style:(0,i.A)({},O.root,a?O.invisible:{},l.style)})):null}));var C=new _;const P=o.forwardRef((function(e,t){var n=(0,s.A)(),m=(0,l.A)({name:"MuiModal",props:(0,i.A)({},e),theme:n}),v=m.BackdropComponent,g=void 0===v?A:v,y=m.BackdropProps,b=m.children,x=m.closeAfterTransition,S=void 0!==x&&x,E=m.container,_=m.disableAutoFocus,O=void 0!==_&&_,P=m.disableBackdropClick,k=void 0!==P&&P,R=m.disableEnforceFocus,I=void 0!==R&&R,M=m.disableEscapeKeyDown,D=void 0!==M&&M,j=m.disablePortal,L=void 0!==j&&j,N=m.disableRestoreFocus,z=void 0!==N&&N,B=m.disableScrollLock,F=void 0!==B&&B,W=m.hideBackdrop,H=void 0!==W&&W,U=m.keepMounted,V=void 0!==U&&U,G=m.manager,q=void 0===G?C:G,X=m.onBackdropClick,Z=m.onClose,$=m.onEscapeKeyDown,Y=m.onRendered,K=m.open,J=(0,r.A)(m,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),Q=o.useState(!0),ee=Q[0],te=Q[1],ne=o.useRef({}),re=o.useRef(null),ie=o.useRef(null),oe=(0,d.A)(ie,t),ae=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(m),se=function(){return(0,u.A)(re.current)},le=function(){return ne.current.modalRef=ie.current,ne.current.mountNode=re.current,ne.current},ue=function(){q.mount(le(),{disableScrollLock:F}),ie.current.scrollTop=0},ce=(0,p.A)((function(){var e=function(e){return e="function"==typeof e?e():e,a.findDOMNode(e)}(E)||se().body;q.add(le(),e),ie.current&&ue()})),fe=o.useCallback((function(){return q.isTopModal(le())}),[q]),de=(0,p.A)((function(e){re.current=e,e&&(Y&&Y(),K&&fe()?ue():w(ie.current,!0))})),pe=o.useCallback((function(){q.remove(le())}),[q]);if(o.useEffect((function(){return function(){pe()}}),[pe]),o.useEffect((function(){K?ce():ae&&S||pe()}),[K,pe,ae,S,ce]),!V&&!K&&(!ae||ee))return null;var he=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:h.A}),me={};return void 0===b.props.tabIndex&&(me.tabIndex=b.props.tabIndex||"-1"),ae&&(me.onEnter=(0,f.A)((function(){te(!1)}),b.props.onEnter),me.onExited=(0,f.A)((function(){te(!0),S&&pe()}),b.props.onExited)),o.createElement(c.A,{ref:de,container:E,disablePortal:L},o.createElement("div",(0,i.A)({ref:oe,onKeyDown:function(e){"Escape"===e.key&&fe()&&($&&$(e),D||(e.stopPropagation(),Z&&Z(e,"escapeKeyDown")))},role:"presentation"},J,{style:(0,i.A)({},he.root,!K&&ee?he.hidden:{},J.style)}),H?null:o.createElement(g,(0,i.A)({open:K,onClick:function(e){e.target===e.currentTarget&&(X&&X(e),!k&&Z&&Z(e,"backdropClick"))}},y)),o.createElement(T,{disableEnforceFocus:I,disableAutoFocus:O,disableRestoreFocus:z,getDoc:se,isEnabled:fe,open:K},o.cloneElement(b,me))))}))},68303:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(63063),i=n(53466),o=n(78281),a=(n(43979),n(80634)),s=n(50046),l=n(2362),u=n(74855),c=n(17429),f=n(30568),d=o.forwardRef((function(e,t){e.children;var n=e.classes,s=e.className,u=e.label,d=e.labelWidth,p=e.notched,h=e.style,m=(0,i.A)(e,["children","classes","className","label","labelWidth","notched","style"]),v="rtl"===(0,c.A)().direction?"right":"left";if(void 0!==u)return o.createElement("fieldset",(0,r.A)({"aria-hidden":!0,className:(0,a.default)(n.root,s),ref:t,style:h},m),o.createElement("legend",{className:(0,a.default)(n.legendLabelled,p&&n.legendNotched)},u?o.createElement("span",null,u):o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var g=d>0?.75*d+8:.01;return o.createElement("fieldset",(0,r.A)({"aria-hidden":!0,style:(0,r.A)((0,l.A)({},"padding".concat((0,f.A)(v)),8),h),className:(0,a.default)(n.root,s),ref:t},m),o.createElement("legend",{className:n.legend,style:{width:p?g:.01}},o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))}));const p=(0,u.A)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(d);var h=o.forwardRef((function(e,t){var n=e.classes,l=e.fullWidth,u=void 0!==l&&l,c=e.inputComponent,f=void 0===c?"input":c,d=e.label,h=e.labelWidth,m=void 0===h?0:h,v=e.multiline,g=void 0!==v&&v,y=e.notched,b=e.type,w=void 0===b?"text":b,x=(0,i.A)(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return o.createElement(s.A,(0,r.A)({renderSuffix:function(e){return o.createElement(p,{className:n.notchedOutline,label:d,labelWidth:m,notched:void 0!==y?y:Boolean(e.startAdornment||e.filled||e.focused)})},classes:(0,r.A)({},n,{root:(0,a.default)(n.root,n.underline),notchedOutline:null}),fullWidth:u,inputComponent:f,multiline:g,ref:t,type:w},x))}));h.muiName="Input";const m=(0,u.A)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(h)},39729:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(53466),i=n(63063),o=n(78281),a=(n(43979),n(80634)),s=n(74855),l=o.forwardRef((function(e,t){var n=e.classes,s=e.className,l=e.component,u=void 0===l?"div":l,c=e.square,f=void 0!==c&&c,d=e.elevation,p=void 0===d?1:d,h=e.variant,m=void 0===h?"elevation":h,v=(0,r.A)(e,["classes","className","component","square","elevation","variant"]);return o.createElement(u,(0,i.A)({className:(0,a.default)(n.root,s,"outlined"===m?n.outlined:n["elevation".concat(p)],!f&&n.rounded),ref:t},v))}));const u=(0,s.A)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),(0,i.A)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(l)},96851:(e,t,n)=>{"use strict";n.d(t,{A:()=>me});var r=n(63063),i=n(53466),o=n(78281),a=(n(43979),n(3324)),s="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,l=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(s&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}(),u=s&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),l))}};function c(e){return e&&"[object Function]"==={}.toString.call(e)}function f(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function d(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function p(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=f(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:p(d(e))}function h(e){return e&&e.referenceNode?e.referenceNode:e}var m=s&&!(!window.MSInputMethodContext||!document.documentMode),v=s&&/MSIE 10/.test(navigator.userAgent);function g(e){return 11===e?m:10===e?v:m||v}function y(e){if(!e)return document.documentElement;for(var t=g(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===f(n,"position")?y(n):n:e?e.ownerDocument.documentElement:document.documentElement}function b(e){return null!==e.parentNode?b(e.parentNode):e}function w(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a,s,l=o.commonAncestorContainer;if(e!==l&&t!==l||r.contains(i))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&y(a.firstElementChild)!==a?y(l):l;var u=b(e);return u.host?w(u.host,t):w(e,b(t).host)}function x(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function S(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function E(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],g(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function _(e){var t=e.body,n=e.documentElement,r=g(10)&&getComputedStyle(n);return{height:E("Height",t,n,r),width:E("Width",t,n,r)}}var T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function C(e){return A({},e,{right:e.left+e.width,bottom:e.top+e.height})}function P(e){var t={};try{if(g(10)){t=e.getBoundingClientRect();var n=x(e,"top"),r=x(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?_(e.ownerDocument):{},a=o.width||e.clientWidth||i.width,s=o.height||e.clientHeight||i.height,l=e.offsetWidth-a,u=e.offsetHeight-s;if(l||u){var c=f(e);l-=S(c,"x"),u-=S(c,"y"),i.width-=l,i.height-=u}return C(i)}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=g(10),i="HTML"===t.nodeName,o=P(e),a=P(t),s=p(e),l=f(t),u=parseFloat(l.borderTopWidth),c=parseFloat(l.borderLeftWidth);n&&i&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=C({top:o.top-a.top-u,left:o.left-a.left-c,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var h=parseFloat(l.marginTop),m=parseFloat(l.marginLeft);d.top-=u-h,d.bottom-=u-h,d.left-=c-m,d.right-=c-m,d.marginTop=h,d.marginLeft=m}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=x(t,"top"),i=x(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}(d,t)),d}function R(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===f(e,"position"))return!0;var n=d(e);return!!n&&R(n)}function I(e){if(!e||!e.parentElement||g())return document.documentElement;for(var t=e.parentElement;t&&"none"===f(t,"transform");)t=t.parentElement;return t||document.documentElement}function M(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=i?I(e):w(e,h(t));if("viewport"===r)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=k(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:x(n),s=t?0:x(n,"left");return C({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:o})}(a,i);else{var s=void 0;"scrollParent"===r?"BODY"===(s=p(d(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var l=k(s,a,i);if("HTML"!==s.nodeName||R(a))o=l;else{var u=_(e.ownerDocument),c=u.height,f=u.width;o.top+=l.top-l.marginTop,o.bottom=c+l.top,o.left+=l.left-l.marginLeft,o.right=f+l.left}}var m="number"==typeof(n=n||0);return o.left+=m?n:n.left||0,o.top+=m?n:n.top||0,o.right-=m?n:n.right||0,o.bottom-=m?n:n.bottom||0,o}function D(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=M(n,r,o,i),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map((function(e){return A({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),u=l.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),c=u.length>0?u[0].key:l[0].key,f=e.split("-")[1];return c+(f?"-"+f:"")}function j(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return k(n,r?I(t):w(t,h(n)),r)}function L(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function N(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function z(e,t,n){n=n.split("-")[0];var r=L(e),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return i[a]=t[a]+t[l]/2-r[l]/2,i[s]=n===s?t[s]-r[u]:t[N(s)],i}function B(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function F(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=B(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&a.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&c(n)&&(t.offsets.popper=C(t.offsets.popper),t.offsets.reference=C(t.offsets.reference),t=n(t,e))})),t}function W(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=j(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=D(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=z(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=F(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function H(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function U(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],o=i?""+i+n:e;if(void 0!==document.body.style[o])return o}return null}function V(){return this.state.isDestroyed=!0,H(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[U("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function G(e){var t=e.ownerDocument;return t?t.defaultView:window}function q(e,t,n,r){var i="BODY"===e.nodeName,o=i?e.ownerDocument.defaultView:e;o.addEventListener(t,n,{passive:!0}),i||q(p(o.parentNode),t,n,r),r.push(o)}function X(e,t,n,r){n.updateBound=r,G(e).addEventListener("resize",n.updateBound,{passive:!0});var i=p(e);return q(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function Z(){this.state.eventsEnabled||(this.state=X(this.reference,this.options,this.state,this.scheduleUpdate))}function $(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,G(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Y(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function K(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Y(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var J=s&&/Firefox/i.test(navigator.userAgent);function Q(e,t,n){var r=B(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var o="`"+t+"`",s="`"+n+"`";a.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var ee=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],te=ee.slice(3);function ne(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=te.indexOf(e),r=te.slice(n+1).concat(te.slice(0,n));return t?r.reverse():r}var re={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",u=s?"width":"height",c={start:O({},l,o[l]),end:O({},l,o[l]+o[u]-a[u])};e.offsets.popper=A({},a,c[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n,r=t.offset,i=e.placement,o=e.offsets,s=o.popper,l=o.reference,u=i.split("-")[0];return n=Y(+r)?[+r,0]:function(e,t,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),s=e.split(/(\+|\-)/).map((function(e){return e.trim()})),l=s.indexOf(B(s,(function(e){return-1!==e.search(/,|\s/)})));s[l]&&-1===s[l].indexOf(",")&&a.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,c=-1!==l?[s.slice(0,l).concat([s[l].split(u)[0]]),[s[l].split(u)[1]].concat(s.slice(l+1))]:[s];return(c=c.map((function(e,r){var i=(1===r?!o:o)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];return o?0===a.indexOf("%")?C("%p"===a?n:r)[t]/100*o:"vh"===a||"vw"===a?("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o:o:e}(e,i,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){Y(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}(r,s,l,u),"left"===u?(s.top+=n[0],s.left-=n[1]):"right"===u?(s.top+=n[0],s.left+=n[1]):"top"===u?(s.left+=n[0],s.top-=n[1]):"bottom"===u&&(s.left+=n[0],s.top+=n[1]),e.popper=s,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||y(e.instance.popper);e.instance.reference===n&&(n=y(n));var r=U("transform"),i=e.instance.popper.style,o=i.top,a=i.left,s=i[r];i.top="",i.left="",i[r]="";var l=M(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=o,i.left=a,i[r]=s,t.boundaries=l;var u=t.priority,c=e.offsets.popper,f={primary:function(e){var n=c[e];return c[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(c[e],l[e])),O({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=c[n];return c[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(c[n],l[e]-("right"===e?c.width:c.height))),O({},n,r)}};return u.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=A({},c,f[t](e))})),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",l=a?"left":"top",u=a?"width":"height";return n[s]<o(r[l])&&(e.offsets.popper[l]=o(r[l])-n[u]),n[l]>o(r[s])&&(e.offsets.popper[l]=o(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Q(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return a.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],o=e.offsets,s=o.popper,l=o.reference,u=-1!==["left","right"].indexOf(i),c=u?"height":"width",d=u?"Top":"Left",p=d.toLowerCase(),h=u?"left":"top",m=u?"bottom":"right",v=L(r)[c];l[m]-v<s[p]&&(e.offsets.popper[p]-=s[p]-(l[m]-v)),l[p]+v>s[m]&&(e.offsets.popper[p]+=l[p]+v-s[m]),e.offsets.popper=C(e.offsets.popper);var g=l[p]+l[c]/2-v/2,y=f(e.instance.popper),b=parseFloat(y["margin"+d]),w=parseFloat(y["border"+d+"Width"]),x=g-e.offsets.popper[p]-b-w;return x=Math.max(Math.min(s[c]-v,x),0),e.arrowElement=r,e.offsets.arrow=(O(n={},p,Math.round(x)),O(n,h,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(H(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=M(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=N(r),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case"flip":a=[r,i];break;case"clockwise":a=ne(r);break;case"counterclockwise":a=ne(r,!0);break;default:a=t.behavior}return a.forEach((function(s,l){if(r!==s||a.length===l+1)return e;r=e.placement.split("-")[0],i=N(r);var u=e.offsets.popper,c=e.offsets.reference,f=Math.floor,d="left"===r&&f(u.right)>f(c.left)||"right"===r&&f(u.left)<f(c.right)||"top"===r&&f(u.bottom)>f(c.top)||"bottom"===r&&f(u.top)<f(c.bottom),p=f(u.left)<f(n.left),h=f(u.right)>f(n.right),m=f(u.top)<f(n.top),v=f(u.bottom)>f(n.bottom),g="left"===r&&p||"right"===r&&h||"top"===r&&m||"bottom"===r&&v,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===o&&p||y&&"end"===o&&h||!y&&"start"===o&&m||!y&&"end"===o&&v),w=!!t.flipVariationsByContent&&(y&&"start"===o&&h||y&&"end"===o&&p||!y&&"start"===o&&v||!y&&"end"===o&&m),x=b||w;(d||g||x)&&(e.flipped=!0,(d||g)&&(r=a[l+1]),x&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=A({},e.offsets.popper,z(e.instance.popper,e.offsets.reference,e.placement)),e=F(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[n]-(s?i[a?"width":"height"]:0),e.placement=N(t),e.offsets.popper=C(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Q(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=B(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=B(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&a.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s,l,u=void 0!==o?o:t.gpuAcceleration,c=y(e.instance.popper),f=P(c),d={position:i.position},p=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,o=Math.round,a=Math.floor,s=function(e){return e},l=o(i.width),u=o(r.width),c=-1!==["left","right"].indexOf(e.placement),f=-1!==e.placement.indexOf("-"),d=t?c||f||l%2==u%2?o:a:s,p=t?o:s;return{left:d(l%2==1&&u%2==1&&!f&&t?r.left-1:r.left),top:p(r.top),bottom:p(r.bottom),right:d(r.right)}}(e,window.devicePixelRatio<2||!J),h="bottom"===n?"top":"bottom",m="right"===r?"left":"right",v=U("transform");if(l="bottom"===h?"HTML"===c.nodeName?-c.clientHeight+p.bottom:-f.height+p.bottom:p.top,s="right"===m?"HTML"===c.nodeName?-c.clientWidth+p.right:-f.width+p.right:p.left,u&&v)d[v]="translate3d("+s+"px, "+l+"px, 0)",d[h]=0,d[m]=0,d.willChange="transform";else{var g="bottom"===h?-1:1,b="right"===m?-1:1;d[h]=l*g,d[m]=s*b,d.willChange=h+", "+m}var w={"x-placement":e.placement};return e.attributes=A({},w,e.attributes),e.styles=A({},d,e.styles),e.arrowStyles=A({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return K(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&K(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var o=j(i,t,e,n.positionFixed),a=D(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),K(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},ie=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=u(this.update.bind(this)),this.options=A({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(A({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){r.options.modifiers[t]=A({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return A({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&c(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return T(e,[{key:"update",value:function(){return W.call(this)}},{key:"destroy",value:function(){return V.call(this)}},{key:"enableEventListeners",value:function(){return Z.call(this)}},{key:"disableEventListeners",value:function(){return $.call(this)}}]),e}();ie.Utils=("undefined"!=typeof window?window:n.g).PopperUtils,ie.placements=ee,ie.Defaults=re;const oe=ie;var ae=n(14909),se=n(40747),le=n(61788),ue=n(35851),ce=n(86390);function fe(e){return"function"==typeof e?e():e}var de="undefined"!=typeof window?o.useLayoutEffect:o.useEffect,pe={},he=o.forwardRef((function(e,t){var n=e.anchorEl,a=e.children,s=e.container,l=e.disablePortal,u=void 0!==l&&l,c=e.keepMounted,f=void 0!==c&&c,d=e.modifiers,p=e.open,h=e.placement,m=void 0===h?"bottom":h,v=e.popperOptions,g=void 0===v?pe:v,y=e.popperRef,b=e.style,w=e.transition,x=void 0!==w&&w,S=(0,i.A)(e,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),E=o.useRef(null),_=(0,ce.A)(E,t),T=o.useRef(null),O=(0,ce.A)(T,y),A=o.useRef(O);de((function(){A.current=O}),[O]),o.useImperativeHandle(y,(function(){return T.current}),[]);var C=o.useState(!0),P=C[0],k=C[1],R=function(e,t){if("ltr"===(t&&t.direction||"ltr"))return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(m,(0,ae.A)()),I=o.useState(R),M=I[0],D=I[1];o.useEffect((function(){T.current&&T.current.update()}));var j=o.useCallback((function(){if(E.current&&n&&p){T.current&&(T.current.destroy(),A.current(null));var e=function(e){D(e.placement)},t=(fe(n),new oe(fe(n),E.current,(0,r.A)({placement:R},g,{modifiers:(0,r.A)({},u?{}:{preventOverflow:{boundariesElement:"window"}},d,g.modifiers),onCreate:(0,le.A)(e,g.onCreate),onUpdate:(0,le.A)(e,g.onUpdate)})));A.current(t)}}),[n,u,d,p,R,g]),L=o.useCallback((function(e){(0,ue.A)(_,e),j()}),[_,j]),N=function(){T.current&&(T.current.destroy(),A.current(null))};if(o.useEffect((function(){return function(){N()}}),[]),o.useEffect((function(){p||x||N()}),[p,x]),!f&&!p&&(!x||P))return null;var z={placement:M};return x&&(z.TransitionProps={in:p,onEnter:function(){k(!1)},onExited:function(){k(!0),N()}}),o.createElement(se.A,{disablePortal:u,container:s},o.createElement("div",(0,r.A)({ref:L,role:"tooltip"},S,{style:(0,r.A)({position:"fixed",top:0,left:0,display:p||!f||x?null:"none"},b)}),"function"==typeof a?a(z):a))}));const me=he},40747:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(78281),i=n(8568),o=(n(43979),n(35851)),a=n(86390),s="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;const l=r.forwardRef((function(e,t){var n=e.children,l=e.container,u=e.disablePortal,c=void 0!==u&&u,f=e.onRendered,d=r.useState(null),p=d[0],h=d[1],m=(0,a.A)(r.isValidElement(n)?n.ref:null,t);return s((function(){c||h(function(e){return e="function"==typeof e?e():e,i.findDOMNode(e)}(l)||document.body)}),[l,c]),s((function(){if(p&&!c)return(0,o.A)(t,p),function(){(0,o.A)(t,null)}}),[t,p,c]),s((function(){f&&(p||c)&&f()}),[f,p,c]),c?r.isValidElement(n)?r.cloneElement(n,{ref:m}):n:p?i.createPortal(n,p):p}))},80008:(e,t,n)=>{"use strict";n.d(t,{A:()=>D});var r=n(63063),i=n(53466),o=n(78281),a=(n(43979),n(35026)),s=n(55258),l=n(61049),u=n(60743),c=(n(38428),n(80634)),f=n(8046),d=n(30568),p=n(22046),h=n(37825),m=n(86390),v=n(62073);function g(e,t){return"object"===(0,l.A)(t)&&null!==t?e===t:String(e)===String(t)}const y=o.forwardRef((function(e,t){var n=e["aria-label"],a=e.autoFocus,l=e.autoWidth,y=e.children,b=e.classes,w=e.className,x=e.defaultValue,S=e.disabled,E=e.displayEmpty,_=e.IconComponent,T=e.inputRef,O=e.labelId,A=e.MenuProps,C=void 0===A?{}:A,P=e.multiple,k=e.name,R=e.onBlur,I=e.onChange,M=e.onClose,D=e.onFocus,j=e.onOpen,L=e.open,N=e.readOnly,z=e.renderValue,B=e.SelectDisplayProps,F=void 0===B?{}:B,W=e.tabIndex,H=(e.type,e.value),U=e.variant,V=void 0===U?"standard":U,G=(0,i.A)(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),q=(0,v.A)({controlled:H,default:x,name:"Select"}),X=(0,s.A)(q,2),Z=X[0],$=X[1],Y=o.useRef(null),K=o.useState(null),J=K[0],Q=K[1],ee=o.useRef(null!=L).current,te=o.useState(),ne=te[0],re=te[1],ie=o.useState(!1),oe=ie[0],ae=ie[1],se=(0,m.A)(t,T);o.useImperativeHandle(se,(function(){return{focus:function(){J.focus()},node:Y.current,value:Z}}),[J,Z]),o.useEffect((function(){a&&J&&J.focus()}),[a,J]),o.useEffect((function(){if(J){var e=(0,f.A)(J).getElementById(O);if(e){var t=function(){getSelection().isCollapsed&&J.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[O,J]);var le,ue,ce=function(e,t){e?j&&j(t):M&&M(t),ee||(re(l?null:J.clientWidth),ae(e))},fe=o.Children.toArray(y),de=function(e){return function(t){var n;if(P||ce(!1,t),P){n=Array.isArray(Z)?Z.slice():[];var r=Z.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),Z!==n&&($(n),I&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:k}}),I(t,e)))}},pe=null!==J&&(ee?L:oe);delete G["aria-invalid"];var he=[],me=!1;((0,h.lq)({value:Z})||E)&&(z?le=z(Z):me=!0);var ve=fe.map((function(e){if(!o.isValidElement(e))return null;var t;if(P){if(!Array.isArray(Z))throw new Error((0,u.A)(2));(t=Z.some((function(t){return g(t,e.props.value)})))&&me&&he.push(e.props.children)}else(t=g(Z,e.props.value))&&me&&(ue=e.props.children);return o.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:de(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));me&&(le=P?he.join(", "):ue);var ge,ye=ne;!l&&ee&&J&&(ye=J.clientWidth),ge=void 0!==W?W:S?null:0;var be=F.id||(k?"mui-component-select-".concat(k):void 0);return o.createElement(o.Fragment,null,o.createElement("div",(0,r.A)({className:(0,c.default)(b.root,b.select,b.selectMenu,b[V],w,S&&b.disabled),ref:Q,tabIndex:ge,role:"button","aria-disabled":S?"true":void 0,"aria-expanded":pe?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[O,be].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){N||-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ce(!0,e))},onMouseDown:S||N?null:function(e){0===e.button&&(e.preventDefault(),J.focus(),ce(!0,e))},onBlur:function(e){!pe&&R&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:Z,name:k}}),R(e))},onFocus:D},F,{id:be}),function(e){return null==e||"string"==typeof e&&!e.trim()}(le)?o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):le),o.createElement("input",(0,r.A)({value:Array.isArray(Z)?Z.join(","):Z,name:k,ref:Y,"aria-hidden":!0,onChange:function(e){var t=fe.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=fe[t];$(n.props.value),I&&I(e,n)}},tabIndex:-1,className:b.nativeInput,autoFocus:a},G)),o.createElement(_,{className:(0,c.default)(b.icon,b["icon".concat((0,d.A)(V))],pe&&b.iconOpen,S&&b.disabled)}),o.createElement(p.A,(0,r.A)({id:"menu-".concat(k||""),anchorEl:J,open:pe,onClose:function(e){ce(!1,e)}},C,{MenuListProps:(0,r.A)({"aria-labelledby":O,role:"listbox",disableListWrap:!0},C.MenuListProps),PaperProps:(0,r.A)({},C.PaperProps,{style:(0,r.A)({minWidth:ye},null!=C.PaperProps?C.PaperProps.style:null)})}),ve))}));var b=n(62964),w=n(95906),x=n(74855);const S=(0,n(82083).A)(o.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");var E=n(57525);const _=o.forwardRef((function(e,t){var n=e.classes,a=e.className,s=e.disabled,l=e.IconComponent,u=e.inputRef,f=e.variant,p=void 0===f?"standard":f,h=(0,i.A)(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return o.createElement(o.Fragment,null,o.createElement("select",(0,r.A)({className:(0,c.default)(n.root,n.select,n[p],a,s&&n.disabled),disabled:s,ref:u||t},h)),e.multiple?null:o.createElement(l,{className:(0,c.default)(n.icon,n["icon".concat((0,d.A)(p))],s&&n.disabled)}))}));var T=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},O=o.createElement(E.A,null),A=o.forwardRef((function(e,t){var n=e.children,a=e.classes,s=e.IconComponent,l=void 0===s?S:s,u=e.input,c=void 0===u?O:u,f=e.inputProps,d=(e.variant,(0,i.A)(e,["children","classes","IconComponent","input","inputProps","variant"])),p=(0,w.A)(),h=(0,b.A)({props:e,muiFormControl:p,states:["variant"]});return o.cloneElement(c,(0,r.A)({inputComponent:_,inputProps:(0,r.A)({children:n,classes:a,IconComponent:l,variant:h.variant,type:void 0},f,c?c.props.inputProps:{}),ref:t},d))}));A.muiName="Select",(0,x.A)(T,{name:"MuiNativeSelect"})(A);var C=n(1529),P=n(68303),k=T,R=o.createElement(E.A,null),I=o.createElement(C.A,null),M=o.forwardRef((function e(t,n){var s=t.autoWidth,l=void 0!==s&&s,u=t.children,c=t.classes,f=t.displayEmpty,d=void 0!==f&&f,p=t.IconComponent,h=void 0===p?S:p,m=t.id,v=t.input,g=t.inputProps,x=t.label,E=t.labelId,T=t.labelWidth,O=void 0===T?0:T,A=t.MenuProps,C=t.multiple,k=void 0!==C&&C,M=t.native,D=void 0!==M&&M,j=t.onClose,L=t.onOpen,N=t.open,z=t.renderValue,B=t.SelectDisplayProps,F=t.variant,W=void 0===F?"standard":F,H=(0,i.A)(t,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),U=D?_:y,V=(0,w.A)(),G=(0,b.A)({props:t,muiFormControl:V,states:["variant"]}).variant||W,q=v||{standard:R,outlined:o.createElement(P.A,{label:x,labelWidth:O}),filled:I}[G];return o.cloneElement(q,(0,r.A)({inputComponent:U,inputProps:(0,r.A)({children:u,IconComponent:h,variant:G,type:void 0,multiple:k},D?{id:m}:{autoWidth:l,displayEmpty:d,labelId:E,MenuProps:A,onClose:j,onOpen:L,open:N,renderValue:z,SelectDisplayProps:(0,r.A)({id:m},B)},g,{classes:g?(0,a.A)({baseClasses:c,newClasses:g.classes,Component:e}):c},v?v.props.inputProps:{}),ref:n},H))}));M.muiName="Select";const D=(0,x.A)(k,{name:"MuiSelect"})(M)},13611:(e,t,n)=>{"use strict";n.d(t,{A:()=>k});var r=n(109),i=n(55258),o=n(53466),a=n(63063),s=n(78281),l=(n(43979),n(80634)),u=n(74855),c=n(17429),f=n(61276),d=n(11473),p=n(8046),h=n(68596),m=n(86390),v=n(30568),g=n(62073);const y=(0,u.A)((function(e){return{thumb:{"&$open":{"& $offset":{transform:"scale(1) translateY(-10px)"}}},open:{},offset:(0,a.A)({zIndex:1},e.typography.body2,{fontSize:e.typography.pxToRem(12),lineHeight:1.2,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),top:-34,transformOrigin:"bottom center",transform:"scale(0)",position:"absolute"}),circle:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"currentColor",transform:"rotate(-45deg)"},label:{color:e.palette.primary.contrastText,transform:"rotate(45deg)"}}}),{name:"PrivateValueLabel"})((function(e){var t=e.children,n=e.classes,r=e.className,i=e.open,o=e.value,a=e.valueLabelDisplay;return"off"===a?t:s.cloneElement(t,{className:(0,l.default)(t.props.className,(i||"on"===a)&&n.open,n.thumb)},s.createElement("span",{className:(0,l.default)(n.offset,r)},s.createElement("span",{className:n.circle},s.createElement("span",{className:n.label},o))))}));function b(e,t){return e-t}function w(e,t,n){return Math.min(Math.max(t,e),n)}function x(e,t){return e.reduce((function(e,n,r){var i=Math.abs(t-n);return null===e||i<e.distance||i===e.distance?{distance:i,index:r}:e}),null).index}function S(e,t){if(void 0!==t.current&&e.changedTouches){for(var n=0;n<e.changedTouches.length;n+=1){var r=e.changedTouches[n];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function E(e,t,n){return 100*(e-t)/(n-t)}function _(e,t,n){var r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){var t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}var r=e.toString().split(".")[1];return r?r.length:0}(t)))}function T(e){var t=e.values,n=e.source,r=e.newValue,i=e.index;if(t[i]===r)return n;var o=t.slice();return o[i]=r,o}function O(e){var t=e.sliderRef,n=e.activeIndex,r=e.setActive;t.current.contains(document.activeElement)&&Number(document.activeElement.getAttribute("data-index"))===n||t.current.querySelector('[role="slider"][data-index="'.concat(n,'"]')).focus(),r&&r(n)}var A={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},C=function(e){return e},P=s.forwardRef((function(e,t){var n=e["aria-label"],u=e["aria-labelledby"],f=e["aria-valuetext"],P=e.classes,k=e.className,R=e.color,I=void 0===R?"primary":R,M=e.component,D=void 0===M?"span":M,j=e.defaultValue,L=e.disabled,N=void 0!==L&&L,z=e.getAriaLabel,B=e.getAriaValueText,F=e.marks,W=void 0!==F&&F,H=e.max,U=void 0===H?100:H,V=e.min,G=void 0===V?0:V,q=e.name,X=e.onChange,Z=e.onChangeCommitted,$=e.onMouseDown,Y=e.orientation,K=void 0===Y?"horizontal":Y,J=e.scale,Q=void 0===J?C:J,ee=e.step,te=void 0===ee?1:ee,ne=e.ThumbComponent,re=void 0===ne?"span":ne,ie=e.track,oe=void 0===ie?"normal":ie,ae=e.value,se=e.ValueLabelComponent,le=void 0===se?y:se,ue=e.valueLabelDisplay,ce=void 0===ue?"off":ue,fe=e.valueLabelFormat,de=void 0===fe?C:fe,pe=(0,o.A)(e,["aria-label","aria-labelledby","aria-valuetext","classes","className","color","component","defaultValue","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","ThumbComponent","track","value","ValueLabelComponent","valueLabelDisplay","valueLabelFormat"]),he=(0,c.A)(),me=s.useRef(),ve=s.useState(-1),ge=ve[0],ye=ve[1],be=s.useState(-1),we=be[0],xe=be[1],Se=(0,g.A)({controlled:ae,default:j,name:"Slider"}),Ee=(0,i.A)(Se,2),_e=Ee[0],Te=Ee[1],Oe=Array.isArray(_e),Ae=Oe?_e.slice().sort(b):[_e];Ae=Ae.map((function(e){return w(e,G,U)}));var Ce=!0===W&&null!==te?(0,r.A)(Array(Math.floor((U-G)/te)+1)).map((function(e,t){return{value:G+te*t}})):W||[],Pe=(0,d.A)(),ke=Pe.isFocusVisible,Re=Pe.onBlurVisible,Ie=Pe.ref,Me=s.useState(-1),De=Me[0],je=Me[1],Le=s.useRef(),Ne=(0,m.A)(Ie,Le),ze=(0,m.A)(t,Ne),Be=(0,h.A)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));ke(e)&&je(t),xe(t)})),Fe=(0,h.A)((function(){-1!==De&&(je(-1),Re()),xe(-1)})),We=(0,h.A)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));xe(t)})),He=(0,h.A)((function(){xe(-1)})),Ue="rtl"===he.direction,Ve=(0,h.A)((function(e){var t,n=Number(e.currentTarget.getAttribute("data-index")),r=Ae[n],i=(U-G)/10,o=Ce.map((function(e){return e.value})),a=o.indexOf(r),s=Ue?"ArrowLeft":"ArrowRight",l=Ue?"ArrowRight":"ArrowLeft";switch(e.key){case"Home":t=G;break;case"End":t=U;break;case"PageUp":te&&(t=r+i);break;case"PageDown":te&&(t=r-i);break;case s:case"ArrowUp":t=te?r+te:o[a+1]||o[o.length-1];break;case l:case"ArrowDown":t=te?r-te:o[a-1]||o[0];break;default:return}if(e.preventDefault(),te&&(t=_(t,te,G)),t=w(t,G,U),Oe){var u=t;t=T({values:Ae,source:_e,newValue:t,index:n}).sort(b),O({sliderRef:Le,activeIndex:t.indexOf(u)})}Te(t),je(n),X&&X(e,t),Z&&Z(e,t)})),Ge=s.useRef(),qe=K;Ue&&"vertical"!==K&&(qe+="-reverse");var Xe=function(e){var t,n,r=e.finger,i=e.move,o=void 0!==i&&i,a=e.values,s=e.source,l=Le.current.getBoundingClientRect(),u=l.width,c=l.height,f=l.bottom,d=l.left;if(t=0===qe.indexOf("vertical")?(f-r.y)/c:(r.x-d)/u,-1!==qe.indexOf("-reverse")&&(t=1-t),n=function(e,t,n){return(n-t)*e+t}(t,G,U),te)n=_(n,te,G);else{var p=Ce.map((function(e){return e.value}));n=p[x(p,n)]}n=w(n,G,U);var h=0;if(Oe){var m=n;h=(n=T({values:a,source:s,newValue:n,index:h=o?Ge.current:x(a,n)}).sort(b)).indexOf(m),Ge.current=h}return{newValue:n,activeIndex:h}},Ze=(0,h.A)((function(e){var t=S(e,me);if(t){var n=Xe({finger:t,move:!0,values:Ae,source:_e}),r=n.newValue,i=n.activeIndex;O({sliderRef:Le,activeIndex:i,setActive:ye}),Te(r),X&&X(e,r)}})),$e=(0,h.A)((function(e){var t=S(e,me);if(t){var n=Xe({finger:t,values:Ae,source:_e}).newValue;ye(-1),"touchend"===e.type&&xe(-1),Z&&Z(e,n),me.current=void 0;var r=(0,p.A)(Le.current);r.removeEventListener("mousemove",Ze),r.removeEventListener("mouseup",$e),r.removeEventListener("touchmove",Ze),r.removeEventListener("touchend",$e)}})),Ye=(0,h.A)((function(e){e.preventDefault();var t=e.changedTouches[0];null!=t&&(me.current=t.identifier);var n=S(e,me),r=Xe({finger:n,values:Ae,source:_e}),i=r.newValue,o=r.activeIndex;O({sliderRef:Le,activeIndex:o,setActive:ye}),Te(i),X&&X(e,i);var a=(0,p.A)(Le.current);a.addEventListener("touchmove",Ze),a.addEventListener("touchend",$e)}));s.useEffect((function(){var e=Le.current;e.addEventListener("touchstart",Ye);var t=(0,p.A)(e);return function(){e.removeEventListener("touchstart",Ye),t.removeEventListener("mousemove",Ze),t.removeEventListener("mouseup",$e),t.removeEventListener("touchmove",Ze),t.removeEventListener("touchend",$e)}}),[$e,Ze,Ye]);var Ke=(0,h.A)((function(e){$&&$(e),e.preventDefault();var t=S(e,me),n=Xe({finger:t,values:Ae,source:_e}),r=n.newValue,i=n.activeIndex;O({sliderRef:Le,activeIndex:i,setActive:ye}),Te(r),X&&X(e,r);var o=(0,p.A)(Le.current);o.addEventListener("mousemove",Ze),o.addEventListener("mouseup",$e)})),Je=E(Oe?Ae[0]:G,G,U),Qe=E(Ae[Ae.length-1],G,U)-Je,et=(0,a.A)({},A[qe].offset(Je),A[qe].leap(Qe));return s.createElement(D,(0,a.A)({ref:ze,className:(0,l.default)(P.root,P["color".concat((0,v.A)(I))],k,N&&P.disabled,Ce.length>0&&Ce.some((function(e){return e.label}))&&P.marked,!1===oe&&P.trackFalse,"vertical"===K&&P.vertical,"inverted"===oe&&P.trackInverted),onMouseDown:Ke},pe),s.createElement("span",{className:P.rail}),s.createElement("span",{className:P.track,style:et}),s.createElement("input",{value:Ae.join(","),name:q,type:"hidden"}),Ce.map((function(e,t){var n,r=E(e.value,G,U),i=A[qe].offset(r);return n=!1===oe?-1!==Ae.indexOf(e.value):"normal"===oe&&(Oe?e.value>=Ae[0]&&e.value<=Ae[Ae.length-1]:e.value<=Ae[0])||"inverted"===oe&&(Oe?e.value<=Ae[0]||e.value>=Ae[Ae.length-1]:e.value>=Ae[0]),s.createElement(s.Fragment,{key:e.value},s.createElement("span",{style:i,"data-index":t,className:(0,l.default)(P.mark,n&&P.markActive)}),null!=e.label?s.createElement("span",{"aria-hidden":!0,"data-index":t,style:i,className:(0,l.default)(P.markLabel,n&&P.markLabelActive)},e.label):null)})),Ae.map((function(e,t){var r=E(e,G,U),i=A[qe].offset(r);return s.createElement(le,{key:t,valueLabelFormat:de,valueLabelDisplay:ce,className:P.valueLabel,value:"function"==typeof de?de(Q(e),t):de,index:t,open:we===t||ge===t||"on"===ce,disabled:N},s.createElement(re,{className:(0,l.default)(P.thumb,P["thumbColor".concat((0,v.A)(I))],ge===t&&P.active,N&&P.disabled,De===t&&P.focusVisible),tabIndex:N?null:0,role:"slider",style:i,"data-index":t,"aria-label":z?z(t):n,"aria-labelledby":u,"aria-orientation":K,"aria-valuemax":Q(U),"aria-valuemin":Q(G),"aria-valuenow":Q(e),"aria-valuetext":B?B(Q(e),t):f,onKeyDown:Ve,onFocus:Be,onBlur:Fe,onMouseOver:We,onMouseLeave:He}))})))}));const k=(0,u.A)((function(e){return{root:{height:2,width:"100%",boxSizing:"content-box",padding:"13px 0",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:e.palette.primary.main,WebkitTapHighlightColor:"transparent","&$disabled":{pointerEvents:"none",cursor:"default",color:e.palette.grey[400]},"&$vertical":{width:2,height:"100%",padding:"0 13px"},"@media (pointer: coarse)":{padding:"20px 0","&$vertical":{padding:"0 20px"}},"@media print":{colorAdjust:"exact"}},colorPrimary:{},colorSecondary:{color:e.palette.secondary.main},marked:{marginBottom:20,"&$vertical":{marginBottom:"auto",marginRight:20}},vertical:{},disabled:{},rail:{display:"block",position:"absolute",width:"100%",height:2,borderRadius:1,backgroundColor:"currentColor",opacity:.38,"$vertical &":{height:"100%",width:2}},track:{display:"block",position:"absolute",height:2,borderRadius:1,backgroundColor:"currentColor","$vertical &":{width:2}},trackFalse:{"& $track":{display:"none"}},trackInverted:{"& $track":{backgroundColor:"light"===e.palette.type?(0,f.a)(e.palette.primary.main,.62):(0,f.e$)(e.palette.primary.main,.5)},"& $rail":{opacity:1}},thumb:{position:"absolute",width:12,height:12,marginLeft:-6,marginTop:-5,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow"],{duration:e.transitions.duration.shortest}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",left:-15,top:-15,right:-15,bottom:-15},"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat((0,f.X4)(e.palette.primary.main,.16)),"@media (hover: none)":{boxShadow:"none"}},"&$active":{boxShadow:"0px 0px 0px 14px ".concat((0,f.X4)(e.palette.primary.main,.16))},"&$disabled":{width:8,height:8,marginLeft:-4,marginTop:-3,"&:hover":{boxShadow:"none"}},"$vertical &":{marginLeft:-5,marginBottom:-6},"$vertical &$disabled":{marginLeft:-3,marginBottom:-4}},thumbColorPrimary:{},thumbColorSecondary:{"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat((0,f.X4)(e.palette.secondary.main,.16))},"&$active":{boxShadow:"0px 0px 0px 14px ".concat((0,f.X4)(e.palette.secondary.main,.16))}},active:{},focusVisible:{},valueLabel:{left:"calc(-50% - 4px)"},mark:{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},markActive:{backgroundColor:e.palette.background.paper,opacity:.8},markLabel:(0,a.A)({},e.typography.body2,{color:e.palette.text.secondary,position:"absolute",top:26,transform:"translateX(-50%)",whiteSpace:"nowrap","$vertical &":{top:"auto",left:26,transform:"translateY(50%)"},"@media (pointer: coarse)":{top:40,"$vertical &":{left:31}}}),markLabelActive:{color:e.palette.text.primary}}}),{name:"MuiSlider"})(P)},1525:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(63063),i=n(53466),o=n(78281),a=(n(43979),n(80634)),s=n(74855),l=n(30568),u=o.forwardRef((function(e,t){var n=e.children,s=e.classes,u=e.className,c=e.color,f=void 0===c?"inherit":c,d=e.component,p=void 0===d?"svg":d,h=e.fontSize,m=void 0===h?"medium":h,v=e.htmlColor,g=e.titleAccess,y=e.viewBox,b=void 0===y?"0 0 24 24":y,w=(0,i.A)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return o.createElement(p,(0,r.A)({className:(0,a.default)(s.root,u,"inherit"!==f&&s["color".concat((0,l.A)(f))],"default"!==m&&"medium"!==m&&s["fontSize".concat((0,l.A)(m))]),focusable:"false",viewBox:b,color:v,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:t},w),n,g?o.createElement("title",null,g):null)}));u.muiName="SvgIcon";const c=(0,s.A)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(u)},32765:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(53466),i=n(2362),o=n(63063),a=n(78281),s=(n(43979),n(80634)),l=n(74855),u=n(52757),c=n(30568),f=a.forwardRef((function(e,t){var n=e.classes,i=e.className,l=e.disabled,f=void 0!==l&&l,d=e.disableFocusRipple,p=void 0!==d&&d,h=e.fullWidth,m=e.icon,v=e.indicator,g=e.label,y=e.onChange,b=e.onClick,w=e.onFocus,x=e.selected,S=e.selectionFollowsFocus,E=e.textColor,_=void 0===E?"inherit":E,T=e.value,O=e.wrapped,A=void 0!==O&&O,C=(0,r.A)(e,["classes","className","disabled","disableFocusRipple","fullWidth","icon","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"]);return a.createElement(u.A,(0,o.A)({focusRipple:!p,className:(0,s.default)(n.root,n["textColor".concat((0,c.A)(_))],i,f&&n.disabled,x&&n.selected,g&&m&&n.labelIcon,h&&n.fullWidth,A&&n.wrapped),ref:t,role:"tab","aria-selected":x,disabled:f,onClick:function(e){y&&y(e,T),b&&b(e)},onFocus:function(e){S&&!x&&y&&y(e,T),w&&w(e)},tabIndex:x?0:-1},C),a.createElement("span",{className:n.wrapper},m,g),v)}));const d=(0,l.A)((function(e){var t;return{root:(0,o.A)({},e.typography.button,(t={maxWidth:264,minWidth:72,position:"relative",boxSizing:"border-box",minHeight:48,flexShrink:0,padding:"6px 12px"},(0,i.A)(t,e.breakpoints.up("sm"),{padding:"6px 24px"}),(0,i.A)(t,"overflow","hidden"),(0,i.A)(t,"whiteSpace","normal"),(0,i.A)(t,"textAlign","center"),(0,i.A)(t,e.breakpoints.up("sm"),{minWidth:160}),t)),labelIcon:{minHeight:72,paddingTop:9,"& $wrapper > *:first-child":{marginBottom:6}},textColorInherit:{color:"inherit",opacity:.7,"&$selected":{opacity:1},"&$disabled":{opacity:.5}},textColorPrimary:{color:e.palette.text.secondary,"&$selected":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled}},textColorSecondary:{color:e.palette.text.secondary,"&$selected":{color:e.palette.secondary.main},"&$disabled":{color:e.palette.text.disabled}},selected:{},disabled:{},fullWidth:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},wrapped:{fontSize:e.typography.pxToRem(12),lineHeight:1.5},wrapper:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"100%",flexDirection:"column"}}}),{name:"MuiTab"})(f)},57528:(e,t,n)=>{"use strict";n.d(t,{A:()=>R});var r,i=n(63063),o=n(53466),a=n(2362),s=n(78281),l=(n(38428),n(43979),n(80634)),u=n(55053),c=n(12463);function f(){if(r)return r;var e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),r="reverse",e.scrollLeft>0?r="default":(e.scrollLeft=1,0===e.scrollLeft&&(r="negative")),document.body.removeChild(e),r}function d(e,t){var n=e.scrollLeft;if("rtl"!==t)return n;switch(f()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function p(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}var h={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function m(e){var t=e.onChange,n=(0,o.A)(e,["onChange"]),r=s.useRef(),a=s.useRef(null),l=function(){r.current=a.current.offsetHeight-a.current.clientHeight};return s.useEffect((function(){var e=(0,u.A)((function(){var e=r.current;l(),e!==r.current&&t(r.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[t]),s.useEffect((function(){l(),t(r.current)}),[t]),s.createElement("div",(0,i.A)({style:h,ref:a},n))}var v=n(74855),g=n(30568),y=s.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.color,u=e.orientation,c=(0,o.A)(e,["classes","className","color","orientation"]);return s.createElement("span",(0,i.A)({className:(0,l.default)(n.root,n["color".concat((0,g.A)(a))],r,"vertical"===u&&n.vertical),ref:t},c))}));const b=(0,v.A)((function(e){return{root:{position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},colorPrimary:{backgroundColor:e.palette.primary.main},colorSecondary:{backgroundColor:e.palette.secondary.main},vertical:{height:"100%",width:2,right:0}}}),{name:"PrivateTabIndicator"})(y);var w=n(82083);const x=(0,w.A)(s.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),S=(0,w.A)(s.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");var E=n(52757),_=s.createElement(x,{fontSize:"small"}),T=s.createElement(S,{fontSize:"small"}),O=s.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.direction,u=e.orientation,c=e.disabled,f=(0,o.A)(e,["classes","className","direction","orientation","disabled"]);return s.createElement(E.A,(0,i.A)({component:"div",className:(0,l.default)(n.root,r,c&&n.disabled,"vertical"===u&&n.vertical),ref:t,role:null,tabIndex:null},f),"left"===a?_:T)}));const A=(0,v.A)({root:{width:40,flexShrink:0,opacity:.8,"&$disabled":{opacity:0}},vertical:{width:"100%",height:40,"& svg":{transform:"rotate(90deg)"}},disabled:{}},{name:"MuiTabScrollButton"})(O);var C=n(68596),P=n(17429),k=s.forwardRef((function(e,t){var n=e["aria-label"],r=e["aria-labelledby"],h=e.action,v=e.centered,g=void 0!==v&&v,y=e.children,w=e.classes,x=e.className,S=e.component,E=void 0===S?"div":S,_=e.indicatorColor,T=void 0===_?"secondary":_,O=e.onChange,k=e.orientation,R=void 0===k?"horizontal":k,I=e.ScrollButtonComponent,M=void 0===I?A:I,D=e.scrollButtons,j=void 0===D?"auto":D,L=e.selectionFollowsFocus,N=e.TabIndicatorProps,z=void 0===N?{}:N,B=e.TabScrollButtonProps,F=e.textColor,W=void 0===F?"inherit":F,H=e.value,U=e.variant,V=void 0===U?"standard":U,G=(0,o.A)(e,["aria-label","aria-labelledby","action","centered","children","classes","className","component","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant"]),q=(0,P.A)(),X="scrollable"===V,Z="rtl"===q.direction,$="vertical"===R,Y=$?"scrollTop":"scrollLeft",K=$?"top":"left",J=$?"bottom":"right",Q=$?"clientHeight":"clientWidth",ee=$?"height":"width",te=s.useState(!1),ne=te[0],re=te[1],ie=s.useState({}),oe=ie[0],ae=ie[1],se=s.useState({start:!1,end:!1}),le=se[0],ue=se[1],ce=s.useState({overflow:"hidden",marginBottom:null}),fe=ce[0],de=ce[1],pe=new Map,he=s.useRef(null),me=s.useRef(null),ve=function(){var e,t,n=he.current;if(n){var r=n.getBoundingClientRect();e={clientWidth:n.clientWidth,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,scrollLeftNormalized:d(n,q.direction),scrollWidth:n.scrollWidth,top:r.top,bottom:r.bottom,left:r.left,right:r.right}}if(n&&!1!==H){var i=me.current.children;if(i.length>0){var o=i[pe.get(H)];t=o?o.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:t}},ge=(0,C.A)((function(){var e,t=ve(),n=t.tabsMeta,r=t.tabMeta,i=0;if(r&&n)if($)i=r.top-n.top+n.scrollTop;else{var o=Z?n.scrollLeftNormalized+n.clientWidth-n.scrollWidth:n.scrollLeft;i=r.left-n.left+o}var s=(e={},(0,a.A)(e,K,i),(0,a.A)(e,ee,r?r[ee]:0),e);if(isNaN(oe[K])||isNaN(oe[ee]))ae(s);else{var l=Math.abs(oe[K]-s[K]),u=Math.abs(oe[ee]-s[ee]);(l>=1||u>=1)&&ae(s)}})),ye=function(e){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},o=r.ease,a=void 0===o?p:o,s=r.duration,l=void 0===s?300:s,u=null,c=t[e],f=!1;c===n?i(new Error("Element already at target position")):requestAnimationFrame((function r(o){if(f)i(new Error("Animation cancelled"));else{null===u&&(u=o);var s=Math.min(1,(o-u)/l);t[e]=a(s)*(n-c)+c,s>=1?requestAnimationFrame((function(){i(null)})):requestAnimationFrame(r)}}))}(Y,he.current,e)},be=function(e){var t=he.current[Y];$?t+=e:(t+=e*(Z?-1:1),t*=Z&&"reverse"===f()?-1:1),ye(t)},we=function(){be(-he.current[Q])},xe=function(){be(he.current[Q])},Se=s.useCallback((function(e){de({overflow:null,marginBottom:-e})}),[]),Ee=(0,C.A)((function(){var e=ve(),t=e.tabsMeta,n=e.tabMeta;if(n&&t)if(n[K]<t[K]){var r=t[Y]+(n[K]-t[K]);ye(r)}else if(n[J]>t[J]){var i=t[Y]+(n[J]-t[J]);ye(i)}})),_e=(0,C.A)((function(){if(X&&"off"!==j){var e,t,n=he.current,r=n.scrollTop,i=n.scrollHeight,o=n.clientHeight,a=n.scrollWidth,s=n.clientWidth;if($)e=r>1,t=r<i-o-1;else{var l=d(he.current,q.direction);e=Z?l<a-s-1:l>1,t=Z?l>1:l<a-s-1}e===le.start&&t===le.end||ue({start:e,end:t})}}));s.useEffect((function(){var e=(0,u.A)((function(){ge(),_e()})),t=(0,c.A)(he.current);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}),[ge,_e]);var Te=s.useCallback((0,u.A)((function(){_e()})));s.useEffect((function(){return function(){Te.clear()}}),[Te]),s.useEffect((function(){re(!0)}),[]),s.useEffect((function(){ge(),_e()})),s.useEffect((function(){Ee()}),[Ee,oe]),s.useImperativeHandle(h,(function(){return{updateIndicator:ge,updateScrollButtons:_e}}),[ge,_e]);var Oe=s.createElement(b,(0,i.A)({className:w.indicator,orientation:R,color:T},z,{style:(0,i.A)({},oe,z.style)})),Ae=0,Ce=s.Children.map(y,(function(e){if(!s.isValidElement(e))return null;var t=void 0===e.props.value?Ae:e.props.value;pe.set(t,Ae);var n=t===H;return Ae+=1,s.cloneElement(e,{fullWidth:"fullWidth"===V,indicator:n&&!ne&&Oe,selected:n,selectionFollowsFocus:L,onChange:O,textColor:W,value:t})})),Pe=function(){var e={};e.scrollbarSizeListener=X?s.createElement(m,{className:w.scrollable,onChange:Se}):null;var t=le.start||le.end,n=X&&("auto"===j&&t||"desktop"===j||"on"===j);return e.scrollButtonStart=n?s.createElement(M,(0,i.A)({orientation:R,direction:Z?"right":"left",onClick:we,disabled:!le.start,className:(0,l.default)(w.scrollButtons,"on"!==j&&w.scrollButtonsDesktop)},B)):null,e.scrollButtonEnd=n?s.createElement(M,(0,i.A)({orientation:R,direction:Z?"left":"right",onClick:xe,disabled:!le.end,className:(0,l.default)(w.scrollButtons,"on"!==j&&w.scrollButtonsDesktop)},B)):null,e}();return s.createElement(E,(0,i.A)({className:(0,l.default)(w.root,x,$&&w.vertical),ref:t},G),Pe.scrollButtonStart,Pe.scrollbarSizeListener,s.createElement("div",{className:(0,l.default)(w.scroller,X?w.scrollable:w.fixed),style:fe,ref:he,onScroll:Te},s.createElement("div",{"aria-label":n,"aria-labelledby":r,className:(0,l.default)(w.flexContainer,$&&w.flexContainerVertical,g&&!X&&w.centered),onKeyDown:function(e){var t=e.target;if("tab"===t.getAttribute("role")){var n=null,r="vertical"!==R?"ArrowLeft":"ArrowUp",i="vertical"!==R?"ArrowRight":"ArrowDown";switch("vertical"!==R&&"rtl"===q.direction&&(r="ArrowRight",i="ArrowLeft"),e.key){case r:n=t.previousElementSibling||me.current.lastChild;break;case i:n=t.nextElementSibling||me.current.firstChild;break;case"Home":n=me.current.firstChild;break;case"End":n=me.current.lastChild}null!==n&&(n.focus(),e.preventDefault())}},ref:me,role:"tablist"},Ce),ne&&Oe),Pe.scrollButtonEnd)}));const R=(0,v.A)((function(e){return{root:{overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},vertical:{flexDirection:"column"},flexContainer:{display:"flex"},flexContainerVertical:{flexDirection:"column"},centered:{justifyContent:"center"},scroller:{position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},fixed:{overflowX:"hidden",width:"100%"},scrollable:{overflowX:"scroll",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},scrollButtons:{},scrollButtonsDesktop:(0,a.A)({},e.breakpoints.down("xs"),{display:"none"}),indicator:{}}}),{name:"MuiTabs"})(k)},76058:(e,t,n)=>{"use strict";n.d(t,{A:()=>_});var r=n(63063),i=n(53466),o=n(78281),a=(n(43979),n(80634)),s=n(57525),l=n(1529),u=n(68303),c=n(62964),f=n(95906),d=n(74855),p=n(30568),h=o.forwardRef((function(e,t){var n=e.children,s=e.classes,l=e.className,u=(e.color,e.component),d=void 0===u?"label":u,h=(e.disabled,e.error,e.filled,e.focused,e.required,(0,i.A)(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),m=(0,f.A)(),v=(0,c.A)({props:e,muiFormControl:m,states:["color","required","focused","disabled","error","filled"]});return o.createElement(d,(0,r.A)({className:(0,a.default)(s.root,s["color".concat((0,p.A)(v.color||"primary"))],l,v.disabled&&s.disabled,v.error&&s.error,v.filled&&s.filled,v.focused&&s.focused,v.required&&s.required),ref:t},h),n,v.required&&o.createElement("span",{"aria-hidden":!0,className:(0,a.default)(s.asterisk,v.error&&s.error)},"","*"))}));const m=(0,d.A)((function(e){return{root:(0,r.A)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(h);var v=o.forwardRef((function(e,t){var n=e.classes,s=e.className,l=e.disableAnimation,u=void 0!==l&&l,d=(e.margin,e.shrink),p=(e.variant,(0,i.A)(e,["classes","className","disableAnimation","margin","shrink","variant"])),h=(0,f.A)(),v=d;void 0===v&&h&&(v=h.filled||h.focused||h.adornedStart);var g=(0,c.A)({props:e,muiFormControl:h,states:["margin","variant"]});return o.createElement(m,(0,r.A)({"data-shrink":v,className:(0,a.default)(n.root,s,h&&n.formControl,!u&&n.animated,v&&n.shrink,"dense"===g.margin&&n.marginDense,{filled:n.filled,outlined:n.outlined}[g.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:t},p))}));const g=(0,d.A)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(v);var y=n(2021),b=o.forwardRef((function(e,t){var n=e.children,s=e.classes,l=e.className,u=e.component,d=void 0===u?"p":u,p=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,(0,i.A)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),h=(0,f.A)(),m=(0,c.A)({props:e,muiFormControl:h,states:["variant","margin","disabled","error","filled","focused","required"]});return o.createElement(d,(0,r.A)({className:(0,a.default)(s.root,("filled"===m.variant||"outlined"===m.variant)&&s.contained,l,m.disabled&&s.disabled,m.error&&s.error,m.filled&&s.filled,m.focused&&s.focused,m.required&&s.required,"dense"===m.margin&&s.marginDense),ref:t},p)," "===n?o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)}));const w=(0,d.A)((function(e){return{root:(0,r.A)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(b);var x=n(80008),S={standard:s.A,filled:l.A,outlined:u.A},E=o.forwardRef((function(e,t){var n=e.autoComplete,s=e.autoFocus,l=void 0!==s&&s,u=e.children,c=e.classes,f=e.className,d=e.color,p=void 0===d?"primary":d,h=e.defaultValue,m=e.disabled,v=void 0!==m&&m,b=e.error,E=void 0!==b&&b,_=e.FormHelperTextProps,T=e.fullWidth,O=void 0!==T&&T,A=e.helperText,C=e.hiddenLabel,P=e.id,k=e.InputLabelProps,R=e.inputProps,I=e.InputProps,M=e.inputRef,D=e.label,j=e.multiline,L=void 0!==j&&j,N=e.name,z=e.onBlur,B=e.onChange,F=e.onFocus,W=e.placeholder,H=e.required,U=void 0!==H&&H,V=e.rows,G=e.rowsMax,q=e.maxRows,X=e.minRows,Z=e.select,$=void 0!==Z&&Z,Y=e.SelectProps,K=e.type,J=e.value,Q=e.variant,ee=void 0===Q?"standard":Q,te=(0,i.A)(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]),ne={};if("outlined"===ee&&(k&&void 0!==k.shrink&&(ne.notched=k.shrink),D)){var re,ie=null!==(re=null==k?void 0:k.required)&&void 0!==re?re:U;ne.label=o.createElement(o.Fragment,null,D,ie&&"*")}$&&(Y&&Y.native||(ne.id=void 0),ne["aria-describedby"]=void 0);var oe=A&&P?"".concat(P,"-helper-text"):void 0,ae=D&&P?"".concat(P,"-label"):void 0,se=S[ee],le=o.createElement(se,(0,r.A)({"aria-describedby":oe,autoComplete:n,autoFocus:l,defaultValue:h,fullWidth:O,multiline:L,name:N,rows:V,rowsMax:G,maxRows:q,minRows:X,type:K,value:J,id:P,inputRef:M,onBlur:z,onChange:B,onFocus:F,placeholder:W,inputProps:R},ne,I));return o.createElement(y.A,(0,r.A)({className:(0,a.default)(c.root,f),disabled:v,error:E,fullWidth:O,hiddenLabel:C,ref:t,required:U,color:p,variant:ee},te),D&&o.createElement(g,(0,r.A)({htmlFor:P,id:ae},k),D),$?o.createElement(x.A,(0,r.A)({"aria-describedby":oe,id:P,labelId:ae,value:J,input:le},Y),u):le,A&&o.createElement(w,(0,r.A)({id:oe},_),A))}));const _=(0,d.A)({root:{}},{name:"MuiTextField"})(E)},86933:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(63063),i=n(53466),o=n(2362),a=n(78281),s=(n(43979),n(80634)),l=n(74855),u=a.forwardRef((function(e,t){var n=e.classes,o=e.className,l=e.component,u=void 0===l?"div":l,c=e.disableGutters,f=void 0!==c&&c,d=e.variant,p=void 0===d?"regular":d,h=(0,i.A)(e,["classes","className","component","disableGutters","variant"]);return a.createElement(u,(0,r.A)({className:(0,s.default)(n.root,n[p],o,!f&&n.gutters),ref:t},h))}));const c=(0,l.A)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:(0,o.A)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(u)},39405:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>O});var r=n(63063),i=n(55258),o=n(53466),a=n(2362),s=n(78281),l=n(8568),u=(n(43979),n(80634)),c=n(76184),f=n(61276),d=n(74855),p=n(30568),h=n(68553),m=n(96851),v=n(86390),g=n(11899),y=n(35851),b=n(11473),w=n(62073),x=n(17429);function S(e){return Math.round(1e5*e)/1e5}var E=!1,_=null,T=s.forwardRef((function(e,t){var n=e.arrow,a=void 0!==n&&n,f=e.children,d=e.classes,S=e.disableFocusListener,T=void 0!==S&&S,O=e.disableHoverListener,A=void 0!==O&&O,C=e.disableTouchListener,P=void 0!==C&&C,k=e.enterDelay,R=void 0===k?100:k,I=e.enterNextDelay,M=void 0===I?0:I,D=e.enterTouchDelay,j=void 0===D?700:D,L=e.id,N=e.interactive,z=void 0!==N&&N,B=e.leaveDelay,F=void 0===B?0:B,W=e.leaveTouchDelay,H=void 0===W?1500:W,U=e.onClose,V=e.onOpen,G=e.open,q=e.placement,X=void 0===q?"bottom":q,Z=e.PopperComponent,$=void 0===Z?m.A:Z,Y=e.PopperProps,K=e.title,J=e.TransitionComponent,Q=void 0===J?h.A:J,ee=e.TransitionProps,te=(0,o.A)(e,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),ne=(0,x.A)(),re=s.useState(),ie=re[0],oe=re[1],ae=s.useState(null),se=ae[0],le=ae[1],ue=s.useRef(!1),ce=s.useRef(),fe=s.useRef(),de=s.useRef(),pe=s.useRef(),he=(0,w.A)({controlled:G,default:!1,name:"Tooltip",state:"open"}),me=(0,i.A)(he,2),ve=me[0],ge=me[1],ye=ve,be=(0,g.A)(L);s.useEffect((function(){return function(){clearTimeout(ce.current),clearTimeout(fe.current),clearTimeout(de.current),clearTimeout(pe.current)}}),[]);var we=function(e){clearTimeout(_),E=!0,ge(!0),V&&V(e)},xe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=f.props;"mouseover"===t.type&&n.onMouseOver&&e&&n.onMouseOver(t),ue.current&&"touchstart"!==t.type||(ie&&ie.removeAttribute("title"),clearTimeout(fe.current),clearTimeout(de.current),R||E&&M?(t.persist(),fe.current=setTimeout((function(){we(t)}),E?M:R)):we(t))}},Se=(0,b.A)(),Ee=Se.isFocusVisible,_e=Se.onBlurVisible,Te=Se.ref,Oe=s.useState(!1),Ae=Oe[0],Ce=Oe[1],Pe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){ie||oe(t.currentTarget),Ee(t)&&(Ce(!0),xe()(t));var n=f.props;n.onFocus&&e&&n.onFocus(t)}},ke=function(e){clearTimeout(_),_=setTimeout((function(){E=!1}),800+F),ge(!1),U&&U(e),clearTimeout(ce.current),ce.current=setTimeout((function(){ue.current=!1}),ne.transitions.duration.shortest)},Re=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=f.props;"blur"===t.type&&(n.onBlur&&e&&n.onBlur(t),Ae&&(Ce(!1),_e())),"mouseleave"===t.type&&n.onMouseLeave&&t.currentTarget===ie&&n.onMouseLeave(t),clearTimeout(fe.current),clearTimeout(de.current),t.persist(),de.current=setTimeout((function(){ke(t)}),F)}},Ie=function(e){ue.current=!0;var t=f.props;t.onTouchStart&&t.onTouchStart(e)},Me=(0,v.A)(oe,t),De=(0,v.A)(Te,Me),je=s.useCallback((function(e){(0,y.A)(De,l.findDOMNode(e))}),[De]),Le=(0,v.A)(f.ref,je);""===K&&(ye=!1);var Ne=!ye&&!A,ze=(0,r.A)({"aria-describedby":ye?be:null,title:Ne&&"string"==typeof K?K:null},te,f.props,{className:(0,u.default)(te.className,f.props.className),onTouchStart:Ie,ref:Le}),Be={};P||(ze.onTouchStart=function(e){Ie(e),clearTimeout(de.current),clearTimeout(ce.current),clearTimeout(pe.current),e.persist(),pe.current=setTimeout((function(){xe()(e)}),j)},ze.onTouchEnd=function(e){f.props.onTouchEnd&&f.props.onTouchEnd(e),clearTimeout(pe.current),clearTimeout(de.current),e.persist(),de.current=setTimeout((function(){ke(e)}),H)}),A||(ze.onMouseOver=xe(),ze.onMouseLeave=Re(),z&&(Be.onMouseOver=xe(!1),Be.onMouseLeave=Re(!1))),T||(ze.onFocus=Pe(),ze.onBlur=Re(),z&&(Be.onFocus=Pe(!1),Be.onBlur=Re(!1)));var Fe=s.useMemo((function(){return(0,c.A)({popperOptions:{modifiers:{arrow:{enabled:Boolean(se),element:se}}}},Y)}),[se,Y]);return s.createElement(s.Fragment,null,s.cloneElement(f,ze),s.createElement($,(0,r.A)({className:(0,u.default)(d.popper,z&&d.popperInteractive,a&&d.popperArrow),placement:X,anchorEl:ie,open:!!ie&&ye,id:ze["aria-describedby"],transition:!0},Be,Fe),(function(e){var t=e.placement,n=e.TransitionProps;return s.createElement(Q,(0,r.A)({timeout:ne.transitions.duration.shorter},n,ee),s.createElement("div",{className:(0,u.default)(d.tooltip,d["tooltipPlacement".concat((0,p.A)(t.split("-")[0]))],ue.current&&d.touch,a&&d.tooltipArrow)},K,a?s.createElement("span",{className:d.arrow,ref:le}):null))})))}));const O=(0,d.A)((function(e){return{popper:{zIndex:e.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}},tooltip:{backgroundColor:(0,f.X4)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat(S(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:(0,f.X4)(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat(S(16/14),"em"),fontWeight:e.typography.fontWeightRegular},tooltipPlacementLeft:(0,a.A)({transformOrigin:"right center",margin:"0 24px "},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:(0,a.A)({transformOrigin:"left center",margin:"0 24px"},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:(0,a.A)({transformOrigin:"center bottom",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:(0,a.A)({transformOrigin:"center top",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"})}}),{name:"MuiTooltip",flip:!1})(T)},72133:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(63063),i=n(53466),o=n(78281),a=(n(43979),n(80634)),s=n(74855),l=n(30568),u={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},c=o.forwardRef((function(e,t){var n=e.align,s=void 0===n?"inherit":n,c=e.classes,f=e.className,d=e.color,p=void 0===d?"initial":d,h=e.component,m=e.display,v=void 0===m?"initial":m,g=e.gutterBottom,y=void 0!==g&&g,b=e.noWrap,w=void 0!==b&&b,x=e.paragraph,S=void 0!==x&&x,E=e.variant,_=void 0===E?"body1":E,T=e.variantMapping,O=void 0===T?u:T,A=(0,i.A)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),C=h||(S?"p":O[_]||u[_])||"span";return o.createElement(C,(0,r.A)({className:(0,a.default)(c.root,f,"inherit"!==_&&c[_],"initial"!==p&&c["color".concat((0,l.A)(p))],w&&c.noWrap,y&&c.gutterBottom,S&&c.paragraph,"inherit"!==s&&c["align".concat((0,l.A)(s))],"initial"!==v&&c["display".concat((0,l.A)(v))]),ref:t},A))}));const f=(0,s.A)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(c)},40712:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"}},61276:(e,t,n)=>{"use strict";n.d(t,{X4:()=>c,a:()=>d,e$:()=>f,eM:()=>s,tL:()=>u});var r=n(60743);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,r.A)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function a(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function s(e,t){var n=l(e),r=l(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function l(e){var t="hsl"===(e=o(e)).type?o(function(e){var t=(e=o(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",c=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(u+="a",c.push(t[3])),a({type:u,values:c})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return l(e)>.5?f(e,t):d(e,t)}function c(e,t){return e=o(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,a(e)}function f(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return a(e)}function d(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return a(e)}},51675:(e,t,n)=>{"use strict";n.d(t,{D:()=>j,A:()=>L});var r=n(53466),i=n(76184),o=n(63063),a=["xs","sm","md","lg","xl"],s=n(2362),l=n(3324);function u(e,t,n){var r;return(0,o.A)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),(0,o.A)({paddingLeft:t(2),paddingRight:t(2)},n,(0,s.A)({},e.up("sm"),(0,o.A)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},(0,s.A)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,s.A)(r,e.up("sm"),{minHeight:64}),r)},n)}var c=n(60743);const f={black:"#000",white:"#fff"};var d=n(40712);const p={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},h={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},m={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};var b=n(61276),w={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:d.A[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},x={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:d.A[800],default:"#303030"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function S(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,b.a)(e.main,i):"dark"===t&&(e.dark=(0,b.e$)(e.main,o)))}function E(e){return Math.round(1e5*e)/1e5}function _(e){return E(e)}var T={textTransform:"uppercase"},O='"Roboto", "Helvetica", "Arial", sans-serif';function A(e,t){var n="function"==typeof t?t(e):t,a=n.fontFamily,s=void 0===a?O:a,l=n.fontSize,u=void 0===l?14:l,c=n.fontWeightLight,f=void 0===c?300:c,d=n.fontWeightRegular,p=void 0===d?400:d,h=n.fontWeightMedium,m=void 0===h?500:h,v=n.fontWeightBold,g=void 0===v?700:v,y=n.htmlFontSize,b=void 0===y?16:y,w=n.allVariants,x=n.pxToRem,S=(0,r.A)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),A=u/14,C=x||function(e){return"".concat(e/b*A,"rem")},P=function(e,t,n,r,i){return(0,o.A)({fontFamily:s,fontWeight:e,fontSize:C(t),lineHeight:n},s===O?{letterSpacing:"".concat(E(r/t),"em")}:{},i,w)},k={h1:P(f,96,1.167,-1.5),h2:P(f,60,1.2,-.5),h3:P(p,48,1.167,0),h4:P(p,34,1.235,.25),h5:P(p,24,1.334,0),h6:P(m,20,1.6,.15),subtitle1:P(p,16,1.75,.15),subtitle2:P(m,14,1.57,.1),body1:P(p,16,1.5,.15),body2:P(p,14,1.43,.15),button:P(m,14,1.75,.4,T),caption:P(p,12,1.66,.4),overline:P(p,12,2.66,1,T)};return(0,i.A)((0,o.A)({htmlFontSize:b,pxToRem:C,round:_,fontFamily:s,fontSize:u,fontWeightLight:f,fontWeightRegular:p,fontWeightMedium:m,fontWeightBold:g},k),S,{clone:!1})}function C(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const P=["none",C(0,2,1,-1,0,1,1,0,0,1,3,0),C(0,3,1,-2,0,2,2,0,0,1,5,0),C(0,3,3,-2,0,3,4,0,0,1,8,0),C(0,2,4,-1,0,4,5,0,0,1,10,0),C(0,3,5,-1,0,5,8,0,0,1,14,0),C(0,3,5,-1,0,6,10,0,0,1,18,0),C(0,4,5,-2,0,7,10,1,0,2,16,1),C(0,5,5,-3,0,8,10,1,0,3,14,2),C(0,5,6,-3,0,9,12,1,0,3,16,2),C(0,6,6,-3,0,10,14,1,0,4,18,3),C(0,6,7,-4,0,11,15,1,0,4,20,3),C(0,7,8,-4,0,12,17,2,0,5,22,4),C(0,7,8,-4,0,13,19,2,0,5,24,4),C(0,7,9,-4,0,14,21,2,0,5,26,4),C(0,8,9,-5,0,15,22,2,0,6,28,5),C(0,8,10,-5,0,16,24,2,0,6,30,5),C(0,8,11,-5,0,17,26,2,0,6,32,5),C(0,9,11,-5,0,18,28,2,0,7,34,6),C(0,9,12,-6,0,19,29,2,0,7,36,6),C(0,10,13,-6,0,20,31,3,0,8,38,7),C(0,10,13,-6,0,21,33,3,0,8,40,7),C(0,10,14,-6,0,22,35,3,0,8,42,7),C(0,11,14,-7,0,23,36,3,0,9,44,8),C(0,11,15,-7,0,24,38,3,0,9,46,8)],k={borderRadius:4};var R=n(4621),I=n(58705),M=n(50883);function D(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,s=e.mixins,l=void 0===s?{}:s,E=e.palette,_=void 0===E?{}:E,T=e.spacing,O=e.typography,C=void 0===O?{}:O,D=(0,r.A)(e,["breakpoints","mixins","palette","spacing","typography"]),j=function(e){var t=e.primary,n=void 0===t?{light:p[300],main:p[500],dark:p[700]}:t,a=e.secondary,s=void 0===a?{light:h.A200,main:h.A400,dark:h.A700}:a,l=e.error,u=void 0===l?{light:m[300],main:m[500],dark:m[700]}:l,E=e.warning,_=void 0===E?{light:v[300],main:v[500],dark:v[700]}:E,T=e.info,O=void 0===T?{light:g[300],main:g[500],dark:g[700]}:T,A=e.success,C=void 0===A?{light:y[300],main:y[500],dark:y[700]}:A,P=e.type,k=void 0===P?"light":P,R=e.contrastThreshold,I=void 0===R?3:R,M=e.tonalOffset,D=void 0===M?.2:M,j=(0,r.A)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function L(e){return(0,b.eM)(e,x.text.primary)>=I?x.text.primary:w.text.primary}var N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,o.A)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,c.A)(4,t));if("string"!=typeof e.main)throw new Error((0,c.A)(5,JSON.stringify(e.main)));return S(e,"light",n,D),S(e,"dark",r,D),e.contrastText||(e.contrastText=L(e.main)),e},z={dark:x,light:w};return(0,i.A)((0,o.A)({common:f,type:k,primary:N(n),secondary:N(s,"A400","A200","A700"),error:N(u),warning:N(_),info:N(O),success:N(C),grey:d.A,contrastThreshold:I,getContrastText:L,augmentColor:N,tonalOffset:D},z[k]),j)}(_),L=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,i=e.unit,s=void 0===i?"px":i,l=e.step,u=void 0===l?5:l,c=(0,r.A)(e,["values","unit","step"]);function f(e){var t="number"==typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function d(e,t){var r=a.indexOf(t);return r===a.length-1?f(e):"@media (min-width:".concat("number"==typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"==typeof n[a[r+1]]?n[a[r+1]]:t)-u/100).concat(s,")")}return(0,o.A)({keys:a,values:n,up:f,down:function(e){var t=a.indexOf(e)+1,r=n[a[t]];return t===a.length?f("xs"):"@media (max-width:".concat(("number"==typeof r&&t>0?r:e)-u/100).concat(s,")")},between:d,only:function(e){return d(e,e)},width:function(e){return n[e]}},c)}(n),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,R.L)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"==typeof e)return e;var n=t(e);return"number"==typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}(T),z=(0,i.A)({breakpoints:L,direction:"ltr",mixins:u(L,N,l),overrides:{},palette:j,props:{},shadows:P,typography:A(j,C),spacing:N,shape:k,transitions:I.Ay,zIndex:M.A},D),B=arguments.length,F=new Array(B>1?B-1:0),W=1;W<B;W++)F[W-1]=arguments[W];return F.reduce((function(e,t){return(0,i.A)(e,t)}),z)}function j(){return D.apply(void 0,arguments)}const L=D},33743:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(51675).A)()},58705:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s,p0:()=>o});var r=n(53466),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},o={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function a(e){return"".concat(Math.round(e),"ms")}const s={easing:i,duration:o,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,s=void 0===n?o.standard:n,l=t.easing,u=void 0===l?i.easeInOut:l,c=t.delay,f=void 0===c?0:c;return(0,r.A)(t,["duration","easing","delay"]),(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof s?s:a(s)," ").concat(u," ").concat("string"==typeof f?f:a(f))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},17429:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(14909),i=(n(78281),n(33743));function o(){return(0,r.A)()||i.A}},74855:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(63063),i=n(63390),o=n(33743);const a=function(e,t){return(0,i.A)(e,(0,r.A)({defaultTheme:o.A},t))}},50883:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},29812:(e,t,n)=>{"use strict";n.d(t,{c:()=>i,q:()=>r});var r=function(e){return e.scrollTop};function i(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"==typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}},30568:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(60743);function i(e){if("string"!=typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},61788:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,{A:()=>r})},82083:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(63063),i=n(78281),o=n(1525);function a(e,t){var n=function(t,n){return i.createElement(o.A,(0,r.A)({ref:n},t),e)};return n.muiName=o.A.muiName,i.memo(i.forwardRef(n))}},55053:(e,t,n)=>{"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=this;clearTimeout(t),t=setTimeout((function(){e.apply(a,i)}),n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,{A:()=>r})},2929:(e,t,n)=>{"use strict";function r(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}n.d(t,{A:()=>r})},39485:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>r.A,createChainedFunction:()=>i.A,createSvgIcon:()=>o.A,debounce:()=>a.A,deprecatedPropType:()=>s,isMuiElement:()=>l.A,ownerDocument:()=>u.A,ownerWindow:()=>c.A,requirePropFactory:()=>f,setRef:()=>d.A,unstable_useId:()=>g.A,unsupportedProp:()=>p,useControlled:()=>h.A,useEventCallback:()=>m.A,useForkRef:()=>v.A,useIsFocusVisible:()=>y.A});var r=n(30568),i=n(61788),o=n(82083),a=n(55053);function s(e,t){return function(){return null}}var l=n(16037),u=n(8046),c=n(12463);function f(e){return function(){return null}}var d=n(35851);function p(e,t,n,r,i){return null}var h=n(62073),m=n(68596),v=n(86390),g=n(11899),y=n(11473)},16037:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(78281);function i(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},8046:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{A:()=>r})},12463:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(8046);function i(e){return(0,r.A)(e).defaultView||window}},35851:(e,t,n)=>{"use strict";function r(e,t){"function"==typeof e?e(t):e&&(e.current=t)}n.d(t,{A:()=>r})},11899:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(78281);function i(e){var t=r.useState(e),n=t[0],i=t[1],o=e||n;return r.useEffect((function(){null==n&&i("mui-".concat(Math.round(1e5*Math.random())))}),[n]),o}},62073:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(78281);function i(e){var t=e.controlled,n=e.default,i=(e.name,e.state,r.useRef(void 0!==t).current),o=r.useState(n),a=o[0],s=o[1];return[i?t:a,r.useCallback((function(e){i||s(e)}),[])]}},68596:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(78281),i="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function o(e){var t=r.useRef(e);return i((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},86390:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(78281),i=n(35851);function o(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,i.A)(e,n),(0,i.A)(t,n)}}),[e,t])}},11473:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(78281),i=n(8568),o=!0,a=!1,s=null,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function u(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function c(){o=!1}function f(){"hidden"===this.visibilityState&&a&&(o=!0)}function d(e){var t,n,r,i=e.target;try{return i.matches(":focus-visible")}catch(e){}return o||(n=(t=i).type,!("INPUT"!==(r=t.tagName)||!l[n]||t.readOnly)||"TEXTAREA"===r&&!t.readOnly||!!t.isContentEditable)}function p(){a=!0,window.clearTimeout(s),s=window.setTimeout((function(){a=!1}),100)}function h(){return{isFocusVisible:d,onBlurVisible:p,ref:r.useCallback((function(e){var t,n=i.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",u,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",f,!0))}),[])}}},72788:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>d});var r=n(63063),i=n(53466),o=n(78281),a=(n(43979),n(15968)),s=n(24129),l=n.n(s),u=n(17429),c=n(14909),f="undefined"==typeof window?o.useEffect:o.useLayoutEffect;const d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.withTheme,s=void 0!==n&&n,d=e.noSSR,p=void 0!==d&&d,h=e.initialWidth;function m(e){var n=(0,u.A)(),l=e.theme||n,d=(0,a.A)({theme:l,name:"MuiWithWidth",props:(0,r.A)({},e)}),m=d.initialWidth,v=d.width,g=(0,i.A)(d,["initialWidth","width"]),y=o.useState(!1),b=y[0],w=y[1];f((function(){w(!0)}),[]);var x=l.breakpoints.keys.slice().reverse().reduce((function(e,t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,c.A)(),i=(0,a.A)({theme:n,name:"MuiUseMediaQuery",props:{}}),s="function"==typeof e?e(n):e;s=s.replace(/^@media( ?)/m,"");var l="undefined"!=typeof window&&void 0!==window.matchMedia,u=(0,r.A)({},i,t),f=u.defaultMatches,d=void 0!==f&&f,p=u.matchMedia,h=void 0===p?l?window.matchMedia:null:p,m=u.noSsr,v=void 0!==m&&m,g=u.ssrMatchMedia,y=void 0===g?null:g,b=o.useState((function(){return v&&l?h(s).matches:y?y(s).matches:d})),w=b[0],x=b[1];return o.useEffect((function(){var e=!0;if(l){var t=h(s),n=function(){e&&x(t.matches)};return n(),t.addListener(n),function(){e=!1,t.removeListener(n)}}}),[s,h,l]),w}(l.breakpoints.up(t));return!e&&n?t:e}),null),S=(0,r.A)({width:v||(b||p?x:void 0)||m||h},s?{theme:l}:{},g);return void 0===S.width?null:o.createElement(t,S)}return l()(m,t),m}}},23040:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexToRgb=o,t.rgbToHex=function(e){if(0===e.indexOf("#"))return e;var t=s(e).values;return"#".concat(t.map((function(e){return 1===(t=e.toString(16)).length?"0".concat(t):t;var t})).join(""))},t.hslToRgb=a,t.decomposeColor=s,t.recomposeColor=l,t.getContrastRatio=function(e,t){var n=u(e),r=u(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.getLuminance=u,t.emphasize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return u(e)>.5?f(e,t):d(e,t)},t.fade=function(e,t){return c(e,t)},t.alpha=c,t.darken=f,t.lighten=d;var r=n(39735);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}function a(e){var t=(e=s(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",c=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(u+="a",c.push(t[3])),l({type:u,values:c})}function s(e){if(e.type)return e;if("#"===e.charAt(0))return s(o(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,r.formatMuiErrorMessage)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function l(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function u(e){var t="hsl"===(e=s(e)).type?s(a(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function c(e,t){return e=s(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,l(e)}function f(e,t){if(e=s(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return l(e)}function d(e,t){if(e=s(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return l(e)}},49381:(e,t,n)=>{"use strict";var r=n(61589);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,s=void 0===r?"px":r,l=e.step,u=void 0===l?5:l,c=(0,o.default)(e,["values","unit","step"]);function f(e){var t="number"==typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function d(e,t){var r=a.indexOf(t);return r===a.length-1?f(e):"@media (min-width:".concat("number"==typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"==typeof n[a[r+1]]?n[a[r+1]]:t)-u/100).concat(s,")")}return(0,i.default)({keys:a,values:n,up:f,down:function(e){var t=a.indexOf(e)+1,r=n[a[t]];return t===a.length?f("xs"):"@media (max-width:".concat(("number"==typeof r&&t>0?r:e)-u/100).concat(s,")")},between:d,only:function(e){return d(e,e)},width:function(e){return n[e]}},c)},t.keys=void 0;var i=r(n(88041)),o=r(n(87308)),a=["xs","sm","md","lg","xl"];t.keys=a},77031:(e,t,n)=>{"use strict";var r=n(3324),i=n(61589);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i;return(0,a.default)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),(0,a.default)({paddingLeft:t(2),paddingRight:t(2)},n,(0,o.default)({},e.up("sm"),(0,a.default)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(i={minHeight:56},(0,o.default)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,o.default)(i,e.up("sm"),{minHeight:64}),i)},n)};var o=i(n(90068)),a=i(n(88041))},60326:(e,t,n)=>{"use strict";var r=n(61589);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.primary,n=void 0===t?{light:u.default[300],main:u.default[500],dark:u.default[700]}:t,r=e.secondary,b=void 0===r?{light:c.default.A200,main:c.default.A400,dark:c.default.A700}:r,w=e.error,x=void 0===w?{light:f.default[300],main:f.default[500],dark:f.default[700]}:w,S=e.warning,E=void 0===S?{light:d.default[300],main:d.default[500],dark:d.default[700]}:S,_=e.info,T=void 0===_?{light:p.default[300],main:p.default[500],dark:p.default[700]}:_,O=e.success,A=void 0===O?{light:h.default[300],main:h.default[500],dark:h.default[700]}:O,C=e.type,P=void 0===C?"light":C,k=e.contrastThreshold,R=void 0===k?3:k,I=e.tonalOffset,M=void 0===I?.2:I,D=(0,o.default)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function j(e){return(0,m.getContrastRatio)(e,g.text.primary)>=R?g.text.primary:v.text.primary}var L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,i.default)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,a.formatMuiErrorMessage)(4,t));if("string"!=typeof e.main)throw new Error(_formatMuiErrorMessage(5,JSON.stringify(e.main)));return y(e,"light",n,M),y(e,"dark",r,M),e.contrastText||(e.contrastText=j(e.main)),e},N={dark:g,light:v};return(0,a.deepmerge)((0,i.default)({common:s.default,type:P,primary:L(n),secondary:L(b,"A400","A200","A700"),error:L(x),warning:L(E),info:L(T),success:L(A),grey:l.default,contrastThreshold:R,getContrastText:j,augmentColor:L,tonalOffset:M},N[P]),D)},t.dark=t.light=void 0;var i=r(n(88041)),o=r(n(87308)),a=n(39735),s=r(n(56262)),l=r(n(48052)),u=r(n(34709)),c=r(n(8391)),f=r(n(21672)),d=r(n(28209)),p=r(n(83415)),h=r(n(25164)),m=n(23040),v={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:s.default.white,default:l.default[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}};t.light=v;var g={text:{primary:s.default.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:l.default[800],default:"#303030"},action:{active:s.default.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function y(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,m.lighten)(e.main,i):"dark"===t&&(e.dark=(0,m.darken)(e.main,o)))}t.dark=g},20028:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,r.createUnarySpacing)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"==typeof e)return e;var n=t(e);return"number"==typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n};var r=n(92086)},83016:(e,t,n)=>{"use strict";var r=n(61589);Object.defineProperty(t,"__esModule",{value:!0}),t.createMuiTheme=function(){return m.apply(void 0,arguments)},t.default=void 0,r(n(90068));var i=r(n(87308)),o=n(39735),a=r(n(49381)),s=r(n(77031)),l=r(n(60326)),u=r(n(26008)),c=r(n(82460)),f=r(n(89688)),d=r(n(20028)),p=r(n(58797)),h=r(n(86951));function m(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,m=void 0===r?{}:r,v=e.palette,g=void 0===v?{}:v,y=e.spacing,b=e.typography,w=void 0===b?{}:b,x=(0,i.default)(e,["breakpoints","mixins","palette","spacing","typography"]),S=(0,l.default)(g),E=(0,a.default)(n),_=(0,d.default)(y),T=(0,o.deepmerge)({breakpoints:E,direction:"ltr",mixins:(0,s.default)(E,_,m),overrides:{},palette:S,props:{},shadows:c.default,typography:(0,u.default)(S,w),spacing:_,shape:f.default,transitions:p.default,zIndex:h.default},x),O=arguments.length,A=new Array(O>1?O-1:0),C=1;C<O;C++)A[C-1]=arguments[C];return A.reduce((function(e,t){return(0,o.deepmerge)(e,t)}),T)}var v=m;t.default=v},26008:(e,t,n)=>{"use strict";var r=n(61589);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n="function"==typeof t?t(e):t,r=n.fontFamily,f=void 0===r?c:r,d=n.fontSize,p=void 0===d?14:d,h=n.fontWeightLight,m=void 0===h?300:h,v=n.fontWeightRegular,g=void 0===v?400:v,y=n.fontWeightMedium,b=void 0===y?500:y,w=n.fontWeightBold,x=void 0===w?700:w,S=n.htmlFontSize,E=void 0===S?16:S,_=n.allVariants,T=n.pxToRem,O=(0,o.default)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),A=p/14,C=T||function(e){return"".concat(e/E*A,"rem")},P=function(e,t,n,r,o){return(0,i.default)({fontFamily:f,fontWeight:e,fontSize:C(t),lineHeight:n},f===c?{letterSpacing:"".concat(s(r/t),"em")}:{},o,_)},k={h1:P(m,96,1.167,-1.5),h2:P(m,60,1.2,-.5),h3:P(g,48,1.167,0),h4:P(g,34,1.235,.25),h5:P(g,24,1.334,0),h6:P(b,20,1.6,.15),subtitle1:P(g,16,1.75,.15),subtitle2:P(b,14,1.57,.1),body1:P(g,16,1.5,.15),body2:P(g,14,1.43,.15),button:P(b,14,1.75,.4,u),caption:P(g,12,1.66,.4),overline:P(g,12,2.66,1,u)};return(0,a.deepmerge)((0,i.default)({htmlFontSize:E,pxToRem:C,round:l,fontFamily:f,fontSize:p,fontWeightLight:m,fontWeightRegular:g,fontWeightMedium:b,fontWeightBold:x},k),O,{clone:!1})};var i=r(n(88041)),o=r(n(87308)),a=n(39735);function s(e){return Math.round(1e5*e)/1e5}function l(e){return s(e)}var u={textTransform:"uppercase"},c='"Roboto", "Helvetica", "Arial", sans-serif'},92811:(e,t,n)=>{"use strict";var r=n(61589);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(0,r(n(83016)).default)();t.default=i},82460:(e,t)=>{"use strict";function n(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=["none",n(0,2,1,-1,0,1,1,0,0,1,3,0),n(0,3,1,-2,0,2,2,0,0,1,5,0),n(0,3,3,-2,0,3,4,0,0,1,8,0),n(0,2,4,-1,0,4,5,0,0,1,10,0),n(0,3,5,-1,0,5,8,0,0,1,14,0),n(0,3,5,-1,0,6,10,0,0,1,18,0),n(0,4,5,-2,0,7,10,1,0,2,16,1),n(0,5,5,-3,0,8,10,1,0,3,14,2),n(0,5,6,-3,0,9,12,1,0,3,16,2),n(0,6,6,-3,0,10,14,1,0,4,18,3),n(0,6,7,-4,0,11,15,1,0,4,20,3),n(0,7,8,-4,0,12,17,2,0,5,22,4),n(0,7,8,-4,0,13,19,2,0,5,24,4),n(0,7,9,-4,0,14,21,2,0,5,26,4),n(0,8,9,-5,0,15,22,2,0,6,28,5),n(0,8,10,-5,0,16,24,2,0,6,30,5),n(0,8,11,-5,0,17,26,2,0,6,32,5),n(0,9,11,-5,0,18,28,2,0,7,34,6),n(0,9,12,-6,0,19,29,2,0,7,36,6),n(0,10,13,-6,0,20,31,3,0,8,38,7),n(0,10,13,-6,0,21,33,3,0,8,40,7),n(0,10,14,-6,0,22,35,3,0,8,42,7),n(0,11,14,-7,0,23,36,3,0,9,44,8),n(0,11,15,-7,0,24,38,3,0,9,46,8)];t.default=r},89688:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={borderRadius:4}},58797:(e,t,n)=>{"use strict";var r=n(61589);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.duration=t.easing=void 0;var i=r(n(87308)),o={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"};t.easing=o;var a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function s(e){return"".concat(Math.round(e),"ms")}t.duration=a;var l={easing:o,duration:a,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?a.standard:n,l=t.easing,u=void 0===l?o.easeInOut:l,c=t.delay,f=void 0===c?0:c;return(0,i.default)(t,["duration","easing","delay"]),(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof r?r:s(r)," ").concat(u," ").concat("string"==typeof f?f:s(f))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}};t.default=l},21435:(e,t,n)=>{"use strict";var r=n(61589);t.A=void 0;var i=r(n(88041)),o=n(75753),a=r(n(92811));t.A=function(e,t){return(0,o.withStyles)(e,(0,i.default)({defaultTheme:a.default},t))}},95216:(e,t,n)=>{"use strict";var r=n(61589);t.A=void 0;var i=n(75753),o=r(n(92811)),a=(0,i.withThemeCreator)({defaultTheme:o.default});t.A=a},86951:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},55684:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"AddCircleOutlineSharp");t.A=a},67568:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddSharp");t.A=a},25703:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.A=a},36571:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBackSharp");t.A=a},94082:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");t.A=a},16635:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");t.A=a},81479:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8-8-8z"}),"ArrowForwardSharp");t.A=a},14609:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M14 7l-5 5 5 5V7z"}),"ArrowLeftSharp");t.A=a},18114:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M10 17l5-5-5-5v10z"}),"ArrowRightSharp");t.A=a},34923:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward");t.A=a},53655:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpwardSharp");t.A=a},23962:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M19 18l2 1V1H7v2h12v15zM17 5H3v18l7-3 7 3V5z"}),"BookmarksSharp");t.A=a},63475:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M20 15.31L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"}),"Brightness5");t.A=a},37733:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"}),"CheckSharp");t.A=a},40571:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z"}),"ChevronLeftSharp");t.A=a},74118:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");t.A=a},11452:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z"}),"ChevronRightSharp");t.A=a},18305:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.A=a},58625:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}),"CloseSharp");t.A=a},80270:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M21.99 2H2v16h16l4 4-.01-20zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}),"CommentSharp");t.A=a},2482:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M10.08 10.86c.05-.33.16-.62.3-.87s.34-.46.59-.62c.24-.15.54-.22.91-.23.23.01.44.05.63.13.2.09.38.21.52.36s.25.33.34.53.13.42.14.64h1.79c-.02-.47-.11-.9-.28-1.29s-.4-.73-.7-1.01-.66-.5-1.08-.66-.88-.23-1.39-.23c-.65 0-1.22.11-1.7.34s-.88.53-1.2.92-.56.84-.71 1.36S8 11.29 8 11.87v.27c0 .58.08 1.12.23 1.64s.39.97.71 1.35.72.69 1.2.91c.48.22 1.05.34 1.7.34.47 0 .91-.08 1.32-.23s.77-.36 1.08-.63.56-.58.74-.94.29-.74.3-1.15h-1.79c-.01.21-.06.4-.15.58s-.21.33-.36.46-.32.23-.52.3c-.19.07-.39.09-.6.1-.36-.01-.66-.08-.89-.23-.25-.16-.45-.37-.59-.62s-.25-.55-.3-.88-.08-.67-.08-1v-.27c0-.35.03-.68.08-1.01zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"CopyrightSharp");t.A=a},12062:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M21 3H3v18h18V3zm-2 16H5V5h14v14z"}),"CropDinSharp");t.A=a},49770:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M21 3H3v18h18V3zm-2 16H5V5h14v14zm-5.04-6.71l-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z"}),"CropOriginalSharp");t.A=a},92549:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M20 9H4v2h16V9zM4 15h16v-2H4v2z"}),"DragHandleSharp");t.A=a},31980:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"DragIndicatorSharp");t.A=a},30373:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutlineSharp");t.A=a},60254:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14l-6-6z"}),"ExpandLessSharp");t.A=a},93276:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.A=a},84110:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"}),"ExpandMoreSharp");t.A=a},58034:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M21 3H3v18h18V3zM6 7h5v1.5H6V7zm13 12H5L19 5v14zm-4.5-3v2H16v-2h2v-1.5h-2v-2h-1.5v2h-2V16h2z"}),"ExposureSharp");t.A=a},3229:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M7 11H1v2h6v-2zm2.17-3.24L7.05 5.64 5.64 7.05l2.12 2.12 1.41-1.41zM13 1h-2v6h2V1zm5.36 6.05l-1.41-1.41-2.12 2.12 1.41 1.41 2.12-2.12zM17 11v2h6v-2h-6zm-5-2c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zm2.83 7.24l2.12 2.12 1.41-1.41-2.12-2.12-1.41 1.41zm-9.19.71l1.41 1.41 2.12-2.12-1.41-1.41-2.12 2.12zM11 23h2v-6h-2v6z"}),"Flare");t.A=a},65910:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}),"FullscreenExitSharp");t.A=a},75782:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}),"FullscreenSharp");t.A=a},69185:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M11 9h2v2h-2zm-2 2h2v2H9zm4 0h2v2h-2zm2-2h2v2h-2zM7 9h2v2H7zm12-6H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 18H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm2-7h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v2H9v-2H7v2H5v-2h2v-2H5V5h14v6z"}),"Gradient");t.A=a},94782:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}),"Help");t.A=a},77982:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"}),"HelpOutline");t.A=a},33497:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M6 14l3 3v5h6v-5l3-3V9H6v5zm5-12h2v3h-2V2zM3.5 5.88l1.41-1.41 2.12 2.12L5.62 8 3.5 5.88zm13.46.71l2.12-2.12 1.41 1.41L18.38 8l-1.42-1.41z"}),"Highlight");t.A=a},46197:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"InfoSharp");t.A=a},3705:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"}),"Input");t.A=a},70398:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M4.01 2L4 22h16V8l-6-6H4.01zM13 9V3.5L18.5 9H13z"}),"InsertDriveFileSharp");t.A=a},93469:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M17.66 7.93L12 2.27 6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58c2.05 0 4.1-.78 5.66-2.34 3.12-3.12 3.12-8.19 0-11.31zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"}),"InvertColors");t.A=a},5979:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDownSharp");t.A=a},67200:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"}),"KeyboardArrowUpSharp");t.A=a},59871:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"}),"LayersSharp");t.A=a},90673:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7zm-4 6h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"}),"ListSharp");t.A=a},53391:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z"}),"LocalMovies");t.A=a},23132:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M20 8h-3V6.21c0-2.61-1.91-4.94-4.51-5.19C9.51.74 7 3.08 7 6v2H4v14h16V8zm-8 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM9 8V6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9z"}),"LockSharp");t.A=a},64292:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"MenuSharp");t.A=a},79682:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHorizSharp");t.A=a},77427:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVertSharp");t.A=a},37074:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M17.66 8L12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8zM6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14H6z"}),"OpacitySharp");t.A=a},55728:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M19 19H5V5h7V3H3v18h18v-9h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"OpenInNewSharp");t.A=a},48012:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"PaletteSharp");t.A=a},12281:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"PlayCircleOutlineSharp");t.A=a},94683:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"RemoveCircleOutlineSharp");t.A=a},23224:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z"}),"ReorderSharp");t.A=a},77852:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"ReplaySharp");t.A=a},33899:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M7.11 8.53L5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z"}),"RotateLeft");t.A=a},21906:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M15.55 5.55L11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10l4.55-4.45zM19.93 11c-.17-1.39-.72-2.73-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47h2.02zM13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.44-1.44c-.75.54-1.59.89-2.46 1.03zm3.89-2.42l1.42 1.41c.9-1.16 1.45-2.5 1.62-3.89h-2.02c-.14.87-.48 1.72-1.02 2.48z"}),"RotateRight");t.A=a},21277:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M19 12v7H5v-7H3v9h18v-9h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2v9.67z"}),"SaveAltSharp");t.A=a},25349:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchSharp");t.A=a},93750:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M19.44 12.99l-.01.02c.04-.33.08-.67.08-1.01 0-.34-.03-.66-.07-.99l.01.02 2.44-1.92-2.43-4.22-2.87 1.16.01.01c-.52-.4-1.09-.74-1.71-1h.01L14.44 2H9.57l-.44 3.07h.01c-.62.26-1.19.6-1.71 1l.01-.01-2.88-1.17-2.44 4.22 2.44 1.92.01-.02c-.04.33-.07.65-.07.99 0 .34.03.68.08 1.01l-.01-.02-2.1 1.65-.33.26 2.43 4.2 2.88-1.15-.02-.04c.53.41 1.1.75 1.73 1.01h-.03L9.58 22h4.85s.03-.18.06-.42l.38-2.65h-.01c.62-.26 1.2-.6 1.73-1.01l-.02.04 2.88 1.15 2.43-4.2s-.14-.12-.33-.26l-2.11-1.66zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"}),"SettingsSharp");t.A=a},22571:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"}),"SkipNext");t.A=a},77477:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"}),"SortSharp");t.A=a},78174:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"}),"SwapHoriz");t.A=a},41601:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93s3.05-7.44 7-7.93v15.86zm2-15.86c1.03.13 2 .45 2.87.93H13v-.93zM13 7h5.24c.25.31.48.65.68 1H13V7zm0 3h6.74c.08.33.15.66.19 1H13v-1zm0 9.93V19h2.87c-.87.48-1.84.8-2.87.93zM18.24 17H13v-1h5.92c-.2.35-.43.69-.68 1zm1.5-3H13v-1h6.93c-.04.34-.11.67-.19 1z"}),"Tonality");t.A=a},19879:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}),"TuneSharp");t.A=a},46783:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M8 11h3v10h2V11h3l-4-4-4 4zM4 3v2h16V3H4z"}),"VerticalAlignTopSharp");t.A=a},32770:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M10 18h5V5h-5v13zm-6 0h5V5H4v13zM16 5v13h5V5h-5z"}),"ViewColumn");t.A=a},16706:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M3 14h4v-4H3v4zm0 5h4v-4H3v4zM3 9h4V5H3v4zm5 5h12v-4H8v4zm0 5h12v-4H8v4zM8 5v4h12V5H8z"}),"ViewListSharp");t.A=a},93174:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M12 6.5c2.76 0 5 2.24 5 5 0 .51-.1 1-.24 1.46l3.06 3.06c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l2.17 2.17c.47-.14.96-.24 1.47-.24zM3.42 2.45L2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.97-.3 4.31-.82l3.43 3.43 1.41-1.41L3.42 2.45zM12 16.5c-2.76 0-5-2.24-5-5 0-.77.18-1.5.49-2.14l1.57 1.57c-.03.18-.06.37-.06.57 0 1.66 1.34 3 3 3 .2 0 .38-.03.57-.07L14.14 16c-.65.32-1.37.5-2.14.5zm2.97-5.33c-.15-1.4-1.25-2.49-2.64-2.64l2.64 2.64z"}),"VisibilityOffSharp");t.A=a},57845:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"VisibilitySharp");t.A=a},46875:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M3.55 18.54l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8zM11 22.45h2V19.5h-2v2.95zM4 10.5H1v2h3v-2zm11-4.19V1.5H9v4.81C7.21 7.35 6 9.28 6 11.5c0 3.31 2.69 6 6 6s6-2.69 6-6c0-2.22-1.21-4.15-3-5.19zm5 4.19v2h3v-2h-3zm-2.76 7.66l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4z"}),"WbIncandescent");t.A=a},67757:(e,t,n)=>{"use strict";var r=n(61589),i=n(34328);t.A=void 0;var o=i(n(78281)),a=(0,r(n(73452)).default)(o.createElement("path",{d:"M3.55 19.09l1.41 1.41 1.79-1.8-1.41-1.41zM11 20h2v3h-2zM1 11h3v2H1zm12-6.95v3.96l1 .58c1.24.72 2 2.04 2 3.46 0 2.21-1.79 4-4 4s-4-1.79-4-4c0-1.42.77-2.74 2-3.46l1-.58V4.05h2m2-2H9v4.81C7.21 7.9 6 9.83 6 12.05c0 3.31 2.69 6 6 6s6-2.69 6-6c0-2.22-1.21-4.15-3-5.19V2.05zM20 11h3v2h-3zm-2.76 7.71l1.79 1.8 1.41-1.41-1.8-1.79z"}),"WbIncandescentOutlined");t.A=a},73452:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(39485)},76307:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(63063),i=n(53466),o=n(78281),a=n(80634),s=(n(43979),n(61276)),l=n(74855),u=o.forwardRef((function(e,t){var n=e.animation,s=void 0===n?"pulse":n,l=e.classes,u=e.className,c=e.component,f=void 0===c?"span":c,d=e.height,p=e.variant,h=void 0===p?"text":p,m=e.width,v=(0,i.A)(e,["animation","classes","className","component","height","variant","width"]),g=Boolean(v.children);return o.createElement(f,(0,r.A)({ref:t,className:(0,a.default)(l.root,l[h],u,g&&[l.withChildren,!m&&l.fitContent,!d&&l.heightAuto],!1!==s&&l[s])},v,{style:(0,r.A)({width:m,height:d},v.style)}))}));const c=(0,l.A)((function(e){return{root:{display:"block",backgroundColor:(0,s.X4)(e.palette.text.primary,"light"===e.palette.type?.11:.13),height:"1.2em"},text:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 60%",transform:"scale(1, 0.60)",borderRadius:e.shape.borderRadius,"&:empty:before":{content:'"\\00a0"'}},rect:{},circle:{borderRadius:"50%"},pulse:{animation:"$pulse 1.5s ease-in-out 0.5s infinite"},"@keyframes pulse":{"0%":{opacity:1},"50%":{opacity:.4},"100%":{opacity:1}},wave:{position:"relative",overflow:"hidden","&::after":{animation:"$wave 1.6s linear 0.5s infinite",background:"linear-gradient(90deg, transparent, ".concat(e.palette.action.hover,", transparent)"),content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}},"@keyframes wave":{"0%":{transform:"translateX(-100%)"},"60%":{transform:"translateX(100%)"},"100%":{transform:"translateX(100%)"}},withChildren:{"& > *":{visibility:"hidden"}},fitContent:{maxWidth:"fit-content"},heightAuto:{height:"auto"}}}),{name:"MuiSkeleton"})(u)},21182:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(78281);const i=(0,n(82083).A)(r.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},65712:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>m,Az:()=>d,si:()=>h});var r,i=n(63063),o=n(53466),a=n(78281),s=(n(43979),n(92136)),l=n(21314),u=n(31534),c=(0,l.vt)((0,u.A)()),f=(0,s.A)(),d=new Map,p={disableGeneration:!1,generateClassName:f,jss:c,sheetsCache:null,sheetsManager:d,sheetsRegistry:null},h=a.createContext(p);function m(e){var t=e.children,n=e.injectFirst,s=void 0!==n&&n,c=e.disableGeneration,f=void 0!==c&&c,d=(0,o.A)(e,["children","injectFirst","disableGeneration"]),p=a.useContext(h),m=(0,i.A)({},p,{disableGeneration:f},d);if(!m.jss.options.insertionPoint&&s&&"undefined"!=typeof window){if(!r){var v=document.head;r=document.createComment("mui-inject-first"),v.insertBefore(r,v.firstChild)}m.jss=(0,l.vt)({plugins:(0,u.A)().plugins,insertionPoint:r})}return a.createElement(h.Provider,{value:m},t)}},75524:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(63063),i=n(78281),o=(n(43979),n(16390)),a=n(14909),s=n(38453);const l=function(e){var t=e.children,n=e.theme,l=(0,a.A)(),u=i.useMemo((function(){var e=null===l?n:function(e,t){return"function"==typeof t?t(e):(0,r.A)({},e,t)}(l,n);return null!=e&&(e[s.A]=null!==l),e}),[n,l]);return i.createElement(o.A.Provider,{value:u},t)}},38453:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r="function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__"},92136:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(38453),i=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,o=e.productionPrefix,a=void 0===o?"jss":o,s=e.seed,l=void 0===s?"":s,u=""===l?"":"".concat(l,"-"),c=0,f=function(){return c+=1};return function(e,t){var o=t.options.name;if(o&&0===o.indexOf("Mui")&&!t.options.link&&!n){if(-1!==i.indexOf(e.key))return"Mui-".concat(e.key);var s="".concat(u).concat(o,"-").concat(e.key);return t.options.theme[r.A]&&""===l?"".concat(s,"-").concat(f()):s}return"".concat(u).concat(a).concat(f())}}},15968:(e,t,n)=>{"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,o=t.props[n];for(i in o)void 0===r[i]&&(r[i]=o[i]);return r}n.d(t,{A:()=>r})},75753:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ServerStyleSheets:()=>m,StylesContext:()=>h.si,StylesProvider:()=>h.Ay,ThemeProvider:()=>x.A,createGenerateClassName:()=>r.A,createStyles:()=>i,getThemeProps:()=>o.A,jssPreset:()=>a.A,makeStyles:()=>s.A,mergeClasses:()=>l.A,sheetsManager:()=>h.Az,styled:()=>w,useTheme:()=>S.A,withStyles:()=>E.A,withTheme:()=>T,withThemeCreator:()=>_});var r=n(92136);function i(e){return e}var o=n(15968),a=n(31534),s=n(69457),l=n(35026),u=n(63063),c=n(85408),f=n(91358),d=n(78281),p=n(21314),h=n(65712),m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.A)(this,e),this.options=t}return(0,f.A)(e,[{key:"collect",value:function(e){var t=new Map;this.sheetsRegistry=new p.SN;var n=(0,r.A)();return d.createElement(h.Ay,(0,u.A)({sheetsManager:t,serverGenerateClassName:n,sheetsRegistry:this.sheetsRegistry},this.options),e)}},{key:"toString",value:function(){return this.sheetsRegistry?this.sheetsRegistry.toString():""}},{key:"getStyleElement",value:function(e){return d.createElement("style",(0,u.A)({id:"jss-server-side",key:"jss-server-side",dangerouslySetInnerHTML:{__html:this.toString()}},e))}}]),e}(),v=n(53466),g=n(80634),y=(n(43979),n(24129)),b=n.n(y);function w(e){return function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.name,o=(0,v.A)(r,["name"]),a=i,l="function"==typeof t?function(e){return{root:function(n){return t((0,u.A)({theme:e},n))}}}:{root:t},c=(0,s.A)(l,(0,u.A)({Component:e,name:i||e.displayName,classNamePrefix:a},o));t.filterProps&&(n=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var f=d.forwardRef((function(t,r){var i,o,a,s=t.children,l=t.className,f=t.clone,p=t.component,h=(0,v.A)(t,["children","className","clone","component"]),m=c(t),y=(0,g.default)(m.root,l),b=h;if(n&&(i=b,o=n,a={},Object.keys(i).forEach((function(e){-1===o.indexOf(e)&&(a[e]=i[e])})),b=a),f)return d.cloneElement(s,(0,u.A)({className:(0,g.default)(s.props.className,y)},b));if("function"==typeof s)return s((0,u.A)({className:y},b));var w=p||e;return d.createElement(w,(0,u.A)({ref:r,className:y},b),s)}));return b()(f,e),f}}var x=n(75524),S=n(14909),E=n(63390);function _(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).defaultTheme;return function(t){var n=d.forwardRef((function(n,r){var i=n.innerRef,o=(0,v.A)(n,["innerRef"]),a=(0,S.A)()||e;return d.createElement(t,(0,u.A)({theme:a,ref:i||r},o))}));return b()(n,t),n}}const T=_()},31534:(e,t,n)=>{"use strict";n.d(t,{A:()=>je});var r=n(21314),i=Date.now(),o="fnValues"+i,a="fnStyle"+ ++i;const s=function(){return{onCreateRule:function(e,t,n){if("function"!=typeof t)return null;var i=(0,r.D_)(e,{},n);return i[a]=t,i},onProcessStyle:function(e,t){if(o in t||a in t)return e;var n={};for(var r in e){var i=e[r];"function"==typeof i&&(delete e[r],n[r]=i)}return t[o]=n,e},onUpdate:function(e,t,n,r){var i=t,s=i[a];s&&(i.style=s(e)||{});var l=i[o];if(l)for(var u in l)i.prop(u,l[u](e),r)}}};var l=n(63063),u="@global",c=function(){function e(e,t,n){for(var i in this.type="global",this.at=u,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new r.VZ((0,l.A)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),f=function(){function e(e,t,n){this.type="global",this.at=u,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(8);this.rule=n.jss.createRule(r,t,(0,l.A)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),d=/\s*,\s*/g;function p(e,t){for(var n=e.split(d),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}const h=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===u)return new c(e,t,n);if("@"===e[0]&&"@global "===e.substr(0,8))return new f(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[u]:null;if(i){for(var o in i)t.addRule(o,i[o],(0,l.A)({},n,{selector:p(o,e.selector)}));delete r[u]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,7)===u){var o=p(i.substr(7),e.selector);t.addRule(o,r[i],(0,l.A)({},n,{selector:o})),delete r[i]}}(e,t))}}};var m=/\s*,\s*/g,v=/&/g,g=/\$([\w-]+)/g;const y=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(m),r=e.split(m),i="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<r.length;s++){var l=r[s];i&&(i+=", "),i+=-1!==l.indexOf("&")?l.replace(v,a):a+" "+l}return i}function n(e,t,n){if(n)return(0,l.A)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=(0,l.A)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,o){if("style"!==i.type)return r;var a,s,u=i,c=u.options.parent;for(var f in r){var d=-1!==f.indexOf("&"),p="@"===f[0];if(d||p){if(a=n(u,c,a),d){var h=t(f,u.selector);s||(s=e(c,o)),h=h.replace(g,s);var m=u.key+"-"+f;"replaceRule"in c?c.replaceRule(m,r[f],(0,l.A)({},a,{selector:h})):c.addRule(m,r[f],(0,l.A)({},a,{selector:h}))}else p&&c.addRule(f,{},a).addRule(u.key,r[f],{selector:u.selector});delete r[f]}}return r}}};var b=/[A-Z]/g,w=/^ms-/,x={};function S(e){return"-"+e.toLowerCase()}const E=function(e){if(x.hasOwnProperty(e))return x[e];var t=e.replace(b,S);return x[e]=w.test(t)?"-"+t:t};function _(e){var t={};for(var n in e)t[0===n.indexOf("--")?n:E(n)]=e[n];return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(_):t.fallbacks=_(e.fallbacks)),t}const T=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=_(e[t]);return e}return _(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=E(t);return t===r?e:(n.prop(r,e),null)}}};function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}var A=r.rN&&CSS?CSS.px:"px",C=r.rN&&CSS?CSS.ms:"ms",P=r.rN&&CSS?CSS.percent:"%";function k(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var R=k({"animation-delay":C,"animation-duration":C,"background-position":A,"background-position-x":A,"background-position-y":A,"background-size":A,border:A,"border-bottom":A,"border-bottom-left-radius":A,"border-bottom-right-radius":A,"border-bottom-width":A,"border-left":A,"border-left-width":A,"border-radius":A,"border-right":A,"border-right-width":A,"border-top":A,"border-top-left-radius":A,"border-top-right-radius":A,"border-top-width":A,"border-width":A,"border-block":A,"border-block-end":A,"border-block-end-width":A,"border-block-start":A,"border-block-start-width":A,"border-block-width":A,"border-inline":A,"border-inline-end":A,"border-inline-end-width":A,"border-inline-start":A,"border-inline-start-width":A,"border-inline-width":A,"border-start-start-radius":A,"border-start-end-radius":A,"border-end-start-radius":A,"border-end-end-radius":A,margin:A,"margin-bottom":A,"margin-left":A,"margin-right":A,"margin-top":A,"margin-block":A,"margin-block-end":A,"margin-block-start":A,"margin-inline":A,"margin-inline-end":A,"margin-inline-start":A,padding:A,"padding-bottom":A,"padding-left":A,"padding-right":A,"padding-top":A,"padding-block":A,"padding-block-end":A,"padding-block-start":A,"padding-inline":A,"padding-inline-end":A,"padding-inline-start":A,"mask-position-x":A,"mask-position-y":A,"mask-size":A,height:A,width:A,"min-height":A,"max-height":A,"min-width":A,"max-width":A,bottom:A,left:A,top:A,right:A,inset:A,"inset-block":A,"inset-block-end":A,"inset-block-start":A,"inset-inline":A,"inset-inline-end":A,"inset-inline-start":A,"box-shadow":A,"text-shadow":A,"column-gap":A,"column-rule":A,"column-rule-width":A,"column-width":A,"font-size":A,"font-size-delta":A,"letter-spacing":A,"text-decoration-thickness":A,"text-indent":A,"text-stroke":A,"text-stroke-width":A,"word-spacing":A,motion:A,"motion-offset":A,outline:A,"outline-offset":A,"outline-width":A,perspective:A,"perspective-origin-x":P,"perspective-origin-y":P,"transform-origin":P,"transform-origin-x":P,"transform-origin-y":P,"transform-origin-z":P,"transition-delay":C,"transition-duration":C,"vertical-align":A,"flex-basis":A,"shape-margin":A,size:A,gap:A,grid:A,"grid-gap":A,"row-gap":A,"grid-row-gap":A,"grid-column-gap":A,"grid-template-rows":A,"grid-template-columns":A,"grid-auto-rows":A,"grid-auto-columns":A,"box-shadow-x":A,"box-shadow-y":A,"box-shadow-blur":A,"box-shadow-spread":A,"font-line-height":A,"text-shadow-x":A,"text-shadow-y":A,"text-shadow-blur":A});function I(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=I(e,t[r],n);else if("object"===O(t))if("fallbacks"===e)for(var i in t)t[i]=I(i,t[i],n);else for(var o in t)t[o]=I(e+"-"+o,t[o],n);else if("number"==typeof t&&!1===isNaN(t)){var a=n[e]||R[e];return!a||0===t&&a===A?t.toString():"function"==typeof a?a(t).toString():""+t+a}return t}const M=function(e){void 0===e&&(e={});var t=k(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=I(r,e[r],t);return e},onChangeValue:function(e,n){return I(n,e,t)}}};var D=n(25082),j=n(109),L="",N="",z="",B="",F=D.A&&"ontouchstart"in document.documentElement;if(D.A){var W={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},H=document.createElement("p").style;for(var U in W)if(U+"Transform"in H){L=U,N=W[U];break}"Webkit"===L&&"msHyphens"in H&&(L="ms",N=W.ms,B="edge"),"Webkit"===L&&"-apple-trailing-word"in H&&(z="apple")}var V=L,G=N,q=z,X=B,Z=F,$={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===V?"-webkit-"+e:G+e)}},Y={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===V?G+"print-"+e:e)}},K=/[-\s]+(.)?/g;function J(e,t){return t?t.toUpperCase():""}function Q(e){return e.replace(K,J)}function ee(e){return Q("-"+e)}var te,ne={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===V){var n="mask-image";if(Q(n)in t)return e;if(V+ee(n)in t)return G+e}return e}},re={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==q||Z?e:G+e)}},ie={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:G+e)}},oe={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:G+e)}},ae={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===V||"ms"===V&&"edge"!==X?G+e:e)}},se={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===V||"ms"===V||"apple"===q?G+e:e)}},le={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===V?"WebkitColumn"+ee(e)in t&&G+"column-"+e:"Moz"===V&&"page"+ee(e)in t&&"page-"+e)}},ue={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===V)return e;var n=e.replace("-inline","");return V+ee(n)in t&&G+n}},ce={supportedProperty:function(e,t){return Q(e)in t&&e}},fe={supportedProperty:function(e,t){var n=ee(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:V+n in t?G+e:"Webkit"!==V&&"Webkit"+n in t&&"-webkit-"+e}},de={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===V?""+G+e:e)}},pe={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===V?G+"scroll-chaining":e)}},he={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},me={supportedProperty:function(e,t){var n=he[e];return!!n&&V+ee(n)in t&&G+n}},ve={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},ge=Object.keys(ve),ye=function(e){return G+e},be={supportedProperty:function(e,t,n){var r=n.multiple;if(ge.indexOf(e)>-1){var i=ve[e];if(!Array.isArray(i))return V+ee(i)in t&&G+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(V+ee(i[0])in t))return!1;return i.map(ye)}return!1}},we=[$,Y,ne,re,ie,oe,ae,se,le,ue,ce,fe,de,pe,me,be],xe=we.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Se=we.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,j.A)(t.noPrefill)),e}),[]),Ee={};if(D.A){te=document.createElement("p");var _e=window.getComputedStyle(document.documentElement,"");for(var Te in _e)isNaN(Te)||(Ee[_e[Te]]=_e[Te]);Se.forEach((function(e){return delete Ee[e]}))}function Oe(e,t){if(void 0===t&&(t={}),!te)return e;if(null!=Ee[e])return Ee[e];"transition"!==e&&"transform"!==e||(t[e]=e in te.style);for(var n=0;n<xe.length&&(Ee[e]=xe[n](e,te.style,t),!Ee[e]);n++);try{te.style[e]=""}catch(e){return!1}return Ee[e]}var Ae,Ce={},Pe={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},ke=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Re(e,t,n){return"var"===t?"var":"all"===t?"all":"all"===n?", all":(t?Oe(t):", "+Oe(n))||t||n}function Ie(e,t){var n=t;if(!Ae||"content"===e)return t;if("string"!=typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Ce[r])return Ce[r];try{Ae.style[e]=n}catch(e){return Ce[r]=!1,!1}if(Pe[e])n=n.replace(ke,Re);else if(""===Ae.style[e]&&("-ms-flex"===(n=G+n)&&(Ae.style[e]="-ms-flexbox"),Ae.style[e]=n,""===Ae.style[e]))return Ce[r]=!1,!1;return Ae.style[e]="",Ce[r]=n,Ce[r]}D.A&&(Ae=document.createElement("p"));const Me=function(){function e(t){for(var n in t){var i=t[n];if("fallbacks"===n&&Array.isArray(i))t[n]=i.map(e);else{var o=!1,a=Oe(n);a&&a!==n&&(o=!0);var s=!1,l=Ie(a,(0,r.Sg)(i));l&&l!==i&&(s=!0),(o||s)&&(o&&delete t[n],t[a||n]=l||i)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===V?e:"@"+G+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Ie(t,(0,r.Sg)(e))||e}}},De=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),o=0;o<i.length;o++)r[i[o]]=t[i[o]];return r}}};function je(){return{plugins:[s(),h(),y(),T(),M(),"undefined"==typeof window?null:Me(),De()]}}},69457:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(53466),i=n(63063),o=n(78281),a=n(21314),s=n(35026);const l={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}};var u=n(14909),c=n(65712),f=-1e9,d=n(76184);const p={};function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,h=t.classNamePrefix,m=t.Component,v=t.defaultTheme,g=void 0===v?p:v,y=(0,r.A)(t,["name","classNamePrefix","Component","defaultTheme"]),b=function(e){var t="function"==typeof e;return{create:function(n,r){var o;try{o=t?e(n):e}catch(e){throw e}if(!r||!n.overrides||!n.overrides[r])return o;var a=n.overrides[r],s=(0,i.A)({},o);return Object.keys(a).forEach((function(e){s[e]=(0,d.A)(s[e],a[e])})),s},options:{}}}(e),w=n||h||"makeStyles";return b.options={index:f+=1,name:n,meta:w,classNamePrefix:w},function(){var e,t,r,f,d,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},h=(0,u.A)()||g,v=(0,i.A)({},o.useContext(c.si),y),w=o.useRef(),x=o.useRef();e=[h,b],f=o.useRef([]),d=o.useMemo((function(){return{}}),e),f.current!==d&&(f.current=d,function(e,t){var n=e.state,r=e.theme,o=e.stylesOptions,u=e.stylesCreator,c=e.name;if(!o.disableGeneration){var f=l.get(o.sheetsManager,u,r);f||(f={refs:0,staticSheet:null,dynamicStyles:null},l.set(o.sheetsManager,u,r,f));var d=(0,i.A)({},u.options,o,{theme:r,flip:"boolean"==typeof o.flip?o.flip:"rtl"===r.direction});d.generateId=d.serverGenerateClassName||d.generateClassName;var p=o.sheetsRegistry;if(0===f.refs){var h;o.sheetsCache&&(h=l.get(o.sheetsCache,u,r));var m=u.create(r,c);h||((h=o.jss.createStyleSheet(m,(0,i.A)({link:!1},d))).attach(),o.sheetsCache&&l.set(o.sheetsCache,u,r,h)),p&&p.add(h),f.staticSheet=h,f.dynamicStyles=(0,a.ih)(m)}if(f.dynamicStyles){var v=o.jss.createStyleSheet(f.dynamicStyles,(0,i.A)({link:!0},d));v.update(t),v.attach(),n.dynamicSheet=v,n.classes=(0,s.A)({baseClasses:f.staticSheet.classes,newClasses:v.classes}),p&&p.add(v)}else n.classes=f.staticSheet.classes;f.refs+=1}}(r={name:n,state:{},stylesCreator:b,stylesOptions:v,theme:h},p),x.current=!1,w.current=r,t=function(){!function(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var o=l.get(r.sheetsManager,i,n);o.refs-=1;var a=r.sheetsRegistry;0===o.refs&&(l.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}(r)}),o.useEffect((function(){return function(){t&&t()}}),[d]),o.useEffect((function(){x.current&&function(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}(w.current,p),x.current=!0}));var S=function(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=(0,s.A)({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}(w.current,p.classes,m);return S}}},35026:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(63063);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;if(e.Component,!n)return t;var i=(0,r.A)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}},16390:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(78281).createContext(null)},14909:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(78281),i=n(16390);function o(){return r.useContext(i.A)}},63390:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(63063),i=n(53466),o=n(78281),a=(n(43979),n(24129)),s=n.n(a),l=n(69457),u=n(15968),c=n(14909);const f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var a=t.defaultTheme,f=t.withTheme,d=void 0!==f&&f,p=t.name,h=(0,i.A)(t,["defaultTheme","withTheme","name"]),m=p,v=(0,l.A)(e,(0,r.A)({defaultTheme:a,Component:n,name:p||n.displayName,classNamePrefix:m},h)),g=o.forwardRef((function(e,t){e.classes;var s,l=e.innerRef,f=(0,i.A)(e,["classes","innerRef"]),h=v((0,r.A)({},n.defaultProps,e)),m=f;return("string"==typeof p||d)&&(s=(0,c.A)()||a,p&&(m=(0,u.A)({theme:s,name:p,props:f})),d&&!m.theme&&(m.theme=s)),o.createElement(n,(0,r.A)({ref:l||t,classes:h},m))}));return s()(g,n),g}}},57324:(e,t,n)=>{"use strict";n.d(t,{A:()=>c,N:()=>u});var r=n(109),i=n(63063),o=n(61049),a=(n(43979),n(43548)),s={xs:0,sm:600,md:960,lg:1280,xl:1920},l={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(s[e],"px)")}};function u(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||l;return t.reduce((function(e,i,o){return e[r.up(r.keys[o])]=n(t[o]),e}),{})}if("object"===(0,o.A)(t)){var i=e.theme.breakpoints||l;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}const c=function(e){var t=function(t){var n=e(t),r=t.theme.breakpoints||l,o=r.keys.reduce((function(n,o){return t[o]&&((n=n||{})[r.up(o)]=e((0,i.A)({theme:t.theme},t[o]))),n}),null);return(0,a.A)(n,o)};return t.propTypes={},t.filterProps=["xs","sm","md","lg","xl"].concat((0,r.A)(e.filterProps)),t}},92086:(e,t,n)=>{"use strict";n.r(t),n.d(t,{alignContent:()=>L,alignItems:()=>j,alignSelf:()=>W,bgcolor:()=>oe,border:()=>c,borderBottom:()=>p,borderColor:()=>m,borderLeft:()=>h,borderRadius:()=>v,borderRight:()=>d,borderTop:()=>f,borders:()=>g,bottom:()=>fe,boxSizing:()=>_e,breakpoints:()=>i.A,color:()=>ie,compose:()=>l,createUnarySpacing:()=>Oe.L,css:()=>S,display:()=>k,flex:()=>z,flexBasis:()=>R,flexDirection:()=>I,flexGrow:()=>B,flexShrink:()=>F,flexWrap:()=>M,flexbox:()=>V,fontFamily:()=>Ae,fontSize:()=>Ce,fontStyle:()=>Pe,fontWeight:()=>ke,grid:()=>re,gridArea:()=>ne,gridAutoColumns:()=>K,gridAutoFlow:()=>Y,gridAutoRows:()=>J,gridColumn:()=>Z,gridColumnGap:()=>q,gridGap:()=>G,gridRow:()=>$,gridRowGap:()=>X,gridTemplateAreas:()=>te,gridTemplateColumns:()=>Q,gridTemplateRows:()=>ee,height:()=>be,justifyContent:()=>D,justifyItems:()=>H,justifySelf:()=>U,left:()=>de,letterSpacing:()=>Re,lineHeight:()=>Ie,maxHeight:()=>we,maxWidth:()=>ge,minHeight:()=>xe,minWidth:()=>ye,order:()=>N,palette:()=>ae,position:()=>se,positions:()=>pe,right:()=>ce,shadows:()=>he,sizeHeight:()=>Ee,sizeWidth:()=>Se,sizing:()=>Te,spacing:()=>Oe.A,style:()=>a,styleFunctionSx:()=>E,textAlign:()=>Me,top:()=>ue,typography:()=>De,width:()=>ve,zIndex:()=>le});var r=n(2362),i=n(57324);function o(e,t){return t&&"string"==typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}const a=function(e){var t=e.prop,n=e.cssProperty,a=void 0===n?e.prop:n,s=e.themeKey,l=e.transform,u=function(e){if(null==e[t])return null;var n=e[t],u=o(e.theme,s)||{};return(0,i.N)(e,n,(function(e){var t;return"function"==typeof u?t=u(e):Array.isArray(u)?t=u[e]||e:(t=o(u,e)||e,l&&(t=l(t))),!1===a?t:(0,r.A)({},a,t)}))};return u.propTypes={},u.filterProps=[t],u};var s=n(43548);const l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?(0,s.A)(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r};function u(e){return"number"!=typeof e?e:"".concat(e,"px solid")}var c=a({prop:"border",themeKey:"borders",transform:u}),f=a({prop:"borderTop",themeKey:"borders",transform:u}),d=a({prop:"borderRight",themeKey:"borders",transform:u}),p=a({prop:"borderBottom",themeKey:"borders",transform:u}),h=a({prop:"borderLeft",themeKey:"borders",transform:u}),m=a({prop:"borderColor",themeKey:"palette"}),v=a({prop:"borderRadius",themeKey:"shape"});const g=l(c,f,d,p,h,m,v);var y=n(109),b=n(63063);function w(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}function x(e){var t=function(t){var n=e(t);return t.css?(0,b.A)({},(0,s.A)(n,e((0,b.A)({theme:t.theme},t.css))),w(t.css,[e.filterProps])):t.sx?(0,b.A)({},(0,s.A)(n,e((0,b.A)({theme:t.theme},t.sx))),w(t.sx,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css","sx"].concat((0,y.A)(e.filterProps)),t}function S(e){return x(e)}n(43979);const E=x;var _=a({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),T=a({prop:"display"}),O=a({prop:"overflow"}),A=a({prop:"textOverflow"}),C=a({prop:"visibility"}),P=a({prop:"whiteSpace"});const k=l(_,T,O,A,C,P);var R=a({prop:"flexBasis"}),I=a({prop:"flexDirection"}),M=a({prop:"flexWrap"}),D=a({prop:"justifyContent"}),j=a({prop:"alignItems"}),L=a({prop:"alignContent"}),N=a({prop:"order"}),z=a({prop:"flex"}),B=a({prop:"flexGrow"}),F=a({prop:"flexShrink"}),W=a({prop:"alignSelf"}),H=a({prop:"justifyItems"}),U=a({prop:"justifySelf"});const V=l(R,I,M,D,j,L,N,z,B,F,W,H,U);var G=a({prop:"gridGap"}),q=a({prop:"gridColumnGap"}),X=a({prop:"gridRowGap"}),Z=a({prop:"gridColumn"}),$=a({prop:"gridRow"}),Y=a({prop:"gridAutoFlow"}),K=a({prop:"gridAutoColumns"}),J=a({prop:"gridAutoRows"}),Q=a({prop:"gridTemplateColumns"}),ee=a({prop:"gridTemplateRows"}),te=a({prop:"gridTemplateAreas"}),ne=a({prop:"gridArea"});const re=l(G,q,X,Z,$,Y,K,J,Q,ee,te,ne);var ie=a({prop:"color",themeKey:"palette"}),oe=a({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"});const ae=l(ie,oe);var se=a({prop:"position"}),le=a({prop:"zIndex",themeKey:"zIndex"}),ue=a({prop:"top"}),ce=a({prop:"right"}),fe=a({prop:"bottom"}),de=a({prop:"left"});const pe=l(se,le,ue,ce,fe,de),he=a({prop:"boxShadow",themeKey:"shadows"});function me(e){return e<=1?"".concat(100*e,"%"):e}var ve=a({prop:"width",transform:me}),ge=a({prop:"maxWidth",transform:me}),ye=a({prop:"minWidth",transform:me}),be=a({prop:"height",transform:me}),we=a({prop:"maxHeight",transform:me}),xe=a({prop:"minHeight",transform:me}),Se=a({prop:"size",cssProperty:"width",transform:me}),Ee=a({prop:"size",cssProperty:"height",transform:me}),_e=a({prop:"boxSizing"});const Te=l(ve,ge,ye,be,we,xe,_e);var Oe=n(4621),Ae=a({prop:"fontFamily",themeKey:"typography"}),Ce=a({prop:"fontSize",themeKey:"typography"}),Pe=a({prop:"fontStyle",themeKey:"typography"}),ke=a({prop:"fontWeight",themeKey:"typography"}),Re=a({prop:"letterSpacing"}),Ie=a({prop:"lineHeight"}),Me=a({prop:"textAlign"});const De=l(Ae,Ce,Pe,ke,Re,Ie,Me)},43548:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(76184);const i=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},4621:(e,t,n)=>{"use strict";n.d(t,{L:()=>p,A:()=>m});var r,i,o=n(55258),a=n(57324),s=n(43548),l={m:"margin",p:"padding"},u={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},f=(r=function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),n=(0,o.A)(t,2),r=n[0],i=n[1],a=l[r],s=u[i]||"";return Array.isArray(s)?s.map((function(e){return a+e})):[a+s]},i={},function(e){return void 0===i[e]&&(i[e]=r(e)),i[e]}),d=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function p(e){var t=e.spacing||8;return"number"==typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"==typeof t?t:function(){}}function h(e){var t=p(e.theme);return Object.keys(e).map((function(n){if(-1===d.indexOf(n))return null;var r=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"==typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"==typeof n?-n:"-".concat(n)}(t,n),e}),{})}}(f(n),t),i=e[n];return(0,a.N)(e,i,r)})).reduce(s.A,{})}h.propTypes={},h.filterProps=d;const m=h},76184:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(63063),i=n(61049);function o(e){return e&&"object"===(0,i.A)(e)&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?(0,r.A)({},e):e;return o(e)&&o(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(o(t[r])&&r in e?i[r]=a(e[r],t[r],n):i[r]=t[r])})),i}},60743:(e,t,n)=>{"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},39735:(e,t,n)=>{"use strict";function r(e,t){return function(){return null}}n.r(t),n.d(t,{HTMLElementType:()=>y,chainPropTypes:()=>r,deepmerge:()=>i.A,elementAcceptingRef:()=>l,elementTypeAcceptingRef:()=>u,exactProp:()=>c,formatMuiErrorMessage:()=>f.A,getDisplayName:()=>g,ponyfillGlobal:()=>b,refType:()=>w});var i=n(76184),o=n(43979),a=n.n(o),s=(a().element,function(){return null});s.isRequired=(a().element.isRequired,function(){return null});const l=s,u=(o.elementType,function(){return null});function c(e){return e}n(2362),n(63063);var f=n(60743),d=n(61049),p=n(38428),h=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function m(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||(t="".concat(e).match(h))&&t[1]||""||n}function v(e,t,n){var r=m(t);return e.displayName||(""!==r?"".concat(n,"(").concat(r,")"):n)}function g(e){if(null!=e){if("string"==typeof e)return e;if("function"==typeof e)return m(e,"Component");if("object"===(0,d.A)(e))switch(e.$$typeof){case p.ForwardRef:return v(e,e.render,"ForwardRef");case p.Memo:return v(e,e.type,"memo");default:return}}}function y(e,t,n,r,i){return null}const b="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),w=a().oneOfType([a().func,a().object])},5419:(e,t,n)=>{"use strict";function r(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(o=new Error(t.replace(/%s/g,(function(){return r[a++]})))).name="Invariant Violation"}throw o.framesToPop=1,o}}n.d(t,{V:()=>r})},38479:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t,n,i){var o=n?n.call(i,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!==r(e)||!e||"object"!==r(t)||!t)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!l(c))return!1;var f=e[c],d=t[c];if(!1===(o=n?n.call(i,f,d,c):void 0)||void 0===o&&f!==d)return!1}return!0}n.d(t,{b:()=>i})},84814:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>y});var r,i=n(78281),o=n(8568),a=/^-?\d*\.?\d+(px|%)$/;function s(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length?e.some((function(n,r){return s(e[r],t[r])})):e!==t}var l=(r=Object.prototype).hasOwnProperty,u=r.toString,c=new Map;function f(e,t){var n=c.get(e);if(n)for(var r=n.values(),i=void 0;i=r.next().value;)if(i.target===t.target)return i;return null}function d(e,t){for(var n=0;n<e.length;n++){var r=f(t,e[n]);r&&r.handleChange(e[n])}}var p,h=(p=function(e,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},p(e,t)},function(e,t){function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=["root","rootMargin","threshold"],v=["root","rootMargin","threshold","disabled"],g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){t.props.onChange(e,t.externalUnobserve)},t.handleNode=function(e){var n=t.props.children;if(function(e){return e&&l.call(e,"ref")}(n)){var r=n.ref;"function"==typeof r?r(e):r&&l.call(r,"current")&&(r.current=e)}if(t.targetNode=void 0,e){var i=(0,o.findDOMNode)(e);i&&1===i.nodeType&&(t.targetNode=i)}},t.observe=function(){if(null==t.props.children||t.props.disabled)return!1;if(!t.targetNode)throw new Error("ReactIntersectionObserver: Can't find DOM node in the provided children. Make sure to render at least one DOM node in the tree.");var e;return t.observer=function(e){var t=function(e){void 0===e&&(e={});for(var t,n=e.root||null,r=function(e){var t=(e?e.trim():"0px").split(/\s+/).map((function(e){if(!a.test(e))throw new Error("rootMargin must be a string literal containing pixels and/or percent values");return e})),n=t.shift(),r=t[0],i=void 0===r?n:r,o=t[1],s=void 0===o?n:o,l=t[2];return n+" "+i+" "+s+" "+(void 0===l?i:l)}(e.rootMargin),i=Array.isArray(e.threshold)?e.threshold:[null!=e.threshold?e.threshold:0],o=c.keys();t=o.next().value;)if(n===t.root&&r===t.rootMargin&&!s(i,t.thresholds))return t;return null}(e);if(t)return t;var n=new IntersectionObserver(d,e);return c.set(n,new Set),n}((e=t.props,m.reduce((function(t,n){var r,i="root"===n&&"[object String]"===u.call(e.root);return Object.assign(t,((r={})[n]=i?document.querySelector(e[n]):e[n],r))}),{}))),t.target=t.targetNode,function(e){var t;e.observer&&!c.has(e.observer)&&c.set(e.observer,new Set),null===(t=c.get(e.observer))||void 0===t||t.add(e),e.observer.observe(e.target)}(t),!0},t.unobserve=function(e){!function(e,t){if(c.has(e.observer)){var n=c.get(e.observer);(null==n?void 0:n.delete(e))&&(n.size>0?e.observer.unobserve(t):(e.observer.disconnect(),c.delete(e.observer)))}}(t,e)},t.externalUnobserve=function(){t.targetNode&&t.unobserve(t.targetNode)},t}return h(t,e),t.prototype.getSnapshotBeforeUpdate=function(e){var t=this;this.prevTargetNode=this.targetNode;var n=v.some((function(n){return s(t.props[n],e[n])}));return n&&this.prevTargetNode&&(e.disabled||this.unobserve(this.prevTargetNode)),n},t.prototype.componentDidUpdate=function(e,t,n){var r=!1;n||(r=this.prevTargetNode!==this.targetNode)&&null!=this.prevTargetNode&&this.unobserve(this.prevTargetNode),(n||r)&&this.observe()},t.prototype.componentDidMount=function(){this.observe()},t.prototype.componentWillUnmount=function(){this.targetNode&&this.unobserve(this.targetNode)},t.prototype.render=function(){var e=this.props.children;return null!=e?i.cloneElement(i.Children.only(e),{ref:this.handleNode}):null},t.displayName="IntersectionObserver",t}(i.Component);const y=g},70694:(e,t,n)=>{"use strict";var r=n(74925);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},903:(e,t,n)=>{e.exports=n(70694)()},74925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},81597:(e,t,n)=>{"use strict";var r=n(94931),i=n(3324);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===o(i)?i:String(i)),r)}var i}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var l,u,c=n(76206).codes,f=c.ERR_AMBIGUOUS_ARGUMENT,d=c.ERR_INVALID_ARG_TYPE,p=c.ERR_INVALID_ARG_VALUE,h=c.ERR_INVALID_RETURN_VALUE,m=c.ERR_MISSING_ARGS,v=n(34905),g=n(97352).inspect,y=n(97352).types,b=y.isPromise,w=y.isRegExp,x=n(14377)(),S=n(32481)(),E=n(29466)("RegExp.prototype.test");function _(){var e=n(3976);l=e.isDeepEqual,u=e.isDeepStrictEqual}new Map;var T=!1,O=e.exports=k,A={};function C(e){if(e.message instanceof Error)throw e.message;throw new v(e)}function P(e,t,n,r){if(!n){var i=!1;if(0===t)i=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var o=new v({actual:n,expected:!0,message:r,operator:"==",stackStartFn:e});throw o.generatedMessage=i,o}}function k(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];P.apply(void 0,[k,t.length].concat(t))}O.fail=function e(t,n,o,a,s){var l,u=arguments.length;if(0===u?l="Failed":1===u?(o=t,t=void 0):(!1===T&&(T=!0,(r.emitWarning?r.emitWarning:i.warn.bind(i))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===u&&(a="!=")),o instanceof Error)throw o;var c={actual:t,expected:n,operator:void 0===a?"fail":a,stackStartFn:s||e};void 0!==o&&(c.message=o);var f=new v(c);throw l&&(f.message=l,f.generatedMessage=!0),f},O.AssertionError=v,O.ok=k,O.equal=function e(t,n,r){if(arguments.length<2)throw new m("actual","expected");t!=n&&C({actual:t,expected:n,message:r,operator:"==",stackStartFn:e})},O.notEqual=function e(t,n,r){if(arguments.length<2)throw new m("actual","expected");t==n&&C({actual:t,expected:n,message:r,operator:"!=",stackStartFn:e})},O.deepEqual=function e(t,n,r){if(arguments.length<2)throw new m("actual","expected");void 0===l&&_(),l(t,n)||C({actual:t,expected:n,message:r,operator:"deepEqual",stackStartFn:e})},O.notDeepEqual=function e(t,n,r){if(arguments.length<2)throw new m("actual","expected");void 0===l&&_(),l(t,n)&&C({actual:t,expected:n,message:r,operator:"notDeepEqual",stackStartFn:e})},O.deepStrictEqual=function e(t,n,r){if(arguments.length<2)throw new m("actual","expected");void 0===l&&_(),u(t,n)||C({actual:t,expected:n,message:r,operator:"deepStrictEqual",stackStartFn:e})},O.notDeepStrictEqual=function e(t,n,r){if(arguments.length<2)throw new m("actual","expected");void 0===l&&_(),u(t,n)&&C({actual:t,expected:n,message:r,operator:"notDeepStrictEqual",stackStartFn:e})},O.strictEqual=function e(t,n,r){if(arguments.length<2)throw new m("actual","expected");S(t,n)||C({actual:t,expected:n,message:r,operator:"strictEqual",stackStartFn:e})},O.notStrictEqual=function e(t,n,r){if(arguments.length<2)throw new m("actual","expected");S(t,n)&&C({actual:t,expected:n,message:r,operator:"notStrictEqual",stackStartFn:e})};var R=s((function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n.forEach((function(e){e in t&&(void 0!==r&&"string"==typeof r[e]&&w(t[e])&&E(t[e],r[e])?i[e]=r[e]:i[e]=t[e])}))}));function I(e,t,n,r){if("function"!=typeof t){if(w(t))return E(t,e);if(2===arguments.length)throw new d("expected",["Function","RegExp"],t);if("object"!==o(e)||null===e){var i=new v({actual:e,expected:t,message:n,operator:"deepStrictEqual",stackStartFn:r});throw i.operator=r.name,i}var a=Object.keys(t);if(t instanceof Error)a.push("name","message");else if(0===a.length)throw new p("error",t,"may not be an empty object");return void 0===l&&_(),a.forEach((function(i){"string"==typeof e[i]&&w(t[i])&&E(t[i],e[i])||function(e,t,n,r,i,o){if(!(n in e)||!u(e[n],t[n])){if(!r){var a=new R(e,i),s=new R(t,i,e),l=new v({actual:a,expected:s,operator:"deepStrictEqual",stackStartFn:o});throw l.actual=e,l.expected=t,l.operator=o.name,l}C({actual:e,expected:t,message:r,operator:o.name,stackStartFn:o})}}(e,t,i,n,a,r)})),!0}return void 0!==t.prototype&&e instanceof t||!Error.isPrototypeOf(t)&&!0===t.call({},e)}function M(e){if("function"!=typeof e)throw new d("fn","Function",e);try{e()}catch(e){return e}return A}function D(e){return b(e)||null!==e&&"object"===o(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function j(e){return Promise.resolve().then((function(){var t;if("function"==typeof e){if(!D(t=e()))throw new h("instance of Promise","promiseFn",t)}else{if(!D(e))throw new d("promiseFn",["Function","Promise"],e);t=e}return Promise.resolve().then((function(){return t})).then((function(){return A})).catch((function(e){return e}))}))}function L(e,t,n,r){if("string"==typeof n){if(4===arguments.length)throw new d("error",["Object","Error","Function","RegExp"],n);if("object"===o(t)&&null!==t){if(t.message===n)throw new f("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===n)throw new f("error/message",'The error "'.concat(t,'" is identical to the message.'));r=n,n=void 0}else if(null!=n&&"object"!==o(n)&&"function"!=typeof n)throw new d("error",["Object","Error","Function","RegExp"],n);if(t===A){var i="";n&&n.name&&(i+=" (".concat(n.name,")")),i+=r?": ".concat(r):".";var a="rejects"===e.name?"rejection":"exception";C({actual:void 0,expected:n,operator:e.name,message:"Missing expected ".concat(a).concat(i),stackStartFn:e})}if(n&&!I(t,n,r,e))throw t}function N(e,t,n,r){if(t!==A){if("string"==typeof n&&(r=n,n=void 0),!n||I(t,n)){var i=r?": ".concat(r):".",o="doesNotReject"===e.name?"rejection":"exception";C({actual:t,expected:n,operator:e.name,message:"Got unwanted ".concat(o).concat(i,"\n")+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}function z(e,t,n,r,i){if(!w(t))throw new d("regexp","RegExp",t);var a="match"===i;if("string"!=typeof e||E(t,e)!==a){if(n instanceof Error)throw n;var s=!n;n=n||("string"!=typeof e?'The "string" argument must be of type string. Received type '+"".concat(o(e)," (").concat(g(e),")"):(a?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(g(t),". Input:\n\n").concat(g(e),"\n"));var l=new v({actual:e,expected:t,message:n,operator:i,stackStartFn:r});throw l.generatedMessage=s,l}}function B(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];P.apply(void 0,[B,t.length].concat(t))}O.throws=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];L.apply(void 0,[e,M(t)].concat(r))},O.rejects=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return j(t).then((function(t){return L.apply(void 0,[e,t].concat(r))}))},O.doesNotThrow=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];N.apply(void 0,[e,M(t)].concat(r))},O.doesNotReject=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return j(t).then((function(t){return N.apply(void 0,[e,t].concat(r))}))},O.ifError=function e(t){if(null!=t){var n="ifError got unwanted exception: ";"object"===o(t)&&"string"==typeof t.message?0===t.message.length&&t.constructor?n+=t.constructor.name:n+=t.message:n+=g(t);var r=new v({actual:t,expected:null,operator:"ifError",message:n,stackStartFn:e}),i=t.stack;if("string"==typeof i){var a=i.split("\n");a.shift();for(var s=r.stack.split("\n"),l=0;l<a.length;l++){var u=s.indexOf(a[l]);if(-1!==u){s=s.slice(0,u);break}}r.stack="".concat(s.join("\n"),"\n").concat(a.join("\n"))}throw r}},O.match=function e(t,n,r){z(t,n,r,e,"match")},O.doesNotMatch=function e(t,n,r){z(t,n,r,e,"doesNotMatch")},O.strict=x(B,O,{equal:O.strictEqual,deepEqual:O.deepStrictEqual,notEqual:O.notStrictEqual,notDeepEqual:O.notDeepStrictEqual}),O.strict.strict=O.strict},34905:(e,t,n)=>{"use strict";var r=n(94931);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=s(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function s(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===m(t)?t:String(t)}function l(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){var t="function"==typeof Map?new Map:void 0;return c=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return f(e,arguments,h(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,e)},c(e)}function f(e,t,n){return f=d()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&p(i,n.prototype),i},f.apply(null,arguments)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}var v=n(97352).inspect,g=n(76206).codes.ERR_INVALID_ARG_TYPE;function y(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}var b="",w="",x="",S="",E={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function _(e){var t=Object.keys(e),n=Object.create(Object.getPrototypeOf(e));return t.forEach((function(t){n[t]=e[t]})),Object.defineProperty(n,"message",{value:e.message}),n}function T(e){return v(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var O=function(e,t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(O,e);var n,i,s,c,f=(n=O,i=d(),function(){var e,t=h(n);if(i){var r=h(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return l(this,e)});function O(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,O),"object"!==m(e)||null===e)throw new g("options","Object",e);var n=e.message,i=e.operator,o=e.stackStartFn,a=e.actual,s=e.expected,c=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=n)t=f.call(this,String(n));else if(r.stderr&&r.stderr.isTTY&&(r.stderr&&r.stderr.getColorDepth&&1!==r.stderr.getColorDepth()?(b="[34m",w="[32m",S="[39m",x="[31m"):(b="",w="",S="",x="")),"object"===m(a)&&null!==a&&"object"===m(s)&&null!==s&&"stack"in a&&a instanceof Error&&"stack"in s&&s instanceof Error&&(a=_(a),s=_(s)),"deepStrictEqual"===i||"strictEqual"===i)t=f.call(this,function(e,t,n){var i="",o="",a=0,s="",l=!1,u=T(e),c=u.split("\n"),f=T(t).split("\n"),d=0,p="";if("strictEqual"===n&&"object"===m(e)&&"object"===m(t)&&null!==e&&null!==t&&(n="strictEqualObject"),1===c.length&&1===f.length&&c[0]!==f[0]){var h=c[0].length+f[0].length;if(h<=10){if(!("object"===m(e)&&null!==e||"object"===m(t)&&null!==t||0===e&&0===t))return"".concat(E[n],"\n\n")+"".concat(c[0]," !== ").concat(f[0],"\n")}else if("strictEqualObject"!==n&&h<(r.stderr&&r.stderr.isTTY?r.stderr.columns:80)){for(;c[0][d]===f[0][d];)d++;d>2&&(p="\n  ".concat(function(e,t){if(t=Math.floor(t),0==e.length||0==t)return"";var n=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+e.substring(0,n-e.length)}(" ",d),"^"),d=0)}}for(var v=c[c.length-1],g=f[f.length-1];v===g&&(d++<2?s="\n  ".concat(v).concat(s):i=v,c.pop(),f.pop(),0!==c.length&&0!==f.length);)v=c[c.length-1],g=f[f.length-1];var _=Math.max(c.length,f.length);if(0===_){var O=u.split("\n");if(O.length>30)for(O[26]="".concat(b,"...").concat(S);O.length>27;)O.pop();return"".concat(E.notIdentical,"\n\n").concat(O.join("\n"),"\n")}d>3&&(s="\n".concat(b,"...").concat(S).concat(s),l=!0),""!==i&&(s="\n  ".concat(i).concat(s),i="");var A=0,C=E[n]+"\n".concat(w,"+ actual").concat(S," ").concat(x,"- expected").concat(S),P=" ".concat(b,"...").concat(S," Lines skipped");for(d=0;d<_;d++){var k=d-a;if(c.length<d+1)k>1&&d>2&&(k>4?(o+="\n".concat(b,"...").concat(S),l=!0):k>3&&(o+="\n  ".concat(f[d-2]),A++),o+="\n  ".concat(f[d-1]),A++),a=d,i+="\n".concat(x,"-").concat(S," ").concat(f[d]),A++;else if(f.length<d+1)k>1&&d>2&&(k>4?(o+="\n".concat(b,"...").concat(S),l=!0):k>3&&(o+="\n  ".concat(c[d-2]),A++),o+="\n  ".concat(c[d-1]),A++),a=d,o+="\n".concat(w,"+").concat(S," ").concat(c[d]),A++;else{var R=f[d],I=c[d],M=I!==R&&(!y(I,",")||I.slice(0,-1)!==R);M&&y(R,",")&&R.slice(0,-1)===I&&(M=!1,I+=","),M?(k>1&&d>2&&(k>4?(o+="\n".concat(b,"...").concat(S),l=!0):k>3&&(o+="\n  ".concat(c[d-2]),A++),o+="\n  ".concat(c[d-1]),A++),a=d,o+="\n".concat(w,"+").concat(S," ").concat(I),i+="\n".concat(x,"-").concat(S," ").concat(R),A+=2):(o+=i,i="",1!==k&&0!==d||(o+="\n  ".concat(I),A++))}if(A>20&&d<_-2)return"".concat(C).concat(P,"\n").concat(o,"\n").concat(b,"...").concat(S).concat(i,"\n")+"".concat(b,"...").concat(S)}return"".concat(C).concat(l?P:"","\n").concat(o).concat(i).concat(s).concat(p)}(a,s,i));else if("notDeepStrictEqual"===i||"notStrictEqual"===i){var d=E[i],p=T(a).split("\n");if("notStrictEqual"===i&&"object"===m(a)&&null!==a&&(d=E.notStrictEqualObject),p.length>30)for(p[26]="".concat(b,"...").concat(S);p.length>27;)p.pop();t=1===p.length?f.call(this,"".concat(d," ").concat(p[0])):f.call(this,"".concat(d,"\n\n").concat(p.join("\n"),"\n"))}else{var h=T(a),v="",A=E[i];"notDeepEqual"===i||"notEqual"===i?(h="".concat(E[i],"\n\n").concat(h)).length>1024&&(h="".concat(h.slice(0,1021),"...")):(v="".concat(T(s)),h.length>512&&(h="".concat(h.slice(0,509),"...")),v.length>512&&(v="".concat(v.slice(0,509),"...")),"deepEqual"===i||"equal"===i?h="".concat(A,"\n\n").concat(h,"\n\nshould equal\n\n"):v=" ".concat(i," ").concat(v)),t=f.call(this,"".concat(h).concat(v))}return Error.stackTraceLimit=c,t.generatedMessage=!n,Object.defineProperty(u(t),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),t.code="ERR_ASSERTION",t.actual=a,t.expected=s,t.operator=i,Error.captureStackTrace&&Error.captureStackTrace(u(t),o),t.stack,t.name="AssertionError",l(t)}return s=O,(c=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:t,value:function(e,t){return v(this,o(o({},t),{},{customInspect:!1,depth:0}))}}])&&a(s.prototype,c),Object.defineProperty(s,"prototype",{writable:!1}),O}(c(Error),v.custom);e.exports=O},76206:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}var a,s,l={};function u(e,t,n){n||(n=Error);var a=function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(c,n);var a,s,l,u=(s=c,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=o(s);if(l){var n=o(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(n,r,i){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),o=u.call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,r,i)),o.code=e,o}return a=c,Object.defineProperty(a,"prototype",{writable:!1}),a}(n);l[e]=a}function c(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}u("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),u("ERR_INVALID_ARG_TYPE",(function(e,t,i){var o,s,l,u,f;if(void 0===a&&(a=n(81597)),a("string"==typeof e,"'name' must be a string"),"string"==typeof t&&(s="not ",t.substr(0,4)===s)?(o="must not be",t=t.replace(/^not /,"")):o="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-9,n)===t}(e," argument"))l="The ".concat(e," ").concat(o," ").concat(c(t,"type"));else{var d=("number"!=typeof f&&(f=0),f+1>(u=e).length||-1===u.indexOf(".",f)?"argument":"property");l='The "'.concat(e,'" ').concat(d," ").concat(o," ").concat(c(t,"type"))}return l+". Received type ".concat(r(i))}),TypeError),u("ERR_INVALID_ARG_VALUE",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===s&&(s=n(97352));var i=s.inspect(t);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(r,". Received ").concat(i)}),TypeError,RangeError),u("ERR_INVALID_RETURN_VALUE",(function(e,t,n){var i;return i=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(r(n)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(i,".")}),TypeError),u("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];void 0===a&&(a=n(81597)),a(t.length>0,"At least one arg needs to be specified");var i="The ",o=t.length;switch(t=t.map((function(e){return'"'.concat(e,'"')})),o){case 1:i+="".concat(t[0]," argument");break;case 2:i+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:i+=t.slice(0,o-1).join(", "),i+=", and ".concat(t[o-1]," arguments")}return"".concat(i," must be specified")}),TypeError),e.exports.codes=l},3976:(e,t,n)=>{"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var a=void 0!==/a/g.flags,s=function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t},l=function(e){var t=[];return e.forEach((function(e,n){return t.push([n,e])})),t},u=Object.is?Object.is:n(22064),c=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},f=Number.isNaN?Number.isNaN:n(46062);function d(e){return e.call.bind(e)}var p=d(Object.prototype.hasOwnProperty),h=d(Object.prototype.propertyIsEnumerable),m=d(Object.prototype.toString),v=n(97352).types,g=v.isAnyArrayBuffer,y=v.isArrayBufferView,b=v.isDate,w=v.isMap,x=v.isRegExp,S=v.isSet,E=v.isNativeError,_=v.isBoxedPrimitive,T=v.isNumberObject,O=v.isStringObject,A=v.isBooleanObject,C=v.isBigIntObject,P=v.isSymbolObject,k=v.isFloat32Array,R=v.isFloat64Array;function I(e){if(0===e.length||e.length>10)return!0;for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n<48||n>57)return!0}return 10===e.length&&e>=Math.pow(2,32)}function M(e){return Object.keys(e).filter(I).concat(c(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function D(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}var j=0,L=1,N=2,z=3;function B(e,t,n,r){if(e===t)return 0!==e||!n||u(e,t);if(n){if("object"!==o(e))return"number"==typeof e&&f(e)&&f(t);if("object"!==o(t)||null===e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(null===e||"object"!==o(e))return(null===t||"object"!==o(t))&&e==t;if(null===t||"object"!==o(t))return!1}var i,s,l,c,d=m(e);if(d!==m(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var p=M(e),h=M(t);return p.length===h.length&&W(e,t,n,r,L,p)}if("[object Object]"===d&&(!w(e)&&w(t)||!S(e)&&S(t)))return!1;if(b(e)){if(!b(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(x(e)){if(!x(t)||(l=e,c=t,!(a?l.source===c.source&&l.flags===c.flags:RegExp.prototype.toString.call(l)===RegExp.prototype.toString.call(c))))return!1}else if(E(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else{if(y(e)){if(n||!k(e)&&!R(e)){if(!function(e,t){return e.byteLength===t.byteLength&&0===D(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}(e,t))return!1}else if(!function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}(e,t))return!1;var v=M(e),I=M(t);return v.length===I.length&&W(e,t,n,r,j,v)}if(S(e))return!(!S(t)||e.size!==t.size)&&W(e,t,n,r,N);if(w(e))return!(!w(t)||e.size!==t.size)&&W(e,t,n,r,z);if(g(e)){if(s=t,(i=e).byteLength!==s.byteLength||0!==D(new Uint8Array(i),new Uint8Array(s)))return!1}else if(_(e)&&!function(e,t){return T(e)?T(t)&&u(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):O(e)?O(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):A(e)?A(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):C(e)?C(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):P(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}(e,t))return!1}return W(e,t,n,r,j)}function F(e,t){return t.filter((function(t){return h(e,t)}))}function W(e,t,n,i,a,u){if(5===arguments.length){u=Object.keys(e);var f=Object.keys(t);if(u.length!==f.length)return!1}for(var d=0;d<u.length;d++)if(!p(t,u[d]))return!1;if(n&&5===arguments.length){var m=c(e);if(0!==m.length){var v=0;for(d=0;d<m.length;d++){var g=m[d];if(h(e,g)){if(!h(t,g))return!1;u.push(g),v++}else if(h(t,g))return!1}var y=c(t);if(m.length!==y.length&&F(t,y).length!==v)return!1}else{var b=c(t);if(0!==b.length&&0!==F(t,b).length)return!1}}if(0===u.length&&(a===j||a===L&&0===e.length||0===e.size))return!0;if(void 0===i)i={val1:new Map,val2:new Map,position:0};else{var w=i.val1.get(e);if(void 0!==w){var x=i.val2.get(t);if(void 0!==x)return w===x}i.position++}i.val1.set(e,i.position),i.val2.set(t,i.position);var S=function(e,t,n,i,a,u){var c=0;if(u===N){if(!function(e,t,n,r){for(var i=null,a=s(e),l=0;l<a.length;l++){var u=a[l];if("object"===o(u)&&null!==u)null===i&&(i=new Set),i.add(u);else if(!t.has(u)){if(n)return!1;if(!V(e,t,u))return!1;null===i&&(i=new Set),i.add(u)}}if(null!==i){for(var c=s(t),f=0;f<c.length;f++){var d=c[f];if("object"===o(d)&&null!==d){if(!H(i,d,n,r))return!1}else if(!n&&!e.has(d)&&!H(i,d,n,r))return!1}return 0===i.size}return!0}(e,t,n,a))return!1}else if(u===z){if(!function(e,t,n,i){for(var a=null,s=l(e),u=0;u<s.length;u++){var c=r(s[u],2),f=c[0],d=c[1];if("object"===o(f)&&null!==f)null===a&&(a=new Set),a.add(f);else{var p=t.get(f);if(void 0===p&&!t.has(f)||!B(d,p,n,i)){if(n)return!1;if(!G(e,t,f,d,i))return!1;null===a&&(a=new Set),a.add(f)}}}if(null!==a){for(var h=l(t),m=0;m<h.length;m++){var v=r(h[m],2),g=v[0],y=v[1];if("object"===o(g)&&null!==g){if(!q(a,e,g,y,n,i))return!1}else if(!(n||e.has(g)&&B(e.get(g),y,!1,i)||q(a,e,g,y,!1,i)))return!1}return 0===a.size}return!0}(e,t,n,a))return!1}else if(u===L)for(;c<e.length;c++){if(!p(e,c)){if(p(t,c))return!1;for(var f=Object.keys(e);c<f.length;c++){var d=f[c];if(!p(t,d)||!B(e[d],t[d],n,a))return!1}return f.length===Object.keys(t).length}if(!p(t,c)||!B(e[c],t[c],n,a))return!1}for(c=0;c<i.length;c++){var h=i[c];if(!B(e[h],t[h],n,a))return!1}return!0}(e,t,n,u,i,a);return i.val1.delete(e),i.val2.delete(t),S}function H(e,t,n,r){for(var i=s(e),o=0;o<i.length;o++){var a=i[o];if(B(t,a,n,r))return e.delete(a),!0}return!1}function U(e){switch(o(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(f(e))return!1}return!0}function V(e,t,n){var r=U(n);return null!=r?r:t.has(r)&&!e.has(r)}function G(e,t,n,r,i){var o=U(n);if(null!=o)return o;var a=t.get(o);return!(void 0===a&&!t.has(o)||!B(r,a,!1,i))&&!e.has(o)&&B(r,a,!1,i)}function q(e,t,n,r,i,o){for(var a=s(e),l=0;l<a.length;l++){var u=a[l];if(B(n,u,i,o)&&B(r,t.get(u),i,o))return e.delete(u),!0}return!1}e.exports={isDeepEqual:function(e,t){return B(e,t,!1)},isDeepStrictEqual:function(e,t){return B(e,t,!0)}}},95771:(e,t,n)=>{"use strict";var r=n(3027);function i(){var e={},t=0,n=0,r=0;return{add:function(i,o){o||(o=i,i=0),i>n?n=i:i<r&&(r=i),e[i]||(e[i]=[]),e[i].push(o),t++},process:function(){for(var t=r;t<=n;t++)for(var i=e[t],o=0;o<i.length;o++)(0,i[o])()},size:function(){return t}}}e.exports=function(e){var t=(e=e||{}).reporter,n=r.getOption(e,"async",!0),o=r.getOption(e,"auto",!0);o&&!n&&(t&&t.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var a,s=i(),l=!1;function u(){for(l=!0;s.size();){var e=s;s=i(),e.process()}l=!1}function c(){a=setTimeout(u,0)}return{add:function(e,t){!l&&o&&n&&0===s.size()&&c(),s.add(e,t)},force:function(e){l||(void 0===e&&(e=n),a&&(clearTimeout(a),a=null),e?c():u())}}}},3027:e=>{"use strict";(e.exports={}).getOption=function(e,t,n){var r=e[t];return null==r&&void 0!==n?n:r}},29466:(e,t,n)=>{"use strict";var r=n(86400),i=n(29122),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&o(e,".prototype.")>-1?i(n):n}},29122:(e,t,n)=>{"use strict";var r=n(22354),i=n(86400),o=n(93900),a=n(82268),s=i("%Function.prototype.apply%"),l=i("%Function.prototype.call%"),u=i("%Reflect.apply%",!0)||r.call(l,s),c=n(80988),f=i("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new a("a function is required");var t=u(r,l,arguments);return o(t,1+f(0,e.length-(arguments.length-1)),!0)};var d=function(){return u(r,s,arguments)};c?c(e.exports,"apply",{value:d}):e.exports.apply=d},80634:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==r(e))if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=i(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function o(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=i(e))&&(r&&(r+=" "),r+=t);return r}n.r(t),n.d(t,{clsx:()=>o,default:()=>a});const a=o},3324:(e,t,n)=>{var r=n(97352),i=n(81597);function o(){return(new Date).getTime()}var a,s=Array.prototype.slice,l={};a=void 0!==n.g&&n.g.console?n.g.console:"undefined"!=typeof window&&window.console?window.console:{};for(var u=[[function(){},"log"],[function(){a.log.apply(a,arguments)},"info"],[function(){a.log.apply(a,arguments)},"warn"],[function(){a.warn.apply(a,arguments)},"error"],[function(e){l[e]=o()},"time"],[function(e){var t=l[e];if(!t)throw new Error("No such label: "+e);delete l[e];var n=o()-t;a.log(e+": "+n+"ms")},"timeEnd"],[function(){var e=new Error;e.name="Trace",e.message=r.format.apply(null,arguments),a.error(e.stack)},"trace"],[function(e){a.log(r.inspect(e)+"\n")},"dir"],[function(e){if(!e){var t=s.call(arguments,1);i.ok(!1,r.format.apply(null,t))}},"assert"]],c=0;c<u.length;c++){var f=u[c],d=f[0],p=f[1];a[p]||(a[p]=d)}e.exports=a},49304:(e,t,n)=>{"use strict";var r=n(3324),i=n(62273),o={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,a,s,l,u,c,f=!1;t||(t={}),n=t.debug||!1;try{if(s=i(),l=document.createRange(),u=document.getSelection(),(c=document.createElement("span")).textContent=e,c.ariaHidden="true",c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",(function(i){if(i.stopPropagation(),t.format)if(i.preventDefault(),void 0===i.clipboardData){n&&r.warn("unable to use e.clipboardData"),n&&r.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=o[t.format]||o.default;window.clipboardData.setData(a,e)}else i.clipboardData.clearData(),i.clipboardData.setData(t.format,e);t.onCopy&&(i.preventDefault(),t.onCopy(i.clipboardData))})),document.body.appendChild(c),l.selectNodeContents(c),u.addRange(l),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");f=!0}catch(i){n&&r.error("unable to copy using execCommand: ",i),n&&r.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),f=!0}catch(i){n&&r.error("unable to copy using clipboardData: ",i),n&&r.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(l):u.removeAllRanges()),c&&document.body.removeChild(c),s()}return f}},75735:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var n=function(e){return function(e){return!!e&&"object"===t(e)}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===r}(e)}(e)},r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function o(e,t,n){return e.concat(t).map((function(e){return i(e,n)}))}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function s(e,t){try{return t in e}catch(e){return!1}}function l(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||o,r.isMergeableObject=r.isMergeableObject||n,r.cloneUnlessOtherwiseSpecified=i;var u=Array.isArray(t);return u===Array.isArray(e)?u?r.arrayMerge(e,t,r):function(e,t,n){var r={};return n.isMergeableObject(e)&&a(e).forEach((function(t){r[t]=i(e[t],n)})),a(t).forEach((function(o){(function(e,t){return s(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(s(e,o)&&n.isMergeableObject(t[o])?r[o]=function(e,t){if(!t.customMerge)return l;var n=t.customMerge(e);return"function"==typeof n?n:l}(o,n)(e[o],t[o],n):r[o]=i(t[o],n))})),r}(e,t,r):i(t,r)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return l(e,n,t)}),{})};var u=l;e.exports=u},56750:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=n(80988),o=n(69907),a=n(82268),s=n(91464);e.exports=function(e,t,n){if(!e||"object"!==r(e)&&"function"!=typeof e)throw new a("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!==r(t))throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new a("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,f=arguments.length>6&&arguments[6],d=!!s&&s(e,t);if(i)i(e,t,{configurable:null===c&&d?d.configurable:!c,enumerable:null===l&&d?d.enumerable:!l,value:n,writable:null===u&&d?d.writable:!u});else{if(!f&&(l||u||c))throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=n}}},32273:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=n(80668),o="function"==typeof Symbol&&"symbol"===r(Symbol("foo")),a=Object.prototype.toString,s=Array.prototype.concat,l=n(56750),u=n(73191)(),c=function(e,t,n,r){if(t in e)if(!0===r){if(e[t]===n)return}else if("function"!=typeof(i=r)||"[object Function]"!==a.call(i)||!r())return;var i;u?l(e,t,n,!0):l(e,t,n)},f=function(e,t){var n=arguments.length>2?arguments[2]:{},r=i(t);o&&(r=s.call(r,Object.getOwnPropertySymbols(t)));for(var a=0;a<r.length;a+=1)c(e,r[a],t[r[a]],n[r[a]])};f.supportsDescriptors=!!u,e.exports=f},68523:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HTML5DragTransition:()=>o,MouseTransition:()=>a,MultiBackend:()=>f,PreviewManager:()=>c,TouchTransition:()=>i,createTransition:()=>r,default:()=>d});const r=function(e,t){return{_isMBTransition:!0,event:e,check:t}};var i=r("touchstart",(function(e){return null!=e.touches})),o=r("dragstart",(function(e){return!!e.type&&(-1!==e.type.indexOf("drag")||-1!==e.type.indexOf("drop"))})),a=r("mousedown",(function(e){return!!e.type&&-1===e.type.indexOf("touch")&&-1!==e.type.indexOf("mouse")}));function s(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=new function e(){var t=this;u(this,e),this.register=function(e){t.previews.push(e)},this.unregister=function(e){for(var n;-1!==(n=t.previews.indexOf(e));)t.previews.splice(n,1)},this.backendChanged=function(e){var n,r=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=s(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}(t.previews);try{for(r.s();!(n=r.n()).done;)n.value.backendChanged(e)}catch(e){r.e(e)}finally{r.f()}},this.previews=[]},f=function e(t,n,r){var i=this;u(this,e),this.setup=function(){if("undefined"!=typeof window){if(i.constructor.isSetUp)throw new Error("Cannot have two MultiBackends at the same time.");i.constructor.isSetUp=!0,i.addEventListeners(window),i.backends[i.current].instance.setup()}},this.teardown=function(){"undefined"!=typeof window&&(i.constructor.isSetUp=!1,i.removeEventListeners(window),i.backends[i.current].instance.teardown())},this.connectDragSource=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.connectBackend("connectDragSource",t)},this.connectDragPreview=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.connectBackend("connectDragPreview",t)},this.connectDropTarget=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.connectBackend("connectDropTarget",t)},this.previewEnabled=function(){return i.backends[i.current].preview},this.addEventListeners=function(e){i.backends.forEach((function(t){t.transition&&e.addEventListener(t.transition.event,i.backendSwitcher,!0)}))},this.removeEventListeners=function(e){i.backends.forEach((function(t){t.transition&&e.removeEventListener(t.transition.event,i.backendSwitcher,!0)}))},this.backendSwitcher=function(e){var t=i.current,n=0;if(i.backends.some((function(t){return n!==i.current&&t.transition&&t.transition.check(e)?(i.current=n,!0):(n+=1,!1)})),i.current!==t){i.backends[t].instance.teardown(),Object.keys(i.nodes).forEach((function(e){var t=i.nodes[e];t.handler(),t.handler=i.callBackend(t.func,t.args)})),c.backendChanged(i);var r=i.backends[i.current];if(r.instance.setup(),r.skipDispatchOnTransition)return;var o=null;try{o=new e.constructor(e.type,e)}catch(t){(o=document.createEvent("Event")).initEvent(e.type,e.bubbles,e.cancelable)}e.target.dispatchEvent(o)}},this.callBackend=function(e,t){var n,r;return(n=i.backends[i.current].instance)[e].apply(n,function(e){if(Array.isArray(e))return l(e)}(r=t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(r)||s(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},this.connectBackend=function(e,t){var n="".concat(e,"_").concat(t[0]),r=i.callBackend(e,t);return i.nodes[n]={func:e,args:t,handler:r},function(){var e,t=(e=i.nodes[n]).handler.apply(e,arguments);return delete i.nodes[n],t}};var o=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})),e}({backends:[]},r||{});if(o.backends.length<1)throw new Error("You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)\n        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx");this.current=0,this.backends=[],o.backends.forEach((function(e){if(!e.backend)throw new Error("You must specify a 'backend' property in your Backend entry: ".concat(e));var r=e.transition;if(r&&!r._isMBTransition)throw new Error("You must specify a valid 'transition' property (either undefined or the return of 'createTransition') in your Backend entry: ".concat(e));i.backends.push({instance:e.backend(t,n,e.options),preview:e.preview||!1,transition:r,skipDispatchOnTransition:Boolean(e.skipDispatchOnTransition)})})),this.nodes={}};const d=function(e,t,n){return new f(e,t,n)}},80595:function(e,t,n){var r,i,o,a=n(3324);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}o=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,n){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,n)}function n(e,r,i){return n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,n,r){var i=[null];i.push.apply(i,n);var o=new(Function.bind.apply(e,i));return r&&t(o,r.prototype),o},n.apply(null,arguments)}function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=Object.hasOwnProperty,s=Object.setPrototypeOf,l=Object.isFrozen,u=Object.getPrototypeOf,c=Object.getOwnPropertyDescriptor,f=Object.freeze,d=Object.seal,p=Object.create,h="undefined"!=typeof Reflect&&Reflect,m=h.apply,v=h.construct;m||(m=function(e,t,n){return e.apply(t,n)}),f||(f=function(e){return e}),d||(d=function(e){return e}),v||(v=function(e,t){return n(e,r(t))});var g,y=P(Array.prototype.forEach),b=P(Array.prototype.pop),w=P(Array.prototype.push),x=P(String.prototype.toLowerCase),S=P(String.prototype.toString),E=P(String.prototype.match),_=P(String.prototype.replace),T=P(String.prototype.indexOf),O=P(String.prototype.trim),A=P(RegExp.prototype.test),C=(g=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v(g,t)});function P(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return m(e,t,r)}}function k(e,t,n){var r;n=null!==(r=n)&&void 0!==r?r:x,s&&s(e,null);for(var i=t.length;i--;){var o=t[i];if("string"==typeof o){var a=n(o);a!==o&&(l(t)||(t[i]=a),o=a)}e[o]=!0}return e}function R(e){var t,n=p(null);for(t in e)!0===m(o,e,[t])&&(n[t]=e[t]);return n}function I(e,t){for(;null!==e;){var n=c(e,t);if(n){if(n.get)return P(n.get);if("function"==typeof n.value)return P(n.value)}e=u(e)}return function(e){return a.warn("fallback value for",e),null}}var M=f(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),D=f(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),j=f(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),L=f(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),N=f(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),z=f(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),B=f(["#text"]),F=f(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),W=f(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),H=f(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),U=f(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),V=d(/\{\{[\w\W]*|[\w\W]*\}\}/gm),G=d(/<%[\w\W]*|[\w\W]*%>/gm),q=d(/\${[\w\W]*}/gm),X=d(/^data-[\-\w.\u00B7-\uFFFF]/),Z=d(/^aria-[\-\w]+$/),$=d(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Y=d(/^(?:\w+script|data):/i),K=d(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),J=d(/^html$/i),Q=d(/^[a-z][.\w]*(-[.\w]+)+$/i),ee=function(){return"undefined"==typeof window?null:window},te=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee(),i=function(e){return t(e)};if(i.version="2.5.7",i.removed=[],!n||!n.document||9!==n.document.nodeType)return i.isSupported=!1,i;var o=n.document,s=n.document,l=n.DocumentFragment,u=n.HTMLTemplateElement,c=n.Node,d=n.Element,p=n.NodeFilter,h=n.NamedNodeMap,m=void 0===h?n.NamedNodeMap||n.MozNamedAttrMap:h,v=n.HTMLFormElement,g=n.DOMParser,P=n.trustedTypes,te=d.prototype,ne=I(te,"cloneNode"),re=I(te,"nextSibling"),ie=I(te,"childNodes"),oe=I(te,"parentNode");if("function"==typeof u){var ae=s.createElement("template");ae.content&&ae.content.ownerDocument&&(s=ae.content.ownerDocument)}var se=function(t,n){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var o="dompurify"+(r?"#"+r:"");try{return t.createPolicy(o,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return a.warn("TrustedTypes policy "+o+" could not be created."),null}}(P,o),le=se?se.createHTML(""):"",ue=s,ce=ue.implementation,fe=ue.createNodeIterator,de=ue.createDocumentFragment,pe=ue.getElementsByTagName,he=o.importNode,me={};try{me=R(s).documentMode?s.documentMode:{}}catch(e){}var ve={};i.isSupported="function"==typeof oe&&ce&&void 0!==ce.createHTMLDocument&&9!==me;var ge,ye,be=V,we=G,xe=q,Se=X,Ee=Z,_e=Y,Te=K,Oe=Q,Ae=$,Ce=null,Pe=k({},[].concat(r(M),r(D),r(j),r(N),r(B))),ke=null,Re=k({},[].concat(r(F),r(W),r(H),r(U))),Ie=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Me=null,De=null,je=!0,Le=!0,Ne=!1,ze=!0,Be=!1,Fe=!0,We=!1,He=!1,Ue=!1,Ve=!1,Ge=!1,qe=!1,Xe=!0,Ze=!1,$e=!0,Ye=!1,Ke={},Je=null,Qe=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),et=null,tt=k({},["audio","video","img","source","image","track"]),nt=null,rt=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),it="http://www.w3.org/1998/Math/MathML",ot="http://www.w3.org/2000/svg",at="http://www.w3.org/1999/xhtml",st=at,lt=!1,ut=null,ct=k({},[it,ot,at],S),ft=["application/xhtml+xml","text/html"],dt=null,pt=s.createElement("form"),ht=function(e){return e instanceof RegExp||e instanceof Function},mt=function(t){dt&&dt===t||(t&&"object"===e(t)||(t={}),t=R(t),ge=ge=-1===ft.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE,ye="application/xhtml+xml"===ge?S:x,Ce="ALLOWED_TAGS"in t?k({},t.ALLOWED_TAGS,ye):Pe,ke="ALLOWED_ATTR"in t?k({},t.ALLOWED_ATTR,ye):Re,ut="ALLOWED_NAMESPACES"in t?k({},t.ALLOWED_NAMESPACES,S):ct,nt="ADD_URI_SAFE_ATTR"in t?k(R(rt),t.ADD_URI_SAFE_ATTR,ye):rt,et="ADD_DATA_URI_TAGS"in t?k(R(tt),t.ADD_DATA_URI_TAGS,ye):tt,Je="FORBID_CONTENTS"in t?k({},t.FORBID_CONTENTS,ye):Qe,Me="FORBID_TAGS"in t?k({},t.FORBID_TAGS,ye):{},De="FORBID_ATTR"in t?k({},t.FORBID_ATTR,ye):{},Ke="USE_PROFILES"in t&&t.USE_PROFILES,je=!1!==t.ALLOW_ARIA_ATTR,Le=!1!==t.ALLOW_DATA_ATTR,Ne=t.ALLOW_UNKNOWN_PROTOCOLS||!1,ze=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,Be=t.SAFE_FOR_TEMPLATES||!1,Fe=!1!==t.SAFE_FOR_XML,We=t.WHOLE_DOCUMENT||!1,Ve=t.RETURN_DOM||!1,Ge=t.RETURN_DOM_FRAGMENT||!1,qe=t.RETURN_TRUSTED_TYPE||!1,Ue=t.FORCE_BODY||!1,Xe=!1!==t.SANITIZE_DOM,Ze=t.SANITIZE_NAMED_PROPS||!1,$e=!1!==t.KEEP_CONTENT,Ye=t.IN_PLACE||!1,Ae=t.ALLOWED_URI_REGEXP||Ae,st=t.NAMESPACE||at,Ie=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&ht(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ie.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&ht(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ie.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ie.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Be&&(Le=!1),Ge&&(Ve=!0),Ke&&(Ce=k({},r(B)),ke=[],!0===Ke.html&&(k(Ce,M),k(ke,F)),!0===Ke.svg&&(k(Ce,D),k(ke,W),k(ke,U)),!0===Ke.svgFilters&&(k(Ce,j),k(ke,W),k(ke,U)),!0===Ke.mathMl&&(k(Ce,N),k(ke,H),k(ke,U))),t.ADD_TAGS&&(Ce===Pe&&(Ce=R(Ce)),k(Ce,t.ADD_TAGS,ye)),t.ADD_ATTR&&(ke===Re&&(ke=R(ke)),k(ke,t.ADD_ATTR,ye)),t.ADD_URI_SAFE_ATTR&&k(nt,t.ADD_URI_SAFE_ATTR,ye),t.FORBID_CONTENTS&&(Je===Qe&&(Je=R(Je)),k(Je,t.FORBID_CONTENTS,ye)),$e&&(Ce["#text"]=!0),We&&k(Ce,["html","head","body"]),Ce.table&&(k(Ce,["tbody"]),delete Me.tbody),f&&f(t),dt=t)},vt=k({},["mi","mo","mn","ms","mtext"]),gt=k({},["annotation-xml"]),yt=k({},["title","style","font","a","script"]),bt=k({},D);k(bt,j),k(bt,L);var wt=k({},N);k(wt,z);var xt=function(e){w(i.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=le}catch(t){e.remove()}}},St=function(e,t){try{w(i.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){w(i.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!ke[e])if(Ve||Ge)try{xt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Et=function(e){var t,n;if(Ue)e="<remove></remove>"+e;else{var r=E(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===ge&&st===at&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=se?se.createHTML(e):e;if(st===at)try{t=(new g).parseFromString(i,ge)}catch(e){}if(!t||!t.documentElement){t=ce.createDocument(st,"template",null);try{t.documentElement.innerHTML=lt?le:i}catch(e){}}var o=t.body||t.documentElement;return e&&n&&o.insertBefore(s.createTextNode(n),o.childNodes[0]||null),st===at?pe.call(t,We?"html":"body")[0]:We?t.documentElement:o},_t=function(e){return fe.call(e.ownerDocument||e,e,p.SHOW_ELEMENT|p.SHOW_COMMENT|p.SHOW_TEXT|p.SHOW_PROCESSING_INSTRUCTION|p.SHOW_CDATA_SECTION,null,!1)},Tt=function(e){return e instanceof v&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof m)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Ot=function(t){return"object"===e(c)?t instanceof c:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},At=function(e,t,n){ve[e]&&y(ve[e],(function(e){e.call(i,t,n,dt)}))},Ct=function(e){var t;if(At("beforeSanitizeElements",e,null),Tt(e))return xt(e),!0;if(A(/[\u0080-\uFFFF]/,e.nodeName))return xt(e),!0;var n=ye(e.nodeName);if(At("uponSanitizeElement",e,{tagName:n,allowedTags:Ce}),e.hasChildNodes()&&!Ot(e.firstElementChild)&&(!Ot(e.content)||!Ot(e.content.firstElementChild))&&A(/<[/\w]/g,e.innerHTML)&&A(/<[/\w]/g,e.textContent))return xt(e),!0;if("select"===n&&A(/<template/i,e.innerHTML))return xt(e),!0;if(7===e.nodeType)return xt(e),!0;if(Fe&&8===e.nodeType&&A(/<[/\w]/g,e.data))return xt(e),!0;if(!Ce[n]||Me[n]){if(!Me[n]&&kt(n)){if(Ie.tagNameCheck instanceof RegExp&&A(Ie.tagNameCheck,n))return!1;if(Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(n))return!1}if($e&&!Je[n]){var r=oe(e)||e.parentNode,o=ie(e)||e.childNodes;if(o&&r)for(var a=o.length-1;a>=0;--a){var s=ne(o[a],!0);s.__removalCount=(e.__removalCount||0)+1,r.insertBefore(s,re(e))}}return xt(e),!0}return e instanceof d&&!function(e){var t=oe(e);t&&t.tagName||(t={namespaceURI:st,tagName:"template"});var n=x(e.tagName),r=x(t.tagName);return!!ut[e.namespaceURI]&&(e.namespaceURI===ot?t.namespaceURI===at?"svg"===n:t.namespaceURI===it?"svg"===n&&("annotation-xml"===r||vt[r]):Boolean(bt[n]):e.namespaceURI===it?t.namespaceURI===at?"math"===n:t.namespaceURI===ot?"math"===n&&gt[r]:Boolean(wt[n]):e.namespaceURI===at?!(t.namespaceURI===ot&&!gt[r])&&!(t.namespaceURI===it&&!vt[r])&&!wt[n]&&(yt[n]||!bt[n]):!("application/xhtml+xml"!==ge||!ut[e.namespaceURI]))}(e)?(xt(e),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!A(/<\/no(script|embed|frames)/i,e.innerHTML)?(Be&&3===e.nodeType&&(t=e.textContent,t=_(t,be," "),t=_(t,we," "),t=_(t,xe," "),e.textContent!==t&&(w(i.removed,{element:e.cloneNode()}),e.textContent=t)),At("afterSanitizeElements",e,null),!1):(xt(e),!0)},Pt=function(e,t,n){if(Xe&&("id"===t||"name"===t)&&(n in s||n in pt))return!1;if(Le&&!De[t]&&A(Se,t));else if(je&&A(Ee,t));else if(!ke[t]||De[t]){if(!(kt(e)&&(Ie.tagNameCheck instanceof RegExp&&A(Ie.tagNameCheck,e)||Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(e))&&(Ie.attributeNameCheck instanceof RegExp&&A(Ie.attributeNameCheck,t)||Ie.attributeNameCheck instanceof Function&&Ie.attributeNameCheck(t))||"is"===t&&Ie.allowCustomizedBuiltInElements&&(Ie.tagNameCheck instanceof RegExp&&A(Ie.tagNameCheck,n)||Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(n))))return!1}else if(nt[t]);else if(A(Ae,_(n,Te,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==T(n,"data:")||!et[e])if(Ne&&!A(_e,_(n,Te,"")));else if(n)return!1;return!0},kt=function(e){return"annotation-xml"!==e&&E(e,Oe)},Rt=function(t){var n,r,o,a;At("beforeSanitizeAttributes",t,null);var s=t.attributes;if(s){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ke};for(a=s.length;a--;){var u=n=s[a],c=u.name,f=u.namespaceURI;if(r="value"===c?n.value:O(n.value),o=ye(c),l.attrName=o,l.attrValue=r,l.keepAttr=!0,l.forceKeepAttr=void 0,At("uponSanitizeAttribute",t,l),r=l.attrValue,!l.forceKeepAttr&&(St(c,t),l.keepAttr))if(ze||!A(/\/>/i,r)){Be&&(r=_(r,be," "),r=_(r,we," "),r=_(r,xe," "));var d=ye(t.nodeName);if(Pt(d,o,r))if(!Ze||"id"!==o&&"name"!==o||(St(c,t),r="user-content-"+r),Fe&&A(/((--!?|])>)|<\/(style|title)/i,r))St(c,t);else{if(se&&"object"===e(P)&&"function"==typeof P.getAttributeType)if(f);else switch(P.getAttributeType(d,o)){case"TrustedHTML":r=se.createHTML(r);break;case"TrustedScriptURL":r=se.createScriptURL(r)}try{f?t.setAttributeNS(f,c,r):t.setAttribute(c,r),Tt(t)?xt(t):b(i.removed)}catch(e){}}}else St(c,t)}At("afterSanitizeAttributes",t,null)}},It=function e(t){var n,r=_t(t);for(At("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)At("uponSanitizeShadowNode",n,null),Ct(n)||(n.content instanceof l&&e(n.content),Rt(n));At("afterSanitizeShadowDOM",t,null)};return i.sanitize=function(t){var r,a,s,u,f,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((lt=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!Ot(t)){if("function"!=typeof t.toString)throw C("toString is not a function");if("string"!=typeof(t=t.toString()))throw C("dirty is not a string, aborting")}if(!i.isSupported){if("object"===e(n.toStaticHTML)||"function"==typeof n.toStaticHTML){if("string"==typeof t)return n.toStaticHTML(t);if(Ot(t))return n.toStaticHTML(t.outerHTML)}return t}if(He||mt(d),i.removed=[],"string"==typeof t&&(Ye=!1),Ye){if(t.nodeName){var p=ye(t.nodeName);if(!Ce[p]||Me[p])throw C("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof c)1===(a=(r=Et("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?r=a:r.appendChild(a);else{if(!Ve&&!Be&&!We&&-1===t.indexOf("<"))return se&&qe?se.createHTML(t):t;if(!(r=Et(t)))return Ve?null:qe?le:""}r&&Ue&&xt(r.firstChild);for(var h=_t(Ye?t:r);s=h.nextNode();)3===s.nodeType&&s===u||Ct(s)||(s.content instanceof l&&It(s.content),Rt(s),u=s);if(u=null,Ye)return t;if(Ve){if(Ge)for(f=de.call(r.ownerDocument);r.firstChild;)f.appendChild(r.firstChild);else f=r;return(ke.shadowroot||ke.shadowrootmod)&&(f=he.call(o,f,!0)),f}var m=We?r.outerHTML:r.innerHTML;return We&&Ce["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&A(J,r.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+m),Be&&(m=_(m,be," "),m=_(m,we," "),m=_(m,xe," ")),se&&qe?se.createHTML(m):m},i.setConfig=function(e){mt(e),He=!0},i.clearConfig=function(){dt=null,He=!1},i.isValidAttribute=function(e,t,n){dt||mt({});var r=ye(e),i=ye(t);return Pt(r,i,n)},i.addHook=function(e,t){"function"==typeof t&&(ve[e]=ve[e]||[],w(ve[e],t))},i.removeHook=function(e){if(ve[e])return b(ve[e])},i.removeHooks=function(e){ve[e]&&(ve[e]=[])},i.removeAllHooks=function(){ve={}},i}();return te},"object"===s(t)?e.exports=o():void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i)},81006:e=>{"use strict";var t=e.exports={};t.isIE=function(e){return!(-1===(t=navigator.userAgent.toLowerCase()).indexOf("msie")&&-1===t.indexOf("trident")&&-1===t.indexOf(" edge/")||e&&e!==function(){var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(n[0]);return e>4?e:void 0}());var t},t.isLegacyOpera=function(){return!!window.opera}},27747:e=>{"use strict";(e.exports={}).forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}}},98944:(e,t,n)=>{"use strict";var r=n(81006);e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,i=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function o(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function a(e){return i(e).object}return{makeDetectable:function(e,a,s){s||(s=a,a=e,e=null),(e=e||{}).debug,r.isIE(8)?s(a):function(a,s){var l=o(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),u=!1,c=window.getComputedStyle(a),f=a.offsetWidth,d=a.offsetHeight;function p(){function n(){if("static"===c.position){a.style.setProperty("position","relative",e.important?"important":"");var n=function(t,n,r,i){var o=r[i];"auto"!==o&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(o)&&(t.warn("An element that is positioned static has style."+i+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+i+" will be set to 0. Element: ",n),n.style.setProperty(i,"0",e.important?"important":""))};n(t,a,c,"top"),n(t,a,c,"right"),n(t,a,c,"bottom"),n(t,a,c,"left")}}""!==c.position&&(n(),u=!0);var o=document.createElement("object");o.style.cssText=l,o.tabIndex=-1,o.type="text/html",o.setAttribute("aria-hidden","true"),o.onload=function(){u||n(),function e(t,n){if(!t.contentDocument){var r=i(t);return r.checkForObjectDocumentTimeoutId&&window.clearTimeout(r.checkForObjectDocumentTimeoutId),void(r.checkForObjectDocumentTimeoutId=setTimeout((function(){r.checkForObjectDocumentTimeoutId=0,e(t,n)}),100))}n(t.contentDocument)}(this,(function(e){s(a)}))},r.isIE()||(o.data="about:blank"),i(a)&&(a.appendChild(o),i(a).object=o,r.isIE()&&(o.data="about:blank"))}i(a).startSize={width:f,height:d},n?n.add(p):p()}(a,s)},addListener:function(e,t){function n(){t(e)}if(r.isIE(8))i(e).object={proxy:n},e.attachEvent("onresize",n);else{var o=a(e);if(!o)throw new Error("Element is not detectable by this strategy.");o.contentDocument.defaultView.addEventListener("resize",n)}},uninstall:function(e){if(i(e)){var t=a(e);t&&(r.isIE(8)?e.detachEvent("onresize",t.proxy):e.removeChild(t),i(e).checkForObjectDocumentTimeoutId&&window.clearTimeout(i(e).checkForObjectDocumentTimeoutId),delete i(e).object)}}}}},42102:(e,t,n)=>{"use strict";var r=n(27747).forEach;e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,i=e.stateHandler.getState,o=(e.stateHandler.hasState,e.idHandler);if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var a=function(){var e=document.createElement("div");e.style.cssText=u(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var t=document.createElement("div");t.style.cssText=u(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),t.appendChild(e),document.body.insertBefore(t,document.body.firstChild);var n=500-t.clientWidth,r=500-t.clientHeight;return document.body.removeChild(t),{width:n,height:r}}(),s="erd_scroll_detection_container";function l(e){!function(e,t,n){if(!e.getElementById(t)){var r=n+"_animation",i=n+"_animation_active",o="/* Created by the element-resize-detector library. */\n";o+="."+n+" > div::-webkit-scrollbar { "+u(["display: none"])+" }\n\n",o+="."+i+" { "+u(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+r,"animation-name: "+r])+" }\n",o+="@-webkit-keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function(n,r){r=r||function(t){e.head.appendChild(t)};var i=e.createElement("style");i.innerHTML=n,i.id=t,r(i)}(o+="@keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}(e,"erd_scroll_detection_scrollbar_style",s)}function u(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function c(e,n,r){if(e.addEventListener)e.addEventListener(n,r);else{if(!e.attachEvent)return t.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+n,r)}}function f(e,n,r){if(e.removeEventListener)e.removeEventListener(n,r);else{if(!e.detachEvent)return t.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+n,r)}}function d(e){return i(e).container.childNodes[0].childNodes[0].childNodes[0]}function p(e){return i(e).container.childNodes[0].childNodes[0].childNodes[1]}return l(window.document),{makeDetectable:function(e,l,f){function h(){if(e.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(o.get(l),"Scroll: "),t.log.apply)t.log.apply(null,n);else for(var r=0;r<n.length;r++)t.log(n[r])}}function m(e){var t=i(e).container.childNodes[0],n=window.getComputedStyle(t);return!n.width||-1===n.width.indexOf("px")}function v(){var e=window.getComputedStyle(l),t={};return t.position=e.position,t.width=l.offsetWidth,t.height=l.offsetHeight,t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left,t.widthCSS=e.width,t.heightCSS=e.height,t}function g(){if(h("storeStyle invoked."),i(l)){var e=v();i(l).style=e}else h("Aborting because element has been uninstalled")}function y(e,t,n){i(e).lastWidth=t,i(e).lastHeight=n}function b(){return 2*a.width+1}function w(){return 2*a.height+1}function x(e){return e+10+b()}function S(e){return e+10+w()}function E(e,t,n){var r=d(e),i=p(e),o=x(t),a=S(n),s=function(e){return 2*e+b()}(t),l=function(e){return 2*e+w()}(n);r.scrollLeft=o,r.scrollTop=a,i.scrollLeft=s,i.scrollTop=l}function _(){var e=i(l).container;if(!e){(e=document.createElement("div")).className=s,e.style.cssText=u(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),i(l).container=e,function(e){e.className+=" "+s+"_animation_active"}(e),l.appendChild(e);var t=function(){i(l).onRendered&&i(l).onRendered()};c(e,"animationstart",t),i(l).onAnimationStart=t}return e}function T(){if(h("Injecting elements"),i(l)){!function(){var n=i(l).style;if("static"===n.position){l.style.setProperty("position","relative",e.important?"important":"");var r=function(e,t,n,r){var i=n[r];"auto"!==i&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(i)&&(e.warn("An element that is positioned static has style."+r+"="+i+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+r+" will be set to 0. Element: ",t),t.style[r]=0)};r(t,l,n,"top"),r(t,l,n,"right"),r(t,l,n,"bottom"),r(t,l,n,"left")}}();var n=i(l).container;n||(n=_());var r,o,f,d,p=a.width,m=a.height,v=u(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),g=u(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(["left: "+(r=(r=-(1+p))?r+"px":"0"),"top: "+(o=(o=-(1+m))?o+"px":"0"),"right: "+(d=(d=-p)?d+"px":"0"),"bottom: "+(f=(f=-m)?f+"px":"0")])),y=u(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),b=u(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),w=u(["position: absolute","left: 0","top: 0"]),x=u(["position: absolute","width: 200%","height: 200%"]),S=document.createElement("div"),E=document.createElement("div"),T=document.createElement("div"),O=document.createElement("div"),A=document.createElement("div"),C=document.createElement("div");S.dir="ltr",S.style.cssText=v,S.className=s,E.className=s,E.style.cssText=g,T.style.cssText=y,O.style.cssText=w,A.style.cssText=b,C.style.cssText=x,T.appendChild(O),A.appendChild(C),E.appendChild(T),E.appendChild(A),S.appendChild(E),n.appendChild(S),c(T,"scroll",P),c(A,"scroll",k),i(l).onExpandScroll=P,i(l).onShrinkScroll=k}else h("Aborting because element has been uninstalled");function P(){var e=i(l);e&&e.onExpand?e.onExpand():h("Aborting expand scroll handler: element has been uninstalled")}function k(){var e=i(l);e&&e.onShrink?e.onShrink():h("Aborting shrink scroll handler: element has been uninstalled")}}function O(){function a(t,n,r){var i=function(e){return d(e).childNodes[0]}(t),o=x(n),a=S(r);i.style.setProperty("width",o+"px",e.important?"important":""),i.style.setProperty("height",a+"px",e.important?"important":"")}function s(r){var s=l.offsetWidth,c=l.offsetHeight,f=s!==i(l).lastWidth||c!==i(l).lastHeight;h("Storing current size",s,c),y(l,s,c),n.add(0,(function(){if(f)if(i(l))if(u()){if(e.debug){var n=l.offsetWidth,r=l.offsetHeight;n===s&&r===c||t.warn(o.get(l),"Scroll: Size changed before updating detector elements.")}a(l,s,c)}else h("Aborting because element container has not been initialized");else h("Aborting because element has been uninstalled")})),n.add(1,(function(){i(l)?u()?E(l,s,c):h("Aborting because element container has not been initialized"):h("Aborting because element has been uninstalled")})),f&&r&&n.add(2,(function(){i(l)?u()?r():h("Aborting because element container has not been initialized"):h("Aborting because element has been uninstalled")}))}function u(){return!!i(l).container}function c(){h("notifyListenersIfNeeded invoked");var e=i(l);return void 0===i(l).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?h("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?h("Not notifying: Size already notified"):(h("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,void r(i(l).listeners,(function(e){e(l)})))}function f(){h("Scroll detected."),m(l)?h("Scroll event fired while unrendered. Ignoring..."):s(c)}if(h("registerListenersAndPositionElements invoked."),i(l)){i(l).onRendered=function(){if(h("startanimation triggered."),m(l))h("Ignoring since element is still unrendered...");else{h("Element rendered.");var e=d(l),t=p(l);0!==e.scrollLeft&&0!==e.scrollTop&&0!==t.scrollLeft&&0!==t.scrollTop||(h("Scrollbars out of sync. Updating detector elements..."),s(c))}},i(l).onExpand=f,i(l).onShrink=f;var v=i(l).style;a(l,v.width,v.height)}else h("Aborting because element has been uninstalled")}function A(){if(h("finalizeDomMutation invoked."),i(l)){var e=i(l).style;y(l,e.width,e.height),E(l,e.width,e.height)}else h("Aborting because element has been uninstalled")}function C(){f(l)}function P(){var e;h("Installing..."),i(l).listeners=[],e=v(),i(l).startSize={width:e.width,height:e.height},h("Element start size",i(l).startSize),n.add(0,g),n.add(1,T),n.add(2,O),n.add(3,A),n.add(4,C)}f||(f=l,l=e,e=null),e=e||{},h("Making detectable..."),function(e){return!function(e){var t=e.getRootNode&&e.getRootNode().contains(e);return e===e.ownerDocument.body||e.ownerDocument.body.contains(e)||t}(e)||null===window.getComputedStyle(e)}(l)?(h("Element is detached"),_(),h("Waiting until element is attached..."),i(l).onRendered=function(){h("Element is now attached"),P()}):P()},addListener:function(e,t){if(!i(e).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");i(e).listeners.push(t)},uninstall:function(e){var t=i(e);t&&(t.onExpandScroll&&f(d(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&f(p(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&f(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))},initDocument:l}}},72823:(e,t,n)=>{"use strict";var r=n(27747).forEach,i=n(70479),o=n(99754),a=n(87062),s=n(27419),l=n(15558),u=n(81006),c=n(95771),f=n(40395),d=n(98944),p=n(42102);function h(e){return Array.isArray(e)||void 0!==e.length}function m(e){if(Array.isArray(e))return e;var t=[];return r(e,(function(e){t.push(e)})),t}function v(e){return e&&1===e.nodeType}function g(e,t,n){var r=e[t];return null==r&&void 0!==n?n:r}e.exports=function(e){var t;if((e=e||{}).idHandler)t={get:function(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var n=a(),y=s({idGenerator:n,stateHandler:f});t=y}var b=e.reporter;b||(b=l(!1===b));var w=g(e,"batchProcessor",c({reporter:b})),x={};x.callOnAdd=!!g(e,"callOnAdd",!0),x.debug=!!g(e,"debug",!1);var S,E=o(t),_=i({stateHandler:f}),T=g(e,"strategy","object"),O=g(e,"important",!1),A={reporter:b,batchProcessor:w,stateHandler:f,idHandler:t,important:O};if("scroll"===T&&(u.isLegacyOpera()?(b.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),T="object"):u.isIE(9)&&(b.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),T="object")),"scroll"===T)S=p(A);else{if("object"!==T)throw new Error("Invalid strategy name: "+T);S=d(A)}var C={};return{listenTo:function(e,n,i){function o(e){var t=E.get(e);r(t,(function(t){t(e)}))}function a(e,t,n){E.add(t,n),e&&n(t)}if(i||(i=n,n=e,e={}),!n)throw new Error("At least one element required.");if(!i)throw new Error("Listener required.");if(v(n))n=[n];else{if(!h(n))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");n=m(n)}var s=0,l=g(e,"callOnAdd",x.callOnAdd),u=g(e,"onReady",(function(){})),c=g(e,"debug",x.debug);r(n,(function(e){f.getState(e)||(f.initState(e),t.set(e));var d=t.get(e);if(c&&b.log("Attaching listener to element",d,e),!_.isDetectable(e))return c&&b.log(d,"Not detectable."),_.isBusy(e)?(c&&b.log(d,"System busy making it detectable"),a(l,e,i),C[d]=C[d]||[],void C[d].push((function(){++s===n.length&&u()}))):(c&&b.log(d,"Making detectable..."),_.markBusy(e,!0),S.makeDetectable({debug:c,important:O},e,(function(e){if(c&&b.log(d,"onElementDetectable"),f.getState(e)){_.markAsDetectable(e),_.markBusy(e,!1),S.addListener(e,o),a(l,e,i);var t=f.getState(e);if(t&&t.startSize){var p=e.offsetWidth,h=e.offsetHeight;t.startSize.width===p&&t.startSize.height===h||o(e)}C[d]&&r(C[d],(function(e){e()}))}else c&&b.log(d,"Element uninstalled before being detectable.");delete C[d],++s===n.length&&u()})));c&&b.log(d,"Already detecable, adding listener."),a(l,e,i),s++})),s===n.length&&u()},removeListener:E.removeListener,removeAllListeners:E.removeAllListeners,uninstall:function(e){if(!e)return b.error("At least one element is required.");if(v(e))e=[e];else{if(!h(e))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=m(e)}r(e,(function(e){E.removeAllListeners(e),S.uninstall(e),f.cleanState(e)}))},initDocument:function(e){S.initDocument&&S.initDocument(e)}}}},70479:e=>{"use strict";e.exports=function(e){var t=e.stateHandler.getState;return{isDetectable:function(e){var n=t(e);return n&&!!n.isDetectable},markAsDetectable:function(e){t(e).isDetectable=!0},isBusy:function(e){return!!t(e).busy},markBusy:function(e,n){t(e).busy=!!n}}}},87062:e=>{"use strict";e.exports=function(){var e=1;return{generate:function(){return e++}}}},27419:e=>{"use strict";e.exports=function(e){var t=e.idGenerator,n=e.stateHandler.getState;return{get:function(e){var t=n(e);return t&&void 0!==t.id?t.id:null},set:function(e){var r=n(e);if(!r)throw new Error("setId required the element to have a resize detection state.");var i=t.generate();return r.id=i,i}}}},99754:e=>{"use strict";e.exports=function(e){var t={};function n(n){var r=e.get(n);return void 0===r?[]:t[r]||[]}return{get:n,add:function(n,r){var i=e.get(n);t[i]||(t[i]=[]),t[i].push(r)},removeListener:function(e,t){for(var r=n(e),i=0,o=r.length;i<o;++i)if(r[i]===t){r.splice(i,1);break}},removeAllListeners:function(e){var t=n(e);t&&(t.length=0)}}}},15558:(e,t,n)=>{"use strict";var r=n(3324);e.exports=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var i=function(e,t){e[t]=function(){var e=r[t];if(e.apply)e.apply(r,arguments);else for(var n=0;n<arguments.length;n++)e(arguments[n])}};i(n,"log"),i(n,"warn"),i(n,"error")}return n}},40395:e=>{"use strict";var t="_erd";function n(e){return e[t]}e.exports={initState:function(e){return e[t]={},n(e)},getState:n,cleanState:function(e){delete e[t]}}},80988:(e,t,n)=>{"use strict";var r=n(86400)("%Object.defineProperty%",!0)||!1;if(r)try{r({},"a",{value:1})}catch(e){r=!1}e.exports=r},99206:e=>{"use strict";e.exports=EvalError},79870:e=>{"use strict";e.exports=Error},49939:e=>{"use strict";e.exports=RangeError},783:e=>{"use strict";e.exports=ReferenceError},69907:e=>{"use strict";e.exports=SyntaxError},82268:e=>{"use strict";e.exports=TypeError},28188:e=>{"use strict";e.exports=URIError},38572:e=>{function t(e,t,n,r){var i,o=null==(i=r)||"number"==typeof i||"boolean"==typeof i?r:n(r),a=t.get(o);return void 0===a&&(a=e.call(this,r),t.set(o,a)),a}function n(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=t.get(i);return void 0===o&&(o=e.apply(this,r),t.set(i,o)),o}function r(e,t,n,r,i){return n.bind(t,e,r,i)}function i(e,i){return r(e,this,1===e.length?t:n,i.cache.create(),i.serializer)}function o(){return JSON.stringify(arguments)}function a(){this.cache=Object.create(null)}a.prototype.has=function(e){return e in this.cache},a.prototype.get=function(e){return this.cache[e]},a.prototype.set=function(e,t){this.cache[e]=t};var s={create:function(){return new a}};e.exports=function(e,t){var n=t&&t.cache?t.cache:s,r=t&&t.serializer?t.serializer:o;return(t&&t.strategy?t.strategy:i)(e,{cache:n,serializer:r})},e.exports.strategies={variadic:function(e,t){return r(e,this,n,t.cache.create(),t.serializer)},monadic:function(e,n){return r(e,this,t,n.cache.create(),n.serializer)}}},73777:(e,t,n)=>{"use strict";var r=n(79809),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){if(!r(t))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=n),"[object Array]"===i.call(e)?function(e,t,n){for(var r=0,i=e.length;r<i;r++)o.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))}(e,t,a):"string"==typeof e?function(e,t,n){for(var r=0,i=e.length;r<i;r++)null==n?t(e.charAt(r),r,e):t.call(n,e.charAt(r),r,e)}(e,t,a):function(e,t,n){for(var r in e)o.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))}(e,t,a)}},80986:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},i=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],o=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],a=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],s="undefined"!=typeof window&&void 0!==window.document?window.document:{},l="fullscreenEnabled"in s&&Object.keys(r)||i[0]in s&&i||o[0]in s&&o||a[0]in s&&a||[];const u={requestFullscreen:function(e){return e[l[r.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[l[r.requestFullscreen]]},get exitFullscreen(){return s[l[r.exitFullscreen]].bind(s)},get fullscreenPseudoClass(){return":"+l[r.fullscreen]},addEventListener:function(e,t,n){return s.addEventListener(l[r[e]],t,n)},removeEventListener:function(e,t,n){return s.removeEventListener(l[r[e]],t,n)},get fullscreenEnabled(){return Boolean(s[l[r.fullscreenEnabled]])},set fullscreenEnabled(e){},get fullscreenElement(){return s[l[r.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return s[("on"+l[r.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return s[("on"+l[r.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return s[("on"+l[r.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return s[("on"+l[r.fullscreenerror]).toLowerCase()]=e}}},46730:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n};e.exports=function(e){var i=this;if("function"!=typeof i||"[object Function]"!==t.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,a=function(e,t){for(var n=[],r=1,i=0;r<e.length;r+=1,i+=1)n[i]=e[r];return n}(arguments),s=n(0,i.length-a.length),l=[],u=0;u<s;u++)l[u]="$"+u;if(o=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=",");return n}(l)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=i.apply(this,r(a,arguments));return Object(t)===t?t:this}return i.apply(e,r(a,arguments))})),i.prototype){var c=function(){};c.prototype=i.prototype,o.prototype=new c,c.prototype=null}return o}},22354:(e,t,n)=>{"use strict";var r=n(46730);e.exports=Function.prototype.bind||r},86400:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i,o=n(79870),a=n(99206),s=n(49939),l=n(783),u=n(69907),c=n(82268),f=n(28188),d=Function,p=function(e){try{return d('"use strict"; return ('+e+").constructor;")()}catch(e){}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch(e){h=null}var m=function(){throw new c},v=h?function(){try{return m}catch(e){try{return h(arguments,"callee").get}catch(e){return m}}}():m,g=n(45510)(),y=n(90309)(),b=Object.getPrototypeOf||(y?function(e){return e.__proto__}:null),w={},x="undefined"!=typeof Uint8Array&&b?b(Uint8Array):i,S={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":g&&b?b([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":w,"%AsyncGenerator%":w,"%AsyncGeneratorFunction%":w,"%AsyncIteratorPrototype%":w,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?i:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":a,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":w,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&b?b(b([][Symbol.iterator]())):i,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":r(JSON))?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&g&&b?b((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":s,"%ReferenceError%":l,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&g&&b?b((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&b?b(""[Symbol.iterator]()):i,"%Symbol%":g?Symbol:i,"%SyntaxError%":u,"%ThrowTypeError%":v,"%TypedArray%":x,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":f,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet};if(b)try{null.error}catch(e){var E=b(b(e));S["%Error.prototype%"]=E}var _=function e(t){var n;if("%AsyncFunction%"===t)n=p("async function () {}");else if("%GeneratorFunction%"===t)n=p("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=p("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&b&&(n=b(i.prototype))}return S[t]=n,n},T={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},O=n(22354),A=n(5994),C=O.call(Function.call,Array.prototype.concat),P=O.call(Function.apply,Array.prototype.splice),k=O.call(Function.call,String.prototype.replace),R=O.call(Function.call,String.prototype.slice),I=O.call(Function.call,RegExp.prototype.exec),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,D=/\\(\\)?/g,j=function(e,t){var n,r=e;if(A(T,r)&&(r="%"+(n=T[r])[0]+"%"),A(S,r)){var i=S[r];if(i===w&&(i=_(r)),void 0===i&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new u("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===I(/^%?[^%]*%?$/,e))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=R(e,0,1),n=R(e,-1);if("%"===t&&"%"!==n)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new u("invalid intrinsic syntax, expected opening `%`");var r=[];return k(e,M,(function(e,t,n,i){r[r.length]=n?k(i,D,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",i=j("%"+r+"%",t),o=i.name,a=i.value,s=!1,l=i.alias;l&&(r=l[0],P(n,C([0,1],l)));for(var f=1,d=!0;f<n.length;f+=1){var p=n[f],m=R(p,0,1),v=R(p,-1);if(('"'===m||"'"===m||"`"===m||'"'===v||"'"===v||"`"===v)&&m!==v)throw new u("property names with quotes must have matching quotes");if("constructor"!==p&&d||(s=!0),A(S,o="%"+(r+="."+p)+"%"))a=S[o];else if(null!=a){if(!(p in a)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(h&&f+1>=n.length){var g=h(a,p);a=(d=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:a[p]}else d=A(a,p),a=a[p];d&&!s&&(S[o]=a)}}return a}},91464:(e,t,n)=>{"use strict";var r=n(86400)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},73191:(e,t,n)=>{"use strict";var r=n(80988),i=function(){return!!r};i.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},90309:e=>{"use strict";var t={foo:{}},n=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof n)}},45510:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i="undefined"!=typeof Symbol&&Symbol,o=n(45484);e.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"===r(i("foo"))&&"symbol"===r(Symbol("bar"))&&o()}},45484:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===t(Symbol.iterator))return!0;var e={},n=Symbol("test"),r=Object(n);if("string"==typeof n)return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(n in e[n]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==n)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,n);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},80953:(e,t,n)=>{"use strict";var r=n(45484);e.exports=function(){return r()&&!!Symbol.toStringTag}},5994:(e,t,n)=>{"use strict";var r=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=n(22354);e.exports=o.call(r,i)},24129:(e,t,n)=>{"use strict";var r=n(27169),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var a=c(n);f&&(a=a.concat(f(n)));for(var s=l(t),m=l(n),v=0;v<a.length;++v){var g=a[v];if(!(o[g]||r&&r[g]||m&&m[g]||s&&s[g])){var y=d(n,g);try{u(t,g,y)}catch(e){}}}}return t}},47085:(e,t)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function S(e){if("object"===n(e)&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case d:case a:case l:case s:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case g:case v:case u:return e;default:return t}}case o:return t}}}function E(e){return S(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=u,t.Element=i,t.ForwardRef=p,t.Fragment=a,t.Lazy=g,t.Memo=v,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return E(e)||S(e)===f},t.isConcurrentMode=E,t.isContextConsumer=function(e){return S(e)===c},t.isContextProvider=function(e){return S(e)===u},t.isElement=function(e){return"object"===n(e)&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return S(e)===p},t.isFragment=function(e){return S(e)===a},t.isLazy=function(e){return S(e)===g},t.isMemo=function(e){return S(e)===v},t.isPortal=function(e){return S(e)===o},t.isProfiler=function(e){return S(e)===l},t.isStrictMode=function(e){return S(e)===s},t.isSuspense=function(e){return S(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===l||e===s||e===h||e===m||"object"===n(e)&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===p||e.$$typeof===b||e.$$typeof===w||e.$$typeof===x||e.$$typeof===y)},t.typeOf=S},27169:(e,t,n)=>{"use strict";e.exports=n(47085)},73010:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(78281)),s=l(n(43979));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==r(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onReceiveMessage=n.onReceiveMessage.bind(n),n.onLoad=n.onLoad.bind(n),n.sendMessage=n.sendMessage.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+r(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.onReceiveMessage),this._frame&&this._frame.addEventListener("load",this.onLoad)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.onReceiveMessage,!1)}},{key:"componentWillReceiveProps",value:function(e){this.props.postMessageData!==e.postMessageData&&this.sendMessage(e.postMessageData)}},{key:"onReceiveMessage",value:function(e){var t=this.props.handleReceiveMessage;t&&t(e)}},{key:"onLoad",value:function(){var e=this.props.handleReady;e&&e(),this.sendMessage(this.props.postMessageData)}},{key:"sendMessage",value:function(e){this._frame.contentWindow.postMessage(e,this.props.targetOrigin)}},{key:"render",value:function(){var e=this,n=this.props.attributes;return a.default.createElement("iframe",i({ref:function(t){e._frame=t}},Object.assign({},t.defaultAttributes,n)))}}]),t}(a.default.Component);u.propTypes={attributes:s.default.shape({frameBorder:s.default.oneOfType([s.default.string,s.default.number]),height:s.default.oneOfType([s.default.string,s.default.number]),name:s.default.string,scrolling:s.default.string,sandbox:s.default.string,srcDoc:s.default.string,src:s.default.string.isRequired,width:s.default.oneOfType([s.default.string,s.default.number])}),handleReceiveMessage:s.default.func,handleReady:s.default.func,postMessageData:s.default.any,targetOrigin:s.default.string},u.defaultProps={targetOrigin:"*"},u.defaultAttributes={frameBorder:0},t.A=u},46731:(e,t,n)=>{"use strict";var r=n(94931);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e){return"object"!==i(e)||"toString"in e?e:Object.prototype.toString.call(e).slice(8,-1)}Object.defineProperty(t,"__esModule",{value:!0});var a="object"===(void 0===r?"undefined":i(r))&&!0;function s(e,t){if(!e){if(a)throw new Error("Invariant failed");throw new Error(t())}}t.invariant=s;var l=Object.prototype.hasOwnProperty,u=Array.prototype.splice,c=Object.prototype.toString;function f(e){return c.call(e).slice(8,-1)}var d=Object.assign||function(e,t){return p(t).forEach((function(n){l.call(t,n)&&(e[n]=t[n])})),e},p="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function h(e){return Array.isArray(e)?d(e.constructor(e.length),e):"Map"===f(e)?new Map(e):"Set"===f(e)?new Set(e):e&&"object"===i(e)?d(Object.create(Object.getPrototypeOf(e)),e):e}var m=function(){function e(){this.commands=d({},v),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(e,t){return e===t},this.update.newContext=function(){return(new e).update}}return Object.defineProperty(e.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(e){this.update.isEquals=e},enumerable:!0,configurable:!0}),e.prototype.extend=function(e,t){this.commands[e]=t},e.prototype.update=function(e,t){var n=this,r="function"==typeof t?{$apply:t}:t;Array.isArray(e)&&Array.isArray(r)||s(!Array.isArray(r),(function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."})),s("object"===i(r)&&null!==r,(function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(n.commands).join(", ")+"."}));var o=e;return p(r).forEach((function(t){if(l.call(n.commands,t)){var i=e===o;o=n.commands[t](r[t],o,r,e),i&&n.isEquals(o,e)&&(o=e)}else{var a="Map"===f(e)?n.update(e.get(t),r[t]):n.update(e[t],r[t]),s="Map"===f(o)?o.get(t):o[t];n.isEquals(a,s)&&(void 0!==a||l.call(e,t))||(o===e&&(o=h(e)),"Map"===f(o)?o.set(t,a):o[t]=a)}})),o},e}();t.Context=m;var v={$push:function(e,t,n){return y(t,n,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,n){return y(t,n,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,n,r){return function(e,t){s(Array.isArray(e),(function(){return"Expected $splice target to be an array; got "+o(e)})),w(t.$splice)}(t,n),e.forEach((function(e){w(e),t===r&&e.length&&(t=h(r)),u.apply(t,e)})),t},$set:function(e,t,n){return function(e){s(1===Object.keys(e).length,(function(){return"Cannot have more than one key in an object with $set"}))}(n),e},$toggle:function(e,t){b(e,"$toggle");var n=e.length?h(t):t;return e.forEach((function(e){n[e]=!t[e]})),n},$unset:function(e,t,n,r){return b(e,"$unset"),e.forEach((function(e){Object.hasOwnProperty.call(t,e)&&(t===r&&(t=h(r)),delete t[e])})),t},$add:function(e,t,n,r){return x(t,"$add"),b(e,"$add"),"Map"===f(t)?e.forEach((function(e){var n=e[0],i=e[1];t===r&&t.get(n)!==i&&(t=h(r)),t.set(n,i)})):e.forEach((function(e){t!==r||t.has(e)||(t=h(r)),t.add(e)})),t},$remove:function(e,t,n,r){return x(t,"$remove"),b(e,"$remove"),e.forEach((function(e){t===r&&t.has(e)&&(t=h(r)),t.delete(e)})),t},$merge:function(e,t,n,r){var a,l;return a=t,s((l=e)&&"object"===i(l),(function(){return"update(): $merge expects a spec of type 'object'; got "+o(l)})),s(a&&"object"===i(a),(function(){return"update(): $merge expects a target of type 'object'; got "+o(a)})),p(e).forEach((function(n){e[n]!==t[n]&&(t===r&&(t=h(r)),t[n]=e[n])})),t},$apply:function(e,t){var n;return s("function"==typeof(n=e),(function(){return"update(): expected spec of $apply to be a function; got "+o(n)+"."})),e(t)}},g=new m;function y(e,t,n){s(Array.isArray(e),(function(){return"update(): expected target of "+o(n)+" to be an array; got "+o(e)+"."})),b(t[n],n)}function b(e,t){s(Array.isArray(e),(function(){return"update(): expected spec of "+o(t)+" to be an array; got "+o(e)+". Did you forget to wrap your parameter in an array?"}))}function w(e){s(Array.isArray(e),(function(){return"update(): expected spec of $splice to be an array of arrays; got "+o(e)+". Did you forget to wrap your parameters in an array?"}))}function x(e,t){var n=f(e);s("Map"===n||"Set"===n,(function(){return"update(): "+o(t)+" expects a target of type Set or Map; got "+o(n)}))}t.isEquals=g.update.isEquals,t.extend=g.extend,t.default=g.update,t.default.default=e.exports=d(t.default,t)},1679:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},18598:()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}!function(){"use strict";if("object"===("undefined"==typeof window?"undefined":e(window)))if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=window.document,n=[],r=null,i=null;a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return r||(r=function(e,t){i=e&&t?f(e,t):{top:0,bottom:0,left:0,right:0,width:0,height:0},n.forEach((function(e){e._checkForIntersections()}))}),r},a._resetCrossOriginUpdater=function(){r=null,i=null},a.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},a.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},a.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},a.prototype._monitorIntersections=function(e){var n=e.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(e)){var r=this._checkForIntersections,i=null,o=null;if(this.POLL_INTERVAL?i=n.setInterval(r,this.POLL_INTERVAL):(s(n,"resize",r,!0),s(e,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(o=new n.MutationObserver(r)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push((function(){var t=e.defaultView;t&&(i&&t.clearInterval(i),l(t,"resize",r,!0)),l(e,"scroll",r,!0),o&&o.disconnect()})),e!=(this.root&&this.root.ownerDocument||t)){var a=h(e);a&&this._monitorIntersections(a.ownerDocument)}}},a.prototype._unmonitorIntersections=function(e){var n=this._monitoringDocuments.indexOf(e);if(-1!=n){var r=this.root&&this.root.ownerDocument||t,i=this._observationTargets.some((function(t){var n=t.element.ownerDocument;if(n==e)return!0;for(;n&&n!=r;){var i=h(n);if((n=i&&i.ownerDocument)==e)return!0}return!1}));if(!i){var o=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),o(),e!=r){var a=h(e);a&&this._unmonitorIntersections(a.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},a.prototype._checkForIntersections=function(){if(this.root||!r||i){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(n){var i=n.element,a=u(i),s=this._rootContainsTarget(i),l=n.entry,c=e&&s&&this._computeTargetAndRootIntersection(i,a,t),f=n.entry=new o({time:window.performance&&performance.now&&performance.now(),target:i,boundingClientRect:a,rootBounds:r&&!this.root?null:t,intersectionRect:c});l?e&&s?this._hasCrossedThreshold(l,f)&&this._queuedEntries.push(f):l&&l.isIntersecting&&this._queuedEntries.push(f):this._queuedEntries.push(f)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(e,n,o){if("none"!=window.getComputedStyle(e).display){for(var a,s,l,c,d,h,m,v,g=n,y=p(e),b=!1;!b&&y;){var w=null,x=1==y.nodeType?window.getComputedStyle(y):{};if("none"==x.display)return null;if(y==this.root||9==y.nodeType)if(b=!0,y==this.root||y==t)r&&!this.root?!i||0==i.width&&0==i.height?(y=null,w=null,g=null):w=i:w=o;else{var S=p(y),E=S&&u(S),_=S&&this._computeTargetAndRootIntersection(S,E,o);E&&_?(y=S,w=f(E,_)):(y=null,g=null)}else{var T=y.ownerDocument;y!=T.body&&y!=T.documentElement&&"visible"!=x.overflow&&(w=u(y))}if(w&&(a=w,s=g,void 0,void 0,void 0,void 0,void 0,void 0,l=Math.max(a.top,s.top),c=Math.min(a.bottom,s.bottom),d=Math.max(a.left,s.left),v=c-l,g=(m=(h=Math.min(a.right,s.right))-d)>=0&&v>=0&&{top:l,bottom:c,left:d,right:h,width:m,height:v}||null),!g)break;y=y&&p(y)}return g}},a.prototype._getRootRect=function(){var e;if(this.root)e=u(this.root);else{var n=t.documentElement,r=t.body;e={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(e)},a.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},a.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},a.prototype._rootIsInDom=function(){return!this.root||d(t,this.root)},a.prototype._rootContainsTarget=function(e){return d(this.root||t,e)&&(!this.root||this.root.ownerDocument==e.ownerDocument)},a.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},a.prototype._unregisterInstance=function(){var e=n.indexOf(this);-1!=e&&n.splice(e,1)},window.IntersectionObserver=a,window.IntersectionObserverEntry=o}function o(e){this.time=e.time,this.target=e.target,this.rootBounds=c(e.rootBounds),this.boundingClientRect=c(e.boundingClientRect),this.intersectionRect=c(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function a(e,t){var n,r,i,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){n(),i=null}),r))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function l(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function u(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function f(e,t){var n=t.top-e.top,r=t.left-e.left;return{top:n,left:r,height:t.height,width:t.width,bottom:n+t.height,right:r+t.width}}function d(e,t){for(var n=t;n;){if(n==e)return!0;n=p(n)}return!1}function p(e){var n=e.parentNode;return 9==e.nodeType&&e!=t?h(e):n&&11==n.nodeType&&n.host?n.host:n&&n.assignedSlot?n.assignedSlot.parentNode:n}function h(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}}()},64030:e=>{"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},25899:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=n(80953)(),o=n(29466)("Object.prototype.toString"),a=function(e){return!(i&&e&&"object"===r(e)&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},s=function(e){return!!a(e)||null!==e&&"object"===r(e)&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},l=function(){return a(arguments)}();a.isLegacyArguments=s,e.exports=l?a:s},79809:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var n,r,i=Function.prototype.toString,o="object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&null!==Reflect&&Reflect.apply;if("function"==typeof o&&"function"==typeof Object.defineProperty)try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},o((function(){throw 42}),null,n)}catch(e){e!==r&&(o=null)}else o=null;var a=/^\s*class\b/,s=function(e){try{var t=i.call(e);return a.test(t)}catch(e){return!1}},l=function(e){try{return!s(e)&&(i.call(e),!0)}catch(e){return!1}},u=Object.prototype.toString,c="function"==typeof Symbol&&!!Symbol.toStringTag,f=!(0 in[,]),d=function(){return!1};if("object"===("undefined"==typeof document?"undefined":t(document))){var p=document.all;u.call(p)===u.call(document.all)&&(d=function(e){if((f||!e)&&(void 0===e||"object"===t(e)))try{var n=u.call(e);return("[object HTMLAllCollection]"===n||"[object HTML document.all class]"===n||"[object HTMLCollection]"===n||"[object Object]"===n)&&null==e("")}catch(e){}return!1})}e.exports=o?function(e){if(d(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!==t(e))return!1;try{o(e,null,n)}catch(e){if(e!==r)return!1}return!s(e)&&l(e)}:function(e){if(d(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!==t(e))return!1;if(c)return l(e);if(s(e))return!1;var n=u.call(e);return!("[object Function]"!==n&&"[object GeneratorFunction]"!==n&&!/^\[object HTML/.test(n))&&l(e)}},1905:(e,t,n)=>{"use strict";var r,i=Object.prototype.toString,o=Function.prototype.toString,a=/^\s*(?:function)?\*/,s=n(80953)(),l=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(a.test(o.call(e)))return!0;if(!s)return"[object GeneratorFunction]"===i.call(e);if(!l)return!1;if(void 0===r){var t=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(e){}}();r=!!t&&l(t)}return l(e)===r}},25082:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>o});var i="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)};const o="object"===("undefined"==typeof window?"undefined":i(window))&&"object"===("undefined"==typeof document?"undefined":i(document))&&9===document.nodeType},70118:e=>{"use strict";e.exports=function(e){return e!=e}},46062:(e,t,n)=>{"use strict";var r=n(29122),i=n(32273),o=n(70118),a=n(34183),s=n(45497),l=r(a(),Number);i(l,{getPolyfill:a,implementation:o,shim:s}),e.exports=l},34183:(e,t,n)=>{"use strict";var r=n(70118);e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:r}},45497:(e,t,n)=>{"use strict";var r=n(32273),i=n(34183);e.exports=function(){var e=i();return r(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},77911:(e,t,n)=>{"use strict";var r=n(89834);e.exports=function(e){return!!r(e)}},9035:(e,t,n)=>{e.exports=self.fetch||(self.fetch=n(81499).default||n(81499))},20988:(e,t,n)=>{"use strict";var r=n(15822),i=r.default||r;t.A=function(e){var t=void 0===e?{}:e,n=t.enabled,r=void 0===n||n,o=t.opt,a=void 0===o?"out":o;return{onProcessStyle:function(e,t,n){if("font-face"===t.type)return e;if(!r)return"boolean"==typeof e.flip&&delete e.flip,e;var o="out"===a;return"boolean"==typeof n.options.flip&&(o=n.options.flip),"boolean"==typeof e.flip&&(o=e.flip,delete e.flip),o?i("function"==typeof t.toJSON?t.toJSON():e):e}}}},21314:(e,t,n)=>{"use strict";n.d(t,{D_:()=>d,SN:()=>J,Sg:()=>h,VZ:()=>$,ih:()=>ye,rN:()=>ge,vt:()=>ve});var r=n(63063),i=n(25082),o=n(91358),a=n(25588),s=n(87354),l=n(5550);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}var c={}.constructor;function f(e){if(null==e||"object"!==u(e))return e;if(Array.isArray(e))return e.map(f);if(e.constructor!==c)return e;var t={};for(var n in e)t[n]=f(e[n]);return t}function d(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=f(t);return r.plugins.onCreateRule(e,i,n)||(e[0],null)}var p=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},h=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=p(e[n]," ");else t=p(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function m(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function v(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function g(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;!1===n.format&&(o=-1/0);var s=m(n),l=s.linebreak,u=s.space;if(e&&o++,a)if(Array.isArray(a))for(var c=0;c<a.length;c++){var f=a[c];for(var d in f){var p=f[d];null!=p&&(r&&(r+=l),r+=v(d+":"+u+h(p)+";",o))}}else for(var g in a){var y=a[g];null!=y&&(r&&(r+=l),r+=v(g+":"+u+h(y)+";",o))}for(var b in t){var w=t[b];null!=w&&"fallbacks"!==b&&(r&&(r+=l),r+=v(b+":"+u+h(w)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r=""+l+r+l),v(""+e+u+"{"+r,--o)+v("}",o)):r}var y=/([[\].#*$><+~=|^:(),"'`\s])/g,b="undefined"!=typeof CSS&&CSS.escape,w=function(e){return b?b(e):e.replace(y,"\\$1")},x=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var l=this.options.sheet;return l&&l.attached,this},e}(),S=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=r.selector,a=r.scoped,l=r.sheet,u=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=u((0,s.A)((0,s.A)(i)),l),i.selectorText="."+w(i.id)),i}(0,a.A)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==u(n)?e[t]=n:Array.isArray(n)&&(e[t]=h(n))}return e},n.toString=function(e){var t=this.options.sheet,n=t&&t.options.link?(0,r.A)({},e,{allowEmpty:!0}):e;return g(this.selectorText,this.style,n)},(0,o.A)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;n&&t&&(t.setSelector(n,e)||t.replaceRule(n,this))}},get:function(){return this.selectorText}}]),t}(x),E={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new S(e,t,n)}},_={indent:1,children:!0},T=/@([\w-]+)/,O=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var i=e.match(T);for(var o in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new $((0,r.A)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=_);var t=m(e).linebreak;if(null==e.indent&&(e.indent=_.indent),null==e.children&&(e.children=_.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),A=/@container|@media|@supports\s+/,C={onCreateRule:function(e,t,n){return A.test(e)?new O(e,t,n):null}},P={indent:1,children:!0},k=/@keyframes\s+([\w-]+)/,R=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=e.match(k);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var l in this.id=!1===o?this.name:w(s(this,a)),this.rules=new $((0,r.A)({},n,{parent:this})),t)this.rules.add(l,t[l],(0,r.A)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=P);var t=m(e).linebreak;if(null==e.indent&&(e.indent=P.indent),null==e.children&&(e.children=P.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),I=/@keyframes\s+/,M=/\$([\w-]+)/g,D=function(e,t){return"string"==typeof e?e.replace(M,(function(e,n){return n in t?t[n]:e})):e},j=function(e,t,n){var r=e[t],i=D(r,n);i!==r&&(e[t]=i)},L={onCreateRule:function(e,t,n){return"string"==typeof e&&I.test(e)?new R(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&j(e,"animation-name",n.keyframes),"animation"in e&&j(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return D(e,r.keyframes);default:return e}}},N=function(e){function t(){return e.apply(this,arguments)||this}return(0,a.A)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=t&&t.options.link?(0,r.A)({},e,{allowEmpty:!0}):e;return g(this.key,this.style,n)},t}(x),z={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new N(e,t,n):null}},B=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=m(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=g(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return g(this.at,this.style,e)},e}(),F=/@font-face/,W={onCreateRule:function(e,t,n){return F.test(e)?new B(e,t,n):null}},H=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return g(this.key,this.style,e)},e}(),U={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new H(e,t,n):null}},V=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),G={"@charset":!0,"@import":!0,"@namespace":!0},q=[E,C,L,z,W,U,{onCreateRule:function(e,t,n){return e in G?new V(e,t,n):null}}],X={process:!0},Z={force:!0,process:!0},$=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,o=i.parent,a=i.sheet,s=i.jss,l=i.Renderer,u=i.generateId,c=i.scoped,f=(0,r.A)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:l,generateId:u,scoped:c,name:e,keyframes:this.keyframes,selector:void 0},n),p=e;e in this.raw&&(p=e+"-d"+this.counter++),this.raw[p]=t,p in this.classes&&(f.selector="."+w(this.classes[p]));var h=d(p,t,f);if(!h)return null;this.register(h);var m=void 0===f.index?this.index.length:f.index;return this.index.splice(m,0,h),h},t.replace=function(e,t,n){var i=this.get(e),o=this.index.indexOf(i);i&&this.remove(i);var a=n;return-1!==o&&(a=(0,r.A)({},n,{index:o})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof S?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof R&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof S?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof R&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=X);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(o.onUpdate(n,t,a,r),r.process&&s&&s!==t.style){for(var l in o.onProcessStyle(t.style,t,a),t.style){var u=t.style[l];u!==s[l]&&t.prop(l,u,Z)}for(var c in s){var f=t.style[c],d=s[c];null==f&&f!==d&&t.prop(c,null,Z)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=m(e).linebreak,o=0;o<this.index.length;o++){var a=this.index[o].toString(e);(a||r)&&(t&&(t+=i),t+=a)}return t},e}(),Y=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,r.A)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new $(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===u(e)?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),K=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),J=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,l.A)(t,["attached"]),i=m(r).linebreak,o="",a=0;a<this.registry.length;a++){var s=this.registry[a];null!=n&&s.attached!==n||(o&&(o+=i),o+=s.toString(r))}return o},(0,o.A)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),Q=new J,ee="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),te="2f1acc6c3a606b082e5eef5e54414ffb";null==ee[te]&&(ee[te]=0);var ne=ee[te]++,re=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+ne+i+t:o+n.key+"-"+ne+(i?"-"+i:"")+"-"+t}},ie=function(e){var t;return function(){return t||(t=e()),t}},oe=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(e){return""}},ae=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=h(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,o=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,o,i>-1?"important":"")}}catch(e){return!1}return!0},se=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(e){}},le=function(e,t){return e.selectorText=t,e.selectorText===t},ue=ie((function(){return document.querySelector("head")}));var ce=ie((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),fe=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(e){return!1}return e.cssRules[n]},de=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},pe=function(){function e(e){this.getPropertyValue=oe,this.setProperty=ae,this.removeProperty=se,this.setSelector=le,this.hasInsertedRules=!1,this.cssRules=[],e&&Q.add(e),this.sheet=e;var t,n=this.sheet?this.sheet.options:{},r=n.media,i=n.meta,o=n.element;this.element=o||((t=document.createElement("style")).textContent="\n",t),this.element.setAttribute("data-jss",""),r&&this.element.setAttribute("media",r),i&&this.element.setAttribute("data-meta",i);var a=ce();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=function(e){var t=Q.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"==typeof r){var i=function(e){for(var t=ue(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"==typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else ue().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var o=de(n,t);if(!1===(i=fe(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(r.rules,i),i}var a=e.toString();if(!a)return!1;var s=de(n,t),l=fe(n,a,s);return!1!==l&&(this.hasInsertedRules=!0,this.refCssRule(e,s,l),l)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof Y&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),he=0,me=function(){function e(e){this.id=he++,this.version="10.10.0",this.plugins=new K,this.options={id:{minify:!1},createGenerateId:re,Renderer:i.A?pe:null,plugins:[]},this.generateId=re({minify:!1});for(var t=0;t<q.length;t++)this.plugins.use(q[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,r.A)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!=typeof n&&(n=0===Q.index?0:Q.index+1);var i=new Y(e,(0,r.A)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),Q.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===u(e))return this.createRule(void 0,e,t);var i=(0,r.A)({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var o=d(e,t,i);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),ve=function(e){return new me(e)},ge="object"===("undefined"==typeof CSS?"undefined":u(CSS))&&null!=CSS&&"number"in CSS;function ye(e){var t=null;for(var n in e){var r=e[n],i=u(r);if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var o=ye(r);o&&(t||(t={}),t[n]=o)}}return t}ve()},43263:(e,t,n)=>{var r=n(58123)(n(82350),"DataView");e.exports=r},28570:(e,t,n)=>{var r=n(15097),i=n(85265),o=n(61048),a=n(19340),s=n(40028);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},10881:(e,t,n)=>{var r=n(52467),i=n(78218);function o(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},18714:(e,t,n)=>{var r=n(6265),i=n(30897),o=n(29848),a=n(9324),s=n(71644);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},37664:(e,t,n)=>{var r=n(52467),i=n(78218);function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},31850:(e,t,n)=>{var r=n(58123)(n(82350),"Map");e.exports=r},37290:(e,t,n)=>{var r=n(48425),i=n(4929),o=n(1288),a=n(1596),s=n(8108);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},2805:(e,t,n)=>{var r=n(58123)(n(82350),"Promise");e.exports=r},57840:(e,t,n)=>{var r=n(58123)(n(82350),"Set");e.exports=r},88508:(e,t,n)=>{var r=n(37290),i=n(86149),o=n(49686);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},80956:(e,t,n)=>{var r=n(18714),i=n(44791),o=n(10499),a=n(98402),s=n(25110),l=n(70958);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},73954:(e,t,n)=>{var r=n(82350).Symbol;e.exports=r},49975:(e,t,n)=>{var r=n(82350).Uint8Array;e.exports=r},22678:(e,t,n)=>{var r=n(58123)(n(82350),"WeakMap");e.exports=r},41776:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},81708:e=>{e.exports=function(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}},58224:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},13879:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},32636:(e,t,n)=>{var r=n(49150);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},18660:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},77350:(e,t,n)=>{var r=n(72905),i=n(74467),o=n(33606),a=n(97821),s=n(70576),l=n(15466),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),f=!n&&!c&&a(e),d=!n&&!c&&!f&&l(e),p=n||c||f||d,h=p?r(e.length,String):[],m=h.length;for(var v in e)!t&&!u.call(e,v)||p&&("length"==v||f&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||h.push(v);return h}},81895:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},60937:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},44289:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},38094:(e,t,n)=>{var r=n(1153),i=n(86717),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},29786:(e,t,n)=>{var r=n(86717);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},66146:(e,t,n)=>{var r=n(94602);e.exports=function(e,t,n,i){return r(e,(function(e,r,o){t(i,e,n(e),o)})),i}},15770:(e,t,n)=>{var r=n(75976),i=n(3115);e.exports=function(e,t){return e&&r(t,i(t),e)}},13117:(e,t,n)=>{var r=n(75976),i=n(20824);e.exports=function(e,t){return e&&r(t,i(t),e)}},1153:(e,t,n)=>{var r=n(79076);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},83956:e=>{e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},74182:(e,t,n)=>{var r=n(80956),i=n(58224),o=n(38094),a=n(15770),s=n(13117),l=n(88443),u=n(82098),c=n(48906),f=n(53197),d=n(66169),p=n(63490),h=n(34006),m=n(96694),v=n(70152),g=n(97420),y=n(33606),b=n(97821),w=n(15873),x=n(78204),S=n(39287),E=n(3115),_=n(20824),T="[object Arguments]",O="[object Function]",A="[object Object]",C={};C[T]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[A]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[O]=C["[object WeakMap]"]=!1,e.exports=function e(t,n,P,k,R,I){var M,D=1&n,j=2&n,L=4&n;if(P&&(M=R?P(t,k,R,I):P(t)),void 0!==M)return M;if(!x(t))return t;var N=y(t);if(N){if(M=m(t),!D)return u(t,M)}else{var z=h(t),B=z==O||"[object GeneratorFunction]"==z;if(b(t))return l(t,D);if(z==A||z==T||B&&!R){if(M=j||B?{}:g(t),!D)return j?f(t,s(M,t)):c(t,a(M,t))}else{if(!C[z])return R?t:{};M=v(t,z,D)}}I||(I=new r);var F=I.get(t);if(F)return F;I.set(t,M),S(t)?t.forEach((function(r){M.add(e(r,n,P,r,t,I))})):w(t)&&t.forEach((function(r,i){M.set(i,e(r,n,P,i,t,I))}));var W=N?void 0:(L?j?p:d:j?_:E)(t);return i(W||t,(function(r,i){W&&(r=t[i=r]),o(M,i,e(r,n,P,i,t,I))})),M}},52467:(e,t,n)=>{var r=n(78204),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},26988:e=>{e.exports=function(e,t,n){if("function"!=typeof e)throw new TypeError("Expected a function");return setTimeout((function(){e.apply(void 0,n)}),t)}},10160:(e,t,n)=>{var r=n(88508),i=n(32636),o=n(18660),a=n(81895),s=n(86468),l=n(44816);e.exports=function(e,t,n,u){var c=-1,f=i,d=!0,p=e.length,h=[],m=t.length;if(!p)return h;n&&(t=a(t,s(n))),u?(f=o,d=!1):t.length>=200&&(f=l,d=!1,t=new r(t));e:for(;++c<p;){var v=e[c],g=null==n?v:n(v);if(v=u||0!==v?v:0,d&&g==g){for(var y=m;y--;)if(t[y]===g)continue e;h.push(v)}else f(t,g,u)||h.push(v)}return h}},94602:(e,t,n)=>{var r=n(73394),i=n(18746)(r);e.exports=i},58661:(e,t,n)=>{var r=n(94602);e.exports=function(e,t){var n=[];return r(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}},77170:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},42681:(e,t,n)=>{var r=n(60937),i=n(86810);e.exports=function e(t,n,o,a,s){var l=-1,u=t.length;for(o||(o=i),s||(s=[]);++l<u;){var c=t[l];n>0&&o(c)?n>1?e(c,n-1,o,a,s):r(s,c):a||(s[s.length]=c)}return s}},1348:(e,t,n)=>{var r=n(23988)();e.exports=r},73394:(e,t,n)=>{var r=n(1348),i=n(3115);e.exports=function(e,t){return e&&r(e,t,i)}},42643:(e,t,n)=>{var r=n(98918),i=n(98280);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},6788:(e,t,n)=>{var r=n(60937),i=n(33606);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},26947:(e,t,n)=>{var r=n(73954),i=n(2358),o=n(54397),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},58628:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},49150:(e,t,n)=>{var r=n(77170),i=n(35038),o=n(32442);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},61259:(e,t,n)=>{var r=n(26947),i=n(48499);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},94639:(e,t,n)=>{var r=n(6017),i=n(48499);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}},6017:(e,t,n)=>{var r=n(80956),i=n(51134),o=n(37261),a=n(16158),s=n(34006),l=n(33606),u=n(97821),c=n(15466),f="[object Arguments]",d="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,v,g){var y=l(e),b=l(t),w=y?d:s(e),x=b?d:s(t),S=(w=w==f?p:w)==p,E=(x=x==f?p:x)==p,_=w==x;if(_&&u(e)){if(!u(t))return!1;y=!0,S=!1}if(_&&!S)return g||(g=new r),y||c(e)?i(e,t,n,m,v,g):o(e,t,w,n,m,v,g);if(!(1&n)){var T=S&&h.call(e,"__wrapped__"),O=E&&h.call(t,"__wrapped__");if(T||O){var A=T?e.value():e,C=O?t.value():t;return g||(g=new r),v(A,C,n,m,g)}}return!!_&&(g||(g=new r),a(e,t,n,m,v,g))}},30425:(e,t,n)=>{var r=n(34006),i=n(48499);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},87882:(e,t,n)=>{var r=n(80956),i=n(94639);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var c=(u=n[a])[0],f=e[c],d=u[1];if(l&&u[2]){if(void 0===f&&!(c in e))return!1}else{var p=new r;if(o)var h=o(f,d,c,e,t,p);if(!(void 0===h?i(d,f,3,o,p):h))return!1}}return!0}},35038:e=>{e.exports=function(e){return e!=e}},87688:(e,t,n)=>{var r=n(41927),i=n(51015),o=n(78204),a=n(57522),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},23199:(e,t,n)=>{var r=n(34006),i=n(48499);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},98946:(e,t,n)=>{var r=n(26947),i=n(667),o=n(48499),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},6070:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=n(23646),o=n(50407),a=n(87893),s=n(33606),l=n(46274);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==r(e)?s(e)?o(e[0],e[1]):i(e):l(e)}},69235:(e,t,n)=>{var r=n(35490),i=n(65817),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},31968:(e,t,n)=>{var r=n(78204),i=n(35490),o=n(14498),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},78218:e=>{e.exports=function(){}},44641:(e,t,n)=>{var r=n(94602),i=n(833);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},23646:(e,t,n)=>{var r=n(87882),i=n(47839),o=n(36432);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},50407:(e,t,n)=>{var r=n(94639),i=n(41499),o=n(21532),a=n(67027),s=n(70547),l=n(36432),u=n(98280);e.exports=function(e,t){return a(e)&&s(t)?l(u(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},64278:(e,t,n)=>{var r=n(81895),i=n(42643),o=n(6070),a=n(44641),s=n(41826),l=n(86468),u=n(52679),c=n(87893),f=n(33606);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return f(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[c];var d=-1;t=r(t,l(o));var p=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++d,value:e}}));return s(p,(function(e,t){return u(e,t,n)}))}},78919:(e,t,n)=>{var r=n(42643),i=n(51703),o=n(98918);e.exports=function(e,t,n){for(var a=-1,s=t.length,l={};++a<s;){var u=t[a],c=r(e,u);n(c,u)&&i(l,o(u,e),c)}return l}},42570:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},52144:(e,t,n)=>{var r=n(42643);e.exports=function(e){return function(t){return r(t,e)}}},14603:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},53849:(e,t,n)=>{var r=n(87893),i=n(41842),o=n(58956);e.exports=function(e,t){return o(i(e,t,r),e+"")}},51703:(e,t,n)=>{var r=n(38094),i=n(98918),o=n(70576),a=n(78204),s=n(98280);e.exports=function(e,t,n,l){if(!a(e))return e;for(var u=-1,c=(t=i(t,e)).length,f=c-1,d=e;null!=d&&++u<c;){var p=s(t[u]),h=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(u!=f){var m=d[p];void 0===(h=l?l(m,p,d):void 0)&&(h=a(m)?m:o(t[u+1])?[]:{})}r(d,p,h),d=d[p]}return e}},9727:(e,t,n)=>{var r=n(87893),i=n(3297),o=i?function(e,t){return i.set(e,t),e}:r;e.exports=o},64699:(e,t,n)=>{var r=n(95563),i=n(79076),o=n(87893),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},76365:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},41826:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},72905:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},28211:(e,t,n)=>{var r=n(73954),i=n(81895),o=n(33606),a=n(16355),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},36435:(e,t,n)=>{var r=n(77041),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},86468:e=>{e.exports=function(e){return function(t){return e(t)}}},73406:(e,t,n)=>{var r=n(88508),i=n(32636),o=n(18660),a=n(44816),s=n(51680),l=n(23284);e.exports=function(e,t,n){var u=-1,c=i,f=e.length,d=!0,p=[],h=p;if(n)d=!1,c=o;else if(f>=200){var m=t?null:s(e);if(m)return l(m);d=!1,c=a,h=new r}else h=t?[]:p;e:for(;++u<f;){var v=e[u],g=t?t(v):v;if(v=n||0!==v?v:0,d&&g==g){for(var y=h.length;y--;)if(h[y]===g)continue e;t&&h.push(g),p.push(v)}else c(h,g,n)||(h!==p&&h.push(g),p.push(v))}return p}},52162:(e,t,n)=>{var r=n(98918),i=n(5751),o=n(53126),a=n(98280);e.exports=function(e,t){return t=r(t,e),null==(e=o(e,t))||delete e[a(i(t))]}},35610:(e,t,n)=>{var r=n(42643),i=n(51703);e.exports=function(e,t,n,o){return i(e,t,n(r(e,t)),o)}},92977:(e,t,n)=>{var r=n(81895);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},94182:(e,t,n)=>{var r=n(10160),i=n(42681),o=n(73406);e.exports=function(e,t,n){var a=e.length;if(a<2)return a?o(e[0]):[];for(var s=-1,l=Array(a);++s<a;)for(var u=e[s],c=-1;++c<a;)c!=s&&(l[s]=r(l[s]||u,e[c],t,n));return o(i(l,1),t,n)}},44816:e=>{e.exports=function(e,t){return e.has(t)}},32365:(e,t,n)=>{var r=n(87893);e.exports=function(e){return"function"==typeof e?e:r}},98918:(e,t,n)=>{var r=n(33606),i=n(67027),o=n(96509),a=n(1083);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},32578:(e,t,n)=>{var r=n(49975);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},88443:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}e=n.nmd(e);var i=n(82350),o="object"==r(t)&&t&&!t.nodeType&&t,a=o&&"object"==r(e)&&e&&!e.nodeType&&e,s=a&&a.exports===o?i.Buffer:void 0,l=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=l?l(n):new e.constructor(n);return e.copy(r),r}},36176:(e,t,n)=>{var r=n(32578);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},71476:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},67141:(e,t,n)=>{var r=n(73954),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},69624:(e,t,n)=>{var r=n(32578);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},29777:(e,t,n)=>{var r=n(16355);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e==e,a=r(e),s=void 0!==t,l=null===t,u=t==t,c=r(t);if(!l&&!c&&!a&&e>t||a&&s&&u&&!l&&!c||i&&s&&u||!n&&u||!o)return 1;if(!i&&!a&&!c&&e<t||c&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!u)return-1}return 0}},52679:(e,t,n)=>{var r=n(29777);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,l=n.length;++i<s;){var u=r(o[i],a[i]);if(u)return i>=l?u:u*("desc"==n[i]?-1:1)}return e.index-t.index}},47553:e=>{var t=Math.max;e.exports=function(e,n,r,i){for(var o=-1,a=e.length,s=r.length,l=-1,u=n.length,c=t(a-s,0),f=Array(u+c),d=!i;++l<u;)f[l]=n[l];for(;++o<s;)(d||o<a)&&(f[r[o]]=e[o]);for(;c--;)f[l++]=e[o++];return f}},68683:e=>{var t=Math.max;e.exports=function(e,n,r,i){for(var o=-1,a=e.length,s=-1,l=r.length,u=-1,c=n.length,f=t(a-l,0),d=Array(f+c),p=!i;++o<f;)d[o]=e[o];for(var h=o;++u<c;)d[h+u]=n[u];for(;++s<l;)(p||o<a)&&(d[h+r[s]]=e[o++]);return d}},82098:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},75976:(e,t,n)=>{var r=n(38094),i=n(1153);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=o?o(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?i(n,u,c):r(n,u,c)}return n}},48906:(e,t,n)=>{var r=n(75976),i=n(71723);e.exports=function(e,t){return r(e,i(e),t)}},53197:(e,t,n)=>{var r=n(75976),i=n(46648);e.exports=function(e,t){return r(e,i(e),t)}},14414:(e,t,n)=>{var r=n(82350)["__core-js_shared__"];e.exports=r},25176:e=>{e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},4019:(e,t,n)=>{var r=n(81708),i=n(66146),o=n(6070),a=n(33606);e.exports=function(e,t){return function(n,s){var l=a(n)?r:i,u=t?t():{};return l(n,e,o(s,2),u)}}},18746:(e,t,n)=>{var r=n(833);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},23988:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},41945:(e,t,n)=>{var r=n(43676),i=n(82350);e.exports=function(e,t,n){var o=1&t,a=r(e);return function t(){return(this&&this!==i&&this instanceof t?a:e).apply(o?n:this,arguments)}}},43676:(e,t,n)=>{var r=n(52467),i=n(78204);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),o=e.apply(n,t);return i(o)?o:n}}},38875:(e,t,n)=>{var r=n(41776),i=n(43676),o=n(71424),a=n(93720),s=n(24514),l=n(18589),u=n(82350);e.exports=function(e,t,n){var c=i(e);return function i(){for(var f=arguments.length,d=Array(f),p=f,h=s(i);p--;)d[p]=arguments[p];var m=f<3&&d[0]!==h&&d[f-1]!==h?[]:l(d,h);return(f-=m.length)<n?a(e,t,o,i.placeholder,void 0,d,m,void 0,void 0,n-f):r(this&&this!==u&&this instanceof i?c:e,this,d)}}},59254:(e,t,n)=>{var r=n(37664),i=n(34799),o=n(97596),a=n(63009),s=n(33606),l=n(17416);e.exports=function(e){return i((function(t){var n=t.length,i=n,u=r.prototype.thru;for(e&&t.reverse();i--;){var c=t[i];if("function"!=typeof c)throw new TypeError("Expected a function");if(u&&!f&&"wrapper"==a(c))var f=new r([],!0)}for(i=f?i:n;++i<n;){c=t[i];var d=a(c),p="wrapper"==d?o(c):void 0;f=p&&l(p[0])&&424==p[1]&&!p[4].length&&1==p[9]?f[a(p[0])].apply(f,p[3]):1==c.length&&l(c)?f[d]():f.thru(c)}return function(){var e=arguments,r=e[0];if(f&&1==e.length&&s(r))return f.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}},71424:(e,t,n)=>{var r=n(47553),i=n(68683),o=n(25176),a=n(43676),s=n(93720),l=n(24514),u=n(50383),c=n(18589),f=n(82350);e.exports=function e(t,n,d,p,h,m,v,g,y,b){var w=128&n,x=1&n,S=2&n,E=24&n,_=512&n,T=S?void 0:a(t);return function O(){for(var A=arguments.length,C=Array(A),P=A;P--;)C[P]=arguments[P];if(E)var k=l(O),R=o(C,k);if(p&&(C=r(C,p,h,E)),m&&(C=i(C,m,v,E)),A-=R,E&&A<b){var I=c(C,k);return s(t,n,e,O.placeholder,d,C,I,g,y,b-A)}var M=x?d:this,D=S?M[t]:t;return A=C.length,g?C=u(C,g):_&&A>1&&C.reverse(),w&&y<A&&(C.length=y),this&&this!==f&&this instanceof O&&(D=T||a(D)),D.apply(M,C)}}},60901:(e,t,n)=>{var r=n(41776),i=n(43676),o=n(82350);e.exports=function(e,t,n,a){var s=1&t,l=i(e);return function t(){for(var i=-1,u=arguments.length,c=-1,f=a.length,d=Array(f+u),p=this&&this!==o&&this instanceof t?l:e;++c<f;)d[c]=a[c];for(;u--;)d[c++]=arguments[++i];return r(p,s?n:this,d)}}},93720:(e,t,n)=>{var r=n(17416),i=n(41784),o=n(21444);e.exports=function(e,t,n,a,s,l,u,c,f,d){var p=8&t;t|=p?32:64,4&(t&=~(p?64:32))||(t&=-4);var h=[e,t,s,p?l:void 0,p?u:void 0,p?void 0:l,p?void 0:u,c,f,d],m=n.apply(void 0,h);return r(e)&&i(m,h),m.placeholder=a,o(m,e,t)}},51680:(e,t,n)=>{var r=n(57840),i=n(35439),o=n(23284),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},862:(e,t,n)=>{var r=n(9727),i=n(41945),o=n(38875),a=n(71424),s=n(60901),l=n(97596),u=n(2020),c=n(41784),f=n(21444),d=n(51178),p=Math.max;e.exports=function(e,t,n,h,m,v,g,y){var b=2&t;if(!b&&"function"!=typeof e)throw new TypeError("Expected a function");var w=h?h.length:0;if(w||(t&=-97,h=m=void 0),g=void 0===g?g:p(d(g),0),y=void 0===y?y:d(y),w-=m?m.length:0,64&t){var x=h,S=m;h=m=void 0}var E=b?void 0:l(e),_=[e,t,n,h,m,x,S,v,g,y];if(E&&u(_,E),e=_[0],t=_[1],n=_[2],h=_[3],m=_[4],!(y=_[9]=void 0===_[9]?b?0:e.length:p(_[9]-w,0))&&24&t&&(t&=-25),t&&1!=t)T=8==t||16==t?o(e,t,y):32!=t&&33!=t||m.length?a.apply(void 0,_):s(e,t,n,h);else var T=i(e,t,n);return f((E?r:c)(T,_),e,t)}},39515:(e,t,n)=>{var r=n(70712);e.exports=function(e){return r(e)?void 0:e}},94016:(e,t,n)=>{var r=n(14603)({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"});e.exports=r},79076:(e,t,n)=>{var r=n(58123),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},51134:(e,t,n)=>{var r=n(88508),i=n(44289),o=n(44816);e.exports=function(e,t,n,a,s,l){var u=1&n,c=e.length,f=t.length;if(c!=f&&!(u&&f>c))return!1;var d=l.get(e),p=l.get(t);if(d&&p)return d==t&&p==e;var h=-1,m=!0,v=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++h<c;){var g=e[h],y=t[h];if(a)var b=u?a(y,g,h,t,e,l):a(g,y,h,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(v){if(!i(t,(function(e,t){if(!o(v,t)&&(g===e||s(g,e,n,a,l)))return v.push(t)}))){m=!1;break}}else if(g!==y&&!s(g,y,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},37261:(e,t,n)=>{var r=n(73954),i=n(49975),o=n(86717),a=n(51134),s=n(10246),l=n(23284),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var h=1&r;if(p||(p=l),e.size!=t.size&&!h)return!1;var m=d.get(e);if(m)return m==t;r|=2,d.set(e,t);var v=a(p(e),p(t),r,u,f,d);return d.delete(e),v;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},16158:(e,t,n)=>{var r=n(66169),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var f=c;f--;){var d=u[f];if(!(l?d in t:i.call(t,d)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var m=!0;s.set(e,t),s.set(t,e);for(var v=l;++f<c;){var g=e[d=u[f]],y=t[d];if(o)var b=l?o(y,g,d,t,e,s):o(g,y,d,e,t,s);if(!(void 0===b?g===y||a(g,y,n,o,s):b)){m=!1;break}v||(v="constructor"==d)}if(m&&!v){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(m=!1)}return s.delete(e),s.delete(t),m}},34799:(e,t,n)=>{var r=n(94881),i=n(41842),o=n(58956);e.exports=function(e){return o(i(e,void 0,r),e+"")}},52455:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g;e.exports=i},66169:(e,t,n)=>{var r=n(6788),i=n(71723),o=n(3115);e.exports=function(e){return r(e,o,i)}},63490:(e,t,n)=>{var r=n(6788),i=n(46648),o=n(20824);e.exports=function(e){return r(e,o,i)}},97596:(e,t,n)=>{var r=n(3297),i=n(35439),o=r?function(e){return r.get(e)}:i;e.exports=o},63009:(e,t,n)=>{var r=n(7396),i=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],o=i.call(r,t)?n.length:0;o--;){var a=n[o],s=a.func;if(null==s||s==e)return a.name}return t}},24514:e=>{e.exports=function(e){return e.placeholder}},88940:(e,t,n)=>{var r=n(57227);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},47839:(e,t,n)=>{var r=n(70547),i=n(3115);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},58123:(e,t,n)=>{var r=n(87688),i=n(6283);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},98096:(e,t,n)=>{var r=n(76646)(Object.getPrototypeOf,Object);e.exports=r},2358:(e,t,n)=>{var r=n(73954),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},71723:(e,t,n)=>{var r=n(13879),i=n(38522),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},46648:(e,t,n)=>{var r=n(60937),i=n(98096),o=n(71723),a=n(38522),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},34006:(e,t,n)=>{var r=n(43263),i=n(31850),o=n(2805),a=n(57840),s=n(22678),l=n(26947),u=n(57522),c="[object Map]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",h="[object DataView]",m=u(r),v=u(i),g=u(o),y=u(a),b=u(s),w=l;(r&&w(new r(new ArrayBuffer(1)))!=h||i&&w(new i)!=c||o&&w(o.resolve())!=f||a&&w(new a)!=d||s&&w(new s)!=p)&&(w=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return h;case v:return c;case g:return f;case y:return d;case b:return p}return t}),e.exports=w},6283:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},32596:e=>{var t=/\{\n\/\* \[wrapped with (.+)\] \*/,n=/,? & /;e.exports=function(e){var r=e.match(t);return r?r[1].split(n):[]}},24091:(e,t,n)=>{var r=n(98918),i=n(74467),o=n(33606),a=n(70576),s=n(667),l=n(98280);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,f=!1;++u<c;){var d=l(t[u]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++u!=c?f:!!(c=null==e?0:e.length)&&s(c)&&a(d,c)&&(o(e)||i(e))}},15097:(e,t,n)=>{var r=n(46929);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},85265:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},61048:(e,t,n)=>{var r=n(46929),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},19340:(e,t,n)=>{var r=n(46929),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},40028:(e,t,n)=>{var r=n(46929);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},96694:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},70152:(e,t,n)=>{var r=n(32578),i=n(36176),o=n(71476),a=n(67141),s=n(69624);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return o(e);case"[object Symbol]":return a(e)}}},97420:(e,t,n)=>{var r=n(52467),i=n(98096),o=n(35490);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},19685:e=>{var t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,n){var r=n.length;if(!r)return e;var i=r-1;return n[i]=(r>1?"& ":"")+n[i],n=n.join(r>2?", ":" "),e.replace(t,"{\n/* [wrapped with "+n+"] */\n")}},86810:(e,t,n)=>{var r=n(73954),i=n(74467),o=n(33606),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},70576:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var i=t(e);return!!(r=null==r?9007199254740991:r)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<r}},18135:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=n(86717),o=n(833),a=n(70576),s=n(78204);e.exports=function(e,t,n){if(!s(n))return!1;var l=r(t);return!!("number"==l?o(n)&&a(t,n.length):"string"==l&&t in n)&&i(n[t],e)}},67027:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=n(33606),o=n(16355),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=r(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||s.test(e)||!a.test(e)||null!=t&&e in Object(t)}},57227:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function(e){var n=t(e);return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}},17416:(e,t,n)=>{var r=n(10881),i=n(97596),o=n(63009),a=n(14137);e.exports=function(e){var t=o(e),n=a[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=i(n);return!!s&&e===s[0]}},51015:(e,t,n)=>{var r,i=n(14414),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},35490:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},70547:(e,t,n)=>{var r=n(78204);e.exports=function(e){return e==e&&!r(e)}},6265:e=>{e.exports=function(){this.__data__=[],this.size=0}},30897:(e,t,n)=>{var r=n(29786),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},29848:(e,t,n)=>{var r=n(29786);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},9324:(e,t,n)=>{var r=n(29786);e.exports=function(e){return r(this.__data__,e)>-1}},71644:(e,t,n)=>{var r=n(29786);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},48425:(e,t,n)=>{var r=n(28570),i=n(18714),o=n(31850);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},4929:(e,t,n)=>{var r=n(88940);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},1288:(e,t,n)=>{var r=n(88940);e.exports=function(e){return r(this,e).get(e)}},1596:(e,t,n)=>{var r=n(88940);e.exports=function(e){return r(this,e).has(e)}},8108:(e,t,n)=>{var r=n(88940);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},10246:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},36432:e=>{e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},47237:(e,t,n)=>{var r=n(25411);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},2020:(e,t,n)=>{var r=n(47553),i=n(68683),o=n(18589),a="__lodash_placeholder__",s=Math.min;e.exports=function(e,t){var n=e[1],l=t[1],u=n|l,c=u<131,f=128==l&&8==n||128==l&&256==n&&e[7].length<=t[8]||384==l&&t[7].length<=t[8]&&8==n;if(!c&&!f)return e;1&l&&(e[2]=t[2],u|=1&n?0:4);var d=t[3];if(d){var p=e[3];e[3]=p?r(p,d,t[4]):d,e[4]=p?o(e[3],a):t[4]}return(d=t[5])&&(p=e[5],e[5]=p?i(p,d,t[6]):d,e[6]=p?o(e[5],a):t[6]),(d=t[7])&&(e[7]=d),128&l&&(e[8]=null==e[8]?t[8]:s(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=u,e}},3297:(e,t,n)=>{var r=n(22678),i=r&&new r;e.exports=i},46929:(e,t,n)=>{var r=n(58123)(Object,"create");e.exports=r},65817:(e,t,n)=>{var r=n(76646)(Object.keys,Object);e.exports=r},14498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},32498:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}e=n.nmd(e);var i=n(52455),o="object"==r(t)&&t&&!t.nodeType&&t,a=o&&"object"==r(e)&&e&&!e.nodeType&&e,s=a&&a.exports===o&&i.process,l=function(){try{return a&&a.require&&a.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=l},54397:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},76646:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},41842:(e,t,n)=>{var r=n(41776),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(l),r(e,this,u)}}},53126:(e,t,n)=>{var r=n(42643),i=n(76365);e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}},7396:e=>{e.exports={}},50383:(e,t,n)=>{var r=n(82098),i=n(70576),o=Math.min;e.exports=function(e,t){for(var n=e.length,a=o(t.length,n),s=r(e);a--;){var l=t[a];e[a]=i(l,n)?s[l]:void 0}return e}},18589:e=>{var t="__lodash_placeholder__";e.exports=function(e,n){for(var r=-1,i=e.length,o=0,a=[];++r<i;){var s=e[r];s!==n&&s!==t||(e[r]=t,a[o++]=r)}return a}},82350:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=n(52455),o="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,a=i||o||Function("return this")();e.exports=a},86149:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},49686:e=>{e.exports=function(e){return this.__data__.has(e)}},41784:(e,t,n)=>{var r=n(9727),i=n(4100)(r);e.exports=i},23284:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},58956:(e,t,n)=>{var r=n(64699),i=n(4100)(r);e.exports=i},21444:(e,t,n)=>{var r=n(32596),i=n(19685),o=n(58956),a=n(86225);e.exports=function(e,t,n){var s=t+"";return o(e,i(s,a(r(s),n)))}},4100:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},44791:(e,t,n)=>{var r=n(18714);e.exports=function(){this.__data__=new r,this.size=0}},10499:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},98402:e=>{e.exports=function(e){return this.__data__.get(e)}},25110:e=>{e.exports=function(e){return this.__data__.has(e)}},70958:(e,t,n)=>{var r=n(18714),i=n(31850),o=n(37290);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},32442:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},96509:(e,t,n)=>{var r=n(47237),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},98280:(e,t,n)=>{var r=n(16355);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},57522:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},77041:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},86225:(e,t,n)=>{var r=n(58224),i=n(32636),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(o,(function(n){var r="_."+n[0];t&n[1]&&!i(e,r)&&e.push(r)})),e.sort()}},7970:(e,t,n)=>{var r=n(10881),i=n(37664),o=n(82098);e.exports=function(e){if(e instanceof r)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},31097:(e,t,n)=>{var r=n(862);e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,r(e,128,void 0,void 0,void 0,void 0,t)}},15004:(e,t,n)=>{var r=n(83956),i=n(69091);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=i(n))==n?n:0),void 0!==t&&(t=(t=i(t))==t?t:0),r(i(e),t,n)}},25630:(e,t,n)=>{var r=n(74182);e.exports=function(e){return r(e,4)}},36286:e=>{e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}},95563:e=>{e.exports=function(e){return function(){return e}}},78621:(e,t,n)=>{var r=n(1153),i=n(4019),o=Object.prototype.hasOwnProperty,a=i((function(e,t,n){o.call(e,n)?++e[n]:r(e,n,1)}));e.exports=a},56456:(e,t,n)=>{var r=n(862);function i(e,t,n){var o=r(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return o.placeholder=i.placeholder,o}i.placeholder={},e.exports=i},38624:(e,t,n)=>{var r=n(78204),i=n(75183),o=n(69091),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,f,d,p,h=0,m=!1,v=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=u;return l=u=void 0,h=t,f=e.apply(r,n)}function b(e){var n=e-p;return void 0===p||n>=t||n<0||v&&e-h>=c}function w(){var e=i();if(b(e))return x(e);d=setTimeout(w,function(e){var n=t-(e-p);return v?s(n,c-(e-h)):n}(e))}function x(e){return d=void 0,g&&l?y(e):(l=u=void 0,f)}function S(){var e=i(),n=b(e);if(l=arguments,u=this,p=e,n){if(void 0===d)return function(e){return h=e,d=setTimeout(w,t),m?y(e):f}(p);if(v)return clearTimeout(d),d=setTimeout(w,t),y(p)}return void 0===d&&(d=setTimeout(w,t)),f}return t=o(t)||0,r(n)&&(m=!!n.leading,c=(v="maxWait"in n)?a(o(n.maxWait)||0,t):c,g="trailing"in n?!!n.trailing:g),S.cancel=function(){void 0!==d&&clearTimeout(d),h=0,l=p=u=d=void 0},S.flush=function(){return void 0===d?f:x(i())},S}},63209:(e,t,n)=>{var r=n(94016),i=n(1083),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(o,r).replace(a,"")}},53875:(e,t,n)=>{var r=n(26988),i=n(53849)((function(e,t){return r(e,1,t)}));e.exports=i},44360:(e,t,n)=>{var r=n(10160),i=n(42681),o=n(53849),a=n(22574),s=o((function(e,t){return a(e)?r(e,i(t,1,a,!0)):[]}));e.exports=s},18358:(e,t,n)=>{var r=n(76365),i=n(51178);e.exports=function(e,t,n){var o=null==e?0:e.length;return o?(t=n||void 0===t?1:i(t),r(e,t<0?0:t,o)):[]}},34542:(e,t,n)=>{var r=n(76365),i=n(51178);e.exports=function(e,t,n){var o=null==e?0:e.length;return o?(t=n||void 0===t?1:i(t),r(e,0,(t=o-t)<0?0:t)):[]}},86717:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},18653:(e,t,n)=>{var r=n(13879),i=n(58661),o=n(6070),a=n(33606);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},94881:(e,t,n)=>{var r=n(42681);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},98027:(e,t,n)=>{var r=n(42681);e.exports=function(e){return null!=e&&e.length?r(e,1/0):[]}},7645:(e,t,n)=>{var r=n(59254)(!0);e.exports=r},13435:(e,t,n)=>{var r=n(92381),i=n(53311),o=Array.prototype.push;function a(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function l(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var i=r[0]=t.apply(void 0,r);return e.apply(void 0,r),i}}}e.exports=function e(t,n,u,c){var f="function"==typeof n,d=n===Object(n);if(d&&(c=u,u=n,n=void 0),null==u)throw new TypeError;c||(c={});var p={cap:!("cap"in c)||c.cap,curry:!("curry"in c)||c.curry,fixed:!("fixed"in c)||c.fixed,immutable:!("immutable"in c)||c.immutable,rearg:!("rearg"in c)||c.rearg},h=f?u:i,m="curry"in c&&c.curry,v="fixed"in c&&c.fixed,g="rearg"in c&&c.rearg,y=f?u.runInContext():void 0,b=f?u:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},w=b.ary,x=b.assign,S=b.clone,E=b.curry,_=b.forEach,T=b.isArray,O=b.isError,A=b.isFunction,C=b.isWeakMap,P=b.keys,k=b.rearg,R=b.toInteger,I=b.toPath,M=P(r.aryMethod),D={castArray:function(e){return function(){var t=arguments[0];return T(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[1],n=e(arguments[0],t),r=n.length;return p.cap&&"number"==typeof t?(t=t>2?t-2:1,r&&r<=t?n:a(n,t)):n}},mixin:function(e){return function(t){var n=this;if(!A(n))return e(n,Object(t));var r=[];return _(P(t),(function(e){A(t[e])&&r.push([e,n.prototype[e]])})),e(n,Object(t)),_(r,(function(e){var t=e[1];A(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]})),n}},nthArg:function(e){return function(t){var n=t<0?1:R(t)+1;return E(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return E(e(t,n),r)}},runInContext:function(n){return function(r){return e(t,n(r),c)}}};function j(e,t,n){if(p.fixed&&(v||!r.skipFixed[e])){var i=r.methodSpread[e],a=i&&i.start;return void 0===a?w(t,n):function(e,t){return function(){for(var n=arguments.length,r=n-1,i=Array(n);n--;)i[n]=arguments[n];var a=i[t],s=i.slice(0,t);return a&&o.apply(s,a),t!=r&&o.apply(s,i.slice(t+1)),e.apply(this,s)}}(t,a)}return t}function L(e,t,n){return p.rearg&&n>1&&(g||!r.skipRearg[e])?k(t,r.methodRearg[e]||r.aryRearg[n]):t}function N(e,t){for(var n=-1,r=(t=I(t)).length,i=r-1,o=S(Object(e)),a=o;null!=a&&++n<r;){var s=t[n],l=a[s];null==l||A(l)||O(l)||C(l)||(a[s]=S(n==i?l:Object(l))),a=a[s]}return o}function z(t,n){var i=r.aliasToReal[t]||t,o=r.remap[i]||i,a=c;return function(t){var r=f?y:b,s=f?y[o]:n,l=x(x({},a),t);return e(r,i,s,l)}}function B(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var i=p.rearg?0:n-1;return r[i]=t(r[i]),e.apply(void 0,r)}}function F(e,t,n){var i,o=r.aliasToReal[e]||e,u=t,c=D[o];return c?u=c(t):p.immutable&&(r.mutate.array[o]?u=l(t,s):r.mutate.object[o]?u=l(t,function(e){return function(t){return e({},t)}}(t)):r.mutate.set[o]&&(u=l(t,N))),_(M,(function(e){return _(r.aryMethod[e],(function(t){if(o==t){var n=r.methodSpread[o],s=n&&n.afterRearg;return i=s?j(o,L(o,u,e),e):L(o,j(o,u,e),e),i=function(e,t,n){return m||p.curry&&n>1?E(t,n):t}(0,i=function(e,t){if(p.cap){var n=r.iterateeRearg[e];if(n)return function(e,t){return B(e,(function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(k(a(e,n),t),n)}))}(t,n);var i=!f&&r.iterateeAry[e];if(i)return function(e,t){return B(e,(function(e){return"function"==typeof e?a(e,t):e}))}(t,i)}return t}(o,i),e),!1}})),!i})),i||(i=u),i==t&&(i=m?E(i,1):function(){return t.apply(this,arguments)}),i.convert=z(o,t),i.placeholder=t.placeholder=n,i}if(!d)return F(n,u,h);var W=u,H=[];return _(M,(function(e){_(r.aryMethod[e],(function(e){var t=W[r.remap[e]||e];t&&H.push([e,F(e,t,W)])}))})),_(P(W),(function(e){var t=W[e];if("function"==typeof t){for(var n=H.length;n--;)if(H[n][0]==e)return;t.convert=z(e,t),H.push([e,t])}})),_(H,(function(e){W[e[0]]=e[1]})),W.convert=function(e){return W.runInContext.convert(e)(void 0)},W.placeholder=W,_(P(W),(function(e){_(r.realToAlias[e]||[],(function(t){W[t]=W[e]}))})),W}},92381:(e,t)=>{t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var i in n){var o=n[i];e.call(r,o)?r[o].push(i):r[o]=[i]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},69671:(e,t,n)=>{e.exports={ary:n(31097),assign:n(15770),clone:n(25630),curry:n(56456),forEach:n(58224),isArray:n(33606),isError:n(7849),isFunction:n(41927),isWeakMap:n(44393),iteratee:n(25662),keys:n(69235),rearg:n(464),toInteger:n(51178),toPath:n(40389)}},76625:(e,t,n)=>{var r=n(13435),i=n(69671);e.exports=function(e,t,n){return r(i,e,t,n)}},53311:e=>{e.exports={}},1082:(e,t,n)=>{var r=n(76625)("set",n(33919));r.placeholder=n(53311),e.exports=r},68829:(e,t,n)=>{var r=n(76625)("update",n(44914));r.placeholder=n(53311),e.exports=r},41499:(e,t,n)=>{var r=n(42643);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},55409:(e,t,n)=>{var r=n(1153),i=n(4019),o=Object.prototype.hasOwnProperty,a=i((function(e,t,n){o.call(e,n)?e[n].push(t):r(e,n,[t])}));e.exports=a},21532:(e,t,n)=>{var r=n(58628),i=n(24091);e.exports=function(e,t){return null!=e&&i(e,t,r)}},87893:e=>{e.exports=function(e){return e}},74467:(e,t,n)=>{var r=n(61259),i=n(48499),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},33606:e=>{var t=Array.isArray;e.exports=t},833:(e,t,n)=>{var r=n(41927),i=n(667);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},22574:(e,t,n)=>{var r=n(833),i=n(48499);e.exports=function(e){return i(e)&&r(e)}},97821:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}e=n.nmd(e);var i=n(82350),o=n(20324),a="object"==r(t)&&t&&!t.nodeType&&t,s=a&&"object"==r(e)&&e&&!e.nodeType&&e,l=s&&s.exports===a?i.Buffer:void 0,u=(l?l.isBuffer:void 0)||o;e.exports=u},47114:(e,t,n)=>{var r=n(69235),i=n(34006),o=n(74467),a=n(33606),s=n(833),l=n(97821),u=n(35490),c=n(15466),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||c(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!r(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},15031:(e,t,n)=>{var r=n(94639);e.exports=function(e,t){return r(e,t)}},7849:(e,t,n)=>{var r=n(26947),i=n(48499),o=n(70712);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!o(e)}},41927:(e,t,n)=>{var r=n(26947),i=n(78204);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},667:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},15873:(e,t,n)=>{var r=n(30425),i=n(86468),o=n(32498),a=o&&o.isMap,s=a?i(a):r;e.exports=s},64398:e=>{e.exports=function(e){return null===e}},78204:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function(e){var n=t(e);return null!=e&&("object"==n||"function"==n)}},48499:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function(e){return null!=e&&"object"==t(e)}},70712:(e,t,n)=>{var r=n(26947),i=n(98096),o=n(48499),a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,c=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}},39287:(e,t,n)=>{var r=n(23199),i=n(86468),o=n(32498),a=o&&o.isSet,s=a?i(a):r;e.exports=s},36634:(e,t,n)=>{var r=n(26947),i=n(33606),o=n(48499);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},16355:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=n(26947),o=n(48499);e.exports=function(e){return"symbol"==r(e)||o(e)&&"[object Symbol]"==i(e)}},15466:(e,t,n)=>{var r=n(98946),i=n(86468),o=n(32498),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},60272:e=>{e.exports=function(e){return void 0===e}},44393:(e,t,n)=>{var r=n(34006),i=n(48499);e.exports=function(e){return i(e)&&"[object WeakMap]"==r(e)}},25662:(e,t,n)=>{var r=n(74182),i=n(6070);e.exports=function(e){return i("function"==typeof e?e:r(e,1))}},3115:(e,t,n)=>{var r=n(77350),i=n(69235),o=n(833);e.exports=function(e){return o(e)?r(e):i(e)}},20824:(e,t,n)=>{var r=n(77350),i=n(31968),o=n(833);e.exports=function(e){return o(e)?r(e,!0):i(e)}},5751:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},25411:(e,t,n)=>{var r=n(37290);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},35439:e=>{e.exports=function(){}},75183:(e,t,n)=>{var r=n(82350);e.exports=function(){return r.Date.now()}},73966:(e,t,n)=>{var r=n(81895),i=n(74182),o=n(52162),a=n(98918),s=n(75976),l=n(39515),u=n(34799),c=n(63490),f=u((function(e,t){var n={};if(null==e)return n;var u=!1;t=r(t,(function(t){return t=a(t,e),u||(u=t.length>1),t})),s(e,c(e),n),u&&(n=i(n,7,l));for(var f=t.length;f--;)o(n,t[f]);return n}));e.exports=f},13423:(e,t,n)=>{var r=n(81895),i=n(6070),o=n(78919),a=n(63490);e.exports=function(e,t){if(null==e)return{};var n=r(a(e),(function(e){return[e]}));return t=i(t),o(e,n,(function(e,n){return t(e,n[0])}))}},46274:(e,t,n)=>{var r=n(42570),i=n(52144),o=n(67027),a=n(98280);e.exports=function(e){return o(e)?r(a(e)):i(e)}},464:(e,t,n)=>{var r=n(862),i=n(34799)((function(e,t){return r(e,256,void 0,void 0,void 0,t)}));e.exports=i},33919:(e,t,n)=>{var r=n(51703);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},57434:(e,t,n)=>{var r=n(42681),i=n(64278),o=n(53849),a=n(18135),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},38522:e=>{e.exports=function(){return[]}},20324:e=>{e.exports=function(){return!1}},80528:(e,t,n)=>{var r=n(76365),i=n(51178);e.exports=function(e,t,n){return e&&e.length?(t=n||void 0===t?1:i(t),r(e,0,t<0?0:t)):[]}},8771:(e,t,n)=>{var r=n(38624),i=n(78204);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},41333:(e,t,n)=>{var r=n(69091);e.exports=function(e){return e?Infinity===(e=r(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},51178:(e,t,n)=>{var r=n(41333);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},69091:(e,t,n)=>{var r=n(36435),i=n(78204),o=n(16355),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},40389:(e,t,n)=>{var r=n(81895),i=n(82098),o=n(33606),a=n(16355),s=n(96509),l=n(98280),u=n(1083);e.exports=function(e){return o(e)?r(e,l):a(e)?[e]:i(s(u(e)))}},1083:(e,t,n)=>{var r=n(28211);e.exports=function(e){return null==e?"":r(e)}},80852:(e,t,n)=>{var r=n(42681),i=n(53849),o=n(73406),a=n(22574),s=i((function(e){return o(r(e,1,a,!0))}));e.exports=s},44914:(e,t,n)=>{var r=n(35610),i=n(32365);e.exports=function(e,t,n){return null==e?e:r(e,t,i(n))}},37337:(e,t,n)=>{var r=n(92977),i=n(3115);e.exports=function(e){return null==e?[]:r(e,i(e))}},77179:(e,t,n)=>{var r=n(10160),i=n(53849),o=n(22574),a=i((function(e,t){return o(e)?r(e,t):[]}));e.exports=a},14137:(e,t,n)=>{var r=n(10881),i=n(37664),o=n(78218),a=n(33606),s=n(48499),l=n(7970),u=Object.prototype.hasOwnProperty;function c(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof i)return e;if(u.call(e,"__wrapped__"))return l(e)}return new i(e)}c.prototype=o.prototype,c.prototype.constructor=c,e.exports=c},45646:(e,t,n)=>{var r=n(13879),i=n(53849),o=n(94182),a=n(22574),s=i((function(e){return o(r(e,a))}));e.exports=s},33415:function(e,t,n){e=n.nmd(e);var r,i,o,a,s=n(3324);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}"undefined"!=typeof self&&self,a=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==l(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(9)),r(n(10)),r(n(11)),r(n(12)),r(n(13)),r(n(14)),r(n(15)),r(n(16)),r(n(17)),r(n(31)),r(n(32)),r(n(33)),r(n(34)),r(n(35)),r(n(38)),r(n(39)),r(n(40)),r(n(41)),r(n(42)),r(n(43)),r(n(44)),r(n(45)),r(n(46)),r(n(47)),r(n(48)),r(n(49)),r(n(50)),r(n(3))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BOOKMARKING="oa:bookmarking",e.CLASSIFYING="oa:classifying",e.COMMENTING="oa:commenting",e.DESCRIBING="oa:describing",e.EDITING="oa:editing",e.HIGHLIGHTING="oa:highlighting",e.IDENTIFYING="oa:identifying",e.LINKING="oa:linking",e.MODERATING="oa:moderating",e.PAINTING="sc:painting",e.QUESTIONING="oa:questioning",e.REPLYING="oa:replying",e.TAGGING="oa:tagging",e.TRANSCRIBING="oad:transcribing"}(t.AnnotationMotivation||(t.AnnotationMotivation={})),function(e){e.AUTO_ADVANCE="auto-advance",e.CONTINUOUS="continuous",e.FACING_PAGES="facing-pages",e.HIDDEN="hidden",e.INDIVIDUALS="individuals",e.MULTI_PART="multi-part",e.NO_NAV="no-nav",e.NON_PAGED="non-paged",e.PAGED="paged",e.REPEAT="repeat",e.SEQUENCE="sequence",e.THUMBNAIL_NAV="thumbnail-nav",e.TOGETHER="together",e.UNORDERED="unordered"}(t.Behavior||(t.Behavior={})),function(e){e.CANVAS="canvas",e.CHOICE="choice",e.OA_CHOICE="oa:choice",e.CONTENT_AS_TEXT="contentastext",e.DATASET="dataset",e.DOCUMENT="document",e.IMAGE="image",e.MODEL="model",e.MOVING_IMAGE="movingimage",e.PDF="pdf",e.PHYSICAL_OBJECT="physicalobject",e.SOUND="sound",e.TEXT="text",e.TEXTUALBODY="textualbody",e.VIDEO="video"}(t.ExternalResourceType||(t.ExternalResourceType={})),function(e){e.ANNOTATION="annotation",e.CANVAS="canvas",e.COLLECTION="collection",e.MANIFEST="manifest",e.RANGE="range",e.SEQUENCE="sequence"}(t.IIIFResourceType||(t.IIIFResourceType={})),function(e){e.AUDIO_MP4="audio/mp4",e.CORTO="application/corto",e.DICOM="application/dicom",e.DRACO="application/draco",e.EPUB="application/epub+zip",e.GIRDER="image/vnd.kitware.girder",e.GLB="model/gltf-binary",e.GLTF="model/gltf+json",e.IIIF_PRESENTATION_2='application/ld+json;profile="http://iiif.io/api/presentation/2/context.json"',e.IIIF_PRESENTATION_3='application/ld+json;profile="http://iiif.io/api/presentation/3/context.json"',e.JPG="image/jpeg",e.M3U8="application/vnd.apple.mpegurl",e.MP3="audio/mp3",e.MPEG_DASH="application/dash+xml",e.OBJ="text/plain",e.OPF="application/oebps-package+xml",e.PDF="application/pdf",e.PLY="application/ply",e.THREEJS="application/vnd.threejs+json",e.USDZ="model/vnd.usd+zip",e.VIDEO_MP4="video/mp4",e.WAV="audio/wav",e.WEBM="video/webm"}(t.MediaType||(t.MediaType={})),function(e){e.DOC="application/msword",e.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",e.PDF="application/pdf"}(t.RenderingFormat||(t.RenderingFormat={})),function(e){e.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",e.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",e.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",e.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",e.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",e.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",e.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",e.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",e.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",e.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",e.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",e.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",e.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",e.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",e.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",e.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",e.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",e.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",e.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",e.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",e.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",e.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",e.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",e.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",e.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",e.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",e.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",e.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",e.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",e.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",e.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",e.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",e.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",e.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",e.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",e.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",e.SEARCH_0="http://iiif.io/api/search/0/search",e.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",e.SEARCH_1="http://iiif.io/api/search/1/search",e.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",e.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",e.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",e.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",e.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",e.DOWNLOAD_EXTENSIONS="http://universalviewer.io/download-extensions-profile",e.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",e.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"}(t.ServiceProfile||(t.ServiceProfile={})),function(e){e.IMAGE_SERVICE_2="ImageService2",e.IMAGE_SERVICE_3="ImageService3"}(t.ServiceType||(t.ServiceType={})),function(e){e.BOTTOM_TO_TOP="bottom-to-top",e.LEFT_TO_RIGHT="left-to-right",e.RIGHT_TO_LEFT="right-to-left",e.TOP_TO_BOTTOM="top-to-bottom"}(t.ViewingDirection||(t.ViewingDirection={})),function(e){e.CONTINUOUS="continuous",e.INDIVIDUALS="individuals",e.NON_PAGED="non-paged",e.PAGED="paged",e.TOP="top"}(t.ViewingHint||(t.ViewingHint={}))},function(e,t,n){var r=n(21).Symbol;e.exports=r},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),s=n(36);n(37);var u=function(){function e(){}return e.getMediaType=function(e){return(e=(e=e.toLowerCase()).split(";")[0]).trim()},e.getImageQuality=function(e){return e===a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1||e===a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2||e===a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1||e===a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2||e===a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1||e===a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2||e===a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1||e===a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2||e===a.ServiceProfile.IMAGE_1_LEVEL_1||e===a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1||e===a.ServiceProfile.IMAGE_1_LEVEL_2||e===a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2?"native":"default"},e.getInexactLocale=function(e){return-1!==e.indexOf("-")?e.substr(0,e.indexOf("-")):e},e.getLocalisedValue=function(e,t){if(!Array.isArray(e))return e;for(var n=0;n<e.length;n++){var r=e[n];if(t===r["@language"])return r["@value"]}var i=t.substr(0,t.indexOf("-"));for(n=0;n<e.length;n++){var o=e[n];if(o["@language"]===i)return o["@value"]}return null},e.generateTreeNodeIds=function(t,n){var r;void 0===n&&(n=0),r=t.parentNode?t.parentNode.id+"-"+n:"0",t.id=r;for(var i=0;i<t.nodes.length;i++){var o=t.nodes[i];e.generateTreeNodeIds(o,i)}},e.normaliseType=function(e){return-1!==(e=(e||"").toLowerCase()).indexOf(":")?e.split(":")[1]:e},e.normaliseUrl=function(e){return-1!==(e=e.substr(e.indexOf("://"))).indexOf("#")&&(e=e.split("#")[0]),e},e.normalisedUrlsMatch=function(t,n){return e.normaliseUrl(t)===e.normaliseUrl(n)},e.isImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},e.isImageServiceType=function(e){return null!==e&&e.toLowerCase()===a.ServiceType.IMAGE_SERVICE_2.toLowerCase()||e===a.ServiceType.IMAGE_SERVICE_3.toLowerCase()},e.isLevel0ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0))},e.isLevel1ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1))},e.isLevel2ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},e.parseManifest=function(e,t){return o.Deserialiser.parse(e,t)},e.checkStatus=function(e){if(e.ok)return e;var t=new Error(e.statusText);return t.response=e,Promise.reject(t)},e.loadManifest=function(t){return new Promise((function(n,r){fetch(t).then(e.checkStatus).then((function(e){return e.json()})).then((function(e){n(e)})).catch((function(e){r()}))}))},e.loadExternalResourcesAuth1=function(t,n,r,i,o,a,s,l){return new Promise((function(u,c){var f=t.map((function(t){return e.loadExternalResourceAuth1(t,n,r,i,o,a,s,l)}));Promise.all(f).then((function(){u(t)})).catch((function(e){c(e)}))}))},e.loadExternalResourceAuth1=function(t,n,o,a,l,u,c,f){return r(this,void 0,void 0,(function(){var r;return i(this,(function(i){switch(i.label){case 0:return[4,a(t)];case 1:return(r=i.sent())?[4,t.getData(r)]:[3,6];case 2:return i.sent(),t.status!==s.OK?[3,3]:[2,t];case 3:return[4,e.doAuthChain(t,n,o,l,u,c,f)];case 4:i.sent(),i.label=5;case 5:if(t.status===s.OK||t.status===s.MOVED_TEMPORARILY)return[2,t];throw e.createAuthorizationFailedError();case 6:return[4,t.getData()];case 7:return i.sent(),t.status!==s.MOVED_TEMPORARILY&&t.status!==s.UNAUTHORIZED?[3,9]:[4,e.doAuthChain(t,n,o,l,u,c,f)];case 8:i.sent(),i.label=9;case 9:if(t.status===s.OK||t.status===s.MOVED_TEMPORARILY)return[2,t];throw e.createAuthorizationFailedError()}}))}))},e.doAuthChain=function(t,n,o,a,l,u,c){return r(this,void 0,void 0,(function(){var r,f,d,p,h,m,v,g;return i(this,(function(i){switch(i.label){case 0:return t.isAccessControlled()?((r=t.externalService)&&(r.options=t.options),(f=t.kioskService)&&(f.options=t.options),(d=t.clickThroughService)&&(d.options=t.options),(p=t.loginService)&&(p.options=t.options),t.isResponseHandled||t.status!==s.MOVED_TEMPORARILY?[3,2]:[4,u(t)]):[2,t];case 1:case 3:case 6:case 10:case 14:return i.sent(),[2,t];case 2:return h=null,m=null,(h=r)?(m=h,[4,e.attemptResourceWithToken(t,o,h)]):[3,4];case 4:return(h=f)?(m=h,(v=n(h))?[4,a(v)]:[3,7]):[3,7];case 5:case 9:case 13:return i.sent(),[4,e.attemptResourceWithToken(t,o,h)];case 7:return(h=d)?(m=h,[4,l(t,h)]):[3,11];case 8:return(g=i.sent())?[4,a(g)]:[3,11];case 11:return(h=p)?(m=h,[4,l(t,h)]):[3,15];case 12:return(g=i.sent())?[4,a(g)]:[3,15];case 15:return m&&c(t,m),[2]}}))}))},e.attemptResourceWithToken=function(e,t,n){return r(this,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:return(r=n.getService(a.ServiceProfile.AUTH_1_TOKEN))?[4,t(e,r)]:[3,3];case 1:return(o=i.sent())&&o.accessToken?[4,e.getData(o)]:[3,3];case 2:return i.sent(),[2,e];case 3:return[2]}}))}))},e.loadExternalResourcesAuth09=function(t,n,r,i,o,a,s,l,u,c){return new Promise((function(f,d){var p=t.map((function(t){return e.loadExternalResourceAuth09(t,n,r,i,o,a,s,l,u,c)}));Promise.all(p).then((function(){f(t)})).catch((function(e){d(e)}))}))},e.loadExternalResourceAuth09=function(t,n,r,i,o,a,l,u,c,f){return new Promise((function(d,p){f&&f.pessimisticAccessControl?t.getData().then((function(){t.isAccessControlled()?t.clickThroughService?(d(r(t)),d(i(t))):o(t).then((function(){a(t,!0).then((function(n){t.getData(n).then((function(){d(c(t))})).catch((function(t){p(e.createInternalServerError(t))}))})).catch((function(t){p(e.createInternalServerError(t))}))})).catch((function(t){p(e.createInternalServerError(t))})):d(t)})).catch((function(t){p(e.createInternalServerError(t))})):u(t,n).then((function(f){f?t.getData(f).then((function(){t.status===s.OK?d(c(t)):e.authorize(t,n,r,i,o,a,l,u).then((function(){d(c(t))})).catch((function(t){p(e.createAuthorizationFailedError())}))})).catch((function(t){p(e.createAuthorizationFailedError())})):e.authorize(t,n,r,i,o,a,l,u).then((function(){d(c(t))})).catch((function(t){p(e.createAuthorizationFailedError())}))})).catch((function(t){p(e.createAuthorizationFailedError())}))}))},e.createError=function(e,t){var n=new Error;return n.message=t,n.name=String(e),n},e.createAuthorizationFailedError=function(){return e.createError(o.StatusCode.AUTHORIZATION_FAILED,"Authorization failed")},e.createRestrictedError=function(){return e.createError(o.StatusCode.RESTRICTED,"Restricted")},e.createInternalServerError=function(t){return e.createError(o.StatusCode.INTERNAL_SERVER_ERROR,t)},e.authorize=function(t,n,r,i,o,a,l,u){return new Promise((function(c,f){t.getData().then((function(){t.isAccessControlled()?u(t,n).then((function(u){u?t.getData(u).then((function(){t.status===s.OK?c(t):e.showAuthInteraction(t,n,r,i,o,a,l,c,f)})).catch((function(t){f(e.createInternalServerError(t))})):a(t,!1).then((function(u){u?l(t,u,n).then((function(){t.getData(u).then((function(){t.status===s.OK?c(t):e.showAuthInteraction(t,n,r,i,o,a,l,c,f)})).catch((function(t){f(e.createInternalServerError(t))}))})).catch((function(t){f(e.createInternalServerError(t))})):e.showAuthInteraction(t,n,r,i,o,a,l,c,f)}))})).catch((function(t){f(e.createInternalServerError(t))})):c(t)}))}))},e.showAuthInteraction=function(t,n,r,i,o,a,l,u,c){t.status!==s.MOVED_TEMPORARILY||t.isResponseHandled?t.clickThroughService&&!t.isResponseHandled?r(t).then((function(){a(t,!0).then((function(r){l(t,r,n).then((function(){t.getData(r).then((function(){u(t)})).catch((function(t){c(e.createInternalServerError(t))}))})).catch((function(t){c(e.createInternalServerError(t))}))})).catch((function(t){c(e.createInternalServerError(t))}))})):o(t).then((function(){a(t,!0).then((function(r){l(t,r,n).then((function(){t.getData(r).then((function(){u(t)})).catch((function(t){c(e.createInternalServerError(t))}))})).catch((function(t){c(e.createInternalServerError(t))}))})).catch((function(t){c(e.createInternalServerError(t))}))})):u(t)},e.getService=function(e,t){for(var n=this.getServices(e),r=0;r<n.length;r++){var i=n[r];if(i.getProfile()===t)return i}return null},e.getResourceById=function(t,n){return e.traverseAndFind(t.__jsonld,"@id",n)},e.traverseAndFind=function(t,n,r){if(t.hasOwnProperty(n)&&t[n]===r)return t;for(var i=0;i<Object.keys(t).length;i++)if("object"==l(t[Object.keys(t)[i]])){var o=e.traverseAndFind(t[Object.keys(t)[i]],n,r);if(null!=o)return o}},e.getServices=function(t,n){var r=void 0===n?{}:n,i=r.onlyService,a=void 0!==i&&i,s=r.onlyServices,l=void 0!==s&&s,u=r.skipParentResources,c=[];(void 0===u||!u)&&t&&t.options&&t.options.resource&&t.options.resource!==t&&c.push.apply(c,e.getServices(t.options.resource,{onlyServices:!0}));var f=l?[]:(t.__jsonld||t).service||[];if(Array.isArray(f)||(f=[f]),a||f.push.apply(f,(t.__jsonld||t).services||[]),0===f.length)return c;for(var d=0;d<f.length;d++){var p=f[d];if("string"==typeof p){var h=this.getResourceById(t.options.resource,p);h&&c.push(new o.Service(h.__jsonld||h,t.options))}else c.push(new o.Service(p,t.options))}return c},e.getTemporalComponent=function(e){var t=/t=([^&]+)/g.exec(e),n=null;return t&&t[1]&&(n=t[1].split(",")),n},e}();t.Utils=u},function(e,t,n){var r=n(19),i=n(20);e.exports=function e(t,n,o,a,s){var l=-1,u=t.length;for(o||(o=i),s||(s=[]);++l<u;){var c=t[l];n>0&&o(c)?n>1?e(c,n-1,o,a,s):r(s,c):a||(s[s.length]=c)}return s}},function(e,t){e.exports=function(e){return null!=e&&"object"==l(e)}},function(e,t,n){"use strict";n.r(t),t.default=function(e,t){return t=t||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],a=[],s={},l=function e(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(JSON.parse(i.responseText))},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:e,headers:{keys:function(){return o},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var u in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),a.push([t,n]),s[t]=s[t]?s[t]+","+n:n})),n(l())},i.onerror=r,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(u,t.headers[u]);i.send(t.body||null)}))}},function(e,t,n){e.exports=n(8)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(0));var r=n(3);t.loadManifest=function(e){return r.Utils.loadManifest(e)},t.parseManifest=function(e,t){return r.Utils.parseManifest(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.__jsonld=e,this.context=this.getProperty("context"),this.id=this.getProperty("id")}return e.prototype.getProperty=function(e){var t=null;return this.__jsonld&&((t=this.__jsonld[e])||(t=this.__jsonld["@"+e])),t},e}();t.JSONLDResource=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.options=n,r}return i(t,e),t.prototype.getIIIFResourceType=function(){return o.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLabel=function(){var e=this.getProperty("label");return e?o.PropertyValue.parse(e,this.options.locale):new o.PropertyValue([],this.options.locale)},t.prototype.getDefaultLabel=function(){return this.getLabel().getValue(this.options.locale)},t.prototype.getMetadata=function(){var e=this.getProperty("metadata"),t=[];if(!e)return t;for(var n=0;n<e.length;n++){var r=e[n],i=new o.LabelValuePair(this.options.locale);i.parse(r),t.push(i)}return t},t.prototype.getRendering=function(e){for(var t=this.getRenderings(),n=0;n<t.length;n++){var r=t[n];if(r.getFormat()===e)return r}return null},t.prototype.getRenderings=function(){var e,t=[];if(!(e=this.__jsonld?this.__jsonld.rendering:this.rendering))return t;Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var r=e[n];t.push(new o.Rendering(r,this.options))}return t},t.prototype.getRequiredStatement=function(){var e=null,t=this.getProperty("requiredStatement");return t&&(e=new o.LabelValuePair(this.options.locale)).parse(t),e},t.prototype.getService=function(e){return o.Utils.getService(this,e)},t.prototype.getServices=function(){return o.Utils.getServices(this)},t.prototype.getThumbnail=function(){var e=this.getProperty("thumbnail");return Array.isArray(e)&&(e=e[0]),e?new o.Thumbnail(e,this.options):null},t.prototype.isAnnotation=function(){return this.getIIIFResourceType()===a.IIIFResourceType.ANNOTATION},t.prototype.isCanvas=function(){return this.getIIIFResourceType()===a.IIIFResourceType.CANVAS},t.prototype.isCollection=function(){return this.getIIIFResourceType()===a.IIIFResourceType.COLLECTION},t.prototype.isManifest=function(){return this.getIIIFResourceType()===a.IIIFResourceType.MANIFEST},t.prototype.isRange=function(){return this.getIIIFResourceType()===a.IIIFResourceType.RANGE},t.prototype.isSequence=function(){return this.getIIIFResourceType()===a.IIIFResourceType.SEQUENCE},t}(o.JSONLDResource);t.ManifestResource=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.getFormat=function(){var e=this.getProperty("format");return e?e.toLowerCase():null},t.prototype.getResources=function(){var e=[];if(!this.__jsonld.resources)return e;for(var t=0;t<this.__jsonld.resources.length;t++){var n=this.__jsonld.resources[t],r=new o.Annotation(n,this.options);e.push(r)}return e},t.prototype.getType=function(){var e=this.getProperty("type");return e?o.Utils.normaliseType(e):null},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t.prototype.getMaxWidth=function(){return this.getProperty("maxWidth")},t.prototype.getMaxHeight=function(){return this.getProperty("maxHeight")?null:this.getMaxWidth()},t}(o.ManifestResource);t.Resource=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),s=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.index=-1,r.isLoaded=!1;var i={defaultLabel:"-",locale:"en-GB",resource:r,pessimisticAccessControl:!1};return r.options=Object.assign(i,n),r}return i(t,e),t.prototype.getAttribution=function(){var e=this.getProperty("attribution");return e?o.PropertyValue.parse(e,this.options.locale):new o.PropertyValue([],this.options.locale)},t.prototype.getDescription=function(){var e=this.getProperty("description");return e?o.PropertyValue.parse(e,this.options.locale):new o.PropertyValue([],this.options.locale)},t.prototype.getHomepage=function(){var e=this.getProperty("homepage");return e?"string"==typeof e?e:(Array.isArray(e)&&e.length&&(e=e[0]),e["@id"]||e.id):null},t.prototype.getIIIFResourceType=function(){return o.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLogo=function(){var e=this.getProperty("logo");if(!e){var t=this.getProperty("provider");if(!t)return null;e=t.logo}return e?"string"==typeof e?e:(Array.isArray(e)&&e.length&&(e=e[0]),e["@id"]||e.id):null},t.prototype.getLicense=function(){return o.Utils.getLocalisedValue(this.getProperty("license"),this.options.locale)},t.prototype.getNavDate=function(){return new Date(this.getProperty("navDate"))},t.prototype.getRelated=function(){return this.getProperty("related")},t.prototype.getSeeAlso=function(){return this.getProperty("seeAlso")},t.prototype.getTrackingLabel=function(){var e=this.getService(a.ServiceProfile.TRACKING_EXTENSIONS);return e?e.getProperty("trackingLabel"):""},t.prototype.getDefaultTree=function(){return this.defaultTree=new o.TreeNode("root"),this.defaultTree.data=this,this.defaultTree},t.prototype.getRequiredStatement=function(){var e=null,t=this.getProperty("requiredStatement");if(t)(e=new o.LabelValuePair(this.options.locale)).parse(t);else{var n=this.getAttribution();n&&((e=new o.LabelValuePair(this.options.locale)).value=n)}return e},t.prototype.isCollection=function(){return this.getIIIFResourceType()===a.IIIFResourceType.COLLECTION},t.prototype.isManifest=function(){return this.getIIIFResourceType()===a.IIIFResourceType.MANIFEST},t.prototype.load=function(){var e=this;return new Promise((function(t){if(e.isLoaded)t(e);else{var n=e.options;n.navDate=e.getNavDate();var r=e.__jsonld.id;r||(r=e.__jsonld["@id"]),o.Utils.loadManifest(r).then((function(r){e.parentLabel=e.getLabel().getValue(n.locale);var i=o.Deserialiser.parse(r,n);(e=Object.assign(e,i)).index=n.index,t(e)}))}}))},t}(o.ManifestResource);t.IIIFResource=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.getBody=function(){var e=[],t=this.getProperty("body");if(t)if(Array.isArray(t))for(var n=0;n<t.length;n++)if((a=t[n]).items)for(var r=0;r<a.items.length;r++){var i=a.items[r];e.push(new o.AnnotationBody(i,this.options))}else e.push(new o.AnnotationBody(a,this.options));else if(t.items)for(n=0;n<t.items.length;n++){var a=t.items[n];e.push(new o.AnnotationBody(a,this.options))}else e.push(new o.AnnotationBody(t,this.options));return e},t.prototype.getMotivation=function(){return this.getProperty("motivation")||null},t.prototype.getOn=function(){return this.getProperty("on")},t.prototype.getTarget=function(){return this.getProperty("target")},t.prototype.getResource=function(){return new o.Resource(this.getProperty("resource"),this.options)},t}(o.ManifestResource);t.Annotation=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.getFormat=function(){var e=this.getProperty("format");return e?o.Utils.getMediaType(e):null},t.prototype.getType=function(){return this.getProperty("type")?o.Utils.normaliseType(this.getProperty("type")):null},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t}(o.ManifestResource);t.AnnotationBody=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t,n,r){var i=e.call(this,n)||this;return i.label=t,i.options=r,i}return i(t,e),t.prototype.getIIIFResourceType=function(){return o.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLabel=function(){return this.label},t.prototype.getResources=function(){var e=this;return this.getProperty("resources").map((function(t){return new o.Annotation(t,e.options)}))},t.prototype.load=function(){var e=this;return new Promise((function(t,n){if(e.isLoaded)t(e);else{var r=e.__jsonld.id;r||(r=e.__jsonld["@id"]),o.Utils.loadManifest(r).then((function(n){e.__jsonld=n,e.context=e.getProperty("context"),e.id=e.getProperty("id"),e.isLoaded=!0,t(e)})).catch(n)}}))},t}(o.JSONLDResource);t.AnnotationList=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.getItems=function(){return this.getProperty("items")},t}(n(0).ManifestResource);t.AnnotationPage=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),l=o(n(18)),u=o(n(30)),c=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.getCanonicalImageUri=function(e){var t,n=null,r="default",i=e;if(this.externalResource&&this.externalResource.data&&this.externalResource.data["@id"])n=this.externalResource.data["@id"],i||(i=this.externalResource.data.width),this.externalResource.data["@context"]&&(this.externalResource.data["@context"].indexOf("/1.0/context.json")>-1||this.externalResource.data["@context"].indexOf("/1.1/context.json")>-1||this.externalResource.data["@context"].indexOf("/1/context.json")>-1)&&(r="native");else{var o=void 0;if((o=this.getImages())&&o.length){var a=o[0].getResource(),l=a.getServices();if(i||(i=a.getWidth()),u=l?l.find((function(e){return s.Utils.isImageProfile(e.getProfile())||s.Utils.isImageServiceType(e.getIIIFResourceType())})):null)n=u.id,r=s.Utils.getImageQuality(u.getProfile());else if(i===a.getWidth())return a.id}if((o=this.getContent())&&o.length){var u,c=o[0].getBody()[0];if(l=c.getServices(),i||(i=c.getWidth()),u=l?l.find((function(e){return s.Utils.isImageServiceType(e.getIIIFResourceType())})):null)n=u.id,r=s.Utils.getImageQuality(u.getProfile());else if(i===c.getWidth())return c.id}if(!n){var f=this.getProperty("thumbnail");if(f){if("string"==typeof f)return f;if(f["@id"])return f["@id"];if(f.length)return f[0].id}}}return t=i+",",n&&n.endsWith("/")&&(n=n.substr(0,n.length-1)),[n,"full",t,0,r+".jpg"].join("/")},t.prototype.getMaxDimensions=function(){var e,t=null;return this.externalResource&&this.externalResource.data&&this.externalResource.data.profile&&(e=this.externalResource.data.profile,Array.isArray(e)&&(e=e.filter((function(e){return e.maxWidth}))[0])&&(t=new s.Size(e.maxWidth,e.maxHeight?e.maxHeight:e.maxWidth))),t},t.prototype.getContent=function(){var e=[],t=this.__jsonld.items||this.__jsonld.content;if(!t)return e;var n=null;if(t.length&&(n=new s.AnnotationPage(t[0],this.options)),!n)return e;for(var r=n.getItems(),i=0;i<r.length;i++){var o=r[i],a=new s.Annotation(o,this.options);e.push(a)}return e},t.prototype.getDuration=function(){return this.getProperty("duration")},t.prototype.getImages=function(){var e=[];if(!this.__jsonld.images)return e;for(var t=0;t<this.__jsonld.images.length;t++){var n=this.__jsonld.images[t],r=new s.Annotation(n,this.options);e.push(r)}return e},t.prototype.getIndex=function(){return this.getProperty("index")},t.prototype.getOtherContent=function(){var e=this,t=(Array.isArray(this.getProperty("otherContent"))?this.getProperty("otherContent"):[this.getProperty("otherContent")]).filter((function(e){return e&&"string"==typeof(t=e["@type"])&&t.toLowerCase()==t.toLowerCase();var t})).map((function(t,n){return new s.AnnotationList(t.label||"Annotation list "+n,t,e.options)})).map((function(e){return e.load()}));return Promise.all(t)},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},Object.defineProperty(t.prototype,"imageResources",{get:function(){var e=this,n=u.default([this.getImages().map((function(e){return e.getResource()})),this.getContent().map((function(e){return e.getBody()}))]);return l.default(n.map((function(n){switch(n.getProperty("type").toLowerCase()){case a.ExternalResourceType.CHOICE:case a.ExternalResourceType.OA_CHOICE:return new t({images:l.default([n.getProperty("default"),n.getProperty("item")]).map((function(e){return{resource:e}}))},e.options).getImages().map((function(e){return e.getResource()}));default:return n}})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resourceAnnotations",{get:function(){return u.default([this.getImages(),this.getContent()])},enumerable:!0,configurable:!0}),t.prototype.resourceAnnotation=function(e){return this.resourceAnnotations.find((function(t){return t.getResource().id===e||l.default(new Array(t.getBody())).some((function(t){return t.id===e}))}))},t.prototype.onFragment=function(e){var t=this.resourceAnnotation(e);if(t){var n=t.getProperty("on"),r=t.getProperty("target");if(n&&r){var i=(n||r).match(/xywh=(.*)$/);if(i)return i[1].split(",").map((function(e){return parseInt(e,10)}))}}},Object.defineProperty(t.prototype,"iiifImageResources",{get:function(){return this.imageResources.filter((function(e){return e&&e.getServices()[0]&&e.getServices()[0].id}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageServiceIds",{get:function(){return this.iiifImageResources.map((function(e){return e.getServices()[0].id}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aspectRatio",{get:function(){return this.getWidth()/this.getHeight()},enumerable:!0,configurable:!0}),t}(s.Resource);t.Canvas=c},function(e,t,n){var r=n(4);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){var r=n(2),i=n(24),o=n(29),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},function(e,t,n){var r=n(22),i="object"==("undefined"==typeof self?"undefined":l(self))&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){(function(t){var n="object"==l(t)&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(23))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":l(window))&&(n=window)}e.exports=n},function(e,t,n){var r=n(25),i=n(5),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){var r=n(26),i=n(5);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t,n){var r=n(2),i=n(27),o=n(28),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},function(e,t,n){var r=n(2),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(4);e.exports=function(e){return null!=e&&e.length?r(e,1/0):[]}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),s=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.items=[],r._collections=null,r._manifests=null,t.__collection=r,r}return i(t,e),t.prototype.getCollections=function(){return this._collections?this._collections:this._collections=this.items.filter((function(e){return e.isCollection()}))},t.prototype.getManifests=function(){return this._manifests?this._manifests:this._manifests=this.items.filter((function(e){return e.isManifest()}))},t.prototype.getCollectionByIndex=function(e){for(var t,n=this.getCollections(),r=0;r<n.length;r++){var i=n[r];i.index===e&&(t=i)}if(t)return t.options.index=e,t.load();throw new Error("Collection index not found")},t.prototype.getManifestByIndex=function(e){for(var t,n=this.getManifests(),r=0;r<n.length;r++){var i=n[r];i.index===e&&(t=i)}if(t)return t.options.index=e,t.load();throw new Error("Manifest index not found")},t.prototype.getTotalCollections=function(){return this.getCollections().length},t.prototype.getTotalManifests=function(){return this.getManifests().length},t.prototype.getTotalItems=function(){return this.items.length},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):o.ViewingDirection.LEFT_TO_RIGHT},t.prototype.getBehavior=function(){var e=this.getProperty("behavior");return Array.isArray(e)&&(e=e[0]),e||null},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t.prototype.getDefaultTree=function(){return e.prototype.getDefaultTree.call(this),this.defaultTree.data.type=a.Utils.normaliseType(a.TreeNodeType.COLLECTION),this._parseManifests(this),this._parseCollections(this),a.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},t.prototype._parseManifests=function(e){if(e.getManifests()&&e.getManifests().length)for(var t=0;t<e.getManifests().length;t++){var n=e.getManifests()[t],r=n.getDefaultTree();r.label=n.parentLabel||n.getLabel().getValue(this.options.locale)||"manifest "+(t+1),r.navDate=n.getNavDate(),r.data.id=n.id,r.data.type=a.Utils.normaliseType(a.TreeNodeType.MANIFEST),e.defaultTree.addNode(r)}},t.prototype._parseCollections=function(e){if(e.getCollections()&&e.getCollections().length)for(var t=0;t<e.getCollections().length;t++){var n=e.getCollections()[t],r=n.getDefaultTree();r.label=n.parentLabel||n.getLabel().getValue(this.options.locale)||"collection "+(t+1),r.navDate=n.getNavDate(),r.data.id=n.id,r.data.type=a.Utils.normaliseType(a.TreeNodeType.COLLECTION),e.defaultTree.addNode(r)}},t}(a.IIIFResource);t.Collection=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.start=e,this.end=t}return e.prototype.getLength=function(){return this.end-this.start},e}();t.Duration=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e){this.defaultLocale=e}return e.prototype.parse=function(e){this.resource=e,this.label=r.PropertyValue.parse(this.resource.label,this.defaultLocale),this.value=r.PropertyValue.parse(this.resource.value,this.defaultLocale)},e.prototype.getLabel=function(e){return null===this.label?null:(Array.isArray(e)&&!e.length&&(e=void 0),this.label.getValue(e||this.defaultLocale))},e.prototype.setLabel=function(e){null===this.label&&(this.label=new r.PropertyValue([])),this.label.setValue(e,this.defaultLocale)},e.prototype.getValue=function(e,t){return void 0===t&&(t="<br/>"),null===this.value?null:(Array.isArray(e)&&!e.length&&(e=void 0),this.value.getValue(e||this.defaultLocale,t))},e.prototype.getValues=function(e){return null===this.value?[]:(Array.isArray(e)&&!e.length&&(e=void 0),this.value.getValues(e||this.defaultLocale))},e.prototype.setValue=function(e){null===this.value&&(this.value=new r.PropertyValue([])),this.value.setValue(e,this.defaultLocale)},e}();t.LabelValuePair=i},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.getValue=function(e,t){return e.getValue(t,"<br/>")},t.getValues=function(e,t){return e.getValues(t)},t}(Array);t.LanguageMap=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=function(){function e(e,t,n){void 0===n&&(n="none"),Array.isArray(e)&&1===e.length?this._value=e[0]:this._value=e,"none"!==t&&"@none"!==t||(t=void 0),this._locale=t,this._defaultLocale=n}return e.parseV2Value=function(t,n){return"string"==typeof t?new e(t,void 0,n):t["@value"]?new e(t["@value"],t["@language"],n):null},Object.defineProperty(e.prototype,"value",{get:function(){return Array.isArray(this._value)?this._value.join("<br/>"):this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return void 0===this._locale?this._defaultLocale:this._locale},enumerable:!0,configurable:!0}),e.prototype.addValue=function(e){Array.isArray(this._value)||(this._value=[this._value]),Array.isArray(e)?this._value=this._value.concat(e):this._value.push(e)},e}();t.LocalizedValue=s;var u=function(e){function t(n,r){void 0===n&&(n=[]);var i=e.apply(this,n)||this;return i.__proto__=t.prototype,i._defaultLocale=r,i}return i(t,e),t.parse=function(e,n){if(!e)return new t([],n);if(Array.isArray(e)){var r=(i=e.map((function(e){return s.parseV2Value(e,n)})).filter((function(e){return null!==e}))).reduce((function(e,t){var n=t._locale;return n||(n="none"),e[n]?e[n].addValue(t._value):e[n]=t,e}),{});return new t(Object.values(r),n)}return"string"==typeof e?new t([new s(e,void 0,n)],n):e["@language"]||e["@value"]?new t(null!==(i=s.parseV2Value(e))?[i]:[],n):new t(Object.keys(e).map((function(t){var r=e[t];if(!Array.isArray(r))throw new Error("A IIIF v3 localized property value must have an array as the value for a given language.");return new s(r,t,n)})),n);var i},t.prototype.getSuitableLocale=function(e){for(var t=o(this).map((function(e){return e._locale})).filter((function(e){return void 0!==e})),n=function(e){var n=t.find((function(t){return t===e}));if(n)return{value:n}},r=0,i=e;r<i.length;r++){var s=n(i[r]);if("object"==l(s))return s.value}for(var u=function(e){var n=t.find((function(t){return a.Utils.getInexactLocale(t)===a.Utils.getInexactLocale(e)}));if(n)return{value:n}},c=0,f=e;c<f.length;c++){var d=u(f[c]);if("object"==l(d))return d.value}},t.prototype.setValue=function(e,t){var n=void 0;if(t){var r=this.getSuitableLocale([t]);r&&(n=this.find((function(e){return e._locale===r})))}else n=this.find((function(e){return void 0===e._locale}));n?n._value=e:this.push(new s(e,t,this._defaultLocale))},t.prototype.getValue=function(e,t){var n=this.getValues(e);return 0===n.length?null:t?n.join(t):n[0]},t.prototype.getValues=function(e){if(!this.length)return[];var t;if(t=e?Array.isArray(e)?e:[e]:[],1===this.length&&void 0===this[0]._locale){var n=this[0]._value;return Array.isArray(n)?n:[n]}var r=this.getSuitableLocale(t);if(r)return n=this.find((function(e){return e._locale===r}))._value,Array.isArray(n)?n:[n];if(!this.find((function(e){return void 0===e._locale})))return n=this[0]._value,Array.isArray(n)?n:[n];var i=this.find((function(e){return void 0===e._locale}));return i?Array.isArray(i._value)?i._value:[i._value]:[]},t}(Array);t.PropertyValue=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONTINUE=100,t.SWITCHING_PROTOCOLS=101,t.PROCESSING=102,t.OK=200,t.CREATED=201,t.ACCEPTED=202,t.NON_AUTHORITATIVE_INFORMATION=203,t.NO_CONTENT=204,t.RESET_CONTENT=205,t.PARTIAL_CONTENT=206,t.MULTI_STATUS=207,t.MULTIPLE_CHOICES=300,t.MOVED_PERMANENTLY=301,t.MOVED_TEMPORARILY=302,t.SEE_OTHER=303,t.NOT_MODIFIED=304,t.USE_PROXY=305,t.TEMPORARY_REDIRECT=307,t.BAD_REQUEST=400,t.UNAUTHORIZED=401,t.PAYMENT_REQUIRED=402,t.FORBIDDEN=403,t.NOT_FOUND=404,t.METHOD_NOT_ALLOWED=405,t.NOT_ACCEPTABLE=406,t.PROXY_AUTHENTICATION_REQUIRED=407,t.REQUEST_TIME_OUT=408,t.CONFLICT=409,t.GONE=410,t.LENGTH_REQUIRED=411,t.PRECONDITION_FAILED=412,t.REQUEST_ENTITY_TOO_LARGE=413,t.REQUEST_URI_TOO_LARGE=414,t.UNSUPPORTED_MEDIA_TYPE=415,t.REQUESTED_RANGE_NOT_SATISFIABLE=416,t.EXPECTATION_FAILED=417,t.IM_A_TEAPOT=418,t.UNPROCESSABLE_ENTITY=422,t.LOCKED=423,t.FAILED_DEPENDENCY=424,t.UNORDERED_COLLECTION=425,t.UPGRADE_REQUIRED=426,t.PRECONDITION_REQUIRED=428,t.TOO_MANY_REQUESTS=429,t.REQUEST_HEADER_FIELDS_TOO_LARGE=431,t.INTERNAL_SERVER_ERROR=500,t.NOT_IMPLEMENTED=501,t.BAD_GATEWAY=502,t.SERVICE_UNAVAILABLE=503,t.GATEWAY_TIME_OUT=504,t.HTTP_VERSION_NOT_SUPPORTED=505,t.VARIANT_ALSO_NEGOTIATES=506,t.INSUFFICIENT_STORAGE=507,t.BANDWIDTH_LIMIT_EXCEEDED=509,t.NOT_EXTENDED=510,t.NETWORK_AUTHENTICATION_REQUIRED=511},function(e,t,n){e.exports=window.fetch||(window.fetch=n(6).default||n(6))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),l=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(r.index=0,r._allRanges=null,r.items=[],r._topRanges=[],r.__jsonld.structures&&r.__jsonld.structures.length)for(var i=r._getTopRanges(),o=0;o<i.length;o++){var a=i[o];r._parseRanges(a,String(o))}return r}return i(t,e),t.prototype.getPosterCanvas=function(){var e=this.getProperty("posterCanvas");return e&&(e=new a.Canvas(e,this.options)),e},t.prototype.getAccompanyingCanvas=function(){var e=this.getProperty("accompanyingCanvas");return e&&(e=new a.Canvas(e,this.options)),e},t.prototype.getBehavior=function(){var e=this.getProperty("behavior");return Array.isArray(e)&&(e=e[0]),e||null},t.prototype.getDefaultTree=function(){if(e.prototype.getDefaultTree.call(this),this.defaultTree.data.type=a.Utils.normaliseType(a.TreeNodeType.MANIFEST),!this.isLoaded)return this.defaultTree;var t=this.getTopRanges();return t.length&&t[0].getTree(this.defaultTree),a.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},t.prototype._getTopRanges=function(){var e=[];if(this.__jsonld.structures&&this.__jsonld.structures.length){for(var t=0;t<this.__jsonld.structures.length;t++){var n=this.__jsonld.structures[t];n.viewingHint===o.ViewingHint.TOP&&e.push(n)}if(!e.length){var r={};r.ranges=this.__jsonld.structures,e.push(r)}}return e},t.prototype.getTopRanges=function(){return this._topRanges},t.prototype._getRangeById=function(e){if(this.__jsonld.structures&&this.__jsonld.structures.length)for(var t=0;t<this.__jsonld.structures.length;t++){var n=this.__jsonld.structures[t];if(n["@id"]===e||n.id===e)return n}return null},t.prototype._parseRanges=function(e,t,n){var r,i=null;if("string"==typeof e&&(i=e,e=this._getRangeById(i)),e){(r=new a.Range(e,this.options)).parentRange=n,r.path=t,n?n.items.push(r):this._topRanges.push(r);var o=e.items||e.members;if(o)for(var l=0;l<o.length;l++){var u=o[l];if(u["@type"]&&"sc:range"===u["@type"].toLowerCase()||u.type&&"range"===u.type.toLowerCase())this._parseRanges(u,t+"/"+l,r);else if(u["@type"]&&"sc:canvas"===u["@type"].toLowerCase()||u.type&&"canvas"===u.type.toLowerCase()){r.canvases||(r.canvases=[]);var c=u.id||u["@id"];r.canvases.push(c)}}else if(e.ranges)for(l=0;l<e.ranges.length;l++)this._parseRanges(e.ranges[l],t+"/"+l,r)}else s.warn("Range:",i,"does not exist")},t.prototype.getAllRanges=function(){if(null!=this._allRanges)return this._allRanges;this._allRanges=[];for(var e=this.getTopRanges(),t=function(t){var r=e[t];r.id&&n._allRanges.push(r);var i=Array.from(r.getRanges().reduce((function e(t,n){t.add(n);var r=n.getRanges();return r.length?r.reduce(e,t):t}),new Set));n._allRanges=n._allRanges.concat(i)},n=this,r=0;r<e.length;r++)t(r);return this._allRanges},t.prototype.getRangeById=function(e){for(var t=this.getAllRanges(),n=0;n<t.length;n++){var r=t[n];if(r.id===e)return r}return null},t.prototype.getRangeByPath=function(e){for(var t=this.getAllRanges(),n=0;n<t.length;n++){var r=t[n];if(r.path===e)return r}return null},t.prototype.getSequences=function(){if(this.items.length)return this.items;var e=this.__jsonld.mediaSequences||this.__jsonld.sequences;if(e)for(var t=0;t<e.length;t++){var n=e[t],r=new a.Sequence(n,this.options);this.items.push(r)}else this.__jsonld.items&&(r=new a.Sequence(this.__jsonld.items,this.options),this.items.push(r));return this.items},t.prototype.getSequenceByIndex=function(e){return this.getSequences()[e]},t.prototype.getTotalSequences=function(){return this.getSequences().length},t.prototype.getManifestType=function(){var e=this.getService(o.ServiceProfile.UI_EXTENSIONS);return e?e.getProperty("manifestType"):a.ManifestType.EMPTY},t.prototype.isMultiSequence=function(){return this.getTotalSequences()>1},t.prototype.isPagingEnabled=function(){var e=this.getViewingHint();if(e)return e===o.ViewingHint.PAGED;var t=this.getBehavior();return!!t&&t===o.Behavior.PAGED},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t}(a.IIIFResource);t.Manifest=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.EMPTY="",e.MANUSCRIPT="manuscript",e.MONOGRAPH="monograph"}(t.ManifestType||(t.ManifestType={}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),s=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._ranges=null,r.canvases=null,r.items=[],r}return i(t,e),t.prototype.getCanvasIds=function(){return this.__jsonld.canvases?this.__jsonld.canvases:this.canvases?this.canvases:[]},t.prototype.getDuration=function(){if(this.canvases&&this.canvases.length){for(var e=[],t=[],n=0,r=this.canvases;n<r.length;n++)if(h=r[n]){var i=h.match(/(.*)#t=([0-9.]+),?([0-9.]+)?/)||[void 0,h],a=i[1],s=i[2],l=i[3];a&&(e.push(parseFloat(s)),t.push(parseFloat(l)))}if(e.length&&t.length)return new o.Duration(Math.min.apply(Math,e),Math.max.apply(Math,t))}else{e=[],t=[];for(var u=0,c=v=this.getRanges();u<c.length;u++)(g=c[u].getDuration())&&(e.push(g.start),t.push(g.end));if(e.length&&t.length)return new o.Duration(Math.min.apply(Math,e),Math.max.apply(Math,t))}var f,d;if(this.canvases&&this.canvases.length)for(var p=0;p<this.canvases.length;p++){var h=this.canvases[p],m=o.Utils.getTemporalComponent(h);m&&m.length>1&&(0===p&&(f=Number(m[0])),p===this.canvases.length-1&&(d=Number(m[1])))}else{var v=this.getRanges();for(p=0;p<v.length;p++){var g;(g=v[p].getDuration())&&(0===p&&(f=g.start),p===v.length-1&&(d=g.end))}}if(void 0!==f&&void 0!==d)return new o.Duration(f,d)},t.prototype.getRanges=function(){return this._ranges?this._ranges:this._ranges=this.items.filter((function(e){return e.isRange()}))},t.prototype.getBehavior=function(){var e=this.getProperty("behavior");return Array.isArray(e)&&(e=e[0]),e||null},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t.prototype.getTree=function(e){e.data=this,this.treeNode=e;var t=this.getRanges();if(t&&t.length)for(var n=0;n<t.length;n++){var r=t[n],i=new o.TreeNode;e.addNode(i),this._parseTreeNode(i,r)}return o.Utils.generateTreeNodeIds(e),e},t.prototype.spansTime=function(e){var t=this.getDuration();return!!(t&&e>=t.start&&e<=t.end)},t.prototype._parseTreeNode=function(e,t){e.label=t.getLabel().getValue(this.options.locale),e.data=t,e.data.type=o.Utils.normaliseType(o.TreeNodeType.RANGE),t.treeNode=e;var n=t.getRanges();if(n&&n.length)for(var r=0;r<n.length;r++){var i=n[r];if(i.getBehavior()!==a.Behavior.NO_NAV){var s=new o.TreeNode;e.addNode(s),this._parseTreeNode(s,i)}}},t}(o.ManifestResource);t.Range=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.getFormat=function(){return this.getProperty("format")},t}(n(0).ManifestResource);t.Rendering=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),s=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.items=[],r._thumbnails=null,r}return i(t,e),t.prototype.getCanvases=function(){if(this.items.length)return this.items;var e=this.__jsonld.canvases||this.__jsonld.elements;if(e)for(var t=0;t<e.length;t++){var n=e[t];(r=new a.Canvas(n,this.options)).index=t,this.items.push(r)}else if(this.__jsonld)for(t=0;t<this.__jsonld.length;t++){var r;n=this.__jsonld[t],(r=new a.Canvas(n,this.options)).index=t,this.items.push(r)}return this.items},t.prototype.getCanvasById=function(e){for(var t=0;t<this.getTotalCanvases();t++){var n=this.getCanvasByIndex(t),r=a.Utils.normaliseUrl(n.id);if(a.Utils.normaliseUrl(e)===r)return n}return null},t.prototype.getCanvasByIndex=function(e){return this.getCanvases()[e]},t.prototype.getCanvasIndexById=function(e){for(var t=0;t<this.getTotalCanvases();t++)if(this.getCanvasByIndex(t).id===e)return t;return null},t.prototype.getCanvasIndexByLabel=function(e,t){e=e.trim(),isNaN(e)||(e=parseInt(e,10).toString(),t&&(e+="r"));for(var n,r,i,o=/(\d*)\D+(\d*)/,a=0;a<this.getTotalCanvases();a++){var s=this.getCanvasByIndex(a);if(s.getLabel().getValue(this.options.locale)===e)return a;if((n=o.exec(e))&&(r=n[1],(i=n[2])&&new RegExp("^"+r+"\\D+"+i+"$").test(s.getLabel().toString())))return a}return-1},t.prototype.getLastCanvasLabel=function(e){for(var t=this.getTotalCanvases()-1;t>=0;t--){var n=this.getCanvasByIndex(t).getLabel().getValue(this.options.locale);if(e){if(/^[a-zA-Z0-9]*$/.test(n))return n}else if(n)return n}return this.options.defaultLabel},t.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},t.prototype.getNextPageIndex=function(e,t){var n;if(t){var r=this.getPagedIndices(e),i=this.getViewingDirection();n=i&&i===o.ViewingDirection.RIGHT_TO_LEFT?r[0]+1:r[r.length-1]+1}else n=e+1;return n>this.getLastPageIndex()?-1:n},t.prototype.getPagedIndices=function(e,t){var n=[];if(t){n=this.isFirstCanvas(e)||this.isLastCanvas(e)?[e]:e%2?[e,e+1]:[e-1,e];var r=this.getViewingDirection();r&&r===o.ViewingDirection.RIGHT_TO_LEFT&&(n=n.reverse())}else n.push(e);return n},t.prototype.getPrevPageIndex=function(e,t){var n;if(t){var r=this.getPagedIndices(e),i=this.getViewingDirection();n=i&&i===o.ViewingDirection.RIGHT_TO_LEFT?r[r.length-1]-1:r[0]-1}else n=e-1;return n},t.prototype.getStartCanvasIndex=function(){var e=this.getStartCanvas();if(e)for(var t=0;t<this.getTotalCanvases();t++)if(this.getCanvasByIndex(t).id===e)return t;return 0},t.prototype.getThumbs=function(e,t){for(var n=[],r=this.getTotalCanvases(),i=0;i<r;i++){var o=this.getCanvasByIndex(i),s=new a.Thumb(e,o);n.push(s)}return n},t.prototype.getThumbnails=function(){if(null!=this._thumbnails)return this._thumbnails;this._thumbnails=[];for(var e=this.getCanvases(),t=0;t<e.length;t++){var n=e[t].getThumbnail();n&&this._thumbnails.push(n)}return this._thumbnails},t.prototype.getStartCanvas=function(){return this.getProperty("startCanvas")},t.prototype.getTotalCanvases=function(){return this.getCanvases().length},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):this.options.resource.getViewingDirection?this.options.resource.getViewingDirection():null},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t.prototype.isCanvasIndexOutOfRange=function(e){return e>this.getTotalCanvases()-1},t.prototype.isFirstCanvas=function(e){return 0===e},t.prototype.isLastCanvas=function(e){return e===this.getTotalCanvases()-1},t.prototype.isMultiCanvas=function(){return this.getTotalCanvases()>1},t.prototype.isPagingEnabled=function(){var e=this.getViewingHint();return!!e&&e===o.ViewingHint.PAGED},t.prototype.isTotalCanvasesEven=function(){return this.getTotalCanvases()%2==0},t}(a.ManifestResource);t.Sequence=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(){}return e.parse=function(e,t){return"string"==typeof e&&(e=JSON.parse(e)),this.parseJson(e,t)},e.parseJson=function(e,t){var n;if(t&&t.navDate&&!isNaN(t.navDate.getTime())&&(e.navDate=t.navDate.toString()),e["@type"])switch(e["@type"]){case"sc:Collection":n=this.parseCollection(e,t);break;case"sc:Manifest":n=this.parseManifest(e,t);break;default:return null}else switch(e.type){case"Collection":n=this.parseCollection(e,t);break;case"Manifest":n=this.parseManifest(e,t);break;default:return null}return n.isLoaded=!0,n},e.parseCollection=function(e,t){var n=new r.Collection(e,t);return t?(n.index=t.index||0,t.resource&&(n.parentCollection=t.resource.parentCollection)):n.index=0,this.parseCollections(n,t),this.parseManifests(n,t),this.parseItems(n,t),n},e.parseCollections=function(e,t){var n;if(e.__jsonld.collections?n=e.__jsonld.collections:e.__jsonld.items&&(n=e.__jsonld.items.filter((function(e){return"collection"===e.type.toLowerCase()}))),n)for(var r=0;r<n.length;r++){t&&(t.index=r);var i=this.parseCollection(n[r],t);i.index=r,i.parentCollection=e,e.items.push(i)}},e.parseManifest=function(e,t){return new r.Manifest(e,t)},e.parseManifests=function(e,t){var n;if(e.__jsonld.manifests?n=e.__jsonld.manifests:e.__jsonld.items&&(n=e.__jsonld.items.filter((function(e){return"manifest"===e.type.toLowerCase()}))),n)for(var r=0;r<n.length;r++){var i=this.parseManifest(n[r],t);i.index=r,i.parentCollection=e,e.items.push(i)}},e.parseItem=function(e,t){if(e["@type"]){if("sc:manifest"===e["@type"].toLowerCase())return this.parseManifest(e,t);if("sc:collection"===e["@type"].toLowerCase())return this.parseCollection(e,t)}else if(e.type){if("manifest"===e.type.toLowerCase())return this.parseManifest(e,t);if("collection"===e.type.toLowerCase())return this.parseCollection(e,t)}return null},e.parseItems=function(e,t){var n=e.__jsonld.members||e.__jsonld.items;if(n)for(var r=function(r){t&&(t.index=r);var o=i.parseItem(n[r],t);return o?e.items.filter((function(e){return e.id===o.id}))[0]?"continue":(o.index=r,o.parentCollection=e,void e.items.push(o)):{value:void 0}},i=this,o=0;o<n.length;o++){var a=r(o);if("object"==l(a))return a.value}},e}();t.Deserialiser=i},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.getProfile=function(){var e=this.getProperty("profile");return e||(e=this.getProperty("dcterms:conformsTo")),Array.isArray(e)?e[0]:e},t.prototype.getConfirmLabel=function(){return o.Utils.getLocalisedValue(this.getProperty("confirmLabel"),this.options.locale)},t.prototype.getDescription=function(){return o.Utils.getLocalisedValue(this.getProperty("description"),this.options.locale)},t.prototype.getFailureDescription=function(){return o.Utils.getLocalisedValue(this.getProperty("failureDescription"),this.options.locale)},t.prototype.getFailureHeader=function(){return o.Utils.getLocalisedValue(this.getProperty("failureHeader"),this.options.locale)},t.prototype.getHeader=function(){return o.Utils.getLocalisedValue(this.getProperty("header"),this.options.locale)},t.prototype.getServiceLabel=function(){return o.Utils.getLocalisedValue(this.getProperty("label"),this.options.locale)},t.prototype.getInfoUri=function(){var e=this.id;return e.endsWith("/")||(e+="/"),e+"info.json"},t}(o.ManifestResource);t.Service=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Size=function(e,t){this.width=e,this.height=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.AUTHORIZATION_FAILED=1]="AUTHORIZATION_FAILED",e[e.FORBIDDEN=2]="FORBIDDEN",e[e.INTERNAL_SERVER_ERROR=3]="INTERNAL_SERVER_ERROR",e[e.RESTRICTED=4]="RESTRICTED"}(t.StatusCode||(t.StatusCode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Thumb=function(e,t){this.data=t,this.index=t.index,this.width=e;var n=t.getHeight()/t.getWidth();this.height=n?Math.floor(this.width*n):e,this.uri=t.getCanonicalImageUri(e),this.label=t.getLabel().getValue(),this.viewingHint=t.getViewingHint()}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t}(n(0).Resource);t.Thumbnail=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e,t){this.label=e,this.data=t||{},this.nodes=[]}return e.prototype.addNode=function(e){this.nodes.push(e),e.parentNode=this},e.prototype.isCollection=function(){return this.data.type===r.Utils.normaliseType(r.TreeNodeType.COLLECTION)},e.prototype.isManifest=function(){return this.data.type===r.Utils.normaliseType(r.TreeNodeType.MANIFEST)},e.prototype.isRange=function(){return this.data.type===r.Utils.normaliseType(r.TreeNodeType.RANGE)},e}();t.TreeNode=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.COLLECTION="collection",e.MANIFEST="manifest",e.RANGE="range"}(t.TreeNodeType||(t.TreeNodeType={}))}])},"object"==l(t)&&"object"==l(e)?e.exports=a():(i=[],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o))},20530:(e,t,n)=>{"use strict";n.d(t,{P:()=>f});var r=n(78281),i=n(72133),o=n(3501),a=n(62991);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(h,e);var t,n,f,d,p=(f=h,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(f);if(d){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function h(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),p.apply(this,arguments)}return t=h,(n=[{key:"render",value:function(){var e=this.props,t=e.defaultLabel,n=e.labelValuePairs;return 0===n.length?r.createElement(r.Fragment,null):r.createElement("dl",{className:(0,a.A)("label-value-metadata")},n.reduce((function(e,n,a){return e.concat([r.createElement(i.A,{component:"dt",key:"label-".concat(a),variant:"subtitle2"},n.label||t),r.createElement(i.A,{style:{marginBottom:".5em",marginLeft:"0px"},component:"dd",key:"value-".concat(a),variant:"body1"},r.createElement(o.A,{htmlString:n.values.join(", "),ruleSet:"iiif"}))])}),[]))}}])&&l(t.prototype,n),h}(r.Component);f.defaultProps={defaultLabel:void 0}},6933:(e,t,n)=>{"use strict";n.d(t,{Y:()=>u});var r=n(78281),i=n(80381),o=n(5157),a=n(39405),s=n(62991),l=["badge","children","containerId","dispatch","BadgeProps","TooltipProps"];function u(e){var t=e["aria-label"],n=e.badge,u=e.children,c=e.containerId,f=(e.dispatch,e.BadgeProps),d=e.TooltipProps,p=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,l),h=r.createElement(o.A,p,n?r.createElement(i.A,f,u):u);return p.disabled?h:r.createElement(a.Ay,Object.assign({PopperProps:{container:document.querySelector("#".concat(c," .").concat((0,s.A)("viewer")))},title:t},d),h)}u.defaultProps={badge:!1,BadgeProps:{},dispatch:function(){},TooltipProps:{}}},25960:(e,t,n)=>{"use strict";n.d(t,{F:()=>l});var r=n(78281),i=["classes"];function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=r.forwardRef((function(e,t){var n=e.PluginComponents,o=(e.classes,function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,i));return n?n.map((function(e,n){return r.isValidElement(e)?r.cloneElement(e,a(a({},o),{},{ref:t})):r.createElement(e,Object.assign({ref:t},o,{key:n}))})):null}))},62991:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(59975),i=n(94881),o=n.n(i);const a=function(e){return o()([e]).map((function(e){return[r.A.createGenerateClassNameOptions.productionPrefix,e].join("-")})).join(" ")}},59975:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(13443);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a={state:{},canvasNavigation:{height:50,width:50},selectedTheme:"light",themes:{dark:{palette:{type:"dark",primary:{main:"#4db6ac"},secondary:{main:"#4db6ac"},shades:{dark:"#000000",main:"#424242",light:"#616161"}}},light:{palette:{type:"light"}}},theme:{palette:{type:"light",primary:{main:"#1967d2"},secondary:{main:"#1967d2"},shades:{dark:"#eeeeee",main:"#ffffff",light:"#f5f5f5"},error:{main:"#b00020"},notification:{main:"#ffa224"},hitCounter:{default:"#bdbdbd"},highlights:{primary:"#ffff00",secondary:"#00BFFF"},section_divider:"rgba(0, 0, 0, 0.25)",annotations:{hidden:{globalAlpha:0},default:{strokeStyle:"#00BFFF",globalAlpha:1},hovered:{strokeStyle:"#BF00FF",globalAlpha:1},selected:{strokeStyle:"#ffff00",globalAlpha:1}},search:{default:{fillStyle:"#00BFFF",globalAlpha:.3},hovered:{fillStyle:"#00FFFF",globalAlpha:.3},selected:{fillStyle:"#ffff00",globalAlpha:.3}}},typography:{body1:{fontSize:"1rem",letterSpacing:"0em",lineHeight:"1.6em"},body2:{fontSize:"0.878rem",letterSpacing:"0.015em",lineHeight:"1.6em"},button:{fontSize:"0.878rem",letterSpacing:"0.09em",lineHeight:"2.25rem",textTransform:"uppercase"},caption:{fontSize:"0.772rem",letterSpacing:"0.033em",lineHeight:"1.6rem"},body1Next:{fontSize:"1rem",letterSpacing:"0em",lineHeight:"1.6em"},body2Next:{fontSize:"0.878rem",letterSpacing:"0.015em",lineHeight:"1.6em"},buttonNext:{fontSize:"0.878rem",letterSpacing:"0.09em",lineHeight:"2.25rem"},captionNext:{fontSize:"0.772rem",letterSpacing:"0.33em",lineHeight:"1.6rem"},overline:{fontSize:"0.678rem",fontWeight:500,letterSpacing:"0.166em",lineHeight:"2em",textTransform:"uppercase"},h1:{fontSize:"2.822rem",letterSpacing:"-0.015em",lineHeight:"1.2em"},h2:{fontSize:"1.575rem",letterSpacing:"0em",lineHeight:"1.33em"},h3:{fontSize:"1.383rem",fontWeight:300,letterSpacing:"0em",lineHeight:"1.33em"},h4:{fontSize:"1.215rem",letterSpacing:"0.007em",lineHeight:"1.45em"},h5:{fontSize:"1.138rem",letterSpacing:"0.005em",lineHeight:"1.55em"},h6:{fontSize:"1.067rem",fontWeight:400,letterSpacing:"0.01em",lineHeight:"1.6em"},subtitle1:{fontSize:"0.937rem",letterSpacing:"0.015em",lineHeight:"1.6em",fontWeight:300},subtitle2:{fontSize:"0.878rem",fontWeight:500,letterSpacing:"0.02em",lineHeight:"1.75em"},useNextVariants:!0},overrides:{MuiListSubheader:{root:{'&[role="presentation"]:focus':{outline:0}}},MuiTooltip:{tooltipPlacementLeft:o({},"@media (min-width:600px)",{margin:0}),tooltipPlacementRight:o({},"@media (min-width:600px)",{margin:0}),tooltipPlacementTop:o({},"@media (min-width:600px)",{margin:0}),tooltipPlacementBottom:o({},"@media (min-width:600px)",{margin:0})},MuiTouchRipple:{childPulsate:{animation:"none"},rippleVisible:{animation:"none"}}},props:{MuiButtonBase:{disableTouchRipple:!0},MuiLink:{underline:"always"}}},language:"en",availableLanguages:{ar:"",de:"Deutsch",en:"English",fr:"Franais",ja:"",kr:"",lt:"Lietuvi",nl:"Nederlands","nb-NO":"Norwegian Bokml",pl:"Polski","pt-BR":"Portugus do Brasil",vi:"Ting Vit","zh-CN":"()","zh-TW":"()",it:"Italiano",sr:"",sv:"Svenska"},annotations:{htmlSanitizationRuleSet:"iiif",filteredMotivations:["oa:commenting","oa:tagging","sc:painting","commenting","tagging"]},createGenerateClassNameOptions:{productionPrefix:"mirador"},requests:{preprocessors:[],postprocessors:[]},translations:{},window:{allowClose:!0,allowFullscreen:!1,allowMaximize:!0,allowTopMenuButton:!0,allowWindowSideBar:!0,authNewWindowCenter:"parent",sideBarPanel:"info",defaultSidebarPanelHeight:201,defaultSidebarPanelWidth:235,defaultView:"single",forceDrawAnnotations:!1,hideWindowTitle:!1,highlightAllAnnotations:!1,showLocalePicker:!1,sideBarOpen:!1,switchCanvasOnSearch:!0,panels:{info:!0,attribution:!0,canvas:!0,annotations:!0,search:!0,layers:!0},views:[{key:"single",behaviors:["individuals"]},{key:"book",behaviors:["paged"]},{key:"scroll",behaviors:["continuous"]},{key:"gallery"}],elastic:{height:400,width:480}},windows:[],thumbnails:{preferredFormats:["jpg","png","webp","tif"]},thumbnailNavigation:{defaultPosition:"off",displaySettings:!0,height:130,width:100},workspace:{draggingEnabled:!0,allowNewWindows:!0,id:(0,r.A)(),isWorkspaceAddVisible:!1,exposeModeOn:!1,height:5e3,showZoomControls:!1,type:"mosaic",viewportPosition:{x:0,y:0},width:5e3},workspaceControlPanel:{enabled:!0},galleryView:{height:120,width:null},osdConfig:{alwaysBlend:!1,blendTime:.1,preserveImageSizeOnResize:!0,preserveViewport:!0,showNavigationControl:!1},export:{catalog:!0,companionWindows:!0,config:!0,elasticLayout:!0,layers:!0,manifests:{filter:function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0];return r[1],!o.startsWith("http")}},viewers:!0,windows:!0,workspace:!0},audioOptions:{controls:!0,crossOrigin:"anonymous"},videoOptions:{controls:!0,crossOrigin:"anonymous"},auth:{serviceProfiles:[{profile:"http://iiif.io/api/auth/1/external",external:!0},{profile:"http://iiif.io/api/auth/1/kiosk",kiosk:!0},{profile:"http://iiif.io/api/auth/1/clickthrough"},{profile:"http://iiif.io/api/auth/1/login"},{profile:"http://iiif.io/api/auth/0/external",external:!0},{profile:"http://iiif.io/api/auth/0/kiosk",kiosk:!0},{profile:"http://iiif.io/api/auth/0/clickthrough"},{profile:"http://iiif.io/api/auth/0/login"}]}}},59237:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(35914),i=n(69592),o=n(82946),a=n(74855),s=n(92910),l=n(78281);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(i){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.captions,n=e.classes,r=e.audioOptions,i=e.audioResources;return l.createElement("div",{className:n.container},l.createElement("audio",Object.assign({className:n.audio},r),i.map((function(e){return l.createElement(l.Fragment,{key:e.id},l.createElement("source",{src:e.id,type:e.getFormat()}))})),t.map((function(e){return l.createElement(l.Fragment,{key:e.id},l.createElement("track",{src:e.id,label:e.getDefaultLabel(),srcLang:e.getProperty("language")}))}))))}}])&&c(t.prototype,n),a}(l.Component);p.defaultProps={audioOptions:{},audioResources:[],captions:[]};var h=n(37466),m=n(93368);const v=(0,i.Zz)((0,o.C)(),(0,a.A)((function(){return{audio:{width:"100%"},container:{alignItems:"center",display:"flex",width:"100%"}}})),(0,r.Ng)((function(e,t){var n=t.windowId;return{audioOptions:(0,h.zj)(e).audioOptions,audioResources:(0,m._K)(e,{windowId:n})||[],captions:(0,m.mK)(e,{windowId:n})||[]}}),null),(0,s.h)("AudioViewer"))(p)},93801:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(69592),i=n(82946),o=n(74855),a=n(78281),s=n(72133),l=n(5979),u=n(67200),c=n(96949);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(v,e);var t,n,r,i,o=(r=v,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(r);if(i){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function v(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),(t=o.call(this,e)).state={open:!0},t.toggleSection=t.toggleSection.bind(h(t)),t}return t=v,(n=[{key:"toggleSection",value:function(){var e=this.state.open;this.setState({open:!e})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes,r=e.id,i=e.label,o=e.t,f=this.state.open;return a.createElement(a.Fragment,null,a.createElement("div",{className:n.container},a.createElement(s.A,{className:n.heading,id:r,onClick:this.toggleSection,variant:"overline",component:"h4"},i),a.createElement(c.A,{"aria-label":o(f?"collapseSection":"expandSection",{section:i}),"aria-expanded":f,className:n.button,onClick:this.toggleSection},f?a.createElement(u.A,null):a.createElement(l.A,null))),f&&t)}}])&&d(t.prototype,n),v}(a.Component);const g=(0,r.Zz)((0,i.C)(),(0,o.A)({button:{padding:0},container:{display:"flex",justifyContent:"space-between"},heading:{cursor:"pointer"}}))(v)},19957:(e,t,n)=>{"use strict";n.d(t,{A:()=>j});var r=n(69592),i=n(35914),o=n(82946),a=n(74855),s=n(72855),l=n(92910),u=n(78281),c=n(91769),f=n(63403),d=n(47031),p=n(67671),h=n(37466),m=n(58625),v=n(55728),g=n(31980),y=n(39729),b=n(72133),w=n(86933),x=n(98114),S=n(96949),E=n(62991);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},P(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(r);if(i){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"openInNewStyle",value:function(){return"rtl"===this.props.direction?{transform:"scale(-1, 1)"}:{}}},{key:"resizeHandles",value:function(){var e=this.props,t=e.direction,n=e.position,r={ltr:{default:"left",opposite:"right"},rtl:{default:"right",opposite:"left"}},i={bottom:!1,bottomLeft:!1,bottomRight:!1,left:!1,right:!1,top:!1,topLeft:!1,topRight:!1};return"right"===n||"far-right"===n?O(O({},i),{},A({},r[t].default,!0)):"left"===n?O(O({},i),{},A({},r[t].opposite,!0)):"bottom"===n||"far-bottom"===n?O(O({},i),{},{top:!0}):i}},{key:"render",value:function(){var e=this.props,t=e.ariaLabel,n=e.classes,r=e.paperClassName,i=e.onCloseClick,o=e.updateCompanionWindow,a=e.isDisplayed,s=e.position,l=e.t,c=e.title,f=e.children,d=e.titleControls,p=e.size,h=e.defaultSidebarPanelWidth,_=e.defaultSidebarPanelHeight,T="bottom"===s||"far-bottom"===s,O=u.Children.map(f,(function(e){return e?u.cloneElement(e,{parentactions:{closeCompanionWindow:i}}):null}));return u.createElement(y.A,{className:[n.root,"bottom"===s?n.horizontal:n.vertical,n["companionWindow-".concat(s)],(0,E.A)("companion-window-".concat(s)),r].join(" "),style:{display:a?null:"none",order:"left"===s?-1:null},square:!0,component:"aside","aria-label":t||c},u.createElement(x.p,{className:[n.rnd],style:{display:"flex",position:"relative"},default:{height:T?_:"100%",width:T?"auto":h},disableDragging:!0,enableResizing:this.resizeHandles(),minHeight:50,minWidth:"left"===s?235:100},u.createElement(w.A,{className:[n.toolbar,n.companionWindowHeader,p.width<370?n.small:null,(0,E.A)("companion-window-header")].join(" "),disableGutters:!0},u.createElement(b.A,{variant:"h3",className:n.windowSideBarTitle},c),"left"===s?o&&u.createElement(S.A,{"aria-label":l("openInCompanionWindow"),onClick:function(){o({position:"right"})}},u.createElement(v.A,{style:this.openInNewStyle()})):u.createElement(u.Fragment,null,o&&u.createElement(S.A,{"aria-label":l("bottom"===s?"moveCompanionWindowToRight":"moveCompanionWindowToBottom"),className:n.positionButton,onClick:function(){o({position:"bottom"===s?"right":"bottom"})}},u.createElement(g.A,null)),u.createElement(S.A,{"aria-label":l("closeCompanionWindow"),className:n.closeButton,onClick:i},u.createElement(m.A,null))),d&&u.createElement("div",{className:[n.titleControls,T?n.companionWindowTitleControlsBottom:n.companionWindowTitleControls,(0,E.A)("companion-window-title-controls")].join(" ")},d)),u.createElement(y.A,{className:[n.content,(0,E.A)("scrollto-scrollable")].join(" "),elevation:0},O)))}}])&&C(t.prototype,n),a}(u.Component);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}R.defaultProps={ariaLabel:void 0,children:void 0,defaultSidebarPanelHeight:201,defaultSidebarPanelWidth:235,isDisplayed:!1,onCloseClick:function(){},paperClassName:"",position:null,size:{},t:function(e){return e},title:null,titleControls:null,updateCompanionWindow:void 0};const j=(0,r.Zz)((function(e){return(0,u.forwardRef)((function(t,n){return u.createElement(e,Object.assign({innerRef:n},t))}))}),(0,o.C)(),(0,a.A)((function(e){return{closeButton:{order:4},"companionWindow-bottom":{borderTop:"0.5px solid ".concat(e.palette.divider)},"companionWindow-left":{borderRight:"0.5px solid ".concat(e.palette.divider)},"companionWindow-right":{borderLeft:"0.5px solid ".concat(e.palette.divider)},companionWindowHeader:{flexWrap:"wrap"},companionWindowTitleControls:{flexGrow:1,order:1e3},companionWindowTitleControlsBottom:{order:"unset"},content:{overflowY:"auto",wordBreak:"break-word"},horizontal:{},positionButton:{marginLeft:-16,order:-100,width:24},rnd:{display:"flex",flexDirection:"column",minHeight:0},root:{boxShadow:"none",boxSizing:"border-box",display:"flex",flexDirection:"column",minHeight:0},small:{},titleControls:{alignItems:"center",display:"flex",flexFlow:"row wrap",minHeight:48,order:3},toolbar:{"&$small":{"& $closeButton":{order:"unset"},"& $titleControls":{order:"unset"}},alignItems:"flex-start",background:e.palette.shades.light,justifyContent:"space-between",minHeight:"max-content",paddingLeft:e.spacing(2)},vertical:{},windowSideBarTitle:M(M({},e.typography.subtitle1),{},{alignSelf:"center",flexGrow:1,width:160})}})),(0,s.withSize)(),(0,i.Ng)((function(e,t){var n=t.id,r=t.windowId,i=(0,d.DS)(e,{companionWindowId:n}),o=(0,p.R2)(e,{windowId:r}),a=o.defaultSidebarPanelHeight,s=o.defaultSidebarPanelWidth;return M(M({},i),{},{defaultSidebarPanelHeight:a,defaultSidebarPanelWidth:s,direction:(0,h.b3)(e),isDisplayed:i&&i.content&&i.content.length>0})}),(function(e,t){var n=t.windowId,r=t.id;return{onCloseClick:function(){return e(c.l2(n,r))},updateCompanionWindow:function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e(c.u3.apply(f,[n,r].concat(i)))}}})),(0,l.h)("CompanionWindow"))(R)},28729:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Y});var r=n(69592),i=n(35914),o=n(74855),a=n(92910),s=n(78281),l=n(39729),u=n(94881),c=n.n(u),f=n(18595),d=n(82486),p=n(83131),h=n(63403),m=n(63063),v=n(53466),g=(n(43979),n(80634));const y=(0,n(82083).A)(s.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var b=s.forwardRef((function(e,t){var n,r=e.alt,i=e.children,o=e.classes,a=e.className,l=e.component,u=void 0===l?"div":l,c=e.imgProps,f=e.sizes,d=e.src,p=e.srcSet,h=e.variant,b=void 0===h?"circular":h,w=(0,v.A)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),x=function(e){var t=e.src,n=e.srcSet,r=s.useState(!1),i=r[0],o=r[1];return s.useEffect((function(){if(t||n){o(!1);var e=!0,r=new Image;return r.src=t,r.srcSet=n,r.onload=function(){e&&o("loaded")},r.onerror=function(){e&&o("error")},function(){e=!1}}}),[t,n]),i}({src:d,srcSet:p}),S=d||p,E=S&&"error"!==x;return n=E?s.createElement("img",(0,m.A)({alt:r,src:d,srcSet:p,sizes:f,className:o.img},c)):null!=i?i:S&&r?r[0]:s.createElement(y,{className:o.fallback}),s.createElement(u,(0,m.A)({className:(0,g.default)(o.root,o.system,o[b],a,!E&&o.colorDefault),ref:t},w),n)}));const w=(0,o.A)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(b);var x=n(87817),S=n(80270),E=n(25349),_=n(76973),T=n.n(_),O=(n(18598),n(84814)),A=n(66785),C=n(33723);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},R(e,t)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=M(r);if(i){var n=M(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return I(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={requestedAnnotations:!1},t.handleSelect=t.handleSelect.bind(I(t)),t.handleKey=t.handleKey.bind(I(t)),t.handleIntersection=t.handleIntersection.bind(I(t)),t}return t=a,n=[{key:"handleSelect",value:function(){var e=this.props,t=e.canvas,n=e.selected,r=e.setCanvas,i=e.focusOnCanvas;n?i():r(t.id)}},{key:"handleKey",value:function(e){var t=this.props,n=t.canvas,r=t.setCanvas,i=t.focusOnCanvas;this.keys={enter:"Enter",space:" "},this.chars={enter:13,space:32},e.key===this.keys.enter||e.which===this.chars.enter||e.key===this.keys.space||e.which===this.chars.space?i():r(n.id)}},{key:"handleIntersection",value:function(e){var t=e.isIntersecting,n=this.props,r=n.annotationsCount,i=n.requestCanvasAnnotations,o=this.state.requestedAnnotations;!t||void 0===r||r>0||o||(this.setState({requestedAnnotations:!0}),i())}},{key:"render",value:function(){var e=this.props,t=e.annotationsCount,n=e.searchAnnotationsCount,r=e.canvas,i=e.classes,o=e.config,a=e.selected,l=new A.A(r);return s.createElement(O.Ay,{onChange:this.handleIntersection},s.createElement("div",{key:r.index,className:T()(i.galleryViewItem,a?i.selected:"",n>0?i.hasAnnotations:""),onClick:this.handleSelect,onKeyUp:this.handleKey,role:"button",tabIndex:0},s.createElement(C.A,{resource:r,labelled:!0,variant:"outside",maxWidth:o.width,maxHeight:o.height,style:{margin:"0 auto",maxWidth:"".concat(Math.ceil(o.height*l.aspectRatio),"px")}},s.createElement("div",{className:i.chips},n>0&&s.createElement(x.A,{avatar:s.createElement(w,{className:i.avatar,classes:{circle:i.avatarIcon}},s.createElement(E.A,{fontSize:"small"})),label:n,className:T()(i.searchChip),size:"small"}),(t||0)>0&&s.createElement(x.A,{avatar:s.createElement(w,{className:i.avatar,classes:{circle:i.avatarIcon}},s.createElement(S.A,{className:i.annotationIcon})),label:t,className:T()(i.annotationsChip),size:"small"})))))}}],n&&k(t.prototype,n),a}(s.Component);D.defaultProps={annotationsCount:void 0,config:{height:100,width:null},requestCanvasAnnotations:function(){},searchAnnotationsCount:0,selected:!1};var j=n(93368),L=n(64640),N=n(47031),z=n(91663),B=n(37466);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const U=(0,r.Zz)((0,i.Ng)((function(e,t){var n=t.canvas,r=t.windowId,i=(0,j.kR)(e,{windowId:r}),o=(0,L.sC)(e,{windowId:r}),a=c()(o.map((function(e){return e.resources}))).filter((function(e){return e.targetId===n.id})),s=(0,N.Ih)(e,{content:"annotations",windowId:r}).length>0;return{annotationsCount:function(){if(s)return(0,z.Su)(e,{canvasId:n.id}).reduce((function(e,t){return e+t.resources.filter((function(e){return e.targetId===n.id})).length}),0)}(),config:(0,B.zj)(e).galleryView,searchAnnotationsCount:a.length,selected:i&&i.id===n.id}}),(function(e,t){var n=t.canvas,r=(t.id,t.windowId);return{focusOnCanvas:function(){return e(f.QO(r,"single"))},requestCanvasAnnotations:function(){return e(d.aw(r,n.id))},setCanvas:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e(p.h5.apply(h,[r].concat(n)))}}})),(0,o.A)((function(e){return{annotationIcon:{height:"1rem",width:"1rem"},annotationsChip:W({},e.typography.caption),avatar:{backgroundColor:"transparent"},chips:{opacity:.875,position:"absolute",right:0,textAlign:"right",top:0},galleryViewItem:{"&$hasAnnotations":{border:"2px solid ".concat(e.palette.action.selected)},"&$selected,&$selected$hasAnnotations":{border:"2px solid ".concat(e.palette.primary.main)},"&:focus":{outline:"none"},"&:hover":{backgroundColor:e.palette.action.hover},border:"2px solid transparent",cursor:"pointer",display:"inline-block",margin:"".concat(e.spacing(1),"px ").concat(e.spacing(.5),"px"),maxHeight:function(e){return e.config.height+45},minWidth:"60px",overflow:"hidden",padding:e.spacing(.5),position:"relative",width:"min-content"},hasAnnotations:{},searchChip:W(W({},e.typography.caption),{},{"&$selected $avatar":{backgroundColor:e.palette.highlights.primary},marginTop:2}),selected:{}}})))(D);function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},q(e,t)}function X(e){return X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},X(e)}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=X(r);if(i){var n=X(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===V(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,n=[{key:"render",value:function(){var e=this.props,t=e.canvases,n=e.classes,r=e.viewingDirection,i=e.windowId,o="right-to-left"===r?"rtl":"ltr";return s.createElement(l.A,{component:"section",dir:o,square:!0,elevation:0,className:n.galleryContainer,id:"".concat(i,"-gallery")},t.map((function(e){return s.createElement(U,{key:e.id,windowId:i,canvas:e})})))}}],n&&G(t.prototype,n),a}(s.Component);Z.defaultProps={classes:{},viewingDirection:""};var $=n(16344);const Y=(0,r.Zz)((0,o.A)((function(e){return{galleryContainer:{alignItems:"flex-start",display:"flex",flexDirection:"row",flexWrap:"wrap",overflowX:"hidden",overflowY:"scroll",padding:"50px 0 50px 20px",width:"100%"}}})),(0,i.Ng)((function(e,t){var n=t.windowId;return{canvases:(0,j.P)(e,{windowId:n}),viewingDirection:(0,$.Kb)(e,{windowId:n})}})),(0,a.h)("GalleryView"))(Z)},33723:(e,t,n)=>{"use strict";n.d(t,{A:()=>_});var r=n(69592),i=n(35914),o=n(82946),a=n(74855),s=n(92910),l=n(37466),u=n(78281),c=(n(18598),n(72133)),f=n(84814),d=n(76973),p=n.n(d),h=n(70599);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(i);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={loaded:!1},t.handleIntersection=t.handleIntersection.bind(x(t)),t}return t=s,r=[{key:"getUseableLabel",value:function(e,t){return e&&e.getLabel&&e.getLabel().length>0?e.getLabel().getValue():String(t+1)}}],(n=[{key:"componentDidMount",value:function(){var e=this;this.setState((function(t){return g(g({},t),{},{image:e.image()})}))}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.maxHeight,i=n.maxWidth,o=n.resource;e.maxHeight===r&&e.maxWidth===i&&e.resource===o||this.setState((function(e){return g(g({},e),{},{image:t.image()})}))}},{key:"handleIntersection",value:function(e){!this.state.loaded&&e.isIntersecting&&this.setState((function(e){return g(g({},e),{},{loaded:!0})}))}},{key:"imageStyles",value:function(){var e=this.props,t=e.maxHeight,n=e.maxWidth,r=e.style,i=this.image(),o={height:"auto",width:"auto"};if(!i)return g(g({},r),{},{height:t||"auto",width:n||"auto"});var a=i.height,s=i.width;if(a&&s)if(t&&a>t||n&&s>n){var l=s/a;t&&n?n/t<l?(o.height=Math.round(n/l),o.width=n):(o.height=t,o.width=Math.round(t*l)):t?(o.height=t,o.maxWidth=Math.round(t*l)):n&&(o.width=n,o.maxHeight=Math.round(n/l))}else o.width=s,o.height=a;else a&&!s?o.height=t:!a&&s?o.width=n:(o.width=n,o.height=t);return g(g({},o),r)}},{key:"image",value:function(){var e=this.props,t=e.thumbnail,n=e.resource,r=e.maxHeight,i=e.maxWidth,o=e.thumbnailsConfig;if(t)return t;var a=(0,h.A)(n,g(g({},o),{},{maxHeight:r,maxWidth:i}));return a&&a.url?a:void 0}},{key:"label",value:function(){var e=this.props,t=e.label,n=e.resource;return t||s.getUseableLabel(n)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes,r=e.imagePlaceholder,i=e.labelled,o=e.thumbnail,a=e.variant,s=this.state,l=s.image,d=(s.loaded&&(o||l)||{}).url,h=void 0===d?r:d;return u.createElement("div",{className:p()(n.root,y({},n["".concat(a,"Root")],a))},u.createElement(f.Ay,{onChange:this.handleIntersection},u.createElement("img",{alt:"",role:"presentation",src:h,style:this.imageStyles(),className:n.image})),i&&u.createElement("div",{className:p()(n.label,y({},n["".concat(a,"Label")],a))},u.createElement(c.A,{variant:"caption",classes:{root:p()(n.caption,y({},n["".concat(a,"Caption")],a))}},this.label())),t)}}])&&b(t.prototype,n),r&&b(t,r),s}(u.Component);E.defaultProps={children:null,classes:{},imagePlaceholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mMMDQmtBwADgwF/Op8FmAAAAABJRU5ErkJggg==",label:void 0,labelled:!1,maxHeight:null,maxWidth:null,style:{},thumbnail:null,thumbnailsConfig:{},variant:null};const _=(0,r.Zz)((0,a.A)((function(e){return{caption:{lineHeight:"1.5em",wordBreak:"break-word"},image:{},insideCaption:{color:"#ffffff",lineClamp:"1",whiteSpace:"nowrap"},insideLabel:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)",bottom:"5px",boxSizing:"border-box",left:"0px",padding:"4px",position:"absolute",width:"100%"},insideRoot:{display:"inline-block",height:"inherit",position:"relative"},label:{overflow:"hidden",textOverflow:"ellipsis"},outsideCaption:{boxOrient:"vertical",display:"-webkit-box",lineClamp:"2",maxHeight:"3em"},outsideLabel:{},outsideRoot:{},root:{}}})),(0,o.C)(),(0,i.Ng)((function(e){return{thumbnailsConfig:(0,l.zj)(e).thumbnails}})),(0,s.h)("IIIFThumbnail"))(E)},43315:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(69592),i=n(35914),o=n(82946),a=n(92910),s=n(35004),l=n(78281),u=n(72133),c=n(93801),f=n(3501),d=n(20530),p=n(25960);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(r);if(i){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.manifestDescription,n=e.manifestLabel,r=e.manifestMetadata,i=e.id,o=e.t;return l.createElement(c.A,{id:"".concat(i,"-resource"),label:o("resource")},n&&l.createElement(u.A,{"aria-labelledby":"".concat(i,"-resource ").concat(i,"-resource-heading"),id:"".concat(i,"-resource-heading"),variant:"h4",component:"h5"},n),t&&l.createElement(u.A,{variant:"body1"},l.createElement(f.A,{htmlString:t,ruleSet:"iiif"})),r.length>0&&l.createElement(d.P,{labelValuePairs:r}),l.createElement(p.F,this.props))}}])&&m(t.prototype,n),a}(l.Component);y.defaultProps={manifestDescription:null,manifestLabel:null,manifestMetadata:[],t:function(e){return e}};const b=(0,r.Zz)((0,o.C)(),(0,i.Ng)((function(e,t){var n=t.id,r=t.manifestId,i=t.windowId;return{manifestDescription:(0,s.CG)(e,{companionWindowId:n,manifestId:r,windowId:i}),manifestLabel:(0,s.aY)(e,{companionWindowId:n,manifestId:r,windowId:i}),manifestMetadata:(0,s.dB)(e,{companionWindowId:n,manifestId:r,windowId:i})}})),(0,a.h)("ManifestInfo"))(y)},96949:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(69592),i=n(35914),o=n(92910),a=n(6933),s=n(37466);const l=(0,r.Zz)((0,i.Ng)((function(e){return{containerId:(0,s.TW)(e)}}),null),(0,o.h)("MiradorMenuButton"))(a.Y)},97157:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ge});var r=n(69592),i=n(35914),o=n(82946),a=n(74855),s=n(94881),l=n.n(s),u=n(92910),c=n(78281),f=n(38624),d=n.n(f),p=n(15031),h=n.n(p),m=n(99982),v=n.n(m),g=n(76973),y=n.n(g),b=n(62991),w=n(8568),x=n(57434),S=n.n(x),E=n(45646),_=n.n(E);function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.viewer=t,this.ref=n,this.containerWidth=0,this.containerHeight=0,this.imgAspectRatio=1}var t,n;return t=e,(n=[{key:"canvas",get:function(){return this.canvasDiv.firstElementChild}},{key:"canvasDiv",get:function(){return this.ref.current}},{key:"context2d",get:function(){return this.canvas.getContext("2d")}},{key:"clear",value:function(){this.context2d.clearRect(0,0,this.containerWidth,this.containerHeight)}},{key:"resize",value:function(){this.containerWidth!==this.viewer.container.clientWidth&&(this.containerWidth=this.viewer.container.clientWidth,this.canvasDiv.setAttribute("width",this.containerWidth),this.canvas.setAttribute("width",this.containerWidth)),this.containerHeight!==this.viewer.container.clientHeight&&(this.containerHeight=this.viewer.container.clientHeight,this.canvasDiv.setAttribute("height",this.containerHeight),this.canvas.setAttribute("height",this.containerHeight)),this.viewportOrigin=new(v().Point)(0,0);var e=this.viewer.viewport.getBoundsNoRotate(!0);this.viewportOrigin.x=e.x,this.viewportOrigin.y=e.y*this.imgAspectRatio,this.viewportWidth=e.width,this.viewportHeight=e.height*this.imgAspectRatio;var t=this.viewer.world.getItemAt(0);t&&(this.imgWidth=t.source.dimensions.x,this.imgHeight=t.source.dimensions.y,this.imgAspectRatio=this.imgWidth/this.imgHeight)}},{key:"canvasUpdate",value:function(e){var t=this.viewer.viewport.getZoom(!0),n=this.viewer.world.getItemAt(0);if(n){var r=n.viewportToImageZoom(t),i=(this.viewportOrigin.x/this.imgWidth-this.viewportOrigin.x)/this.viewportWidth*this.containerWidth,o=(this.viewportOrigin.y/this.imgHeight-this.viewportOrigin.y)/this.viewportHeight*this.containerHeight;this.clearBeforeRedraw&&this.clear(),this.context2d.translate(i,o),this.context2d.scale(r,r);var a=this.viewer.viewport.getCenter();this.viewer.viewport.getFlip()&&(this.context2d.translate(2*a.x,0),this.context2d.scale(-1,1));var s=this.viewer.viewport.getRotation();0!==s&&(this.context2d.translate(a.x,a.y),this.context2d.rotate(s*Math.PI/180),this.context2d.translate(-1*a.x,-1*a.y)),e(),this.context2d.setTransform(1,0,0,1,0,0)}}}])&&T(t.prototype,n),e}();function A(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(t){var n=t.resource,r=t.palette,i=t.zoomRatio,o=t.offset,a=t.selected,s=t.hovered;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resource=n,this.palette=r,this.zoomRatio=i,this.offset=o,this.selected=a,this.hovered=s}var t,n;return t=e,(n=[{key:"toContext",value:function(e){this.context=e,this.resource.svgSelector?this.svgContext():this.resource.fragmentSelector&&this.fragmentContext()}},{key:"svgString",get:function(){return this.resource.svgSelector.value}},{key:"svgContext",value:function(){var e,t=this;0!==(e=this.hovered?this.palette.hovered:this.selected?this.palette.selected:this.palette.default).globalAlpha&&A(this.svgPaths).forEach((function(n){t.context.save(),t.context.translate(t.offset.x,t.offset.y);var r=new Path2D(n.attributes.d.nodeValue);t.context.strokeStyle=t.color,n.attributes["stroke-dasharray"]&&t.context.setLineDash(n.attributes["stroke-dasharray"].nodeValue.split(","));var i={fill:"fillStyle",stroke:"strokeStyle","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterlimit","stroke-width":"lineWidth"};Object.keys(i).forEach((function(e){n.attributes[e]&&(t.context[i[e]]=n.attributes[e].nodeValue)})),t.context.lineWidth/=t.zoomRatio,(t.selected||t.hovered)&&(t.context.strokeStyle=e.strokeStyle||e.fillStyle),n.attributes["stroke-opacity"]?t.context.globalAlpha=e.globalAlpha*n.attributes["stroke-opacity"].nodeValue:t.context.globalAlpha=e.globalAlpha,t.context.stroke(r),n.attributes.fill&&"none"!==n.attributes.fill.nodeValue&&(n.attributes["fill-opacity"]?t.context.globalAlpha=e.globalAlpha*n.attributes["fill-opacity"].nodeValue:t.context.globalAlpha=e.globalAlpha,t.context.fill(r)),t.context.restore()}))}},{key:"fragmentContext",value:function(){var e,t,n,r=this,i=this.resource.fragmentSelector;i[0]+=this.offset.x,i[1]+=this.offset.y,e=this.selected?this.palette.selected:this.hovered?this.palette.hovered:this.palette.default,this.context.save(),Object.keys(e).forEach((function(t){r.context[t]=e[t]})),0!==e.globalAlpha&&(e.fillStyle?(t=this.context).fillRect.apply(t,A(i)):(this.context.lineWidth=1/this.zoomRatio,(n=this.context).strokeRect.apply(n,A(i))),this.context.restore())}},{key:"svgPaths",get:function(){return(new DOMParser).parseFromString(this.svgString,"text/xml").getElementsByTagName("path")}}])&&P(t.prototype,n),e}();function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},F(e,t)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=H(i);if(o){var n=H(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return W(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).ref=c.createRef(),t.osdCanvasOverlay=null,t.updateCanvas=function(){},t.onUpdateViewport=t.onUpdateViewport.bind(W(t)),t.onCanvasClick=t.onCanvasClick.bind(W(t)),t.onCanvasMouseMove=d()(t.onCanvasMouseMove.bind(W(t)),10),t.onCanvasExit=t.onCanvasExit.bind(W(t)),t}return t=s,n=[{key:"componentDidMount",value:function(){this.initializeViewer()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.drawAnnotations,r=t.drawSearchAnnotations,i=t.annotations,o=t.searchAnnotations,a=t.hoveredAnnotationIds,l=t.selectedAnnotationId,u=t.highlightAllAnnotations,c=t.viewer;this.initializeViewer();var f=!s.annotationsMatch(i,e.annotations),d=!s.annotationsMatch(o,e.searchAnnotations),p=_()(a,e.hoveredAnnotationIds).length>0;this.osdCanvasOverlay&&p&&(a.length>0?this.osdCanvasOverlay.canvasDiv.style.cursor="pointer":this.osdCanvasOverlay.canvasDiv.style.cursor="");var h=l!==e.selectedAnnotationId,m=n!==e.drawAnnotations||r!==e.drawSearchAnnotations||u!==e.highlightAllAnnotations;(d||f||h||p||m)&&(this.updateCanvas=this.canvasUpdateCallback(),c.forceRedraw())}},{key:"componentWillUnmount",value:function(){var e=this.props.viewer;e.removeHandler("canvas-click",this.onCanvasClick),e.removeHandler("canvas-exit",this.onCanvasExit),e.removeHandler("update-viewport",this.onUpdateViewport),e.removeHandler("mouse-move",this.onCanvasMouseMove)}},{key:"onCanvasClick",value:function(e){var t=this,n=this.props.canvasWorld,r=e.position,i=e.eventSource.viewport.pointFromPixel(r),o=n.canvasAtPoint(i);if(o){var a=L(n.canvasToWorldCoordinates(o.id),4),s=(a[0],a[1],a[2]),l=a[3],u=this.annotationsAtPoint(o,i);if(u.length>0&&(e.preventDefaultAction=!0),1===u.length)this.toggleAnnotation(u[0].id);else if(u.length>0){var c=function(e){var n=Math.PI/180;return function(r){for(var a=0,s=0;s<360;s+=1){var l=Math.cos(s*n)*e+i.x,u=Math.sin(s*n)*e+i.y;t.isAnnotationAtPoint(r,o,{x:l,y:u})&&(a+=1)}return{anno:r,score:a}}},f=[],d=1;for(f=S()(u.map(c(d)),"score");d<Math.max(s,l)&&f[0].score===f[1].score;)d*=2,f=S()(u.map(c(d)),"score");this.toggleAnnotation(f[0].anno.id)}}}},{key:"onCanvasMouseMove",value:function(e){var t=this.props,n=t.annotations,r=t.canvasWorld,i=t.hoverAnnotation,o=t.hoveredAnnotationIds,a=t.searchAnnotations,s=t.viewer,l=t.windowId;if(0!==n.length||0!==a.length){var u=e.position,c=s.viewport.pointFromPixel(u),f=r.canvasAtPoint(c);if(f){var d=this.annotationsAtPoint(f,c);_()(o,d.map((function(e){return e.id}))).length>0&&i(l,d.map((function(e){return e.id})))}else i(l,[])}}},{key:"onCanvasExit",value:function(e){var t=this.props,n=t.hoverAnnotation,r=t.windowId;this.onCanvasMouseMove.cancel(),n(r,[])}},{key:"onUpdateViewport",value:function(e){this.updateCanvas()}},{key:"initializeViewer",value:function(){var e=this.props.viewer;e&&(this.osdCanvasOverlay||(this.osdCanvasOverlay=new O(e,this.ref),e.addHandler("canvas-click",this.onCanvasClick),e.addHandler("canvas-exit",this.onCanvasExit),e.addHandler("update-viewport",this.onUpdateViewport),e.addHandler("mouse-move",this.onCanvasMouseMove),this.updateCanvas=this.canvasUpdateCallback()))}},{key:"canvasUpdateCallback",value:function(){var e=this;return function(){e.osdCanvasOverlay.clear(),e.osdCanvasOverlay.resize(),e.osdCanvasOverlay.canvasUpdate(e.renderAnnotations.bind(e))}}},{key:"isAnnotationAtPoint",value:function(e,t,n){var r=L(this.props.canvasWorld.canvasToWorldCoordinates(t.id),2),i=r[0],o=r[1],a=n.x-i,s=n.y-o;if(e.svgSelector){var l=this.osdCanvasOverlay.context2d;return j(new k({resource:e}).svgPaths).some((function(e){return l.isPointInPath(new Path2D(e.attributes.d.nodeValue),a,s)}))}if(e.fragmentSelector){var u=L(e.fragmentSelector,4),c=u[0],f=u[1],d=u[2],p=u[3];return c<=a&&a<=c+d&&f<=s&&s<=f+p}return!1}},{key:"annotationsAtPoint",value:function(e,t){var n=this,r=this.props,i=r.annotations,o=r.searchAnnotations,a=[].concat(j(i),j(o));return l()(a.map((function(e){return e.resources}))).filter((function(r){return e.id===r.targetId&&n.isAnnotationAtPoint(r,e,t)}))}},{key:"toggleAnnotation",value:function(e){var t=this.props,n=t.selectedAnnotationId,r=t.selectAnnotation,i=t.deselectAnnotation,o=t.windowId;n===e?i(o,e):r(o,e)}},{key:"annotationsToContext",value:function(e,t){var n=this.props,r=n.highlightAllAnnotations,i=n.hoveredAnnotationIds,o=n.selectedAnnotationId,a=n.canvasWorld,s=n.viewer,l=this.osdCanvasOverlay.context2d,u=s.viewport.getZoom(!0)/s.viewport.getMaxZoom();e.forEach((function(e){e.resources.forEach((function(e){if(a.canvasIds.includes(e.targetId)){var n=a.offsetByCanvas(e.targetId);new k({hovered:i.includes(e.id),offset:n,palette:M(M({},t),{},{default:M(M({},t.default),!r&&t.hidden)}),resource:e,selected:o===e.id,zoomRatio:u}).toContext(l)}}))}))}},{key:"renderAnnotations",value:function(){var e=this.props,t=e.annotations,n=e.drawAnnotations,r=e.drawSearchAnnotations,i=e.searchAnnotations,o=e.palette;r&&this.annotationsToContext(i,o.search),n&&this.annotationsToContext(t,o.annotations)}},{key:"render",value:function(){var e=this.props.viewer;return e?w.createPortal(c.createElement("div",{ref:this.ref,style:{height:"100%",left:0,position:"absolute",top:0,width:"100%"}},c.createElement("canvas",null)),e.canvas):c.createElement(c.Fragment,null)}}],r=[{key:"annotationsMatch",value:function(e,t){return!e&&!t||!(e&&!t||!e&&t)&&(0===e.length&&0===t.length||e.length===t.length&&e.every((function(e,n){var r=e.resources.map((function(e){return e.id})),i=t[n].resources.map((function(e){return e.id}));return 0===r.length&&0===i.length||r.length===i.length&&!(e.id!==t[n].id||!h()(r,i))})))}}],n&&B(t.prototype,n),r&&B(t,r),s}(c.Component);U.defaultProps={annotations:[],deselectAnnotation:function(){},drawAnnotations:!0,drawSearchAnnotations:!0,highlightAllAnnotations:!1,hoverAnnotation:function(){},hoveredAnnotationIds:[],palette:{},searchAnnotations:[],selectAnnotation:function(){},selectedAnnotationId:void 0,viewer:null};var V=n(82486),G=n(91663),q=n(51338),X=n(37466),Z=n(47031),$=n(71450),Y=n(64640),K={deselectAnnotation:V.PW,hoverAnnotation:V.GW,selectAnnotation:V.gN};const J=(0,r.Zz)((0,o.C)(),(0,i.Ng)((function(e,t){var n=t.windowId;return{annotations:(0,G.Su)(e,{windowId:n}),canvasWorld:(0,q.k)(e,{windowId:n}),drawAnnotations:(0,X.zj)(e).window.forceDrawAnnotations||(0,Z.Ih)(e,{content:"annotations",windowId:n}).length>0,drawSearchAnnotations:(0,X.zj)(e).window.forceDrawAnnotations||(0,Z.Ih)(e,{content:"search",windowId:n}).length>0,highlightAllAnnotations:(0,$.zk)(e,{windowId:n}).highlightAllAnnotations,hoveredAnnotationIds:(0,$.zk)(e,{windowId:n}).hoveredAnnotationIds,palette:(0,X.O4)(e).palette,searchAnnotations:(0,Y.sC)(e,{windowId:n}),selectedAnnotationId:(0,G.e3)(e,{windowId:n})}}),K),(0,u.h)("AnnotationsOverlay"))(U);var Q=n(25960),ee={get:function(e){return this.refs[e]},refs:{},set:function(e,t){this.refs[e]=t}};function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(e,t,n){return ne=fe()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ue(i,n.prototype),i},ne.apply(null,arguments)}function re(e){return function(e){if(Array.isArray(e))return ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t){return ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ue(e,t)}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function de(e){return de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},de(e)}var pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(a,e);var t,n,r,i,o=(r=a,i=fe(),function(){var e,t=de(r);if(i){var n=de(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ce(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={viewer:void 0},t.ref=c.createRef(),t.apiRef=c.createRef(),ee.set(e.windowId,t.apiRef),t.onCanvasMouseMove=d()(t.onCanvasMouseMove.bind(ce(t)),10),t.onViewportChange=t.onViewportChange.bind(ce(t)),t.zoomToWorld=t.zoomToWorld.bind(ce(t)),t.osdUpdating=!1,t}return t=a,n=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.osdConfig,r=t.t,i=t.windowId;if(this.ref.current){var o=new(v())(ae({id:this.ref.current.id},n)),a=o.canvas&&o.canvas.firstElementChild;a&&(a.setAttribute("role","img"),a.setAttribute("aria-label",r("digitizedView")),a.setAttribute("aria-describedby","".concat(i,"-osd"))),this.apiRef.current=o,this.setState({viewer:o}),o.addHandler("animation-start",(function(){e.osdUpdating=!0})),o.addHandler("animation-finish",this.onViewportChange),o.addHandler("animation-finish",(function(){e.osdUpdating=!1})),o.innerTracker&&(o.innerTracker.moveHandler=this.onCanvasMouseMove)}}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.viewerConfig,i=n.canvasWorld,o=this.state.viewer;if(this.apiRef.current=o,void 0===t.viewer)return r&&(o.viewport.panTo(r,!0),o.viewport.zoomTo(r.zoom,r,!0),void 0!==r.degrees&&o.viewport.setRotation(r.degrees),void 0!==r.flip&&o.viewport.setFlip(r.flip)),void this.addAllImageSources(!r);if(this.infoResponsesMatch(e.infoResponses)&&this.nonTiledImagedMatch(e.nonTiledImages))if(h()(i.layers,e.canvasWorld.layers)){if(r&&!this.osdUpdating){var a=o.viewport;r.x===a.centerSpringX.target.value&&r.y===a.centerSpringY.target.value||a.panTo(r,!1),r.zoom!==a.zoomSpring.target.value&&a.zoomTo(r.zoom,r,!1),r.rotation!==a.getRotation()&&a.setRotation(r.rotation),r.flip!==a.getFlip()&&a.setFlip(r.flip)}}else this.refreshTileProperties();else{o.close();var s=!h()(i.canvasIds,e.canvasWorld.canvasIds);this.addAllImageSources(s||!r)}}},{key:"componentWillUnmount",value:function(){var e=this.state.viewer;e.innerTracker&&e.innerTracker.moveHandler===this.onCanvasMouseMove&&(e.innerTracker.moveHandler=null),e.removeAllHandlers(),this.apiRef.current=void 0}},{key:"onCanvasMouseMove",value:function(e){this.state.viewer.raiseEvent("mouse-move",e)}},{key:"onViewportChange",value:function(e){var t=this.props,n=t.updateViewport,r=t.windowId,i=e.eventSource.viewport;n(r,{flip:i.getFlip(),rotation:i.getRotation(),x:Math.round(i.centerSpringX.target.value),y:Math.round(i.centerSpringY.target.value),zoom:i.zoomSpring.target.value})}},{key:"addAllImageSources",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.props,r=n.nonTiledImages,i=n.infoResponses;Promise.all(i.map((function(t){return e.addTileSource(t)})),r.map((function(t){return e.addNonTiledImage(t)}))).then((function(){(i[0]||r[0])&&(t&&e.zoomToWorld(),e.refreshTileProperties())}))}},{key:"addNonTiledImage",value:function(e){var t=this.props.canvasWorld,n=this.state.viewer,r=e.getProperty("type"),i=e.getProperty("format")||"";return"Image"===r||"dctypes:Image"===r||i.startsWith("image/")?new Promise((function(r,i){n||i(),n.addSimpleImage({error:function(e){return i(e)},fitBounds:ne(v().Rect,re(t.contentResourceToWorldCoordinates(e))),index:t.layerIndexOfImageResource(e),opacity:t.layerOpacityOfImageResource(e),success:function(e){return r(e)},url:e.id})})):Promise.resolve()}},{key:"addTileSource",value:function(e){var t=this.props.canvasWorld,n=this.state.viewer;return new Promise((function(r,i){n||i();var o=ae({},e.json),a=t.contentResource(e.id);a&&n.addTiledImage({error:function(e){return i(e)},fitBounds:ne(v().Rect,re(t.contentResourceToWorldCoordinates(a))),index:t.layerIndexOfImageResource(a),opacity:t.layerOpacityOfImageResource(a),success:function(e){return r(e)},tileSource:o})}))}},{key:"refreshTileProperties",value:function(){for(var e=this.props.canvasWorld,t=this.state.viewer.world,n=[],r=0;r<t.getItemCount();r+=1)n.push(t.getItemAt(r));n.forEach((function(n,r){var i=e.contentResource(n.source["@id"]||n.source.id);if(i){var o=e.layerIndexOfImageResource(i);r!==o&&t.setItemIndex(n,o),n.setOpacity(e.layerOpacityOfImageResource(i))}}))}},{key:"fitBounds",value:function(e,t,n,r){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.state.viewer.viewport.fitBounds(new(v().Rect)(e,t,n,r),i)}},{key:"infoResponsesMatch",value:function(e){var t=this.props.infoResponses;return 0===t.length&&0===e.length||t.length===e.length&&t.every((function(t,n){return!!(e[n]&&t.json&&e[n].json&&t.tokenServiceId===e[n].tokenServiceId&&(t.json["@id"]&&t.json["@id"]===e[n].json["@id"]||t.json.id&&t.json.id===e[n].json.id))}))}},{key:"nonTiledImagedMatch",value:function(e){var t=this.props.nonTiledImages;return 0===t.length&&0===e.length||t.some((function(t,n){return!!e[n]&&t.id===e[n].id}))}},{key:"zoomToWorld",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props.canvasWorld;this.fitBounds.apply(this,re(t.worldBounds()).concat([e]))}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.classes,i=t.label,o=t.t,a=t.windowId,s=t.drawAnnotations,l=this.state.viewer,u=c.Children.map(n,(function(t){return c.cloneElement(t,{zoomToWorld:e.zoomToWorld})}));return c.createElement(c.Fragment,null,c.createElement("section",{className:y()((0,b.A)("osd-container"),r.osdContainer),id:"".concat(a,"-osd"),ref:this.ref,"aria-label":o("item",{label:i}),"aria-live":"polite"},s&&c.createElement(J,{viewer:l,windowId:a}),u,c.createElement(Q.F,Object.assign({viewer:l},ae(ae({},this.props),{},{children:null})))))}}],n&&le(t.prototype,n),a}(c.Component);pe.defaultProps={children:null,drawAnnotations:!1,infoResponses:[],label:null,nonTiledImages:[],osdConfig:{},viewerConfig:null};var he=n(83131),me=n(93368),ve={updateViewport:he.yR};const ge=(0,r.Zz)((0,a.A)({osdContainer:{flex:1,position:"relative"}}),(0,o.C)(),(0,i.Ng)((function(e,t){var n=t.windowId,r=(0,q.k)(e,{windowId:n}),i=(0,me.dN)(e),o=l()(r.canvases.map((function(e){return e.imageServiceIds})));return{canvasWorld:r,drawAnnotations:(0,X.zj)(e).window.forceDrawAnnotations||(0,Z.Ih)(e,{content:"annotations",windowId:n}).length>0||(0,Z.Ih)(e,{content:"search",windowId:n}).length>0,infoResponses:o.map((function(e){return i[e]})).filter((function(e){return void 0!==e&&!1===e.isFetching&&void 0===e.error})),label:(0,me.T2)(e,{canvasId:((0,me.kR)(e,{windowId:n})||{}).id,windowId:n}),nonTiledImages:(0,me.RP)(e,{windowId:n}),osdConfig:(0,X.zj)(e).osdConfig,viewerConfig:(0,$.tk)(e,{windowId:n})}}),ve),(0,u.h)("OpenSeadragonViewer"))(pe)},3501:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(74855),i=n(78281),o=n(80595),a=n.n(o),s=n(62991);const l={iiif:{ALLOWED_ATTR:["href","src","alt"],ALLOWED_TAGS:["a","b","br","i","img","p","span"]},liberal:{},mirador2:{ALLOWED_ATTR:["href","target","src","alt","dir"],ALLOWED_TAGS:["a","b","br","i","img","p","span","strong","em","ul","ol","li"]},noHtml:{ALLOWED_TAGS:[]}};function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(h,e);var t,n,r,o,p=(r=h,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(o){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function h(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),p.apply(this,arguments)}return t=h,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.htmlString,r=e.ruleSet;return a().addHook("afterSanitizeAttributes",(function(e){"target"in e&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer"))})),i.createElement("span",{className:[t.root,(0,s.A)("third-party-html")].join(" "),dangerouslySetInnerHTML:{__html:a().sanitize(n,l[r])}})}}])&&c(t.prototype,n),h}(i.Component);p.defaultProps={classes:{}};const h=(0,r.A)((function(e){return{root:{"& a":{color:e.palette.primary.main,textDecoration:"underline"}}}}))(p)},12951:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var r=n(69592),i=n(35914),o=n(82946),a=n(74855),s=n(18595),l=n(92910),u=n(71450),c=n(78281),f=n(37891),d=n(85763),p=n(72133),h=n(90673);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(i){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).openCollectionDialog=t.openCollectionDialog.bind(y(t)),t}return t=a,(n=[{key:"openCollectionDialog",value:function(){var e=this.props,t=e.collectionPath,n=e.manifestId,r=e.showCollectionDialog,i=e.windowId;r(n,t.slice(0,-1),i)}},{key:"render",value:function(){var e=this.props.t;return c.createElement(d.A,{container:!0,justify:"center",alignItems:"center"},c.createElement(d.A,{container:!0,direction:"column",alignItems:"center"},c.createElement(p.A,{variant:"h4",paragraph:!0},c.createElement("em",null,e("noItemSelected"))),c.createElement(f.A,{color:"primary",variant:"contained",onClick:this.openCollectionDialog,startIcon:c.createElement(h.A,null)},e("showCollection"))))}}])&&v(t.prototype,n),a}(c.Component);w.defaultProps={collectionPath:[],manifestId:null,t:function(){},windowId:null};var x={showCollectionDialog:s.Az};const S=(0,r.Zz)((0,o.C)(),(0,a.A)((function(e){return{}})),(0,i.Ng)((function(e,t){var n=t.windowId,r=(0,u.zk)(e,{windowId:n})||{};return{collectionPath:r.collectionPath,manifestId:r.manifestId}}),x),(0,l.h)("SelectCollection"))(w)},67842:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(35914),i=n(69592),o=n(82946),a=n(74855),s=n(92910),l=n(78281);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(i){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.captions,n=e.classes,r=e.videoOptions,i=e.videoResources;return l.createElement("div",{className:n.container},l.createElement("video",Object.assign({className:n.video},r),i.map((function(e){return l.createElement(l.Fragment,{key:e.id},l.createElement("source",{src:e.id,type:e.getFormat()}))})),t.map((function(e){return l.createElement(l.Fragment,{key:e.id},l.createElement("track",{src:e.id,label:e.getDefaultLabel(),srcLang:e.getProperty("language")}))}))))}}])&&c(t.prototype,n),a}(l.Component);p.defaultProps={captions:[],videoOptions:{},videoResources:[]};var h=n(93368),m=n(37466);const v=(0,i.Zz)((0,o.C)(),(0,a.A)((function(){return{container:{alignItems:"center",display:"flex",width:"100%"},video:{maxHeight:"100%",width:"100%"}}})),(0,r.Ng)((function(e,t){var n=t.windowId;return{captions:(0,h.mK)(e,{windowId:n})||[],videoOptions:(0,m.zj)(e).videoOptions,videoResources:(0,h.HS)(e,{windowId:n})||[]}}),null),(0,s.h)("VideoViewer"))(p)},8306:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ae});var r=n(69592),i=n(92910),o=n(78281),a=n(35914),s=n(72855),l=n(74855),u=n(23040),c=n(71450),f=n(76973),d=n.n(f),p=n(39729),h=n(72133),m=n(82946),v=n(83131),g=n(37466),y=n(55684),b=n(94683),w=n(1525);function x(e){return o.createElement(w.A,e,o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.createElement("path",{d:"M6,15H9v3h2V13H6Zm9-6V6H13v5h5V9Z"}),o.createElement("path",{d:"M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8,8,8,0,0,1-8,8Z"})))}var S=n(96949);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},T(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(s,e);var t,n,r,i,a=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A(r);if(i){var n=A(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).handleZoomInClick=t.handleZoomInClick.bind(O(t)),t.handleZoomOutClick=t.handleZoomOutClick.bind(O(t)),t}return t=s,(n=[{key:"handleZoomInClick",value:function(){var e=this.props,t=e.windowId;(0,e.updateViewport)(t,{zoom:2*e.viewer.zoom})}},{key:"handleZoomOutClick",value:function(){var e=this.props,t=e.windowId;(0,e.updateViewport)(t,{zoom:e.viewer.zoom/2})}},{key:"render",value:function(){var e=this.props,t=e.displayDivider,n=e.showZoomControls,r=e.classes,i=e.t,a=e.zoomToWorld;return n?o.createElement("div",{className:r.zoom_controls},o.createElement(S.A,{"aria-label":i("zoomIn"),onClick:this.handleZoomInClick},o.createElement(y.A,null)),o.createElement(S.A,{"aria-label":i("zoomOut"),onClick:this.handleZoomOutClick},o.createElement(b.A,null)),o.createElement(S.A,{"aria-label":i("zoomReset"),onClick:function(){return a(!1)}},o.createElement(x,null)),t&&o.createElement("span",{className:r.divider})):o.createElement(o.Fragment,null)}}])&&_(t.prototype,n),s}(o.Component);C.defaultProps={displayDivider:!0,showZoomControls:!1,t:function(e){return e},updateViewport:function(){},viewer:{},windowId:""};var P={updateViewport:v.yR};const k=(0,r.Zz)((0,m.C)(),(0,l.A)((function(e){return{divider:{borderRight:"1px solid #808080",display:"inline-block",height:"24px",margin:"12px 6px"},ListItem:{paddingBottom:0,paddingTop:0},zoom_controls:{display:"flex",flexDirection:"row",justifyContent:"center"}}})),(0,a.Ng)((function(e,t){var n=t.windowId;return{showZoomControls:(0,g.X3)(e),viewer:(0,c.tk)(e,{windowId:n})}}),P),(0,i.h)("ZoomControls"))(C);var R=n(62991);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},D(e,t)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(s,e);var t,n,r,i,a=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(i){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this.props,t=e.canvasCount,n=e.canvasIndex,r=e.canvasLabel,i=e.classes,a=e.t;return o.createElement("div",{className:d()((0,R.A)("osd-info"),i.osdInfo)},o.createElement(h.A,{display:"inline",variant:"caption",className:(0,R.A)("canvas-count")},a("pagination",{current:n+1,total:t})),o.createElement(h.A,{display:"inline",variant:"caption",className:(0,R.A)("canvas-label")},r&&"  ".concat(r)))}}])&&M(t.prototype,n),s}(o.Component);L.defaultProps={canvasLabel:void 0,t:function(){}};var N=n(93368),z=n(16344);const B=(0,r.Zz)((0,l.A)({osdInfo:{order:2,overflow:"hidden",paddingBottom:3,textOverflow:"ellipsis",unicodeBidi:"plaintext",whiteSpace:"nowrap",width:"100%"}}),(0,m.C)(),(0,a.Ng)((function(e,t){var n=t.windowId,r=(0,N.P)(e,{windowId:n}),i=(0,z.PB)(e,{windowId:n}),o=((0,N.kR)(e,{windowId:n})||{}).id;return{canvasCount:r.length,canvasIndex:i,canvasLabel:(0,N.T2)(e,{canvasId:o,windowId:n})}}),null),(0,i.h)("ViewerInfo"))(L);var F=n(12281);function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},U(e,t)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(s,e);var t,n,r,i,a=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(r);if(i){var n=V(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this.props,t=e.hasNextCanvas,n=e.hasPreviousCanvas,r=e.setNextCanvas,i=e.setPreviousCanvas,a=e.t,s=e.classes,l="ltr",u={},c={};switch(e.viewingDirection){case"top-to-bottom":u={transform:"rotate(270deg)"},c={transform:"rotate(90deg)"};break;case"bottom-to-top":u={transform:"rotate(90deg)"},c={transform:"rotate(270deg)"};break;case"right-to-left":l="rtl",u={},c={transform:"rotate(180deg)"};break;default:u={transform:"rotate(180deg)"},c={}}return o.createElement("div",{className:d()((0,R.A)("osd-navigation"),s.osdNavigation),dir:l},o.createElement(S.A,{"aria-label":a("previousCanvas"),className:(0,R.A)("previous-canvas-button"),disabled:!n,onClick:function(){n&&i()}},o.createElement(F.A,{style:u})),o.createElement(S.A,{"aria-label":a("nextCanvas"),className:(0,R.A)("next-canvas-button"),disabled:!t,onClick:function(){t&&r()}},o.createElement(F.A,{style:c})))}}])&&H(t.prototype,n),s}(o.Component);G.defaultProps={hasNextCanvas:!1,hasPreviousCanvas:!1,setNextCanvas:function(){},setPreviousCanvas:function(){},viewingDirection:""};const q=(0,r.Zz)((0,l.A)({osdNavigation:{order:1}}),(0,m.C)(),(0,a.Ng)((function(e,t){var n=t.windowId;return{hasNextCanvas:!!(0,N.BL)(e,{windowId:n}),hasPreviousCanvas:!!(0,N.Nj)(e,{windowId:n}),viewingDirection:(0,z.Kb)(e,{windowId:n})}}),(function(e,t){var n=t.windowId;return{setNextCanvas:function(){return e(v.OZ(n))},setPreviousCanvas:function(){return e(v.Kh(n))}}})),(0,i.h)("ViewerNavigation"))(G);var X=n(25960);function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Y(e,t)}function K(e){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},K(e)}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(s,e);var t,n,r,i,a=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=K(r);if(i){var n=K(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return t=s,(n=[{key:"canvasNavControlsAreStacked",value:function(){var e=this.props.size;return e&&e.width&&e.width<=253}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.visible,r=e.windowId,i=e.zoomToWorld;return n?o.createElement(p.A,{square:!0,className:d()(t.controls,(0,R.A)("canvas-nav"),t.canvasNav,this.canvasNavControlsAreStacked()?(0,R.A)("canvas-nav-stacked"):null,this.canvasNavControlsAreStacked()?t.canvasNavStacked:null),elevation:0},o.createElement(k,{displayDivider:!this.canvasNavControlsAreStacked(),windowId:r,zoomToWorld:i}),o.createElement(q,{windowId:r}),o.createElement(B,{windowId:r}),o.createElement(X.F,this.props)):o.createElement(h.A,{variant:"srOnly",component:"div"},o.createElement(B,{windowId:r}))}}])&&$(t.prototype,n),s}(o.Component);J.defaultProps={classes:{},visible:!0};const Q=(0,r.Zz)((0,a.Ng)((function(e,t){var n=t.windowId;return{visible:(0,c.K4)(e).focusedWindowId===n}})),(0,l.A)((function(e){return{canvasNav:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",textAlign:"center"},canvasNavStacked:{flexDirection:"column"},controls:{backgroundColor:(0,u.fade)(e.palette.background.paper,.5),bottom:0,position:"absolute",width:"100%",zIndex:50}}})),(0,s.withSize)(),(0,i.h)("WindowCanvasNavigationControls"))(J);function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ne(e,t)}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},re(e)}var ie=(0,o.lazy)((function(){return Promise.resolve().then(n.bind(n,97157))})),oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(l,e);var t,n,r,i,a,s=(i=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=re(i);if(a){var n=re(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={},t}return t=l,r=[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}],(n=[{key:"render",value:function(){var e=this.props.windowId;return this.state.hasError?o.createElement(o.Fragment,null):o.createElement(o.Suspense,{fallback:o.createElement("div",null)},o.createElement(ie,{windowId:e},o.createElement(Q,{windowId:e})))}}])&&te(t.prototype,n),r&&te(t,r),l}(o.Component);const ae=(0,r.Zz)((0,i.h)("WindowViewer"))(oe)},75866:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>xc});var r=n(69592),i=n(35914),o=n(82946),a=n(61276),s=n(74855),l=n(92910),u=n(78281),c=n(76973),f=n.n(c),d=n(60272),p=n.n(d),h=n(63063),m=n(53466),v=n(2362),g=(n(43979),n(80634)),y=n(30568),b=n(80101),w=n(55258),x=n(21460),S=n(58705),E=n(17429),_=n(29812),T=n(86390),O={entering:{opacity:1},entered:{opacity:1}},A={enter:S.p0.enteringScreen,exit:S.p0.leavingScreen},C=u.forwardRef((function(e,t){var n=e.children,r=e.disableStrictModeCompat,i=void 0!==r&&r,o=e.in,a=e.onEnter,s=e.onEntered,l=e.onEntering,c=e.onExit,f=e.onExited,d=e.onExiting,p=e.style,v=e.TransitionComponent,g=void 0===v?x.Ay:v,y=e.timeout,b=void 0===y?A:y,S=(0,m.A)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),C=(0,E.A)(),P=C.unstable_strictMode&&!i,k=u.useRef(null),R=(0,T.A)(n.ref,t),I=(0,T.A)(P?k:void 0,R),M=function(e){return function(t,n){if(e){var r=P?[k.current,t]:[t,n],i=(0,w.A)(r,2),o=i[0],a=i[1];void 0===a?e(o):e(o,a)}}},D=M(l),j=M((function(e,t){(0,_.q)(e);var n=(0,_.c)({style:p,timeout:b},{mode:"enter"});e.style.webkitTransition=C.transitions.create("opacity",n),e.style.transition=C.transitions.create("opacity",n),a&&a(e,t)})),L=M(s),N=M(d),z=M((function(e){var t=(0,_.c)({style:p,timeout:b},{mode:"exit"});e.style.webkitTransition=C.transitions.create("opacity",t),e.style.transition=C.transitions.create("opacity",t),c&&c(e)})),B=M(f);return u.createElement(g,(0,h.A)({appear:!0,in:o,nodeRef:P?k:void 0,onEnter:j,onEntered:L,onEntering:D,onExit:z,onExited:B,onExiting:N,timeout:b},S),(function(e,t){return u.cloneElement(n,(0,h.A)({style:(0,h.A)({opacity:0,visibility:"exited"!==e||o?void 0:"hidden"},O[e],p,n.props.style),ref:I},t))}))}));const P=C;var k=u.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,o=e.invisible,a=void 0!==o&&o,s=e.open,l=e.transitionDuration,c=e.TransitionComponent,f=void 0===c?P:c,d=(0,m.A)(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return u.createElement(f,(0,h.A)({in:s,timeout:l},d),u.createElement("div",{className:(0,g.default)(r.root,i,a&&r.invisible),"aria-hidden":!0,ref:t},n))}));const R=(0,s.A)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(k);var I=n(39729),M={enter:S.p0.enteringScreen,exit:S.p0.leavingScreen},D=u.forwardRef((function(e,t){var n=e.BackdropProps,r=e.children,i=e.classes,o=e.className,a=e.disableBackdropClick,s=void 0!==a&&a,l=e.disableEscapeKeyDown,c=void 0!==l&&l,f=e.fullScreen,d=void 0!==f&&f,p=e.fullWidth,v=void 0!==p&&p,w=e.maxWidth,x=void 0===w?"sm":w,S=e.onBackdropClick,E=e.onClose,_=e.onEnter,T=e.onEntered,O=e.onEntering,A=e.onEscapeKeyDown,C=e.onExit,k=e.onExited,D=e.onExiting,j=e.open,L=e.PaperComponent,N=void 0===L?I.A:L,z=e.PaperProps,B=void 0===z?{}:z,F=e.scroll,W=void 0===F?"paper":F,H=e.TransitionComponent,U=void 0===H?P:H,V=e.transitionDuration,G=void 0===V?M:V,q=e.TransitionProps,X=e["aria-describedby"],Z=e["aria-labelledby"],$=(0,m.A)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),Y=u.useRef();return u.createElement(b.A,(0,h.A)({className:(0,g.default)(i.root,o),BackdropComponent:R,BackdropProps:(0,h.A)({transitionDuration:G},n),closeAfterTransition:!0},s?{disableBackdropClick:s}:{},{disableEscapeKeyDown:c,onEscapeKeyDown:A,onClose:E,open:j,ref:t},$),u.createElement(U,(0,h.A)({appear:!0,in:j,timeout:G,onEnter:_,onEntering:O,onEntered:T,onExit:C,onExiting:D,onExited:k,role:"none presentation"},q),u.createElement("div",{className:(0,g.default)(i.container,i["scroll".concat((0,y.A)(W))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===Y.current&&(Y.current=null,S&&S(e),!s&&E&&E(e,"backdropClick"))},onMouseDown:function(e){Y.current=e.target}},u.createElement(N,(0,h.A)({elevation:24,role:"dialog","aria-describedby":X,"aria-labelledby":Z},B,{className:(0,g.default)(i.paper,i["paperScroll".concat((0,y.A)(W))],i["paperWidth".concat((0,y.A)(String(x)))],B.className,d&&i.paperFullScreen,v&&i.paperFullWidth)}),r))))}));const j=(0,s.A)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":(0,v.A)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":(0,v.A)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":(0,v.A)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":(0,v.A)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":(0,v.A)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(D);var L=u.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.dividers,o=void 0!==i&&i,a=(0,m.A)(e,["classes","className","dividers"]);return u.createElement("div",(0,h.A)({className:(0,g.default)(n.root,r,o&&n.dividers),ref:t},a))}));const N=(0,s.A)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(L);var z=n(72133),B=u.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,o=e.disableTypography,a=void 0!==o&&o,s=(0,m.A)(e,["children","classes","className","disableTypography"]);return u.createElement("div",(0,h.A)({className:(0,g.default)(r.root,i),ref:t},s),a?n:u.createElement(z.A,{component:"h2",variant:"h6"},n))}));const F=(0,s.A)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(B);var W=u.forwardRef((function(e,t){return u.createElement(z.A,(0,h.A)({component:"p",variant:"body1",color:"textSecondary",ref:t},e))}));const H=(0,s.A)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(W);var U=u.forwardRef((function(e,t){var n=e.disableSpacing,r=void 0!==n&&n,i=e.classes,o=e.className,a=(0,m.A)(e,["disableSpacing","classes","className"]);return u.createElement("div",(0,h.A)({className:(0,g.default)(i.root,o,!r&&i.spacing),ref:t},a))}));const V=(0,s.A)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(U);var G=n(37891);function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Z(e,t)}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$(r);if(i){var n=$(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.error,n=e.removeError,r=e.t,i=!p()(t);return t?u.createElement(j,{"aria-labelledby":"error-dialog-title",id:"error-dialog",onClose:function(){return n(t.id)},open:i},u.createElement(F,{id:"error-dialog-title",disableTypography:!0},u.createElement(z.A,{variant:"h2"},r("errorDialogTitle"))),u.createElement(N,{disableTypography:!0},u.createElement(H,{variant:"body2",noWrap:!0,color:"inherit"},"".concat(t.message)),u.createElement(V,null,u.createElement(G.A,{onClick:function(){return n(t.id)},variant:"contained"},r("errorDialogConfirm"))))):null}}])&&X(t.prototype,n),a}(u.Component);Y.defaultProps={error:null,removeError:function(){},t:function(e){return e}};var K=n(72324),J=n(31415),Q={removeError:K.$};const ee=(0,r.Zz)((0,o.C)(),(0,i.Ng)((function(e){return{error:(0,J.g)(e)}}),Q),(0,l.h)("ErrorDialog"))(Y);var te=u.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.color,o=void 0===i?"primary":i,a=e.position,s=void 0===a?"fixed":a,l=(0,m.A)(e,["classes","className","color","position"]);return u.createElement(I.A,(0,h.A)({square:!0,component:"header",elevation:4,className:(0,g.default)(n.root,n["position".concat((0,y.A)(s))],n["color".concat((0,y.A)(o))],r,"fixed"===s&&"mui-fixed"),ref:t},l))}));const ne=(0,s.A)((function(e){var t="light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}}),{name:"MuiAppBar"})(te);var re=n(86933),ie=n(72788),oe=n(65030),ae=n(71450),se=n(52757),le=u.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,o=e.color,a=void 0===o?"default":o,s=e.component,l=void 0===s?"button":s,c=e.disabled,f=void 0!==c&&c,d=e.disableFocusRipple,p=void 0!==d&&d,v=e.focusVisibleClassName,b=e.size,w=void 0===b?"large":b,x=e.variant,S=void 0===x?"circular":x,E=(0,m.A)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return u.createElement(se.A,(0,h.A)({className:(0,g.default)(r.root,i,"large"!==w&&r["size".concat((0,y.A)(w))],f&&r.disabled,"extended"===S&&r.extended,{primary:r.primary,secondary:r.secondary,inherit:r.colorInherit}[a]),component:l,disabled:f,focusRipple:!p,focusVisibleClassName:(0,g.default)(r.focusVisible,v),ref:t},E),u.createElement("span",{className:r.label},n))}));const ue=(0,s.A)((function(e){return{root:(0,h.A)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(le);var ce=n(39405),fe=n(67568),de=n(58625);function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},me(e,t)}function ve(e){return ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ve(e)}var ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ve(r);if(i){var n=ve(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===pe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.t,r=e.setWorkspaceAddVisibility,i=e.isWorkspaceAddVisible,o=e.useExtendedFab;return u.createElement(ce.Ay,{title:n(i?"closeAddResourceMenu":"addResource")},u.createElement(ue,{size:"medium",color:"primary",id:"addBtn",disableRipple:!0,"aria-label":i?n("closeAddResourceMenu"):o&&n("startHere")||n("addResource"),className:t.fab,classes:{primary:t.fabPrimary,secondary:t.fabSecondary},variant:o?"extended":"round",onClick:function(){r(!i)}},i?u.createElement(de.A,null):u.createElement(fe.A,null),o&&n("startHere")))}}])&&he(t.prototype,n),a}(u.Component);ge.defaultProps={isWorkspaceAddVisible:!1,t:function(e){return e}};var ye={setWorkspaceAddVisibility:oe.DW},be=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){return{fab:{margin:e.spacing(1)},fabPrimary:{"&:focus":{backgroundColor:e.palette.primary.dark}},fabSecondary:{"&:focus":{backgroundColor:e.palette.secondary.dark}}}})),(0,ie.Ay)(),(0,i.Ng)((function(e,t){var n=t.width,r=(0,ae.K4)(e).isWorkspaceAddVisible;return{isWorkspaceAddVisible:r,useExtendedFab:"xs"!==n&&!r&&0===(0,ae.rG)(e).length}}),ye),(0,l.h)("WorkspaceAddButton"));const we=be(ge);var xe=n(75782),Se=n(65910),Ee=n(96949);function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t){return Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Oe(e,t)}function Ae(e){return Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ae(e)}var Ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ae(r);if(i){var n=Ae(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===_e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.isFullscreenEnabled,r=e.setWorkspaceFullscreen,i=e.t;return u.createElement(Ee.A,{className:t,"aria-label":i(n?"exitFullScreen":"workspaceFullScreen"),onClick:function(){return r(!n)}},n?u.createElement(Se.A,null):u.createElement(xe.A,null))}}])&&Te(t.prototype,n),a}(u.Component);Ce.defaultProps={className:void 0,isFullscreenEnabled:!1,t:function(e){return e}};var Pe={setWorkspaceFullscreen:oe.Vs};const ke=(0,r.Zz)((0,o.C)(),(0,i.Ng)((function(e){return{isFullscreenEnabled:(0,J.H)(e)}}),Pe),(0,l.h)("FullScreenButton"))(Ce);var Re=n(93750),Ie=n(37466),Me=n(22046),De=n(44631),je=n(84065),Le=n(35143),Ne=n(23631),ze=n(37733);function Be(e){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(e)}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t){return We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},We(e,t)}function He(e){return He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},He(e)}var Ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=He(r);if(i){var n=He(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Be(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.handleClick,n=e.languages;return u.createElement(u.Fragment,null,n.map((function(e){return u.createElement(De.A,{button:!e.current,key:e.locale,onClick:function(){t(e.locale)}},u.createElement(Le.A,null,e.current&&u.createElement(ze.A,null)),u.createElement(Ne.A,{primaryTypographyProps:{variant:"body1"}},e.label))})))}}])&&Fe(t.prototype,n),a}(u.Component);const Ve=(0,r.Zz)((0,i.Ng)((function(e){return{languages:(0,Ie.x2)(e)}}),(function(e,t){var n=t.afterSelect;return{handleClick:function(t){e(je._R({language:t})),n&&n()}}})),(0,l.h)("LanguageSettings"))(Ue);var Ge=n(60254),qe=n(84110);function Xe(e){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe(e)}var Ze=["children","icon","label"];function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t){return Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ye(e,t)}function Ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Je(e){return Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Je(e)}var Qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Je(r);if(i){var n=Je(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ke(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={nestedMenuIsOpen:!1},t.handleMenuClick=t.handleMenuClick.bind(Ke(t)),t}return t=a,(n=[{key:"handleMenuClick",value:function(){var e=this.state.nestedMenuIsOpen;this.setState({nestedMenuIsOpen:!e})}},{key:"render",value:function(){var e=this.state.nestedMenuIsOpen,t=this.props,n=t.children,r=t.icon,i=t.label,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,Ze);return u.createElement(u.Fragment,null,u.createElement(De.A,Object.assign({onClick:this.handleMenuClick,divider:e},o),r&&u.createElement(Le.A,null,r),u.createElement(Ne.A,{primaryTypographyProps:{variant:"body1"}},i),e?u.createElement(Ge.A,null):u.createElement(qe.A,null)),e&&n)}}])&&$e(t.prototype,n),a}(u.Component);Qe.defaultProps={icon:null};var et=n(71289),tt=u.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.raised,o=void 0!==i&&i,a=(0,m.A)(e,["classes","className","raised"]);return u.createElement(I.A,(0,h.A)({className:(0,g.default)(n.root,r),elevation:o?8:1,ref:t},a))}));const nt=(0,s.A)({root:{overflow:"hidden"}},{name:"MuiCard"})(tt);var rt=u.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.component,o=void 0===i?"div":i,a=(0,m.A)(e,["classes","className","component"]);return u.createElement(o,(0,h.A)({className:(0,g.default)(n.root,r),ref:t},a))}));const it=(0,s.A)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(rt);var ot=n(1525);function at(e){return u.createElement(ot.A,e,u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"120",height:"90",viewBox:"0 0 300 225"},u.createElement("defs",null,u.createElement("linearGradient",{id:"linear-gradient",x1:"0.5",y1:"1",x2:"0.5",gradientUnits:"objectBoundingBox"},u.createElement("stop",{offset:"0"}),u.createElement("stop",{offset:"0.14",stopOpacity:"0.631"}),u.createElement("stop",{offset:"1",stopOpacity:"0"})),u.createElement("linearGradient",{id:"linear-gradient-2",x1:"0.5",y1:"1",x2:"0.5",gradientUnits:"objectBoundingBox"},u.createElement("stop",{offset:"0",stopColor:"#fff",stopOpacity:"0"}),u.createElement("stop",{offset:"0.23",stopColor:"#fff",stopOpacity:"0.012"}),u.createElement("stop",{offset:"0.36",stopColor:"#fff",stopOpacity:"0.039"}),u.createElement("stop",{offset:"0.47",stopColor:"#fff",stopOpacity:"0.102"}),u.createElement("stop",{offset:"0.57",stopColor:"#fff",stopOpacity:"0.18"}),u.createElement("stop",{offset:"0.67",stopColor:"#fff",stopOpacity:"0.278"}),u.createElement("stop",{offset:"0.75",stopColor:"#fff",stopOpacity:"0.412"}),u.createElement("stop",{offset:"0.83",stopColor:"#fff",stopOpacity:"0.561"}),u.createElement("stop",{offset:"0.91",stopColor:"#fff",stopOpacity:"0.741"}),u.createElement("stop",{offset:"0.98",stopColor:"#fff",stopOpacity:"0.929"}),u.createElement("stop",{offset:"1",stopColor:"#fff"})),u.createElement("clipPath",{id:"clip-elastic_icon"},u.createElement("rect",{width:"300",height:"225"}))),u.createElement("g",{id:"elastic_icon","data-name":"elastic icon",clipPath:"url(#clip-elastic_icon)"},u.createElement("rect",{width:"300",height:"225",fill:"#fff"}),u.createElement("g",{id:"Rectangle_278","data-name":"Rectangle 278",transform:"translate(232 159)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},u.createElement("rect",{width:"54",height:"54",stroke:"none"}),u.createElement("rect",{x:"0.5",y:"0.5",width:"53",height:"53",fill:"none"})),u.createElement("g",{id:"Rectangle_8","data-name":"Rectangle 8",transform:"translate(7 148)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},u.createElement("rect",{width:"70",height:"70",stroke:"none"}),u.createElement("rect",{x:"0.5",y:"0.5",width:"69",height:"69",fill:"none"})),u.createElement("g",{id:"Rectangle_258","data-name":"Rectangle 258",transform:"translate(224 6)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},u.createElement("rect",{width:"70",height:"100",stroke:"none"}),u.createElement("rect",{x:"0.5",y:"0.5",width:"69",height:"99",fill:"none"})),u.createElement("g",{id:"Rectangle_259","data-name":"Rectangle 259",transform:"translate(71 64)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},u.createElement("rect",{width:"115",height:"75",stroke:"none"}),u.createElement("rect",{x:"0.5",y:"0.5",width:"114",height:"74",fill:"none"})),u.createElement("g",{id:"Rectangle_260","data-name":"Rectangle 260",transform:"translate(99 87)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},u.createElement("rect",{width:"115",height:"75",stroke:"none"}),u.createElement("rect",{x:"0.5",y:"0.5",width:"114",height:"74",fill:"none"})),u.createElement("g",{id:"Group_689","data-name":"Group 689"},u.createElement("g",{id:"Group_687","data-name":"Group 687",transform:"translate(0 3)"},u.createElement("path",{id:"checkbox",d:"M258.766,37.316v146.5H39.053V37.316Zm40.07-39.254h-300v225h300Z",transform:"translate(1.164 -1.063)",fill:"#010101",fillRule:"evenodd",opacity:"0.246"}),u.createElement("g",{id:"Path_821","data-name":"Path 821",transform:"translate(40 36)",fill:"none"},u.createElement("path",{d:"M0,0H220V147H0Z",stroke:"none"}),u.createElement("path",{d:"M 2 2 L 2 145 L 218 145 L 218 2 L 172.9869689941406 2 L 2 2 M 0 0 L 172.9869689941406 0 L 220 0 L 220 147 L 0 147 L 0 0 Z",stroke:"none",fill:"#01579b"}))),u.createElement("g",{id:"Rectangle_257","data-name":"Rectangle 257",transform:"translate(40 39)",fill:"#fff",stroke:"#01579b",strokeWidth:"2"},u.createElement("rect",{width:"20",height:"147",stroke:"none"}),u.createElement("rect",{x:"1",y:"1",width:"18",height:"145",fill:"none"})),u.createElement("g",{id:"Group_688","data-name":"Group 688",transform:"translate(-27.5 -126)"},u.createElement("circle",{id:"teal_circle","data-name":"teal circle",cx:"7.5",cy:"7.5",r:"7.5",transform:"translate(70 171)",fill:"#009688"}),u.createElement("g",{id:"Group_333","data-name":"Group 333",transform:"translate(70 171)",opacity:"0.12"},u.createElement("path",{id:"gradient_border_2","data-name":"gradient border 2",d:"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z",transform:"translate(-3403 -959)",fill:"url(#linear-gradient)"}),u.createElement("path",{id:"gradient_border_1","data-name":"gradient border 1",d:"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z",transform:"translate(-3403 -959)",fill:"url(#linear-gradient-2)"})))))))}function st(e){return u.createElement(ot.A,e,u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"120",height:"90",viewBox:"0 0 300 225"},u.createElement("defs",null,u.createElement("linearGradient",{id:"linear-gradient",x1:"0.5",y1:"1",x2:"0.5",gradientUnits:"objectBoundingBox"},u.createElement("stop",{offset:"0"}),u.createElement("stop",{offset:"0.14",stopOpacity:"0.631"}),u.createElement("stop",{offset:"1",stopOpacity:"0"})),u.createElement("linearGradient",{id:"linear-gradient-2",x1:"0.5",y1:"1",x2:"0.5",gradientUnits:"objectBoundingBox"},u.createElement("stop",{offset:"0",stopColor:"#fff",stopOpacity:"0"}),u.createElement("stop",{offset:"0.23",stopColor:"#fff",stopOpacity:"0.012"}),u.createElement("stop",{offset:"0.36",stopColor:"#fff",stopOpacity:"0.039"}),u.createElement("stop",{offset:"0.47",stopColor:"#fff",stopOpacity:"0.102"}),u.createElement("stop",{offset:"0.57",stopColor:"#fff",stopOpacity:"0.18"}),u.createElement("stop",{offset:"0.67",stopColor:"#fff",stopOpacity:"0.278"}),u.createElement("stop",{offset:"0.75",stopColor:"#fff",stopOpacity:"0.412"}),u.createElement("stop",{offset:"0.83",stopColor:"#fff",stopOpacity:"0.561"}),u.createElement("stop",{offset:"0.91",stopColor:"#fff",stopOpacity:"0.741"}),u.createElement("stop",{offset:"0.98",stopColor:"#fff",stopOpacity:"0.929"}),u.createElement("stop",{offset:"1",stopColor:"#fff"})),u.createElement("clipPath",{id:"clip-mosaic_icon"},u.createElement("rect",{width:"300",height:"225"}))),u.createElement("g",{id:"mosaic_icon","data-name":"mosaic icon",clipPath:"url(#clip-mosaic_icon)"},u.createElement("rect",{width:"300",height:"225",fill:"#fff"}),u.createElement("path",{id:"checkbox",d:"M258.766,37.316v146.5H39.053V37.316Zm40.07-39.254h-300v225h300Z",transform:"translate(1.163 1.938)",fill:"#010101",fillRule:"evenodd",opacity:"0.5"}),u.createElement("path",{id:"checkbox-2","data-name":"checkbox",d:"M258.766,37.316v146.5H39.053V37.316Zm40.07-39.254h-300v225h300Z",transform:"translate(1.164 1.938)",fill:"#010101",fillRule:"evenodd",opacity:"0.246"}),u.createElement("g",{id:"Path_821","data-name":"Path 821",transform:"translate(40 39)",fill:"none"},u.createElement("path",{d:"M0,0H220V147H0Z",stroke:"none"}),u.createElement("path",{d:"M 2 2 L 2 145 L 218 145 L 218 2 L 172.9869689941406 2 L 2 2 M 0 0 L 172.9869689941406 0 L 220 0 L 220 147 L 0 147 L 0 0 Z",stroke:"none",fill:"#01579b"})),u.createElement("g",{id:"Rectangle_257","data-name":"Rectangle 257",transform:"translate(40 39)",fill:"#fff",stroke:"#01579b",strokeWidth:"2"},u.createElement("rect",{width:"20",height:"147",stroke:"none"}),u.createElement("rect",{x:"1",y:"1",width:"18",height:"145",fill:"none"})),u.createElement("g",{id:"Group_688","data-name":"Group 688",transform:"translate(-27.5 -126)"},u.createElement("circle",{id:"teal_circle","data-name":"teal circle",cx:"7.5",cy:"7.5",r:"7.5",transform:"translate(70 171)",fill:"#009688"}),u.createElement("g",{id:"Group_333","data-name":"Group 333",transform:"translate(70 171)",opacity:"0.12"},u.createElement("path",{id:"gradient_border_2","data-name":"gradient border 2",d:"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z",transform:"translate(-3403 -959)",fill:"url(#linear-gradient)"}),u.createElement("path",{id:"gradient_border_1","data-name":"gradient border 1",d:"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z",transform:"translate(-3403 -959)",fill:"url(#linear-gradient-2)"}))),u.createElement("g",{id:"Rectangle_270","data-name":"Rectangle 270",transform:"translate(60 40.647)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},u.createElement("rect",{width:"99",height:"72",stroke:"none"}),u.createElement("rect",{x:"0.5",y:"0.5",width:"98",height:"71",fill:"none"})),u.createElement("g",{id:"Rectangle_271","data-name":"Rectangle 271",transform:"translate(159 40.647)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},u.createElement("rect",{width:"99",height:"72",stroke:"none"}),u.createElement("rect",{x:"0.5",y:"0.5",width:"98",height:"71",fill:"none"})),u.createElement("g",{id:"Rectangle_272","data-name":"Rectangle 272",transform:"translate(192 112.647)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},u.createElement("rect",{width:"66",height:"71.45",stroke:"none"}),u.createElement("rect",{x:"0.5",y:"0.5",width:"65",height:"70.45",fill:"none"})),u.createElement("g",{id:"Rectangle_284","data-name":"Rectangle 284",transform:"translate(60 112.647)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},u.createElement("rect",{width:"66",height:"71.45",stroke:"none"}),u.createElement("rect",{x:"0.5",y:"0.5",width:"65",height:"70.45",fill:"none"})),u.createElement("g",{id:"Rectangle_285","data-name":"Rectangle 285",transform:"translate(126 112.647)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},u.createElement("rect",{width:"66",height:"71.45",stroke:"none"}),u.createElement("rect",{x:"0.5",y:"0.5",width:"65",height:"70.45",fill:"none"})))))}var lt=["classes","className"];function ut(e){var t=e.classes,n=e.className,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,lt),i=[n,t.shadowScrollDialog].join(" ");return u.createElement(N,Object.assign({className:i},r))}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ut.defaultProps={className:""};const ft=(0,s.A)((function(e){var t;return{shadowScrollDialog:(t={background:"linear-gradient(".concat(e.palette.background.paper," 30%, rgba(255, 255, 255, 0)), ")+"linear-gradient(rgba(255, 255, 255, 0), ".concat(e.palette.background.paper," 70%) 0 100%, ")+"radial-gradient(50% 0, farthest-side, rgba(0, 0, 0, .2), rgba(0, 0, 0, 0)), radial-gradient(50% 100%, farthest-side, rgba(0, 0, 0, .2), rgba(0, 0, 0, 0)) 0 100%,"},ct(t,"background","linear-gradient(".concat(e.palette.background.paper," 30%, rgba(255, 255, 255, 0)), ")+"linear-gradient(rgba(255, 255, 255, 0), ".concat(e.palette.background.paper," 70%) 0 100%, ")+"radial-gradient(farthest-side at 50% 0, rgba(0, 0, 0, .2), rgba(0, 0, 0, 0)), radial-gradient(farthest-side at 50% 100%, rgba(0, 0, 0, .2), rgba(0, 0, 0, 0)) 0 100%;"),ct(t,"backgroundAttachment","local, local, scroll, scroll"),ct(t,"backgroundRepeat","no-repeat"),ct(t,"backgroundSize","100% 40px, 100% 40px, 100% 14px, 100% 14px"),ct(t,"overflowY","auto"),t)}}))(ut);function dt(e){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dt(e)}function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e,t){return ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ht(e,t)}function mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vt(e){return vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vt(e)}var gt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=vt(i);if(o){var n=vt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===dt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mt(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).handleWorkspaceTypeChange=t.handleWorkspaceTypeChange.bind(mt(t)),t}return t=s,r=[{key:"setInitialFocus",value:function(e,t){var n=e.querySelectorAll('li[value="'.concat(t,'"]'));n&&0!==n.length&&n[0].focus()}}],(n=[{key:"handleWorkspaceTypeChange",value:function(e){var t=this.props,n=t.handleClose;(0,t.updateWorkspace)({type:e}),n()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.container,i=t.handleClose,o=t.open,a=t.children,l=t.t,c=t.workspaceType;return u.createElement(j,{"aria-labelledby":"workspace-selection-dialog-title",container:r,id:"workspace-selection-dialog",onClose:i,onEntered:function(e){return s.setInitialFocus(e,c)},onEscapeKeyDown:i,open:o},u.createElement(F,{id:"workspace-selection-dialog-title",disableTypography:!0},u.createElement(z.A,{variant:"h2"},l("workspaceSelectionTitle"))),u.createElement(ft,null,a,u.createElement(et.A,{classes:{root:n.list},selected:c},u.createElement(De.A,{className:n.menuItem,onClick:function(){return e.handleWorkspaceTypeChange("elastic")},selected:"elastic"===c,value:"elastic"},u.createElement(nt,{className:n.card},u.createElement(at,{className:n.svgIcon,viewBox:"0 0 120 90"}),u.createElement("div",{className:n.details},u.createElement(it,{classes:{root:n.root},className:n.content},u.createElement(z.A,{className:n.headline,component:"p",variant:"h3"},l("elastic")),u.createElement(z.A,{variant:"body1"},l("elasticDescription")))))),u.createElement(De.A,{className:n.menuItem,onClick:function(){return e.handleWorkspaceTypeChange("mosaic")},selected:"mosaic"===c,value:"mosaic"},u.createElement(nt,{className:n.card},u.createElement(st,{className:n.svgIcon,viewBox:"0 0 120 90"}),u.createElement("div",{className:n.details},u.createElement(it,{className:n.content,classes:{root:n.root}},u.createElement(z.A,{className:n.headline,component:"p",variant:"h3"},l("mosaic")),u.createElement(z.A,{variant:"body1"},l("mosaicDescription")))))))))}}])&&pt(t.prototype,n),r&&pt(t,r),s}(u.Component);gt.defaultProps={children:null,container:null,open:!1,t:function(e){return e}};var yt={updateWorkspace:oe.tO};const bt=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){return{card:{backgroundColor:"transparent",borderRadius:"0",boxShadow:"0 0 transparent",display:"flex"},content:{flex:"1 0 auto"},details:{display:"flex",flexDirection:"column"},headline:{paddingBottom:"6px"},list:{"&active":{outline:"none"},"&focus":{outline:"none"},outline:"none"},media:{flex:"0 0 120px",height:"90px"},menuItem:{height:"auto",overflow:"auto",whiteSpace:"inherit"},root:{"&:last-child":{paddingBottom:"12px"},paddingBottom:0,paddingTop:0,textAlign:"left"},svgIcon:{flexShrink:0,height:"90px",width:"120px"}}})),(0,i.Ng)((function(e){return{workspaceType:(0,J.I3)(e)}}),yt),(0,l.h)("WorkspaceSelectionDialog"))(gt);var wt=n(62991),xt=n(48012);function St(e){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},St(e)}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t){return _t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_t(e,t)}function Tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ot(e){return Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ot(e)}var At=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_t(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ot(i);if(o){var n=Ot(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===St(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Tt(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).selectedItemRef=u.createRef(),t.handleThemeChange=t.handleThemeChange.bind(Tt(t)),t}return t=s,r=[{key:"setInitialFocus",value:function(e,t){var n=e.querySelectorAll('li[value="'.concat(t,'"]'));n&&0!==n.length&&n[0].focus()}}],(n=[{key:"handleThemeChange",value:function(e){var t=this.props,n=t.setSelectedTheme,r=t.handleClose;n(e),r()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.handleClose,i=t.open,o=t.selectedTheme,a=t.t,l=t.themeIds;return u.createElement(j,{onClose:r,onEntered:function(e){return s.setInitialFocus(e,o)},open:i},u.createElement(F,{id:"change-the-dialog-title",disableTypography:!0},u.createElement(z.A,{variant:"h2"},a("changeTheme"))),u.createElement(N,{className:n.dialogContent},u.createElement(et.A,null,l.map((function(t){return u.createElement(De.A,{key:t,className:n.listitem,onClick:function(){e.handleThemeChange(t)},selected:t===o,value:t},u.createElement(Le.A,null,u.createElement(xt.A,{className:n[t]})),u.createElement(Ne.A,null,a(t)))})))))}}])&&Et(t.prototype,n),r&&Et(t,r),s}(u.Component);At.defaultProps={open:!1,themeIds:[]};var Ct=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){return{dark:{color:"#000000"},dialogContent:{padding:0},light:{color:"#BDBDBD"},listitem:{"&:focus":{backgroundColor:e.palette.action.focus},"&:hover":{backgroundColor:e.palette.action.hover},cursor:"pointer"}}})),(0,i.Ng)((function(e){return{selectedTheme:(0,Ie.zj)(e).selectedTheme,themeIds:(0,Ie.Qc)(e)}}),(function(e,t){return t.windowId,{setSelectedTheme:function(t){return e(je._R({selectedTheme:t}))}}})),(0,l.h)("ChangeThemeDialog"));const Pt=Ct(At);var kt=n(25960);function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e,t){return Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Mt(e,t)}function Dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jt(e){return jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jt(e)}var Lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=jt(r);if(i){var n=jt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Rt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Dt(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={changeTheme:{},toggleZoom:{},workspaceSelection:{}},t.handleMenuItemClick=t.handleMenuItemClick.bind(Dt(t)),t.handleMenuItemClose=t.handleMenuItemClose.bind(Dt(t)),t}return t=a,(n=[{key:"handleMenuItemClick",value:function(e,t){var n={};n[e]={},n[e].open=!0,n[e].anchorEl=t.currentTarget,this.setState(n)}},{key:"handleMenuItemClose",value:function(e){var t=this;return function(n){var r={};r[e]={},r[e].open=!1,r[e].anchorEl=null,t.setState(r)}}},{key:"handleZoomToggleClick",value:function(){var e=this.props;(0,e.toggleZoomControls)(!e.showZoomControls)}},{key:"render",value:function(){var e=this,t=this.props,n=t.containerId,r=t.handleClose,i=t.anchorEl,o=t.showThemePicker,a=t.isWorkspaceAddVisible,s=t.t,l=t.showZoomControls,c=this.state,f=c.changeTheme,d=c.toggleZoom,p=c.workspaceSelection,h=document.querySelector("#".concat(n," .").concat((0,wt.A)("viewer")));return u.createElement(u.Fragment,null,u.createElement(Me.A,{id:"workspace-menu",container:h,anchorEl:i,anchorOrigin:{horizontal:"right",vertical:"top"},transformOrigin:{horizontal:"left",vertical:"top"},open:Boolean(i),onClose:r},u.createElement(De.A,{"aria-haspopup":"true",disabled:a,onClick:function(t){e.handleZoomToggleClick(t),r(t)},"aria-owns":d.anchorEl?"toggle-zoom-menu":void 0},u.createElement(z.A,{variant:"body1"},s(l?"hideZoomControls":"showZoomControls"))),u.createElement(De.A,{"aria-haspopup":"true",onClick:function(t){e.handleMenuItemClick("workspaceSelection",t),r(t)},"aria-owns":p.anchorEl?"workspace-selection":void 0},u.createElement(z.A,{variant:"body1"},s("selectWorkspaceMenu"))),u.createElement(Qe,{label:s("language")},u.createElement(Ve,{afterSelect:r})),o&&u.createElement(De.A,{"aria-haspopup":"true",onClick:function(t){e.handleMenuItemClick("changeTheme",t),r(t)},"aria-owns":f.anchorEl?"change-theme":void 0},u.createElement(z.A,{variant:"body1"},s("changeTheme"))),u.createElement(kt.F,this.props)),Boolean(f.open)&&u.createElement(Pt,{container:h,handleClose:this.handleMenuItemClose("changeTheme"),open:Boolean(f.open)}),Boolean(p.open)&&u.createElement(bt,{open:Boolean(p.open),container:h,handleClose:this.handleMenuItemClose("workspaceSelection")}))}}])&&It(t.prototype,n),a}(u.Component);Lt.defaultProps={anchorEl:null,isWorkspaceAddVisible:!1,showThemePicker:!1,showZoomControls:!1,t:function(e){return e},toggleZoomControls:function(){}};var Nt={toggleZoomControls:oe.WU};const zt=(0,r.Zz)((0,o.C)(),(0,i.Ng)((function(e){return{containerId:(0,Ie.TW)(e),isWorkspaceAddVisible:(0,ae.K4)(e).isWorkspaceAddVisible,showThemePicker:(0,Ie.Qc)(e).length>0,showZoomControls:(0,Ie.X3)(e)}}),Nt),(0,l.h)("WorkspaceMenu"))(Lt);function Bt(e){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt(e)}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wt(e,t){return Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Wt(e,t)}function Ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ut(e){return Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ut(e)}var Vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ut(r);if(i){var n=Ut(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ht(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={anchorEl:null},t.handleMenuClick=t.handleMenuClick.bind(Ht(t)),t.handleMenuClose=t.handleMenuClose.bind(Ht(t)),t}return t=a,(n=[{key:"handleMenuClick",value:function(e){this.setState({anchorEl:e.currentTarget})}},{key:"handleMenuClose",value:function(){this.setState({anchorEl:null})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.t,r=this.state.anchorEl;return u.createElement(u.Fragment,null,u.createElement(Ee.A,{"aria-haspopup":"true","aria-label":n("workspaceMenu"),"aria-owns":r?"workspace-menu":void 0,className:f()(t.ctrlBtn,r?t.ctrlBtnSelected:null),id:"menuBtn",onClick:this.handleMenuClick},u.createElement(Re.A,null)),u.createElement(zt,{anchorEl:r,handleClose:this.handleMenuClose}))}}])&&Ft(t.prototype,n),a}(u.Component);Vt.defaultProps={t:function(e){return e}};const Gt=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){return{ctrlBtn:{margin:e.spacing(1)},ctrlBtnSelected:{backgroundColor:e.palette.action.selected}}})),(0,l.h)("WorkspaceMenuButton"))(Vt);var qt=n(79682),Xt=n(3705),Zt=n(21277),$t=n(8568),Yt=n(8046),Kt=n(68596);function Jt(e){return e.substring(2).toLowerCase()}const Qt=function(e){var t=e.children,n=e.disableReactTree,r=void 0!==n&&n,i=e.mouseEvent,o=void 0===i?"onClick":i,a=e.onClickAway,s=e.touchEvent,l=void 0===s?"onTouchEnd":s,c=u.useRef(!1),f=u.useRef(null),d=u.useRef(!1),p=u.useRef(!1);u.useEffect((function(){return setTimeout((function(){d.current=!0}),0),function(){d.current=!1}}),[]);var h=u.useCallback((function(e){f.current=$t.findDOMNode(e)}),[]),m=(0,T.A)(t.ref,h),v=(0,Kt.A)((function(e){var t=p.current;if(p.current=!1,d.current&&f.current&&!function(e){return document.documentElement.clientWidth<e.clientX||document.documentElement.clientHeight<e.clientY}(e))if(c.current)c.current=!1;else{(e.composedPath?e.composedPath().indexOf(f.current)>-1:!(0,Yt.A)(f.current).documentElement.contains(e.target)||f.current.contains(e.target))||!r&&t||a(e)}})),g=function(e){return function(n){p.current=!0;var r=t.props[e];r&&r(n)}},y={ref:m};return!1!==l&&(y[l]=g(l)),u.useEffect((function(){if(!1!==l){var e=Jt(l),t=(0,Yt.A)(f.current),n=function(){c.current=!0};return t.addEventListener(e,v),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,v),t.removeEventListener("touchmove",n)}}}),[v,l]),!1!==o&&(y[o]=g(o)),u.useEffect((function(){if(!1!==o){var e=Jt(o),t=(0,Yt.A)(f.current);return t.addEventListener(e,v),function(){t.removeEventListener(e,v)}}}),[v,o]),u.createElement(u.Fragment,null,u.cloneElement(t,y))};var en=n(61788),tn=n(68553),nn=u.forwardRef((function(e,t){var n=e.action,r=e.classes,i=e.className,o=e.message,a=e.role,s=void 0===a?"alert":a,l=(0,m.A)(e,["action","classes","className","message","role"]);return u.createElement(I.A,(0,h.A)({role:s,square:!0,elevation:6,className:(0,g.default)(r.root,i),ref:t},l),u.createElement("div",{className:r.message},o),n?u.createElement("div",{className:r.action},n):null)}));const rn=(0,s.A)((function(e){var t="light"===e.palette.type?.8:.98,n=(0,a.tL)(e.palette.background.default,t);return{root:(0,h.A)({},e.typography.body2,(0,v.A)({color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(nn);var on=u.forwardRef((function(e,t){var n=e.action,r=e.anchorOrigin,i=(r=void 0===r?{vertical:"bottom",horizontal:"center"}:r).vertical,o=r.horizontal,a=e.autoHideDuration,s=void 0===a?null:a,l=e.children,c=e.classes,f=e.className,d=e.ClickAwayListenerProps,p=e.ContentProps,v=e.disableWindowBlurListener,b=void 0!==v&&v,w=e.message,x=e.onClose,E=e.onEnter,_=e.onEntered,T=e.onEntering,O=e.onExit,A=e.onExited,C=e.onExiting,P=e.onMouseEnter,k=e.onMouseLeave,R=e.open,I=e.resumeHideDuration,M=e.TransitionComponent,D=void 0===M?tn.A:M,j=e.transitionDuration,L=void 0===j?{enter:S.p0.enteringScreen,exit:S.p0.leavingScreen}:j,N=e.TransitionProps,z=(0,m.A)(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),B=u.useRef(),F=u.useState(!0),W=F[0],H=F[1],U=(0,Kt.A)((function(){x&&x.apply(void 0,arguments)})),V=(0,Kt.A)((function(e){x&&null!=e&&(clearTimeout(B.current),B.current=setTimeout((function(){U(null,"timeout")}),e))}));u.useEffect((function(){return R&&V(s),function(){clearTimeout(B.current)}}),[R,s,V]);var G=function(){clearTimeout(B.current)},q=u.useCallback((function(){null!=s&&V(null!=I?I:.5*s)}),[s,I,V]);return u.useEffect((function(){if(!b&&R)return window.addEventListener("focus",q),window.addEventListener("blur",G),function(){window.removeEventListener("focus",q),window.removeEventListener("blur",G)}}),[b,q,R]),!R&&W?null:u.createElement(Qt,(0,h.A)({onClickAway:function(e){x&&x(e,"clickaway")}},d),u.createElement("div",(0,h.A)({className:(0,g.default)(c.root,c["anchorOrigin".concat((0,y.A)(i)).concat((0,y.A)(o))],f),onMouseEnter:function(e){P&&P(e),G()},onMouseLeave:function(e){k&&k(e),q()},ref:t},z),u.createElement(D,(0,h.A)({appear:!0,in:R,onEnter:(0,en.A)((function(){H(!1)}),E),onEntered:_,onEntering:T,onExit:O,onExited:(0,en.A)((function(){H(!0)}),A),onExiting:C,timeout:L,direction:"top"===i?"down":"up"},N),l||u.createElement(rn,(0,h.A)({message:w,action:n},p)))))}));const an=(0,s.A)((function(e){var t={top:8},n={bottom:8},r={justifyContent:"flex-end"},i={justifyContent:"flex-start"},o={top:24},a={bottom:24},s={right:24},l={left:24},u={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:(0,h.A)({},t,(0,v.A)({},e.breakpoints.up("sm"),(0,h.A)({},o,u))),anchorOriginBottomCenter:(0,h.A)({},n,(0,v.A)({},e.breakpoints.up("sm"),(0,h.A)({},a,u))),anchorOriginTopRight:(0,h.A)({},t,r,(0,v.A)({},e.breakpoints.up("sm"),(0,h.A)({left:"auto"},o,s))),anchorOriginBottomRight:(0,h.A)({},n,r,(0,v.A)({},e.breakpoints.up("sm"),(0,h.A)({left:"auto"},a,s))),anchorOriginTopLeft:(0,h.A)({},t,i,(0,v.A)({},e.breakpoints.up("sm"),(0,h.A)({right:"auto"},o,l))),anchorOriginBottomLeft:(0,h.A)({},n,i,(0,v.A)({},e.breakpoints.up("sm"),(0,h.A)({right:"auto"},a,l)))}}),{flip:!1,name:"MuiSnackbar"})(on);var sn=n(5157),ln=n(93276),un=n(18305),cn=n(49208),fn=n(37166),dn=n(74977),pn=n(84461);n(38428);var hn=n(90117);const mn=u.createContext({});var vn=n(62073),gn=u.forwardRef((function(e,t){var n,r=e.children,i=e.classes,o=e.className,a=e.defaultExpanded,s=void 0!==a&&a,l=e.disabled,c=void 0!==l&&l,f=e.expanded,d=e.onChange,p=e.square,v=void 0!==p&&p,y=e.TransitionComponent,b=void 0===y?hn.A:y,x=e.TransitionProps,S=(0,m.A)(e,["children","classes","className","defaultExpanded","disabled","expanded","onChange","square","TransitionComponent","TransitionProps"]),E=(0,vn.A)({controlled:f,default:s,name:"Accordion",state:"expanded"}),_=(0,w.A)(E,2),T=_[0],O=_[1],A=u.useCallback((function(e){O(!T),d&&d(e,!T)}),[T,d,O]),C=(n=u.Children.toArray(r),(0,cn.A)(n)||(0,fn.A)(n)||(0,dn.A)(n)||(0,pn.A)()),P=C[0],k=C.slice(1),R=u.useMemo((function(){return{expanded:T,disabled:c,toggle:A}}),[T,c,A]);return u.createElement(I.A,(0,h.A)({className:(0,g.default)(i.root,o,T&&i.expanded,c&&i.disabled,!v&&i.rounded),ref:t,square:v},S),u.createElement(mn.Provider,{value:R},P),u.createElement(b,(0,h.A)({in:T,timeout:"auto"},x),u.createElement("div",{"aria-labelledby":P.props.id,id:P.props["aria-controls"],role:"region"},k)))}));const yn=(0,s.A)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{position:"relative",transition:e.transitions.create(["margin"],t),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},rounded:{borderRadius:0,"&:first-child":{borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},"&:last-child":{borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},expanded:{},disabled:{}}}),{name:"MuiAccordion"})(gn);var bn=u.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,o=e.expandIcon,a=e.focusVisibleClassName,s=e.IconButtonProps,l=void 0===s?{}:s,c=e.onClick,f=(0,m.A)(e,["children","classes","className","expandIcon","focusVisibleClassName","IconButtonProps","onClick"]),d=u.useContext(mn),p=d.disabled,v=void 0!==p&&p,y=d.expanded,b=d.toggle;return u.createElement(se.A,(0,h.A)({focusRipple:!1,disableRipple:!0,disabled:v,component:"div","aria-expanded":y,className:(0,g.default)(r.root,i,v&&r.disabled,y&&r.expanded),focusVisibleClassName:(0,g.default)(r.focusVisible,r.focused,a),onClick:function(e){b&&b(e),c&&c(e)},ref:t},f),u.createElement("div",{className:(0,g.default)(r.content,y&&r.expanded)},n),o&&u.createElement(sn.A,(0,h.A)({className:(0,g.default)(r.expandIcon,y&&r.expanded),edge:"end",component:"div",tabIndex:null,role:null,"aria-hidden":!0},l),o))}));const wn=(0,s.A)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{display:"flex",minHeight:48,transition:e.transitions.create(["min-height","background-color"],t),padding:e.spacing(0,2),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused, &$focusVisible":{backgroundColor:e.palette.action.focus},"&$disabled":{opacity:e.palette.action.disabledOpacity}},expanded:{},focused:{},focusVisible:{},disabled:{},content:{display:"flex",flexGrow:1,transition:e.transitions.create(["margin"],t),margin:"12px 0","&$expanded":{margin:"20px 0"}},expandIcon:{transform:"rotate(0deg)",transition:e.transitions.create("transform",t),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(180deg)"}}}}),{name:"MuiAccordionSummary"})(bn);var xn=u.forwardRef((function(e,t){var n=e.classes,r=e.className,i=(0,m.A)(e,["classes","className"]);return u.createElement("div",(0,h.A)({className:(0,g.default)(n.root,r),ref:t},i))}));const Sn=(0,s.A)((function(e){return{root:{display:"flex",padding:e.spacing(1,2,2)}}}),{name:"MuiAccordionDetails"})(xn);var En=n(15686);function _n(e){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_n(e)}function Tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function On(e,t){return On=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},On(e,t)}function An(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cn(e){return Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cn(e)}var Pn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&On(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Cn(r);if(i){var n=Cn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===_n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return An(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={copied:!1},t.onCopy=t.onCopy.bind(An(t)),t.handleClose=t.handleClose.bind(An(t)),t}return t=a,(n=[{key:"handleClose",value:function(){(0,this.props.handleClose)()}},{key:"onCopy",value:function(){this.setState({copied:!0})}},{key:"exportedState",value:function(){var e=this.props.exportableState;return JSON.stringify(e,null,2)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes,r=e.container,i=e.open,o=e.t;return this.state.copied?u.createElement(an,{anchorOrigin:{horizontal:"center",vertical:"top"},open:!0,autoHideDuration:6e3,onClose:this.handleClose,message:o("exportCopied"),action:u.createElement(sn.A,{size:"small","aria-label":o("dismiss"),color:"inherit",onClick:this.handleClose},u.createElement(un.A,{fontSize:"small"}))}):u.createElement(j,{id:"workspace-settings",container:r,open:i,onClose:this.handleClose,scroll:"paper",fullWidth:!0,maxWidth:"sm"},u.createElement(F,{id:"form-dialog-title",disableTypography:!0},u.createElement(z.A,{variant:"h2"},o("downloadExport"))),u.createElement(N,null,u.createElement(yn,{elevation:0},u.createElement(wn,{classes:{root:n.accordionTitle},expandIcon:u.createElement(ln.A,null)},u.createElement(z.A,{variant:"h4"},o("viewWorkspaceConfiguration"))),u.createElement(Sn,null,t,u.createElement("pre",null,this.exportedState())))),u.createElement(V,null,u.createElement(G.A,{onClick:this.handleClose},o("cancel")),u.createElement(En.CopyToClipboard,{onCopy:this.onCopy,text:this.exportedState()},u.createElement(G.A,{variant:"contained",color:"primary"},o("copy")))))}}])&&Tn(t.prototype,n),a}(u.Component);Pn.defaultProps={children:null,classes:{},container:null,open:!1,t:function(e){return e}};const kn=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){return{accordionTitle:{padding:0}}})),(0,i.Ng)((function(e){return{exportableState:(0,Ie.Gt)(e)}}),{}),(0,l.h)("WorkspaceExport"))(Pn);var Rn=n(76058);function In(e){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(e)}function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dn(e,t){return Dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Dn(e,t)}function jn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ln(e){return Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ln(e)}var Nn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dn(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ln(r);if(i){var n=Ln(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===In(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jn(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={configImportValue:""},t.handleImportConfig=t.handleImportConfig.bind(jn(t)),t.handleChange=t.handleChange.bind(jn(t)),t}return t=a,(n=[{key:"handleChange",value:function(e){e.preventDefault(),this.setState({configImportValue:e.target.value})}},{key:"handleImportConfig",value:function(e){var t=this.props,n=t.handleClose,r=t.importConfig,i=this.state.configImportValue;try{r(JSON.parse(i)),n()}catch(e){(0,this.props.addError)(e.toString())}}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleClose,r=e.open,i=e.t;return u.createElement(j,{"aria-labelledby":"workspace-import-title",id:"workspace-import",onEscapeKeyDown:n,onClose:n,open:r,fullWidth:!0,maxWidth:"sm"},u.createElement(F,{id:"workspace-import-title",disableTypography:!0},u.createElement(z.A,{variant:"h2"},i("importWorkspace"))),u.createElement(ft,null,u.createElement(Rn.A,{className:t.textField,id:"workspace-import-input",multiline:!0,onChange:this.handleChange,rows:"15",variant:"filled",inputProps:{autoFocus:"autofocus",className:t.textInput},helperText:i("importWorkspaceHint")})),u.createElement(V,null,u.createElement(G.A,{className:t.cancelBtn,onClick:n},i("cancel")),u.createElement(G.A,{color:"primary",onClick:this.handleImportConfig,variant:"contained"},i("import"))))}}])&&Mn(t.prototype,n),a}(u.Component);Nn.defaultProps={classes:{},open:!1,t:function(e){return e}};var zn={addError:K.C,importConfig:je.Jk};const Bn=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){return{cancelBtn:{color:e.palette.text.primary},textField:{width:"100%"},textInput:{fontFamily:"monospace"}}})),(0,i.Ng)(null,zn),(0,l.h)("WorkspaceImport"))(Nn);function Fn(e){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(e)}function Wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hn(e,t){return Hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Hn(e,t)}function Un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vn(e){return Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vn(e)}var Gn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hn(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Vn(r);if(i){var n=Vn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Fn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Un(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={exportWorkspace:{},importWorkspace:{}},t.handleMenuItemClick=t.handleMenuItemClick.bind(Un(t)),t.handleMenuItemClose=t.handleMenuItemClose.bind(Un(t)),t}return t=a,(n=[{key:"handleMenuItemClick",value:function(e){var t={};t[e]={},t[e].open=!0,this.setState(t)}},{key:"handleMenuItemClose",value:function(e){var t=this;return function(n){var r={};r[e]={},r[e].open=!1,t.setState(r)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.anchorEl,r=t.containerId,i=t.handleClose,o=t.t,a=this.state,s=a.exportWorkspace,l=a.importWorkspace,c=document.querySelector("#".concat(r," .").concat((0,wt.A)("viewer")));return u.createElement(u.Fragment,null,u.createElement(Me.A,{id:"workspace-options-menu",container:c,anchorEl:n,anchorOrigin:{horizontal:"right",vertical:"top"},transformOrigin:{horizontal:"left",vertical:"top"},open:Boolean(n),onClose:i},u.createElement(De.A,{"aria-haspopup":"true",onClick:function(){e.handleMenuItemClick("exportWorkspace"),i()},"aria-owns":s.open?"workspace-export":void 0},u.createElement(Le.A,null,u.createElement(Zt.A,null)),u.createElement(z.A,{variant:"body1"},o("downloadExportWorkspace"))),u.createElement(De.A,{"aria-haspopup":"true",id:"workspace-menu-import",onClick:function(){e.handleMenuItemClick("importWorkspace"),i()},"aria-owns":s.open?"workspace-import":void 0},u.createElement(Le.A,null,u.createElement(Xt.A,null)),u.createElement(z.A,{variant:"body1"},o("importWorkspace"))),u.createElement(kt.F,this.props)),Boolean(s.open)&&u.createElement(kn,{open:Boolean(s.open),container:c,handleClose:this.handleMenuItemClose("exportWorkspace")}),Boolean(l.open)&&u.createElement(Bn,{open:Boolean(l.open),container:c,handleClose:this.handleMenuItemClose("importWorkspace")}))}}])&&Wn(t.prototype,n),a}(u.Component);Gn.defaultProps={anchorEl:null};const qn=(0,r.Zz)((0,o.C)(),(0,i.Ng)((function(e){return{containerId:(0,Ie.TW)(e)}}),null))(Gn);function Xn(e){return Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xn(e)}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $n(e,t){return $n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$n(e,t)}function Yn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kn(e){return Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Kn(e)}var Jn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$n(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Kn(r);if(i){var n=Kn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Xn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yn(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={anchorEl:null},t.handleMenuClick=t.handleMenuClick.bind(Yn(t)),t.handleMenuClose=t.handleMenuClose.bind(Yn(t)),t}return t=a,(n=[{key:"handleMenuClick",value:function(e){this.setState({anchorEl:e.currentTarget})}},{key:"handleMenuClose",value:function(){this.setState({anchorEl:null})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.t,r=this.state.anchorEl;return u.createElement(u.Fragment,null,u.createElement(Ee.A,{"aria-label":n("workspaceOptions"),className:f()(t.ctrlBtn,r?t.ctrlBtnSelected:null),onClick:this.handleMenuClick},u.createElement(qt.A,null)),u.createElement(qn,{anchorEl:r,handleClose:this.handleMenuClose}))}}])&&Zn(t.prototype,n),a}(u.Component);const Qn=(0,r.Zz)((0,s.A)((function(e){return{ctrlBtn:{margin:e.spacing(1)},ctrlBtnSelected:{backgroundColor:e.palette.action.selected}}})),(0,o.C)(),(0,l.h)("WorkspaceOptionsButton"))(Jn);var er=n(23962),tr=n(18595),nr=n(67671),rr=n(71205);function ir(e){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir(e)}function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ar(e,t){return ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ar(e,t)}function sr(e){return sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sr(e)}var lr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ar(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=sr(i);if(o){var n=sr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ir(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return t=s,r=[{key:"focus2ndListIitem",value:function(e){!e.querySelectorAll("li")||e.querySelectorAll("li").length<2||e.querySelectorAll("li")[1].focus()}}],(n=[{key:"titleContent",value:function(e){var t=this.props,n=t.titles,r=t.t;return n[e]||r("untitled")}},{key:"render",value:function(){var e=this,t=this.props,n=t.containerId,r=t.handleClose,i=t.anchorEl,o=t.windowIds,a=t.focusWindow,l=t.t;return u.createElement(Me.A,{anchorOrigin:{horizontal:"right",vertical:"top"},transformOrigin:{horizontal:"left",vertical:"top"},id:"window-list-menu",container:document.querySelector("#".concat(n," .").concat((0,wt.A)("viewer"))),disableAutoFocusItem:!0,anchorEl:i,open:Boolean(i),onClose:r,onEntering:s.focus2ndListIitem},u.createElement(rr.A,{role:"presentation",selected:!1,disabled:!0,tabIndex:"-1"},l("openWindows")),o.map((function(t,n){return u.createElement(De.A,{key:t,onClick:function(e){a(t,!0),r(e)}},u.createElement(Ne.A,{primaryTypographyProps:{variant:"body1"}},e.titleContent(t)))})))}}])&&or(t.prototype,n),r&&or(t,r),s}(u.Component);lr.defaultProps={anchorEl:null,t:function(e){return e},titles:{}};var ur={focusWindow:tr.hN};const cr=(0,r.Zz)((0,o.C)(),(0,i.Ng)((function(e){return{containerId:(0,Ie.TW)(e),titles:(0,nr.wb)(e),windowIds:(0,ae.rG)(e)}}),ur),(0,l.h)("WindowList"))(lr);function fr(e){return fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fr(e)}function dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(e,t){return pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pr(e,t)}function hr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mr(e){return mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mr(e)}var vr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pr(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=mr(r);if(i){var n=mr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===fr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hr(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={windowListAnchor:null},t.handleClose=t.handleClose.bind(hr(t)),t.handleOpen=t.handleOpen.bind(hr(t)),t}return t=a,(n=[{key:"handleClose",value:function(){this.setState({windowListAnchor:null})}},{key:"handleOpen",value:function(e){this.setState({windowListAnchor:e.currentTarget})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.disabled,i=t.t,o=t.windowCount,a=this.state.windowListAnchor;return u.createElement(u.Fragment,null,u.createElement(Ee.A,{"aria-haspopup":"true","aria-label":i("listAllOpenWindows"),"aria-owns":a?"window-list":null,className:f()(n.ctrlBtn,a?n.ctrlBtnSelected:null),disabled:r,badge:!0,BadgeProps:{badgeContent:o,classes:{badge:n.badge}},onClick:function(t){return e.handleOpen(t)}},u.createElement(er.A,null)),Boolean(a)&&u.createElement(cr,{anchorEl:a,id:"window-list",open:Boolean(a),handleClose:this.handleClose}))}}])&&dr(t.prototype,n),a}(u.Component);vr.defaultProps={classes:{},disabled:!1};const gr=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){return{badge:{paddingLeft:12},ctrlBtn:{margin:e.spacing(1)},ctrlBtnSelected:{backgroundColor:e.palette.action.selected}}})),(0,i.Ng)((function(e){return{disabled:(0,ae.K4)(e).isWorkspaceAddVisible,windowCount:(0,ae.rG)(e).length}}),null),(0,l.h)("WindowListButton"))(vr);function yr(e){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yr(e)}function br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wr(e,t){return wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wr(e,t)}function xr(e){return xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xr(e)}var Sr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wr(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xr(r);if(i){var n=xr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===yr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props.classes;return u.createElement(u.Fragment,null,u.createElement(gr,null),u.createElement(Gt,null),u.createElement(Qn,null),u.createElement(ke,{className:e.ctrlBtn}),u.createElement(kt.F,this.props))}}])&&br(t.prototype,n),a}(u.Component);Sr.defaultProps={classes:{}};const Er=(0,r.Zz)((0,s.A)((function(e){return{ctrlBtn:{margin:e.spacing(1)}}})),(0,l.h)("WorkspaceControlPanelButtons"))(Sr);function _r(e){return u.createElement(ot.A,Object.assign({viewBox:"0 0 60 55"},e),u.createElement("rect",{width:"18",height:"55"}),u.createElement("rect",{width:"18",height:"55",transform:"translate(42)"}),u.createElement("rect",{width:"18",height:"34",transform:"translate(21)"}))}function Tr(e){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tr(e)}var Or=["t","variant"];function Ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cr(e,t){return Cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Cr(e,t)}function Pr(e){return Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pr(e)}var kr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cr(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Pr(r);if(i){var n=Pr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Tr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.t,n=e.variant,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Or);return u.createElement("div",r,"wide"===n&&u.createElement("div",null,u.createElement(z.A,{align:"center",component:"p",variant:"h3"},t("mirador"))),u.createElement(z.A,{align:"center"},u.createElement(sn.A,{component:"a",href:"https://projectmirador.org",target:"_blank",rel:"noopener"},u.createElement(_r,{"aria-label":t("aboutMirador"),titleAccess:t("aboutMirador"),fontSize:"large"}))))}}])&&Ar(t.prototype,n),a}(u.Component);kr.defaultProps={t:function(e){return e},variant:"default"};const Rr=(0,l.h)("Branding")(kr);function Ir(e){return Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ir(e)}function Mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dr(e,t){return Dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Dr(e,t)}function jr(e){return jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jr(e)}var Lr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dr(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=jr(r);if(i){var n=jr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ir(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.t,r=e.variant;return u.createElement(ne,{className:f()(t.root,(0,wt.A)("workspace-control-panel"),"wide"===r?t.wide:null),color:"default",position:"absolute",component:"nav","aria-label":n("workspaceNavigation")},u.createElement(re.A,{disableGutters:!0,className:t.toolbar},u.createElement(we,null),u.createElement("div",{className:t.workspaceButtons},u.createElement(Er,null))),u.createElement(Rr,{className:t.branding,t:n,variant:r}))}}])&&Mr(t.prototype,n),a}(u.Component);function Nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Lr.defaultProps={variant:"default"};const zr=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){var t;return{branding:(t={display:"flex",position:"absolute"},Nr(t,e.breakpoints.up("xs"),{display:"none"}),Nr(t,e.breakpoints.up("sm"),{bottom:0,display:"block",float:"none",right:"auto",width:"100%"}),Nr(t,"right",0),t),ctrlBtn:{margin:e.spacing(1)},drawer:{overflowX:"hidden"},root:Nr({height:64},e.breakpoints.up("sm"),{height:"100%",left:0,right:"auto",width:64}),toolbar:Nr({display:"flex",justifyContent:"space-between"},e.breakpoints.up("sm"),{flexDirection:"column",justifyContent:"flex-start",minHeight:0}),wide:{width:"auto"},workspaceButtons:Nr({},e.breakpoints.up("sm"),{display:"flex",flexDirection:"column"})}})),(0,l.h)("WorkspaceControlPanel"))(Lr);var Br=n(85763),Fr=n(63444),Wr=n(64292),Hr=n(47031),Ur=n(95906),Vr=u.forwardRef((function(e,t){e.checked;var n=e.classes,r=e.className,i=e.control,o=e.disabled,a=(e.inputRef,e.label),s=e.labelPlacement,l=void 0===s?"end":s,c=(e.name,e.onChange,e.value,(0,m.A)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),f=(0,Ur.A)(),d=o;void 0===d&&void 0!==i.props.disabled&&(d=i.props.disabled),void 0===d&&f&&(d=f.disabled);var p={disabled:d};return["checked","name","onChange","value","inputRef"].forEach((function(t){void 0===i.props[t]&&void 0!==e[t]&&(p[t]=e[t])})),u.createElement("label",(0,h.A)({className:(0,g.default)(n.root,r,"end"!==l&&n["labelPlacement".concat((0,y.A)(l))],d&&n.disabled),ref:t},c),u.cloneElement(i,p),u.createElement(z.A,{component:"span",className:(0,g.default)(n.label,d&&n.disabled)},a))}));const Gr=(0,s.A)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(Vr);var qr=n(12062);function Xr(e){return u.createElement(ot.A,e,u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},u.createElement("path",{d:"M3,3H21V5H3Z",transform:"translate(0 16)"}),u.createElement("path",{d:"M21,5H3V19H21ZM19,17H5V7H19Z",transform:"translate(0 -2)"})))}function Zr(e){return u.createElement(ot.A,e,u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},u.createElement("path",{d:"M0,0H24V24H0Z",transform:"translate(24) rotate(90)",fill:"none"}),u.createElement("path",{d:"M3,3H21V5H3Z",transform:"translate(24) rotate(90)"}),u.createElement("path",{d:"M19,3H5V21H19ZM17,19H7V5H17Z",transform:"translate(-2)"})))}function $r(e){return $r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$r(e)}function Yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kr(e,t){return Kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Kr(e,t)}function Jr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qr(e){return Qr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qr(e)}var ei=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kr(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Qr(r);if(i){var n=Qr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===$r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jr(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).handleChange=t.handleChange.bind(Jr(t)),t}return t=a,(n=[{key:"handleChange",value:function(e){var t=this.props,n=t.windowId;(0,t.setWindowThumbnailPosition)(n,e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.handleClose,i=t.t,o=t.thumbnailNavigationPosition,a=t.direction;return u.createElement(u.Fragment,null,u.createElement(rr.A,{role:"presentation",disableSticky:!0,tabIndex:"-1"},i("thumbnails")),u.createElement(De.A,{className:n.MenuItem,onClick:function(){e.handleChange("off"),r()}},u.createElement(Gr,{value:"off",classes:{label:"off"===o?n.selectedLabel:n.label},control:u.createElement(qr.A,{color:"off"===o?"secondary":void 0}),label:i("off"),labelPlacement:"bottom"})),u.createElement(De.A,{className:n.MenuItem,onClick:function(){e.handleChange("far-bottom"),r()}},u.createElement(Gr,{value:"far-bottom",classes:{label:"far-bottom"===o?n.selectedLabel:n.label},control:u.createElement(Xr,{color:"far-bottom"===o?"secondary":void 0}),label:i("bottom"),labelPlacement:"bottom"})),u.createElement(De.A,{className:n.MenuItem,onClick:function(){e.handleChange("far-right"),r()}},u.createElement(Gr,{value:"far-right",classes:{label:"far-right"===o?n.selectedLabel:n.label},control:u.createElement(Zr,{color:"far-right"===o?"secondary":void 0,style:"rtl"===a?{transform:"rotate(180deg)"}:{}}),label:i("right"),labelPlacement:"bottom"})))}}])&&Yr(t.prototype,n),a}(u.Component);ei.defaultProps={handleClose:function(){},t:function(e){return e}};var ti={setWindowThumbnailPosition:tr.GR},ni=(0,r.Zz)((0,s.A)((function(e){return{label:{borderBottom:"2px solid transparent"},MenuItem:{display:"inline-block"},selectedLabel:{borderBottom:"2px solid ".concat(e.palette.secondary.main),color:e.palette.secondary.main}}})),(0,o.C)(null,{withRef:!0}),(0,i.Ng)((function(e,t){var n=t.windowId;return{direction:(0,Ie.b3)(e),thumbnailNavigationPosition:(0,Hr.Ir)(e,{windowId:n})}}),ti,null,{forwardRef:!0}),(0,l.h)("WindowThumbnailSettings"));const ri=ni(ei);var ii=n(49770),oi=n(32770);function ai(e){return u.createElement(ot.A,e,u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},u.createElement("path",{d:"M1,4V21H22.853V4.1ZM3,19V6h8V19Zm18,0H13V6h8ZM14,9.5h6V11H14ZM14,12h6v1.5H14Zm0,2.5h6V16H14Z"})))}function si(e){return u.createElement(ot.A,e,u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},u.createElement("path",{d:"M19.974,2H2V19.974H19.974V2ZM7.392,18.177H3.8V14.582H7.392Zm0-5.392H3.8V9.19H7.392Zm0-5.392H3.8V3.8H7.392Zm5.392,10.785H9.19V14.582h3.595Zm0-5.392H9.19V9.19h3.595Zm0-5.392H9.19V3.8h3.595Zm5.392,10.785H14.582V14.582h3.595Zm0-5.392H14.582V9.19h3.595Zm0-5.392H14.582V3.8h3.595Z",transform:"translate(1 1)"})))}function li(e){return li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},li(e)}function ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ci(e,t){return ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ci(e,t)}function fi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function di(e){return di=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},di(e)}var pi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ci(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=di(r);if(i){var n=di(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===li(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fi(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).handleChange=t.handleChange.bind(fi(t)),t}return t=a,n=[{key:"handleChange",value:function(e){var t=this.props,n=t.windowId;(0,t.setWindowViewType)(n,e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.handleClose,i=t.t,o=t.windowViewType,a=t.viewTypes,s={book:ai,gallery:si,scroll:oi.A,single:ii.A};return 0===a.length?null:u.createElement(u.Fragment,null,u.createElement(rr.A,{role:"presentation",disableSticky:!0,tabIndex:"-1"},i("view")),a.map((function(t){return function(t){var a=t.value,s=t.Icon;return u.createElement(De.A,{key:a,className:n.MenuItem,autoFocus:o===a,onClick:function(){e.handleChange(a),r()}},u.createElement(Gr,{value:a,classes:{label:o===a?n.selectedLabel:n.label},control:u.createElement(s,{color:o===a?"secondary":void 0}),label:i(a),labelPlacement:"bottom"}))}({Icon:s[t],value:t})})))}}],n&&ui(t.prototype,n),a}(u.Component);pi.defaultProps={handleClose:function(){},t:function(e){return e},viewTypes:[]};var hi={setWindowViewType:tr.QO},mi=(0,r.Zz)((0,s.A)((function(e){return{label:{borderBottom:"2px solid transparent"},MenuItem:{display:"inline-block"},selectedLabel:{borderBottom:"2px solid ".concat(e.palette.secondary.main),color:e.palette.secondary.main}}})),(0,o.C)(null,{withRef:!0}),(0,i.Ng)((function(e,t){var n=t.windowId;return{viewTypes:(0,nr.B2)(e,{windowId:n}),windowViewType:(0,nr.i9)(e,{windowId:n})}}),hi,null,{forwardRef:!0}),(0,l.h)("WindowViewSettings"));const vi=mi(pi);function gi(e){return gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gi(e)}function yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bi(e,t){return bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},bi(e,t)}function wi(e){return wi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wi(e)}function xi(e){var t=e.PluginComponents,n=e.t;return t?u.createElement(u.Fragment,null,u.createElement(rr.A,{role:"presentation",disableSticky:!0,tabIndex:"-1"},n("windowPluginButtons")),u.createElement(kt.F,e)):null}var Si=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bi(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=wi(r);if(i){var n=wi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===gi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.containerId,n=e.handleClose,r=e.anchorEl,i=e.showThumbnailNavigationSettings,o=e.toggleDraggingEnabled,a=e.windowId;return u.createElement(Me.A,{id:"window-menu_".concat(a),container:document.querySelector("#".concat(t," .").concat((0,wt.A)("viewer"))),anchorEl:r,anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{horizontal:"right",vertical:"top"},getContentAnchorEl:null,open:Boolean(r),onClose:n,onEntering:o,onExit:o,orientation:"horizontal"},u.createElement(vi,{windowId:a,handleClose:n}),i&&u.createElement(ri,{windowId:a,handleClose:n}),u.createElement(xi,this.props))}}])&&yi(t.prototype,n),a}(u.Component);Si.defaultProps={anchorEl:null,showThumbnailNavigationSettings:!0};const Ei=(0,r.Zz)((0,o.C)(),(0,i.Ng)((function(e){return{containerId:(0,Ie.TW)(e),showThumbnailNavigationSettings:(0,Ie.zj)(e).thumbnailNavigation.displaySettings}}),(function(e){return{toggleDraggingEnabled:function(){return e(oe.Zw())}}})),(0,l.h)("WindowTopMenu"))(Si);function _i(e){return u.createElement(ot.A,e,u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},u.createElement("path",{d:"M0,0H24V24H0Z",fill:"none"}),u.createElement("path",{d:"M24.852,17.981,3,18V15.945l21.852-.019Z",transform:"translate(-2 5)"}),u.createElement("path",{d:"M1,4V21H22.853V4.1ZM3,19V6h8V19Zm18,0H13V6h8Z",transform:"translate(0 -2)"})))}function Ti(e){return Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ti(e)}function Oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ai(e,t){return Ai=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ai(e,t)}function Ci(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pi(e){return Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pi(e)}var ki=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ai(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Pi(r);if(i){var n=Pi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ti(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ci(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={anchorEl:null},t.handleMenuClick=t.handleMenuClick.bind(Ci(t)),t.handleMenuClose=t.handleMenuClose.bind(Ci(t)),t}return t=a,(n=[{key:"handleMenuClick",value:function(e){this.setState({anchorEl:e.currentTarget})}},{key:"handleMenuClose",value:function(){this.setState({anchorEl:null})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.t,r=e.windowId,i=this.state.anchorEl;return u.createElement(u.Fragment,null,u.createElement(Ee.A,{"aria-haspopup":"true","aria-label":n("windowMenu"),"aria-owns":i?"window-menu_".concat(r):void 0,className:i?t.ctrlBtnSelected:null,onClick:this.handleMenuClick},u.createElement(_i,null)),u.createElement(Ei,{windowId:r,anchorEl:i,handleClose:this.handleMenuClose}))}}])&&Oi(t.prototype,n),a}(u.Component);ki.defaultProps={t:function(e){return e}};const Ri=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){return{ctrlBtnSelected:{backgroundColor:e.palette.action.selected}}})),(0,l.h)("WindowTopMenuButton"))(ki);function Ii(e){return Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ii(e)}function Mi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Di(e,t){return Di=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Di(e,t)}function ji(e){return ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ji(e)}var Li=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Di(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ji(r);if(i){var n=ji(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ii(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return u.createElement(u.Fragment,null,u.createElement(kt.F,this.props))}}])&&Mi(t.prototype,n),a}(u.Component);const Ni=(0,r.Zz)((0,o.C)(),(0,s.A)({}),(0,i.Ng)(null,null),(0,l.h)("WindowTopBarPluginArea"))(Li);var zi=n(77427);function Bi(e){return Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bi(e)}function Fi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wi(e,t){return Wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Wi(e,t)}function Hi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ui(e){return Ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ui(e)}var Vi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wi(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ui(r);if(i){var n=Ui(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Bi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hi(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={anchorEl:null},t.handleMenuClick=t.handleMenuClick.bind(Hi(t)),t.handleMenuClose=t.handleMenuClose.bind(Hi(t)),t}return t=a,(n=[{key:"handleMenuClick",value:function(e){this.setState({anchorEl:e.currentTarget})}},{key:"handleMenuClose",value:function(){this.setState({anchorEl:null})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.containerId,i=t.PluginComponents,o=t.t,a=t.windowId,s=t.menuIcon,l=this.state.anchorEl;return i&&0!==i.length?u.createElement(u.Fragment,null,u.createElement(Ee.A,{"aria-haspopup":"true","aria-label":o("windowPluginMenu"),"aria-owns":l?"window-plugin-menu_".concat(a):void 0,className:l?n.ctrlBtnSelected:null,onClick:this.handleMenuClick},s),u.createElement(Me.A,{id:"window-plugin-menu_".concat(a),container:document.querySelector("#".concat(r," .").concat((0,wt.A)("viewer"))),anchorEl:l,anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{horizontal:"right",vertical:"top"},getContentAnchorEl:null,open:Boolean(l),onClose:function(){return e.handleMenuClose()}},u.createElement(kt.F,Object.assign({handleClose:function(){return e.handleMenuClose()}},this.props)))):u.createElement(u.Fragment,null)}}])&&Fi(t.prototype,n),a}(u.Component);Vi.defaultProps={classes:{},menuIcon:u.createElement(zi.A,null),PluginComponents:[]};const Gi=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){return{ctrlBtnSelected:{backgroundColor:e.palette.action.selected}}})),(0,i.Ng)((function(e){return{containerId:(0,Ie.TW)(e)}}),null),(0,l.h)("WindowTopBarPluginMenu"))(Vi);var qi=n(35004),Xi=n(76307),Zi=n(30373);function $i(e){return $i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$i(e)}function Yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ki(e,t){return Ki=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ki(e,t)}function Ji(e){return Ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ji(e)}var Qi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ki(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ji(r);if(i){var n=Ji(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===$i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.error,r=e.hideWindowTitle,i=e.isFetching,o=e.manifestTitle,a=function(e){return u.createElement(z.A,Object.assign({variant:"h2",noWrap:!0,color:"inherit",className:t.title},e),e.children)};return i?u.createElement(a,null,u.createElement(Xi.A,{variant:"text"})):n?u.createElement(u.Fragment,null,u.createElement(Zi.A,{color:"error"}),u.createElement(a,{color:"textSecondary"},n)):r?u.createElement("div",{className:t.title}):u.createElement(a,null,o)}}])&&Yi(t.prototype,n),a}(u.Component);function eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function to(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(n),!0).forEach((function(t){no(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function no(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Qi.defaultProps={error:null,hideWindowTitle:!1,isFetching:!1,manifestTitle:""};var ro=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){return{title:to(to({},e.typography.h6),{},{flexGrow:1,paddingLeft:e.spacing(.5)})}})),(0,i.Ng)((function(e,t){var n=t.windowId;return{error:(0,qi.YR)(e,{windowId:n}).error,hideWindowTitle:(0,nr.R2)(e,{windowId:n}).hideWindowTitle,isFetching:(0,qi.YR)(e,{windowId:n}).isFetching,manifestTitle:(0,qi.aY)(e,{windowId:n})}}),null),(0,l.h)("WindowTopBarTitle"));const io=ro(Qi);function oo(e){return u.createElement(ot.A,e,u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},u.createElement("path",{d:"M7,14H5v5h5V17H7Zm7-9V7h3v3h2V5Z"}),u.createElement("path",{d:"M22.517,1.524H1.736V22.37H22.517Zm-2,18.845H3.736V3.524H20.517Z"})))}function ao(e){return u.createElement(ot.A,e,u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},u.createElement("path",{d:"M5,16H8v3h2V14H5ZM16,8V5H14v5h5V8Z"}),u.createElement("path",{d:"M22.517,1.524H1.736V22.37H22.517Zm-2,18.845H3.736V3.524H20.517Z"})))}function so(e){return so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},so(e)}function lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uo(e,t){return uo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},uo(e,t)}function co(e){return co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},co(e)}var fo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uo(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=co(r);if(i){var n=co(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===so(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.removeWindow,n=e.windowId,r=e.classes,i=e.toggleWindowSideBar,o=e.t,a=e.windowDraggable,s=e.maximizeWindow,l=e.maximized,c=e.minimizeWindow,d=e.focused,p=e.allowClose,h=e.allowMaximize,m=e.focusWindow,v=e.allowFullscreen,g=e.allowTopMenuButton,y=e.allowWindowSideBar;return u.createElement(ne,{position:"relative",color:"default"},u.createElement("nav",{"aria-label":o("windowNavigation")},u.createElement(re.A,{disableGutters:!0,onMouseDown:m,className:f()(r.windowTopBarStyle,a?r.windowTopBarStyleDraggable:null,d?r.focused:null,(0,wt.A)("window-top-bar")),variant:"dense"},y&&u.createElement(Ee.A,{"aria-label":o("toggleWindowSideBar"),onClick:i},u.createElement(Wr.A,null)),u.createElement(io,{windowId:n}),g&&u.createElement(Ri,{className:(0,wt.A)("window-menu-btn"),windowId:n}),u.createElement(Ni,{windowId:n}),u.createElement(Gi,{windowId:n}),h&&u.createElement(Ee.A,{"aria-label":o(l?"minimizeWindow":"maximizeWindow"),className:(0,wt.A)("window-maximize"),onClick:l?c:s},l?u.createElement(ao,null):u.createElement(oo,null)),v&&u.createElement(ke,null),p&&u.createElement(Ee.A,{"aria-label":o("closeWindow"),className:(0,wt.A)("window-close"),onClick:t},u.createElement(de.A,null)))))}}])&&lo(t.prototype,n),a}(u.Component);fo.defaultProps={allowClose:!0,allowFullscreen:!1,allowMaximize:!0,allowTopMenuButton:!0,allowWindowSideBar:!0,focused:!1,focusWindow:function(){},maximized:!1,maximizeWindow:function(){},minimizeWindow:function(){},t:function(e){return e},windowDraggable:!0};var po=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){return{focused:{},windowTopBarStyle:{"&$focused":{borderTop:"2px solid ".concat(e.palette.primary.main)},backgroundColor:e.palette.shades.main,borderTop:"2px solid transparent",minHeight:32,paddingLeft:e.spacing(.5),paddingRight:e.spacing(.5)},windowTopBarStyleDraggable:{cursor:"move"}}})),(0,i.Ng)((function(e,t){var n=t.windowId,r=(0,nr.R2)(e,{windowId:n});return{allowClose:r.allowClose,allowFullscreen:r.allowFullscreen,allowMaximize:r.allowMaximize,allowTopMenuButton:r.allowTopMenuButton,allowWindowSideBar:r.allowWindowSideBar,focused:(0,J.ar)(e,{windowId:n}),maximized:r.maximized}}),(function(e,t){var n=t.windowId;return{focusWindow:function(){return e(tr.hN(n))},maximizeWindow:function(){return e(tr.Ff(n))},minimizeWindow:function(){return e(tr.ds(n))},removeWindow:function(){return e(tr.lM(n))},toggleWindowSideBar:function(){return e(tr.F9(n))}}})),(0,l.h)("WindowTopBar"));const ho=po(fo);var mo=n(93368),vo=n(55053);function go(e,t){var n=function(e,t){var n,r=t.getBoundingClientRect();if(t.fakeTransform)n=t.fakeTransform;else{var i=window.getComputedStyle(t);n=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform")}var o=0,a=0;if(n&&"none"!==n&&"string"==typeof n){var s=n.split("(")[1].split(")")[0].split(",");o=parseInt(s[4],10),a=parseInt(s[5],10)}return"left"===e?"translateX(".concat(window.innerWidth,"px) translateX(").concat(o-r.left,"px)"):"right"===e?"translateX(-".concat(r.left+r.width-o,"px)"):"up"===e?"translateY(".concat(window.innerHeight,"px) translateY(").concat(a-r.top,"px)"):"translateY(-".concat(r.top+r.height-a,"px)")}(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}var yo={enter:S.p0.enteringScreen,exit:S.p0.leavingScreen};const bo=u.forwardRef((function(e,t){var n=e.children,r=e.direction,i=void 0===r?"down":r,o=e.in,a=e.onEnter,s=e.onEntered,l=e.onEntering,c=e.onExit,f=e.onExited,d=e.onExiting,p=e.style,v=e.timeout,g=void 0===v?yo:v,y=e.TransitionComponent,b=void 0===y?x.Ay:y,w=(0,m.A)(e,["children","direction","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),S=(0,E.A)(),O=u.useRef(null),A=u.useCallback((function(e){O.current=$t.findDOMNode(e)}),[]),C=(0,T.A)(n.ref,A),P=(0,T.A)(C,t),k=function(e){return function(t){e&&(void 0===t?e(O.current):e(O.current,t))}},R=k((function(e,t){go(i,e),(0,_.q)(e),a&&a(e,t)})),I=k((function(e,t){var n=(0,_.c)({timeout:g,style:p},{mode:"enter"});e.style.webkitTransition=S.transitions.create("-webkit-transform",(0,h.A)({},n,{easing:S.transitions.easing.easeOut})),e.style.transition=S.transitions.create("transform",(0,h.A)({},n,{easing:S.transitions.easing.easeOut})),e.style.webkitTransform="none",e.style.transform="none",l&&l(e,t)})),M=k(s),D=k(d),j=k((function(e){var t=(0,_.c)({timeout:g,style:p},{mode:"exit"});e.style.webkitTransition=S.transitions.create("-webkit-transform",(0,h.A)({},t,{easing:S.transitions.easing.sharp})),e.style.transition=S.transitions.create("transform",(0,h.A)({},t,{easing:S.transitions.easing.sharp})),go(i,e),c&&c(e)})),L=k((function(e){e.style.webkitTransition="",e.style.transition="",f&&f(e)})),N=u.useCallback((function(){O.current&&go(i,O.current)}),[i]);return u.useEffect((function(){if(!o&&"down"!==i&&"right"!==i){var e=(0,vo.A)((function(){O.current&&go(i,O.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[i,o]),u.useEffect((function(){o||N()}),[o,N]),u.createElement(b,(0,h.A)({nodeRef:O,onEnter:R,onEntered:M,onEntering:I,onExit:j,onExited:L,onExiting:D,appear:!0,in:o,timeout:g},w),(function(e,t){return u.cloneElement(n,(0,h.A)({ref:P,style:(0,h.A)({visibility:"exited"!==e||o?void 0:"hidden"},p,n.props.style)},t))}))}));var wo={left:"right",right:"left",top:"down",bottom:"up"},xo={enter:S.p0.enteringScreen,exit:S.p0.leavingScreen},So=u.forwardRef((function(e,t){var n=e.anchor,r=void 0===n?"left":n,i=e.BackdropProps,o=e.children,a=e.classes,s=e.className,l=e.elevation,c=void 0===l?16:l,f=e.ModalProps,d=(f=void 0===f?{}:f).BackdropProps,p=(0,m.A)(f,["BackdropProps"]),v=e.onClose,w=e.open,x=void 0!==w&&w,S=e.PaperProps,_=void 0===S?{}:S,T=e.SlideProps,O=e.TransitionComponent,A=void 0===O?bo:O,C=e.transitionDuration,P=void 0===C?xo:C,k=e.variant,M=void 0===k?"temporary":k,D=(0,m.A)(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"]),j=(0,E.A)(),L=u.useRef(!1);u.useEffect((function(){L.current=!0}),[]);var N=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?wo[t]:t}(j,r),z=u.createElement(I.A,(0,h.A)({elevation:"temporary"===M?c:0,square:!0},_,{className:(0,g.default)(a.paper,a["paperAnchor".concat((0,y.A)(N))],_.className,"temporary"!==M&&a["paperAnchorDocked".concat((0,y.A)(N))])}),o);if("permanent"===M)return u.createElement("div",(0,h.A)({className:(0,g.default)(a.root,a.docked,s),ref:t},D),z);var B=u.createElement(A,(0,h.A)({in:x,direction:wo[N],timeout:P,appear:L.current},T),z);return"persistent"===M?u.createElement("div",(0,h.A)({className:(0,g.default)(a.root,a.docked,s),ref:t},D),B):u.createElement(b.A,(0,h.A)({BackdropProps:(0,h.A)({},i,d,{transitionDuration:P}),BackdropComponent:R,className:(0,g.default)(a.root,a.modal,s),open:x,onClose:v,ref:t},D,p),B)}));const Eo=(0,s.A)((function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}}),{name:"MuiDrawer",flip:!1})(So);var _o=n(91769),To=n(66785),Oo=n(91663),Ao=n(64640),Co=n(80381),Po=n(57528),ko=n(32765),Ro=n(46197),Io=n(80270),Mo=n(2482),Do=n(59871),jo=n(25349);function Lo(e){return u.createElement(ot.A,e,u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},u.createElement("path",{d:"M6.924,21H21V19H6.924ZM3,17H21V15H3Zm3.924-4H21V11H6.924Zm0-4H21V7H6.924ZM3,3V5H21V3Z"})))}function No(e){return No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},No(e)}function zo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bo(e,t){return Bo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Bo(e,t)}function Fo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wo(e){return Wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wo(e)}var Ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bo(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Wo(r);if(i){var n=Wo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===No(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fo(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).handleChange=t.handleChange.bind(Fo(t)),t}return t=a,n=[{key:"handleChange",value:function(e,t){(0,this.props.addCompanionWindow)(t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.hasAnnotations,i=t.hasAnyAnnotations,o=t.hasAnyLayers,a=t.hasCurrentLayers,s=t.hasSearchResults,l=t.hasSearchService,c=t.panels,f=t.PluginComponents,d=t.sideBarPanel,p=t.t,h=function(t){return u.createElement(ce.Ay,{title:p("openCompanionWindow",{context:t.value})},u.createElement(ko.A,Object.assign({},t,{classes:{root:n.tab,selected:n.tabSelected},"aria-label":p("openCompanionWindow",{context:t.value}),disableRipple:!0,onKeyUp:e.handleKeyUp})))};return u.createElement(Po.A,{classes:{flexContainer:n.tabsFlexContainer,indicator:n.tabsIndicator},value:"closed"!==d&&d,onChange:this.handleChange,variant:"fullWidth",indicatorColor:"primary",textColor:"primary",orientation:"vertical","aria-orientation":"vertical","aria-label":p("sidebarPanelsNavigation")},c.info&&u.createElement(h,{value:"info",icon:u.createElement(Ro.A,null)}),c.attribution&&u.createElement(h,{value:"attribution",icon:u.createElement(Mo.A,null)}),c.canvas&&u.createElement(h,{value:"canvas",icon:u.createElement(Lo,null)}),c.annotations&&(r||i)&&u.createElement(h,{value:"annotations",icon:u.createElement(Co.A,{classes:{badge:n.badge},invisible:!r,variant:"dot"},u.createElement(Io.A,null))}),c.search&&l&&u.createElement(h,{value:"search",icon:u.createElement(Co.A,{classes:{badge:n.badge},invisible:!s,variant:"dot"},u.createElement(jo.A,null))}),c.layers&&o&&u.createElement(h,{value:"layers",icon:u.createElement(Co.A,{classes:{badge:n.badge},invisible:!a,variant:"dot"},u.createElement(Do.A,null))}),f&&f.map((function(e){return u.createElement(h,{key:e.value,value:e.value,icon:u.createElement(e,null)})})))}}],n&&zo(t.prototype,n),a}(u.Component);function Uo(e){return e&&e.some((function(e){return new To.A(e).imageResources.length>1}))}function Vo(e){return e&&e.some((function(e){var t=new To.A(e);return t.annotationListUris.length>0||t.canvasAnnotationPages.length>0}))}Ho.defaultProps={classes:{},hasAnnotations:!1,hasAnyAnnotations:!1,hasAnyLayers:!1,hasCurrentLayers:!1,hasSearchResults:!1,hasSearchService:!1,panels:[],PluginComponents:null,sideBarPanel:"closed",t:function(e){return e}};var Go=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){return{badge:{backgroundColor:e.palette.notification.main},tab:{"&:active":{backgroundColor:e.palette.action.active},"&:focus":{"@media (hover: none)":{backgroundColor:"transparent"},backgroundColor:e.palette.action.hover,textDecoration:"none"},"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"},backgroundColor:e.palette.action.hover,textDecoration:"none"},borderRight:"2px solid transparent",minWidth:"auto"},tabSelected:{borderRight:"2px solid ".concat(e.palette.primary.main)},tabsFlexContainer:{flexDirection:"column"},tabsIndicator:{display:"none"}}})),(0,i.Ng)((function(e,t){var n=t.windowId;return{hasAnnotations:(0,Oo.Y2)(e,{windowId:n}).length>0,hasAnyAnnotations:Vo((0,mo.P)(e,{windowId:n})),hasAnyLayers:Uo((0,mo.P)(e,{windowId:n})),hasCurrentLayers:Uo((0,mo.Mg)(e,{windowId:n})),hasSearchResults:(0,ae.zk)(e,{windowId:n}).suggestedSearches||(0,Ao.V8)(e,{companionWindowId:((0,Hr.kH)(e,{position:"left",windowId:n})[0]||{}).id,windowId:n}),hasSearchService:null!==(0,qi.B8)(e,{windowId:n}),panels:(0,nr.R2)(e,{windowId:n}).panels,sideBarPanel:((0,Hr.kH)(e,{position:"left",windowId:n})[0]||{}).content}}),(function(e,t){var n=t.windowId;return{addCompanionWindow:function(t){return e(_o.Yy(n,{content:t,position:"left"}))}}})),(0,l.h)("WindowSideBarButtons"));const qo=Go(Ho);function Xo(e){return Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(e)}function Zo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $o(e,t){return $o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$o(e,t)}function Yo(e){return Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yo(e)}var Ko=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$o(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Yo(r);if(i){var n=Yo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Xo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.direction,r=e.t,i=e.windowId,o=e.sideBarOpen;return u.createElement(u.Fragment,null,u.createElement(Eo,{variant:"persistent",className:f()(t.drawer),classes:{paper:f()(t.paper)},anchor:"rtl"===n?"right":"left",PaperProps:{"aria-label":r("sidebarPanelsNavigation"),component:"nav",style:{height:"100%",position:"relative"}},SlideProps:{direction:"rtl"===n?"left":"right",mountOnEnter:!0,unmountOnExit:!0},open:o},u.createElement(qo,{windowId:i})))}}])&&Zo(t.prototype,n),a}(u.Component);Ko.defaultProps={sideBarOpen:!1};var Jo=(0,r.Zz)((0,s.A)((function(e){return{drawer:{flexShrink:0,height:"100%",order:-1e3,zIndex:e.zIndex.appBar-1},grow:{flexGrow:1},paper:{borderInlineEnd:"1px solid ".concat(e.palette.divider),overflowX:"hidden",width:48},toolbar:e.mixins.toolbar}})),(0,o.C)(),(0,i.Ng)((function(e,t){var n=t.windowId;return{direction:(0,Ie.b3)(e),sideBarOpen:((0,ae.zk)(e,{windowId:n})||{}).sideBarOpen,sideBarPanel:((0,ae.zk)(e,{windowId:n})||{}).sideBarPanel}}),null),(0,l.h)("WindowSideBar"));const Qo=Jo(Ko);var ea=n(14609),ta=n(18114),na=n(83557),ra=n(19957),ia=n(82083);const oa=(0,ia.A)(u.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),aa=(0,ia.A)(u.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),sa=(0,ia.A)(u.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),la=(0,ia.A)(u.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined");var ua=n(21182),ca={success:u.createElement(oa,{fontSize:"inherit"}),warning:u.createElement(aa,{fontSize:"inherit"}),error:u.createElement(sa,{fontSize:"inherit"}),info:u.createElement(la,{fontSize:"inherit"})},fa=u.createElement(ua.A,{fontSize:"small"}),da=u.forwardRef((function(e,t){var n=e.action,r=e.children,i=e.classes,o=e.className,a=e.closeText,s=void 0===a?"Close":a,l=e.color,c=e.icon,f=e.iconMapping,d=void 0===f?ca:f,p=e.onClose,v=e.role,b=void 0===v?"alert":v,w=e.severity,x=void 0===w?"success":w,S=e.variant,E=void 0===S?"standard":S,_=(0,m.A)(e,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return u.createElement(I.A,(0,h.A)({role:b,square:!0,elevation:0,className:(0,g.default)(i.root,i["".concat(E).concat((0,y.A)(l||x))],o),ref:t},_),!1!==c?u.createElement("div",{className:i.icon},c||d[x]||ca[x]):null,u.createElement("div",{className:i.message},r),null!=n?u.createElement("div",{className:i.action},n):null,null==n&&p?u.createElement("div",{className:i.action},u.createElement(sn.A,{size:"small","aria-label":s,title:s,color:"inherit",onClick:p},fa)):null)}));const pa=(0,s.A)((function(e){var t="light"===e.palette.type?a.e$:a.a,n="light"===e.palette.type?a.a:a.e$;return{root:(0,h.A)({},e.typography.body2,{borderRadius:e.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:t(e.palette.success.main,.6),backgroundColor:n(e.palette.success.main,.9),"& $icon":{color:e.palette.success.main}},standardInfo:{color:t(e.palette.info.main,.6),backgroundColor:n(e.palette.info.main,.9),"& $icon":{color:e.palette.info.main}},standardWarning:{color:t(e.palette.warning.main,.6),backgroundColor:n(e.palette.warning.main,.9),"& $icon":{color:e.palette.warning.main}},standardError:{color:t(e.palette.error.main,.6),backgroundColor:n(e.palette.error.main,.9),"& $icon":{color:e.palette.error.main}},outlinedSuccess:{color:t(e.palette.success.main,.6),border:"1px solid ".concat(e.palette.success.main),"& $icon":{color:e.palette.success.main}},outlinedInfo:{color:t(e.palette.info.main,.6),border:"1px solid ".concat(e.palette.info.main),"& $icon":{color:e.palette.info.main}},outlinedWarning:{color:t(e.palette.warning.main,.6),border:"1px solid ".concat(e.palette.warning.main),"& $icon":{color:e.palette.warning.main}},outlinedError:{color:t(e.palette.error.main,.6),border:"1px solid ".concat(e.palette.error.main),"& $icon":{color:e.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.success.main},filledInfo:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.info.main},filledWarning:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.warning.main},filledError:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiAlert"})(da);function ha(e){return ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ha(e)}function ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function va(e,t){return va=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},va(e,t)}function ga(e){return ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ga(e)}var ya=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&va(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ga(r);if(i){var n=ga(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ha(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.error,r=e.metadata,i=e.showJsError,o=e.t;return i?u.createElement(u.Fragment,null,u.createElement(pa,{elevation:6,variant:"filled",severity:"error"},o("errorDialogTitle")),i&&u.createElement(yn,{square:!0,className:t.alert},u.createElement(wn,{expandIcon:u.createElement(ln.A,null)},u.createElement(z.A,null,o("jsError",{message:n.message,name:n.name}))),u.createElement(Sn,{className:t.details},u.createElement("pre",null,o("jsStack",{stack:n.stack})),r&&u.createElement("pre",null,JSON.stringify(r,null,2)))),u.createElement(kt.F,this.props)):null}}])&&ma(t.prototype,n),a}(u.Component);ya.defaultProps={metadata:null,showJsError:!0,t:function(e){return e}};var ba=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){return{alert:{"& $icon":{color:e.palette.error.main},backgroundColor:e.palette.error.main,color:"#fff",fontWeight:e.typography.fontWeightMedium},details:{"& pre":{height:"100px",overflowY:"scroll"},flexDirection:"column"}}})),(0,i.Ng)((function(e,t){var n=t.companionWindowId,r=t.windowId;return{metadata:{companionWindow:n&&(0,Hr.DS)(e,{companionWindowId:n}),manifest:(0,ae.c2)(e,{windowId:r}),viewer:(0,ae.tk)(e,{windowId:r}),window:(0,ae.zk)(e,{windowId:r})},showJsError:(0,Ie.zj)(e).window.showJsError}})),(0,l.h)("ErrorContent"));const wa=ba(ya);function xa(e){return xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xa(e)}function Sa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ea(e,t){return Ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ea(e,t)}function _a(e){return _a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_a(e)}var Ta=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ea(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_a(i);if(o){var n=_a(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===xa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={},t}return t=s,r=[{key:"getDerivedStateFromError",value:function(e){return{error:e,hasError:!0}}}],(n=[{key:"componentDidUpdate",value:function(e){this.props.content!==e.content&&this.setState({error:null,hasError:!1})}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.windowId,r=e.id,i=e.t,o=this.state,a=o.error;if(o.hasError)return u.createElement(ra.A,{title:i("error"),windowId:n,id:r},u.createElement(wa,{error:a,windowId:n,companionWindowId:r}));var s=na.A[t];return s?u.createElement(s,{id:r,windowId:n}):u.createElement(u.Fragment,null)}}])&&Sa(t.prototype,n),r&&Sa(t,r),s}(u.Component);Ta.defaultProps={content:null,t:function(e){return e}};var Oa=(0,r.Zz)((0,o.C)(),(0,i.Ng)((function(e,t){var n=t.id;return{content:(0,Hr.DS)(e,{companionWindowId:n}).content,id:n}})),(0,l.h)("CompanionWindowFactory"));const Aa=Oa(Ta);function Ca(e){return Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(e)}function Pa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ka(e,t){return ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ka(e,t)}function Ra(e){return Ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ra(e)}var Ia=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ka(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ra(r);if(i){var n=Ra(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ca(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"areaLayoutClass",value:function(){var e=this.props,t=e.classes,n=e.position;return"bottom"===n||"far-bottom"===n?t.horizontal:null}},{key:"collapseIcon",value:function(){var e=this.props,t=e.companionAreaOpen;return"rtl"===e.direction?t?u.createElement(ta.A,null):u.createElement(ea.A,null):t?u.createElement(ea.A,null):u.createElement(ta.A,null)}},{key:"slideDirection",value:function(){var e=this.props,t=e.direction,n="rtl"===t?"left":"right",r="rtl"===t?"right":"left";switch(e.position){case"right":case"far-right":return r;case"bottom":case"far-bottom":return"up";default:return n}}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.companionWindowIds,r=e.companionAreaOpen,i=e.setCompanionAreaOpen,o=e.position,a=e.sideBarOpen,s=e.t,l=e.windowId;return u.createElement("div",{className:[t.root,this.areaLayoutClass(),(0,wt.A)("companion-area-".concat(o))].join(" ")},u.createElement(bo,{in:r,direction:this.slideDirection()},u.createElement("div",{className:[(0,wt.A)("companion-windows"),n.length>0&&t[o],this.areaLayoutClass()].join(" "),style:{display:r?"flex":"none"}},n.map((function(e){return u.createElement(Aa,{id:e,key:e,windowId:l})})))),i&&"left"===o&&a&&n.length>0&&u.createElement("div",{className:t.toggle},u.createElement(Ee.A,{"aria-expanded":r,"aria-label":s(r?"collapseSidePanel":"expandSidePanel"),className:t.toggleButton,key:r?"collapse":"expand",onClick:function(){i(l,!r)},TooltipProps:{placement:"right"}},this.collapseIcon())))}}])&&Pa(t.prototype,n),a}(u.Component);Ia.defaultProps={classes:{},setCompanionAreaOpen:function(){},sideBarOpen:!1};var Ma={setCompanionAreaOpen:tr.Aq},Da=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){return{horizontal:{flexDirection:"column",width:"100%"},left:{minWidth:235},root:{display:"flex",minHeight:0,position:"relative",zIndex:e.zIndex.appBar-2},toggle:{backgroundColor:e.palette.background.paper,border:"1px solid ".concat(e.palette.shades.dark),borderRadius:0,height:"48px",left:"100%",marginTop:"1rem",padding:2,position:"absolute",width:"23px",zIndex:e.zIndex.drawer},toggleButton:{marginBottom:12,marginTop:12,padding:0}}})),(0,i.Ng)((function(e,t){var n=t.windowId,r=t.position;return{companionAreaOpen:(0,Hr.ar)(e,{position:r,windowId:n}),companionWindowIds:(0,Hr.bN)(e,{position:r,windowId:n}),direction:(0,Ie.b3)(e),sideBarOpen:((0,ae.zk)(e,{windowId:n})||{}).sideBarOpen}}),Ma),(0,l.h)("CompanionArea"));const ja=Da(Ia);var La=n(16344),Na=n(79747),za=n(87817),Ba=n(36571),Fa=n(87048),Wa=n(20530),Ha=n(93801),Ua=n(43315);function Va(e){return Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Va(e)}function Ga(e){return function(e){if(Array.isArray(e))return qa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return qa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qa(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Za(e,t){return Za=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Za(e,t)}function $a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ya(e){return Ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ya(e)}var Ka=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Za(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ya(i);if(o){var n=Ya(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Va(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $a(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={filter:null},t.hideDialog=t.hideDialog.bind($a(t)),t}return t=s,n=[{key:"setFilter",value:function(e){this.setState({filter:e})}},{key:"hideDialog",value:function(){var e=this.props;(0,e.hideCollectionDialog)(e.windowId)}},{key:"selectCollection",value:function(e){var t=this.props,n=t.collectionPath,r=t.manifestId,i=t.showCollectionDialog,o=t.windowId;i(e.id,[].concat(Ga(n),[r]),o)}},{key:"goToPreviousCollection",value:function(){var e=this.props,t=e.collectionPath,n=e.showCollectionDialog,r=e.windowId;n(t[t.length-1],t.slice(0,-1),r)}},{key:"selectManifest",value:function(e){var t=this.props,n=t.addWindow,r=t.collectionPath,i=t.manifestId,o=t.setWorkspaceAddVisibility,a=t.updateWindow,s=t.windowId;s?a(s,{canvasId:null,collectionPath:[].concat(Ga(r),[i]),manifestId:e.id}):n({collectionPath:[].concat(Ga(r),[i]),manifestId:e.id}),this.hideDialog(),o(!1)}},{key:"dialogContainer",value:function(){var e=this.props,t=e.containerId,n=e.windowId;return document.querySelector("#".concat(t," #").concat(n))}},{key:"placeholder",value:function(){var e=this.props.classes;return u.createElement(j,{className:e.dialog,onClose:this.hideDialog,open:!0,container:this.dialogContainer(),BackdropProps:this.backdropProps()},u.createElement(F,{id:"select-collection",disableTypography:!0},u.createElement(Xi.A,{className:e.placeholder,variant:"text"})),u.createElement(ft,null,u.createElement(Xi.A,{className:e.placeholder,variant:"text"}),u.createElement(Xi.A,{className:e.placeholder,variant:"text"})))}},{key:"backdropProps",value:function(){return{classes:{root:this.props.classes.dialog}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.collection,i=t.error,o=t.isMultipart,a=t.manifest,l=t.ready,c=t.t,f=this.state.filter;if(i)return null;if(!this.dialogContainer())return this.forceUpdate(),u.createElement(u.Fragment,null);if(!l)return this.placeholder();var d=a&&(0,Fa.A)(a.getProperty("rights")||a.getProperty("license")),p=a&&(0,Fa.A)(a.getRequiredStatement()).filter((function(e){return e.getValue()})).map((function(e){return{label:null,values:e.getValues()}})),h=a.getCollections(),m=f||(h.length>0?"collections":"manifests");return u.createElement(j,{className:n.dialog,onClose:this.hideDialog,container:this.dialogContainer(),BackdropProps:this.backdropProps(),open:!0},u.createElement(F,{id:"select-collection",disableTypography:!0},u.createElement(z.A,{component:"div",variant:"overline"},c(o?"multipartCollection":"collection")),u.createElement(z.A,{variant:"h3"},s.getUseableLabel(a))),u.createElement(ft,{className:n.dialogContent},r&&u.createElement(G.A,{startIcon:u.createElement(Ba.A,null),onClick:function(){return e.goToPreviousCollection()}},s.getUseableLabel(r)),u.createElement("div",{className:n.collectionMetadata},u.createElement(Ua.A,{manifestId:a.id}),u.createElement(Ha.A,{id:"select-collection-rights",label:c("attributionTitle")},p&&u.createElement(Wa.P,{labelValuePairs:p,defaultLabel:c("attribution")}),d&&d.length>0&&u.createElement(u.Fragment,null,u.createElement(z.A,{variant:"subtitle2",component:"dt"},c("rights")),d.map((function(e){return u.createElement(z.A,{variant:"body1",component:"dd",key:e},u.createElement(Na.A,{target:"_blank",rel:"noopener noreferrer",href:e},e))}))))),u.createElement("div",{className:n.collectionFilter},a.getTotalCollections()>0&&u.createElement(za.A,{clickable:!0,color:"collections"===m?"primary":"default",onClick:function(){return e.setFilter("collections")},label:c("totalCollections",{count:a.getTotalCollections()})}),a.getTotalManifests()>0&&u.createElement(za.A,{clickable:!0,color:"manifests"===m?"primary":"default",onClick:function(){return e.setFilter("manifests")},label:c("totalManifests",{count:a.getTotalManifests()})})),"collections"===m&&u.createElement(et.A,null,h.map((function(t){return u.createElement(De.A,{key:t.id,onClick:function(){e.selectCollection(t)},className:n.collectionItem},s.getUseableLabel(t))}))),"manifests"===m&&u.createElement(et.A,null,a.getManifests().map((function(t){return u.createElement(De.A,{key:t.id,onClick:function(){e.selectManifest(t)},className:n.collectionItem},s.getUseableLabel(t))})))),u.createElement(V,null,u.createElement(G.A,{onClick:this.hideDialog},c("close"))))}}],r=[{key:"getUseableLabel",value:function(e,t){return e&&e.getLabel&&e.getLabel().length>0?e.getLabel().getValue():String(t+1)}}],n&&Xa(t.prototype,n),r&&Xa(t,r),s}(u.Component);Ka.defaultProps={collection:null,collectionPath:[],containerId:null,error:null,isMultipart:!1,ready:!1,windowId:null};var Ja={addWindow:tr._U,hideCollectionDialog:tr.Th,setWorkspaceAddVisibility:oe.DW,showCollectionDialog:tr.Az,updateWindow:tr.uE},Qa=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){return{collectionFilter:{padding:"16px",paddingTop:0},collectionItem:{whiteSpace:"normal"},collectionMetadata:{padding:"16px"},dark:{color:"#000000"},dialog:{position:"absolute !important"},dialogContent:{padding:e.spacing(1)},light:{color:e.palette.grey[400]},listitem:{"&:focus":{backgroundColor:e.palette.action.focus},"&:hover":{backgroundColor:e.palette.action.hover},cursor:"pointer"}}})),(0,i.Ng)((function(e,t){var n=t.windowId,r=(0,ae.zk)(e,{windowId:n}),i=r.collectionPath,o=r.collectionManifestId,a=(0,ae.c2)(e,{manifestId:o}),s=i&&i[i.length-1],l=s&&(0,ae.c2)(e,{manifestId:s});return{collection:l&&(0,qi.SG)(e,{manifestId:l.id}),collectionPath:i,containerId:(0,Ie.TW)(e),error:a&&a.error,isMultipart:(0,La.pw)(e,{manifestId:o}).includes("multi-part"),manifest:a&&(0,qi.SG)(e,{manifestId:o}),manifestId:o,open:e.workspace.collectionDialogOn,ready:a&&!!a.json,windowId:n}}),Ja),(0,l.h)("CollectionDialog"));const es=Qa(Ka);function ts(e){return ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ts(e)}function ns(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rs(e,t){return rs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},rs(e,t)}function is(e){return is=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},is(e)}var os=(0,u.lazy)((function(){return Promise.resolve().then(n.bind(n,59237))})),as=(0,u.lazy)((function(){return Promise.resolve().then(n.bind(n,28729))})),ss=(0,u.lazy)((function(){return Promise.resolve().then(n.bind(n,12951))})),ls=(0,u.lazy)((function(){return Promise.resolve().then(n.bind(n,8306))})),us=(0,u.lazy)((function(){return Promise.resolve().then(n.bind(n,67842))}));as.displayName="GalleryView",ss.displayName="SelectCollection",ls.displayName="WindowViewer";var cs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rs(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=is(r);if(i){var n=is(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ts(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"renderViewer",value:function(){var e=this.props,t=e.audioResources,n=e.isCollection,r=e.isFetching,i=e.videoResources,o=e.view,a=e.windowId;return n?u.createElement(u.Fragment,null,u.createElement(ss,{windowId:a})):!1===r?"gallery"===o?u.createElement(as,{windowId:a}):i.length>0?u.createElement(us,{windowId:a}):t.length>0?u.createElement(os,{windowId:a}):u.createElement(ls,{windowId:a}):null}},{key:"render",value:function(){var e=this.props,t=e.isCollectionDialogVisible,n=e.windowId,r=e.classes,i=e.children;return u.createElement("div",{className:f()((0,wt.A)("primary-window"),r.primaryWindow)},u.createElement(Qo,{windowId:n}),u.createElement(ja,{windowId:n,position:"left"}),t&&u.createElement(es,{windowId:n}),u.createElement(u.Suspense,{fallback:u.createElement("div",null)},i||this.renderViewer()))}}])&&ns(t.prototype,n),a}(u.Component);cs.defaultProps={audioResources:[],children:void 0,isCollection:!1,isCollectionDialogVisible:!1,isFetching:!1,videoResources:[],view:void 0};var fs=(0,r.Zz)((0,s.A)({primaryWindow:{display:"flex",flex:1,position:"relative"}}),(0,i.Ng)((function(e,t){var n=t.windowId,r=(0,qi.SG)(e,{windowId:n});return{audioResources:(0,mo._K)(e,{windowId:n})||[],isCollection:r&&r.isCollection(),isCollectionDialogVisible:(0,ae.zk)(e,{windowId:n}).collectionDialogOn,videoResources:(0,mo.HS)(e,{windowId:n})||[]}}),null),(0,l.h)("PrimaryWindow"));const ds=fs(cs);function ps(e){return ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ps(e)}function hs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ms(e,t){return ms=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ms(e,t)}function vs(e){return vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vs(e)}var gs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ms(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=vs(r);if(i){var n=vs(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ps(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.allowClose,n=e.allowWindowSideBar,r=e.ariaLabel,i=e.children,o=e.classes,a=e.label,s=e.removeWindow,l=e.t,c=e.windowId;return u.createElement(I.A,{component:"section",elevation:1,id:c,className:f()(o.window,(0,wt.A)("placeholder-window")),"aria-label":a&&r?l("window",{label:a}):null},u.createElement(ne,{position:"relative",color:"default"},u.createElement(re.A,{disableGutters:!0,className:f()(o.windowTopBarStyle,(0,wt.A)("window-top-bar")),variant:"dense"},n&&u.createElement(Ee.A,{"aria-label":l("toggleWindowSideBar"),disabled:!0},u.createElement(Wr.A,null)),u.createElement(z.A,{variant:"h2",noWrap:!0,color:"inherit",className:o.title},a),t&&s&&u.createElement(Ee.A,{"aria-label":l("closeWindow"),className:f()(o.button,(0,wt.A)("window-close")),onClick:s,TooltipProps:{tabIndex:r?"0":"-1"}},u.createElement(de.A,null)))),i)}}])&&hs(t.prototype,n),a}(u.Component);function ys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ys(Object(n),!0).forEach((function(t){ws(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}gs.defaultProps={allowClose:!0,allowWindowSideBar:!0,ariaLabel:!0,children:null,classes:{},label:"",removeWindow:function(){},t:function(e){return e}};var xs=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){return{button:{marginLeft:"auto"},title:bs(bs({},e.typography.h6),{},{flexGrow:1,paddingLeft:e.spacing(.5)}),window:{backgroundColor:e.palette.shades.dark,borderRadius:0,display:"flex",flexDirection:"column",height:"100%",minHeight:0,overflow:"hidden",width:"100%"},windowTopBarStyle:{backgroundColor:e.palette.shades.main,borderTop:"2px solid transparent",minHeight:32,paddingLeft:e.spacing(.5),paddingRight:e.spacing(.5)}}})),(0,i.Ng)((function(e,t){var n=t.windowId;return{allowClose:(0,nr.R2)(e,{windowId:n}).allowClose,allowWindowSideBar:(0,nr.R2)(e,{windowId:n}).allowWindowSideBar}}),(function(e,t){var n=t.windowId;return{removeWindow:function(){return e(tr.lM(n))}}})),(0,l.h)("MinimalWindow"));const Ss=xs(gs);var Es=n(33415),_s=n(45377),Ts=n(46878),Os=n(73010);function As(e){return As="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(e)}function Cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ps(e,t){return Ps=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ps(e,t)}function ks(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rs(e){return Rs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rs(e)}var Is=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ps(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Rs(r);if(i){var n=Rs(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===As(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ks(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).onReceiveAccessTokenMessage=t.onReceiveAccessTokenMessage.bind(ks(t)),t}return t=a,(n=[{key:"onReceiveAccessTokenMessage",value:function(e){var t=this.props,n=t.handleAccessTokenMessage,r=t.url;e.data&&e.data.messageId&&e.data.messageId===r&&n(e.data)}},{key:"render",value:function(){var e=this.props.url;return e?u.createElement(Os.A,{attributes:{"aria-hidden":!0,height:1,src:"".concat(e,"?origin=").concat(window.origin,"&messageId=").concat(e),style:{visibility:"hidden"},width:1},handleReceiveMessage:this.onReceiveAccessTokenMessage}):u.createElement(u.Fragment,null)}}])&&Cs(t.prototype,n),a}(u.Component);function Ms(e){return Ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(e)}function Ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function js(e,t){return js=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},js(e,t)}function Ls(e){return Ls=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ls(e)}Is.defaultProps={url:void 0};var Ns=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&js(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ls(r);if(i){var n=Ls(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ms(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).released=void 0,t.window=null,t.checkIfWindowClosed=null,t}return t=a,(n=[{key:"componentDidMount",value:function(){this.openWindow()}},{key:"componentWillUnmount",value:function(){this.window&&this.window.close()}},{key:"onClose",value:function(){var e=this.props,t=e.onClose,n=e.url;this.released||(this.released=!0,clearInterval(this.checkIfWindowClosed),t(n))}},{key:"openWindow",value:function(){var e=this,t=this.props,n=t.depWindow,r=t.features,i=t.name,o=t.url;this.window=(n||window).open(o,i,r),this.released=!1,this.checkIfWindowClosed=setInterval((function(){e.window&&!e.window.closed||e.onClose()}),250)}},{key:"render",value:function(){return null}}])&&Ds(t.prototype,n),a}(u.Component);Ns.defaultProps={depWindow:void 0,features:void 0,name:void 0};var zs=n(23040),Bs=n(23132),Fs=n(3501);function Ws(e){return Ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(e)}function Hs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hs(Object(n),!0).forEach((function(t){Vs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qs(e,t){return qs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qs(e,t)}function Xs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zs(e){return Zs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zs(e)}var $s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qs(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Zs(r);if(i){var n=Zs(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ws(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xs(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={open:!1},t.setOpen=t.setOpen.bind(Xs(t)),t.onSubmit=t.onSubmit.bind(Xs(t)),t}return t=a,(n=[{key:"onSubmit",value:function(){var e=this.props.onConfirm;this.setOpen(!1),e()}},{key:"setOpen",value:function(e){this.setState((function(t){return Us(Us({},t),{},{open:e})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.confirmButton,i=t.continueLabel,o=t.header,a=t.description,s=t.icon,l=t.label,c=t.t,f=t.ruleSet,d=t.hasLogoutService,p=t.status,h=t.ConfirmProps;if("ok"===p&&!d)return null;var m=this.state.open,v=u.createElement(G.A,Object.assign({onClick:this.onSubmit,className:n.buttonInvert,color:"secondary"},h),r||c("login"));return a||o?u.createElement(I.A,{square:!0,elevation:4,color:"secondary",classes:{root:n.paper}},u.createElement(G.A,{fullWidth:!0,className:n.topBar,onClick:function(){return e.setOpen(!0)},component:"div",color:"inherit"},s||u.createElement(Bs.A,{className:n.icon}),u.createElement(z.A,{className:n.label,component:"h3",variant:"body1",color:"inherit"},f?u.createElement(Fs.A,{htmlString:l,ruleSet:f}):l),u.createElement(kt.F,this.props),u.createElement("span",{className:n.fauxButton},!m&&u.createElement(z.A,{variant:"button",color:"inherit"},i||c("continue")))),u.createElement(hn.A,{in:m,onClose:function(){return e.setOpen(!1)}},u.createElement(z.A,{variant:"body1",color:"inherit",className:n.expanded},f?u.createElement(Fs.A,{htmlString:o,ruleSet:f}):o,o&&a?": ":"",f?u.createElement(Fs.A,{htmlString:a,ruleSet:f}):a),u.createElement(V,null,u.createElement(G.A,{onClick:function(){return e.setOpen(!1)},color:"inherit"},c("cancel")),v))):u.createElement(I.A,{square:!0,elevation:4,color:"secondary",classes:{root:n.paper}},u.createElement("div",{className:n.topBar},s||u.createElement(Bs.A,{className:n.icon}),u.createElement(z.A,{className:n.label,component:"h3",variant:"body1",color:"inherit"},f?u.createElement(Fs.A,{htmlString:l,ruleSet:f}):l),u.createElement(kt.F,this.props),v))}}])&&Gs(t.prototype,n),a}(u.Component);$s.defaultProps={confirmButton:void 0,ConfirmProps:{},continueLabel:void 0,description:void 0,hasLogoutService:!0,header:void 0,icon:void 0,ruleSet:"iiif",status:void 0,t:function(e){return e}};const Ys=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){return{buttonInvert:{"&:hover":{backgroundColor:(0,zs.fade)(e.palette.secondary.contrastText,1-e.palette.action.hoverOpacity)},backgroundColor:e.palette.secondary.contrastText,marginLeft:e.spacing(5),paddingBottom:0,paddingTop:0},expanded:{paddingLeft:e.spacing(),paddingRight:e.spacing()},failure:{backgroundColor:e.palette.error.dark},fauxButton:{marginLeft:e.spacing(2.5)},icon:{marginRight:e.spacing(1.5),verticalAlign:"text-bottom"},label:{lineHeight:2.25},paper:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText,cursor:"pointer"},topBar:{"&:hover":{backgroundColor:e.palette.secondary.main},alignItems:"center",display:"flex",justifyContent:"inherit",padding:e.spacing(1),textTransform:"none"}}})),(0,l.h)("WindowAuthenticationBar"))($s);function Ks(e){return Ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(e)}function Js(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qs(e,t){return Qs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qs(e,t)}function el(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tl(e){return tl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tl(e)}var nl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qs(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=tl(r);if(i){var n=tl(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ks(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return el(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).performLogout=t.performLogout.bind(el(t)),t.onReceiveAccessTokenMessage=t.onReceiveAccessTokenMessage.bind(el(t)),t}return t=a,(n=[{key:"onReceiveAccessTokenMessage",value:function(e){var t=this.props,n=t.authServiceId,r=t.accessTokenServiceId;(0,t.resolveAccessTokenRequest)(n,r,e)}},{key:"defaultAuthBarProps",value:function(){var e=this.props,t=e.authServiceId,n=e.windowId,r=e.status;return{authServiceId:t,hasLogoutService:!!e.logoutServiceId,status:r,windowId:n}}},{key:"performLogout",value:function(){var e=this.props,t=e.accessTokenServiceId,n=e.authServiceId,r=e.features,i=e.logoutServiceId,o=e.resetAuthenticationState;(0,e.openWindow)(i,void 0,r),o({authServiceId:n,tokenServiceId:t})}},{key:"renderLoggedIn",value:function(){var e=this.props,t=e.isInteractive,n=e.logoutConfirm,r=e.t;return t?u.createElement(Ys,Object.assign({confirmButton:n||r("logout"),onConfirm:this.performLogout},this.defaultAuthBarProps())):null}},{key:"renderFailure",value:function(){var e=this.props,t=e.handleAuthInteraction,n=e.failureHeader,r=e.failureDescription,i=e.t,o=e.authServiceId,a=e.windowId;return u.createElement(Ys,Object.assign({header:n,description:r,confirmButton:i("retry"),onConfirm:function(){return t(a,o)}},this.defaultAuthBarProps()))}},{key:"renderLoggingInCookie",value:function(){var e=this.props,t=e.accessTokenServiceId,n=e.authServiceId,r=e.resolveAuthenticationRequest,i=e.features;return u.createElement(u.Fragment,null,this.renderLogin(),u.createElement(Ns,{name:"IiifLoginSender",url:"".concat(n,"?origin=").concat(window.origin),features:i,onClose:function(){return r(n,t)}}))}},{key:"renderLoggingInToken",value:function(){var e=this.props.accessTokenServiceId;return u.createElement(u.Fragment,null,this.renderLogin(),u.createElement(Is,{handleAccessTokenMessage:this.onReceiveAccessTokenMessage,url:e}))}},{key:"renderLogin",value:function(){var e=this.props,t=e.confirm,n=e.description,r=e.handleAuthInteraction,i=e.header,o=e.isInteractive,a=e.label,s=e.authServiceId,l=e.windowId;return o?u.createElement(Ys,Object.assign({header:i,description:n,label:a,confirmButton:t,onConfirm:function(){return r(l,s)}},this.defaultAuthBarProps())):null}},{key:"render",value:function(){var e=this.props,t=e.authServiceId,n=e.status;return t?null===n?this.renderLogin():"cookie"===n?this.renderLoggingInCookie():"token"===n?this.renderLoggingInToken():"failed"===n?this.renderFailure():"ok"===n?this.renderLoggedIn():null:null}}])&&Js(t.prototype,n),a}(u.Component);nl.defaultProps={confirm:void 0,description:void 0,failureDescription:void 0,failureHeader:void 0,features:"centerscreen",header:void 0,isInteractive:!0,label:void 0,logoutConfirm:void 0,logoutServiceId:void 0,openWindow:window.open,status:null,t:function(e){return e}};var rl={handleAuthInteraction:_s.Bq,resetAuthenticationState:_s.HN,resolveAccessTokenRequest:_s.fw,resolveAuthenticationRequest:_s._U},il=(0,r.Zz)((0,o.C)(),(0,i.Ng)((function(e,t){var n=t.windowId,r=(0,Ts.wd)(e,{windowId:n})[0],i=r&&(Es.Utils.getService(r,"http://iiif.io/api/auth/1/token")||Es.Utils.getService(r,"http://iiif.io/api/auth/0/token")),o=r&&(Es.Utils.getService(r,"http://iiif.io/api/auth/1/logout")||Es.Utils.getService(r,"http://iiif.io/api/auth/0/logout")),a=(0,Ts.xI)(e),s=r&&a[r.id],l=(0,Ts.X8)(e),u=i&&l[i.id],c=null;s?s.isFetching?s.windowId===n&&(c="cookie"):u&&u.isFetching?s.windowId===n&&(c="token"):s.ok?c="ok":!1===s.ok&&(c="failed"):c=null;var f=(0,Ts.Rf)(e),d=r&&r.getProfile(),p=f.some((function(e){return e.profile===d&&!(e.external||e.kiosk)}));return{accessTokenServiceId:i&&i.id,authServiceId:r&&r.id,confirm:r&&r.getConfirmLabel(),description:r&&r.getDescription(),failureDescription:r&&r.getFailureDescription(),failureHeader:r&&r.getFailureHeader(),header:r&&r.getHeader(),isInteractive:p,label:r&&r.getLabel()[0].value,logoutConfirm:o&&o.getLabel()[0]&&o.getLabel()[0].value,logoutServiceId:o&&o.id,profile:d,status:c}}),rl),(0,l.h)("IIIFAuthentication"));const ol=il(nl);function al(e){return al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(e)}function sl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ll(e,t){return ll=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ll(e,t)}function ul(e){return ul=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ul(e)}var cl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ll(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ul(i);if(o){var n=ul(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===al(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={},t}return t=s,r=[{key:"getDerivedStateFromError",value:function(e){return{error:e,hasError:!0}}}],(n=[{key:"wrappedTopBar",value:function(){var e=this.props,t=e.windowId,n=e.workspaceType,r=e.windowDraggable,i=u.createElement("div",null,u.createElement(ho,{windowId:t,windowDraggable:r}),u.createElement(ol,{windowId:t}));return"mosaic"===n&&r?this.context.mosaicWindowActions.connectDragSource(i):i}},{key:"render",value:function(){var e=this.props,t=e.focusWindow,n=e.label,r=e.isFetching,i=e.maximized,o=e.sideBarOpen,a=e.view,s=e.windowId,l=e.classes,c=e.t,d=e.manifestError,p=this.state,h=p.error;return p.hasError?u.createElement(Ss,{windowId:s},u.createElement(wa,{error:h,windowId:s})):u.createElement(I.A,{onFocus:t,component:"section",elevation:1,id:s,className:f()(l.window,(0,wt.A)("window"),i?l.maximized:null),"aria-label":c("window",{label:n})},this.wrappedTopBar(),d&&u.createElement(wa,{error:{stack:d},windowId:s}),u.createElement("div",{className:l.middle},u.createElement("div",{className:l.middleLeft},u.createElement("div",{className:l.primaryWindow},u.createElement(ds,{view:a,windowId:s,isFetching:r,sideBarOpen:o})),u.createElement("div",{className:l.companionAreaBottom},u.createElement(ja,{windowId:s,position:"bottom"}))),u.createElement("div",{className:l.companionAreaRight},u.createElement(ja,{windowId:s,position:"right"}),u.createElement(ja,{windowId:s,position:"far-right"}))),u.createElement(ja,{windowId:s,position:"far-bottom"}),u.createElement(kt.F,this.props))}}])&&sl(t.prototype,n),r&&sl(t,r),s}(u.Component);cl.contextType=Fr.MosaicWindowContext,cl.defaultProps={classes:{},focusWindow:function(){},isFetching:!1,label:null,manifestError:null,maximized:!1,sideBarOpen:!1,view:void 0,windowDraggable:null,workspaceType:null};var fl=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){return{companionAreaBottom:{display:"flex",flex:"0",flexBasis:"auto",minHeight:0},companionAreaRight:{display:"flex",flex:"0 1 auto",minHeight:0},maximized:{},middle:{display:"flex",flex:"1",flexDirection:"row",minHeight:0},middleLeft:{display:"flex",flex:"1",flexDirection:"column",minHeight:0},primaryWindow:{display:"flex",flex:"1",height:"300px",minHeight:0,position:"relative"},thumbnailArea:{backgroundColor:e.palette.shades.dark},thumbnailAreaBottom:{},thumbnailAreaRight:{minWidth:100},window:{"&$maximized":{left:0,position:"absolute",top:0,zIndex:e.zIndex.modal-1},backgroundColor:e.palette.shades.dark,borderRadius:0,display:"flex",flexDirection:"column",height:"100%",minHeight:0,overflow:"hidden",width:"100%"}}})),(0,i.Ng)((function(e,t){var n=t.windowId;return{isFetching:(0,qi.YR)(e,{windowId:n}).isFetching,label:(0,qi.aY)(e,{windowId:n}),manifestError:(0,qi.WA)(e,{windowId:n}),maximized:((0,ae.zk)(e,{windowId:n})||{}).maximized,sideBarOpen:((0,ae.zk)(e,{windowId:n})||{}).sideBarOpen,thumbnailNavigationPosition:(0,Hr.Ir)(e,{windowId:n}),view:(0,nr.i9)(e,{windowId:n}),window:(0,ae.zk)(e,{windowId:n}),windowDraggable:(0,nr.kt)(e,{windowId:n}),workspaceType:(0,J.I3)(e)}}),(function(e,t){var n=t.windowId;return{focusWindow:function(){return e(tr.hN(n))}}})),(0,l.h)("Window"));const dl=fl(cl);var pl=n(48566),hl=n(44360),ml=n.n(hl),vl=n(15031),gl=n.n(vl);function yl(e){var t=e.t,n=e.title,r=e.windowId;return u.createElement(Ss,{windowId:"".concat(r,"-preview"),label:t("previewWindowTitle",{title:n}),ariaLabel:!1})}function bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bl(Object(n),!0).forEach((function(t){xl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}yl.defaultProps={t:function(e){return e},title:""};var Sl=(0,r.Zz)((0,s.A)((function(e){return{preview:wl({},e.typography.h4)}})),(0,o.C)(),(0,i.Ng)((function(e,t){var n=t.windowId;return{title:(0,qi.aY)(e,{windowId:n})}}),null),(0,l.h)("MosaicRenderPreview"));const El=Sl(yl);var _l=n(32805),Tl=n(58375),Ol=n(34542),Al=n.n(Ol);function Cl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Pl=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.layout=t}var t,n;return t=e,n=[{key:"pathToCorner",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tl.Corner.TOP_RIGHT;return(0,Tl.getPathToCorner)(this.layout,e)}},{key:"pathToParent",value:function(e){return(0,Tl.getNodeAtPath)(this.layout,Al()(e))}},{key:"nodeAtPath",value:function(e){return(0,Tl.getNodeAtPath)(this.layout,e)}},{key:"addWindows",value:function(e){var t=this;e.forEach((function(n,r){var i,o,a=t.pathToCorner(),s=t.pathToParent(a),l=t.nodeAtPath(a),u=s?(0,Tl.getOtherDirection)(s.direction):"row";"row"===u?(i=l,o=e[r]):(i=e[r],o=l);var c={path:a,spec:{$set:{direction:u,first:i,second:o}}};t.layout=(0,_l.updateTree)(t.layout,[c])}))}},{key:"removeWindows",value:function(e,t){var n=this,r=e.map((function(e){return(0,_l.createRemoveUpdate)(n.layout,t[e])}));this.layout=(0,_l.updateTree)(this.layout,r)}}],n&&Cl(t.prototype,n),e}();function kl(e){return kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(e)}function Rl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Il(e,t){return Il=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Il(e,t)}function Ml(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dl(e){return Dl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dl(e)}var jl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Il(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Dl(i);if(o){var n=Dl(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===kl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ml(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).tileRenderer=t.tileRenderer.bind(Ml(t)),t.mosaicChange=t.mosaicChange.bind(Ml(t)),t.determineWorkspaceLayout=t.determineWorkspaceLayout.bind(Ml(t)),t.zeroStateView=u.createElement("div",null),t.windowPaths={},t.toolbarControls=[],t.additionalControls=[],t}return t=s,r=[{key:"renderPreview",value:function(e){return u.createElement("div",{className:"mosaic-preview","aria-hidden":!0},u.createElement(El,{windowId:e.windowId}))}}],(n=[{key:"componentDidMount",value:function(){var e=this.props.updateWorkspaceMosaicLayout,t=this.determineWorkspaceLayout();t&&e(t)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.windowIds,r=t.layout,i=t.updateWorkspaceMosaicLayout,o=e.windowIds;if(n.every((function(e){return o.includes(e)}))){if(!o.every((function(e){return n.includes(e)}))){if(0===n.length)return void i(null);var a=ml()(o,n),s=new Pl(r);s.removeWindows(a,this.windowPaths),i(s.layout)}}else{var l=this.determineWorkspaceLayout();gl()(l,r)||i(l)}}},{key:"bookkeepPath",value:function(e,t){this.windowPaths[e]=t}},{key:"determineWorkspaceLayout",value:function(){var e=this.props,t=e.windowIds,n=e.layout,r=(0,pl.Lg)(n);if(!t.every((function(e){return r.includes(e)}))){if(r.length<2)return(0,pl.fj)(t);var i=ml()(t,r),o=new Pl(n);return o.addWindows(i),o.layout}return r.every((function(e){return t.includes(e)}))?n:(0,pl.fj)(t)}},{key:"tileRenderer",value:function(e,t){var n=this.props,r=n.windowIds,i=n.workspaceId;return r.includes(e)?(this.bookkeepPath(e,t),u.createElement(pl.XF,{toolbarControls:this.toolbarControls,additionalControls:this.additionalControls,path:t,windowId:e,renderPreview:s.renderPreview},u.createElement(dl,{key:"".concat(e,"-").concat(i),windowId:e}))):null}},{key:"mosaicChange",value:function(e){(0,this.props.updateWorkspaceMosaicLayout)(e)}},{key:"render",value:function(){var e=this.props,t=e.layout,n=e.classes;return u.createElement(pl.bQ,{renderTile:this.tileRenderer,initialValue:t||this.determineWorkspaceLayout(),onChange:this.mosaicChange,className:f()("mirador-mosaic",n.root),zeroStateView:this.zeroStateView})}}])&&Rl(t.prototype,n),r&&Rl(t,r),s}(u.Component);jl.defaultProps={layout:void 0,windowIds:[]};function Ll(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zl={updateWorkspaceMosaicLayout:oe.ZV},Bl=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ll(Object(n),!0).forEach((function(t){Nl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ll(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({root:{"& .mosaic-preview":{boxShadow:"none"},"& .mosaic-tile":{boxShadow:"0 1px 3px 0 rgba(0, 0, 0, .2), 0 1px 1px 0 rgba(0, 0, 0, .2), 0 2px 1px -1px rgba(0, 0, 0, .2)"},"& .mosaic-window":{boxShadow:"none"},"& .mosaic-window-toolbar":{display:"none !important"}}},{"@global":{".mosaic":{height:"100%",width:"100%"},".mosaic, .mosaic > *":{boxSizing:"border-box"},".mosaic .mosaic-zero-state":{position:"absolute",top:6,right:6,bottom:6,left:6,width:"auto",height:"auto",zIndex:"1"},".mosaic-root":{position:"absolute",top:3,right:3,bottom:3,left:3},".mosaic-split":{position:"absolute",zIndex:"1",touchAction:"none"},".mosaic-split:hover":{background:"black"},".mosaic-split .mosaic-split-line":{position:"absolute"},".mosaic-split.-row":{marginLeft:-3,width:6,cursor:"ew-resize"},".mosaic-split.-row .mosaic-split-line":{top:"0",bottom:"0",left:3,right:3},".mosaic-split.-column":{marginTop:-3,height:6,cursor:"ns-resize"},".mosaic-split.-column .mosaic-split-line":{top:3,bottom:3,left:"0",right:"0"},".mosaic-tile":{position:"absolute",margin:3},".mosaic-tile > *":{height:"100%",width:"100%"},".mosaic-drop-target":{position:"relative"},".mosaic-drop-target.drop-target-hover .drop-target-container":{display:"block"},".mosaic-drop-target.mosaic > .drop-target-container .drop-target.left":{right:"calc(100% -  10px )"},".mosaic-drop-target.mosaic > .drop-target-container .drop-target.right":{left:"calc(100% -  10px )"},".mosaic-drop-target.mosaic > .drop-target-container .drop-target.bottom":{top:"calc(100% -  10px )"},".mosaic-drop-target.mosaic > .drop-target-container .drop-target.top":{bottom:"calc(100% -  10px )"},".mosaic-drop-target .drop-target-container":{position:"absolute",top:"0",right:"0",bottom:"0",left:"0",display:"none"},".mosaic-drop-target .drop-target-container.-dragging":{display:"block"},".mosaic-drop-target .drop-target-container .drop-target":{position:"absolute",top:"0",right:"0",bottom:"0",left:"0",background:"rgba(0, 0, 0, 0.2)",border:"2px solid black",opacity:"0",zIndex:"5"},".mosaic-drop-target .drop-target-container .drop-target.left":{right:"calc(100% -  30% )"},".mosaic-drop-target .drop-target-container .drop-target.right":{left:"calc(100% -  30% )"},".mosaic-drop-target .drop-target-container .drop-target.bottom":{top:"calc(100% -  30% )"},".mosaic-drop-target .drop-target-container .drop-target.top":{bottom:"calc(100% -  30% )"},".mosaic-drop-target .drop-target-container .drop-target.drop-target-hover":{opacity:"1"},".mosaic-drop-target .drop-target-container .drop-target.drop-target-hover.left":{right:"calc(100% -  50% )"},".mosaic-drop-target .drop-target-container .drop-target.drop-target-hover.right":{left:"calc(100% -  50% )"},".mosaic-drop-target .drop-target-container .drop-target.drop-target-hover.bottom":{top:"calc(100% -  50% )"},".mosaic-drop-target .drop-target-container .drop-target.drop-target-hover.top":{bottom:"calc(100% -  50% )"},".mosaic-window, .mosaic-preview":{position:"relative",display:"flex",fallbacks:[{display:"-webkit-box"}],webkitBoxOrient:"vertical",webkitBoxDirection:"normal",flexDirection:"column",overflow:"hidden",boxShadow:"0 0 1px rgba(0, 0, 0, 0.2)"},".mosaic-window .mosaic-window-toolbar, .mosaic-preview .mosaic-window-toolbar":{zIndex:"4",display:"flex",fallbacks:[{display:"-webkit-box"}],webkitBoxPack:"justify",justifyContent:"space-between",webkitBoxAlign:"center",alignItems:"center",flexShrink:"0",height:30,background:"white",boxShadow:"0 1px 1px rgba(0, 0, 0, 0.2)"},".mosaic-window .mosaic-window-toolbar.draggable, .mosaic-preview .mosaic-window-toolbar.draggable":{cursor:"move"},".mosaic-window .mosaic-window-title, .mosaic-preview .mosaic-window-title":{paddingLeft:15,webkitBoxFlex:"1",flex:"1",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",minHeight:18},".mosaic-window .mosaic-window-controls, .mosaic-preview .mosaic-window-controls":{display:"flex",fallbacks:[{display:"-webkit-box"}],height:"100%"},".mosaic-window .mosaic-window-controls .separator, .mosaic-preview .mosaic-window-controls .separator":{height:20,borderLeft:"1px solid black",margin:"5px 4px"},".mosaic-window .mosaic-window-body, .mosaic-preview .mosaic-window-body":{position:"relative",webkitBoxFlex:"1",flex:"1",height:"0",background:"white",zIndex:"1",overflow:"hidden"},".mosaic-window .mosaic-window-additional-actions-bar, .mosaic-preview .mosaic-window-additional-actions-bar":{position:"absolute",top:30,right:"0",bottom:"initial",left:"0",height:"0",overflow:"hidden",background:"white",webkitBoxPack:"end",justifyContent:"flex-end",display:"flex",fallbacks:[{display:"-webkit-box"}],zIndex:"3"},".mosaic-window .mosaic-window-additional-actions-bar .bp3-button, .mosaic-preview .mosaic-window-additional-actions-bar .bp3-button":{margin:"0"},".mosaic-window .mosaic-window-additional-actions-bar .bp3-button:after, .mosaic-preview .mosaic-window-additional-actions-bar .bp3-button:after":{display:"none"},".mosaic-window .mosaic-window-body-overlay, .mosaic-preview .mosaic-window-body-overlay":{position:"absolute",top:"0",right:"0",bottom:"0",left:"0",opacity:"0",background:"white",display:"none",zIndex:"2"},".mosaic-window.additional-controls-open .mosaic-window-additional-actions-bar, .mosaic-preview.additional-controls-open .mosaic-window-additional-actions-bar":{height:30},".mosaic-window.additional-controls-open .mosaic-window-body-overlay, .mosaic-preview.additional-controls-open .mosaic-window-body-overlay":{display:"block"},".mosaic-window .mosaic-preview, .mosaic-preview .mosaic-preview":{height:"100%",width:"100%",position:"absolute",zIndex:"0",border:"1px solid black",maxHeight:400},".mosaic-window .mosaic-preview .mosaic-window-body, .mosaic-preview .mosaic-preview .mosaic-window-body":{display:"flex",fallbacks:[{display:"-webkit-box"}],webkitBoxOrient:"vertical",webkitBoxDirection:"normal",flexDirection:"column",webkitBoxAlign:"center",alignItems:"center",webkitBoxPack:"center",justifyContent:"center"},".mosaic-window .mosaic-preview h4, .mosaic-preview .mosaic-preview h4":{marginBottom:10},".mosaic:not(.mosaic-blueprint-theme) .mosaic-default-control.close-button:before":{content:"'Close'"},".mosaic:not(.mosaic-blueprint-theme) .mosaic-default-control.split-button:before":{content:"'Split'"},".mosaic:not(.mosaic-blueprint-theme) .mosaic-default-control.replace-button:before":{content:"'Replace'"},".mosaic:not(.mosaic-blueprint-theme) .mosaic-default-control.expand-button:before":{content:"'Expand'"}}});const Fl=(0,r.Zz)((0,s.A)(Bl),(0,i.Ng)((function(e){return{layout:(0,ae.K4)(e).layout,windowIds:(0,ae.K4)(e).windowIds,workspaceId:(0,ae.K4)(e).id}}),zl),(0,l.h)("WorkspaceMosaic"))(jl);var Wl=n(94698),Hl=n(98114),Ul=n(63859);function Vl(e){return Vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(e)}function Gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ql(e,t){return ql=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ql(e,t)}function Xl(e){return Xl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xl(e)}var Zl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ql(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Xl(r);if(i){var n=Xl(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Vl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.companionWindowDimensions,r=e.focused,i=e.layout,o=e.workspace,a=e.updateElasticWindowLayout,s=o.width/2,l=o.height/2;return u.createElement(Hl.p,{key:"".concat(i.windowId,"-").concat(o.id),size:{height:i.height+n.height,width:i.width+n.width},position:{x:i.x+s,y:i.y+l},bounds:"parent",onDragStop:function(e,t){a(i.windowId,{x:t.x-s,y:t.y-l})},onResize:function(e,t,r,o,u){a(i.windowId,{height:Number.parseInt(r.style.height,10)-n.height,width:Number.parseInt(r.style.width,10)-n.width,x:u.x-s,y:u.y-l})},dragHandleClassName:(0,wt.A)("window-top-bar"),className:r?t.focused:null},u.createElement(dl,{windowId:i.windowId}))}}],n&&Gl(t.prototype,n),a}(u.Component);Zl.defaultProps={classes:{},companionWindowDimensions:{height:0,width:0},focused:!1};const $l=Zl;var Yl=(0,r.Zz)((0,s.A)((function(e){return{focused:{zIndex:e.zIndex.modal-1}}})),(0,i.Ng)((function(e,t){var n=t.windowId;return{companionWindowDimensions:(0,Hr.a4)(e,{windowId:n}),focused:(0,J.ar)(e,{windowId:n}),layout:(0,J.Q9)(e)[n],workspace:(0,ae.K4)(e)}}),(function(e,t){return{updateElasticWindowLayout:function(t,n){e(Wl.D(t,n))}}})));const Kl=Yl($l);function Jl(e){return Jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(e)}function Ql(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eu(e,t){return eu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},eu(e,t)}function tu(e){return tu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tu(e)}var nu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eu(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=tu(r);if(i){var n=tu(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Jl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.workspace,r=e.elasticLayout,i=e.setWorkspaceViewportDimensions,o=e.setWorkspaceViewportPosition,a=n.viewportPosition,s=n.width/2,l=n.height/2;return u.createElement("div",{style:{height:"100%",position:"relative",width:"100%"}},u.createElement(Ul.A,{onResize:function(e){i(e)}}),u.createElement(Hl.p,{size:{height:n.height,width:n.width},position:{x:-1*a.x-s,y:-1*a.y-l},enableResizing:{bottom:!1,bottomLeft:!1,bottomRight:!1,left:!1,right:!1,top:!1,topLeft:!1,topRight:!1},onDragStop:function(e,t){o({x:-1*t.x-s,y:-1*t.y-l})},cancel:".".concat((0,wt.A)("window")),className:f()(t.workspace,(0,wt.A)("workspace")),disableDragging:!n.draggingEnabled},Object.keys(r).map((function(e){return u.createElement(Kl,{key:e,windowId:e})}))))}}],n&&Ql(t.prototype,n),a}(u.Component);const ru=nu,iu=(0,r.Zz)((0,s.A)({workspace:{boxSizing:"border-box",margin:0,position:"absolute",transitionDuration:".7s","& .react-draggable-dragging":{transitionDuration:"unset"}}}),(0,i.Ng)((function(e){return{elasticLayout:(0,J.Q9)(e),workspace:(0,ae.K4)(e)}}),(function(e,t){return{setWorkspaceViewportDimensions:function(t){e(oe.Pi(t))},setWorkspaceViewportPosition:function(t){e(oe.Dl(t))},updateElasticWindowLayout:function(t,n){e(Wl.D(t,n))}}})),(0,l.h)("WorkspaceElastic"))(ru);var ou=n(70398),au=n(40712),su=n(13443),lu=n(17667),uu=n(13589);function cu(e,t){if(e){if("string"==typeof e)return fu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fu(e,t):void 0}}function fu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var du=function(e,t,n){var r,i=n.onDrop;if(e.urls&&e.urls.forEach((function(e){var r=new URL(e),o=r.searchParams.get("manifest"),a=r.searchParams.get("canvas");o&&i({canvasId:a,manifestId:o},n,t)})),e.files){var o,a=e.files.filter((function(e){return"application/json"===e.type})).map((function(e){return new Promise((function(r,o){var a=new FileReader;a.addEventListener("load",(function(){var e=a.result,o=(0,su.A)();e&&i({manifestId:o,manifestJson:e},n,t),r()})),a.readAsText(e)}))})),s=e.files.filter((function(e){return e.type.startsWith("image/")}));if(s.length>0){var l=(0,su.A)(),u=s.map((function(e){return function(e){return new Promise((function(t,n){var r=new FileReader;r.addEventListener("load",(function(){var n=new Image;n.addEventListener("load",(function(){t({height:n.height,name:e.name,type:e.type,url:r.result,width:n.width})})),n.src=r.result})),r.readAsDataURL(e)}))}(e)}));o=Promise.all(u).then((function(e){var r={"@context":"http://iiif.io/api/presentation/3/context.json",id:l,items:e.map((function(e,t){var n=e.name,r=e.type,i=e.width,o=e.height,a=e.url;return{height:o,id:"".concat(l,"/canvas/").concat(t),items:[{id:"".concat(l,"/canvas/").concat(t,"/1"),items:[{body:{format:r,id:a,type:"Image"},height:o,id:"".concat(l,"/canvas/").concat(t,"/1/image"),motivation:"painting",target:"".concat(l,"/canvas/").concat(t,"/1"),type:"Annotation",width:i}],type:"AnnotationPage"}],label:n,type:"Canvas",width:i}})),label:e[0].name,type:"Manifest"},o=(0,su.A)();r&&i({manifestId:o,manifestJson:r},n,t)}))}return Promise.all([].concat(function(e){if(Array.isArray(e))return fu(e)}(r=a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||cu(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[o]))}},pu=function(e){var t,n,r=e.children,i=e.onDrop,o=(t=(0,uu.H)({accept:[lu.URL,lu.FILE],collect:function(e){return{canDrop:e.canDrop(),isOver:e.isOver()}},drop:function(t,n){i&&du(t,n,e)}}),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,n)||cu(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],s=a.canDrop,l=a.isOver,c=o[1],f=s&&l;return u.createElement("div",{ref:c,onDrop:function(t){if(window.safari&&i&&t.dataTransfer&&t.dataTransfer.types.includes("Files")&&t.dataTransfer.types.includes("text/uri-list")){var n=t.dataTransfer.getData("text/uri-list");if(!n)return;du({urls:[n]},null,e)}},style:{height:"100%",width:"100%"}},r,u.createElement(R,{open:f,style:{zIndex:9999}},u.createElement(ou.A,{style:{color:au.A[400],fontSize:256}})))};function hu(e){return hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(e)}function mu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vu(e,t){return vu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},vu(e,t)}function gu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yu(e){return yu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yu(e)}var bu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vu(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=yu(r);if(i){var n=yu(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===hu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gu(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).handleDrop=t.handleDrop.bind(gu(t)),t}return t=a,n=[{key:"handleDrop",value:function(e,t,n){var r=e.canvasId,i=e.manifestId,o=e.manifestJson,a=this.props,s=a.addWindow;a.allowNewWindows&&s({canvasId:r,manifest:o,manifestId:i})}},{key:"workspaceByType",value:function(){var e=this.props,t=e.workspaceId,n=e.workspaceType,r=e.windowIds;if(this.maximizedWindows())return this.maximizedWindows();if(0===r.length)return this.zeroWindows();switch(n){case"elastic":return u.createElement(iu,null);case"mosaic":return u.createElement(Fl,null);default:return r.map((function(e){return u.createElement(dl,{key:"".concat(e,"-").concat(t),windowId:e})}))}}},{key:"zeroWindows",value:function(){var e=this.props.t;return u.createElement(Br.A,{alignItems:"center",container:!0,style:{height:"100%"}},u.createElement(Br.A,{xs:12,item:!0},u.createElement(z.A,{variant:"h1",component:"div",align:"center"},e("welcome"))))}},{key:"maximizedWindows",value:function(){var e=this.props,t=e.maximizedWindowIds,n=e.workspaceId;return t.length>0&&t.map((function(e){return u.createElement(dl,{key:"".concat(e,"-").concat(n),windowId:e,className:f()((0,wt.A)("workspace-maximized-window"))})}))}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.isWorkspaceControlPanelVisible,r=e.t;return u.createElement(pu,{onDrop:this.handleDrop},u.createElement("div",{className:f()((0,wt.A)("workspace-viewport"),n&&(0,wt.A)("workspace-with-control-panel"),n&&t.workspaceWithControlPanel,t.workspaceViewport)},u.createElement(z.A,{variant:"srOnly",component:"h1"},r("miradorViewer")),this.workspaceByType()))}}],n&&mu(t.prototype,n),a}(u.Component);bu.defaultProps={addWindow:function(){},allowNewWindows:!0,maximizedWindowIds:[],windowIds:[]};var wu={addWindow:tr._U};const xu=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){return{workspaceViewport:{bottom:0,left:0,margin:0,overflow:"hidden",position:"absolute",right:0,top:0},workspaceWithControlPanel:{paddingTop:74},"@media (min-width: 600px)":{workspaceWithControlPanel:{paddingLeft:68,paddingTop:0}}}})),(0,i.Ng)((function(e){return{allowNewWindows:(0,Ie.zj)(e).workspace.allowNewWindows,isWorkspaceControlPanelVisible:(0,Ie.zj)(e).workspaceControlPanel.enabled,maximizedWindowIds:(0,nr.Eu)(e),windowIds:(0,ae.rG)(e),workspaceId:(0,ae.K4)(e).id,workspaceType:(0,J.I3)(e)}}),wu),(0,l.h)("Workspace"))(bu);var Su=n(7276),Eu=n(81511);function _u(e){return _u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(e)}function Tu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ou(e,t){return Ou=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ou(e,t)}function Au(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cu(e){return Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cu(e)}var Pu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ou(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Cu(r);if(i){var n=Cu(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===_u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Au(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={formValue:""},t.formSubmit=t.formSubmit.bind(Au(t)),t.handleCancel=t.handleCancel.bind(Au(t)),t.handleInputChange=t.handleInputChange.bind(Au(t)),t}return t=a,(n=[{key:"handleCancel",value:function(){(0,this.props.onCancel)(),this.setState({formValue:""})}},{key:"handleInputChange",value:function(e){e.preventDefault(),this.setState({formValue:e.target.value})}},{key:"formSubmit",value:function(e){var t=this.props,n=t.addResource,r=t.onSubmit,i=this.state.formValue;e.preventDefault(),r(),n(i),this.setState({formValue:""})}},{key:"render",value:function(){var e=this.state.formValue,t=this.props,n=t.addResourcesOpen,r=t.classes,i=t.onCancel,o=t.t;return n?u.createElement("form",{onSubmit:this.formSubmit},u.createElement(Br.A,{container:!0,spacing:2},u.createElement(Br.A,{item:!0,xs:12,sm:8,md:9},u.createElement(Rn.A,{autoFocus:!0,fullWidth:!0,value:e,id:"manifestURL",type:"text",onChange:this.handleInputChange,variant:"filled",label:o("addManifestUrl"),helperText:o("addManifestUrlHelp"),InputLabelProps:{shrink:!0},InputProps:{className:r.input}})),u.createElement(Br.A,{item:!0,xs:12,sm:4,md:3,className:r.buttons},i&&u.createElement(G.A,{onClick:this.handleCancel},o("cancel")),u.createElement(G.A,{id:"fetchBtn",type:"submit",variant:"contained",color:"primary"},o("fetchManifest"))))):null}}])&&Tu(t.prototype,n),a}(u.Component);function ku(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ru(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ku(Object(n),!0).forEach((function(t){Iu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ku(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Iu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Pu.defaultProps={classes:{},onCancel:null,onSubmit:function(){},t:function(e){return e}};var Mu={addResource:Su.M};const Du=(0,r.Zz)((0,s.A)((function(e){return{buttons:Iu({textAlign:"right"},e.breakpoints.up("sm"),{textAlign:"inherit"}),input:Ru({},e.typography.body1)}})),(0,o.C)(),(0,i.Ng)(null,Mu),(0,l.h)("ManifestForm"))(Pu);var ju=n(99254),Lu=n(68445),Nu=n(23420);function zu(e){return zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(e)}function Bu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fu(e,t){return Fu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Fu(e,t)}function Wu(e){return Wu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wu(e)}var Hu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fu(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Wu(r);if(i){var n=Wu(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===zu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.manifestId,r=e.onDismissClick,i=e.onTryAgainClick,o=e.t;return u.createElement(Br.A,{container:!0},u.createElement(Br.A,{container:!0},u.createElement(Br.A,{container:!0,item:!0,xs:12,sm:6},u.createElement(Br.A,{item:!0,xs:4,sm:3},u.createElement(Br.A,{container:!0,justify:"center"},u.createElement(Zi.A,{className:t.errorIcon}))),u.createElement(Br.A,{item:!0,xs:8,sm:9},u.createElement(z.A,null,o("manifestError")),u.createElement(z.A,{className:t.manifestIdText},n)))),u.createElement(Br.A,{container:!0},u.createElement(Br.A,{container:!0,item:!0,xs:12,sm:6,justify:"flex-end"},u.createElement(Br.A,{item:!0},u.createElement(G.A,{onClick:function(){r(n)}},o("dismiss")),u.createElement(G.A,{onClick:function(){i(n)}},o("tryAgain"))))))}}])&&Bu(t.prototype,n),a}(u.Component),Uu={onDismissClick:Su.l,onTryAgainClick:ju.Cj};const Vu=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){return{errorIcon:{color:e.palette.error.main,height:"2rem",width:"2rem"},manifestIdText:{wordBreak:"break-all"}}})),(0,i.Ng)(null,Uu),(0,l.h)("ManifestListItemError"))(Hu);function Gu(e){return Gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(e)}function qu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xu(e,t){return Xu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xu(e,t)}function Zu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $u(e){return $u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$u(e)}var Yu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xu(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$u(r);if(i){var n=$u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Gu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zu(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).handleOpenButtonClick=t.handleOpenButtonClick.bind(Zu(t)),t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchManifest,n=e.manifestId,r=e.ready,i=e.isFetching,o=e.error,a=e.provider;r||o||i||"file"===a||t(n)}},{key:"handleOpenButtonClick",value:function(){var e=this.props,t=e.addWindow,n=e.handleClose;t({manifestId:e.manifestId}),n()}},{key:"render",value:function(){var e=this.props,t=e.active,n=e.buttonRef,r=e.manifestId,i=e.ready,o=e.title,a=e.thumbnail,s=e.manifestLogo,l=e.size,c=e.classes,f=e.provider,d=e.t,p=e.error,h=e.isCollection,m=e.isMultipart,v=u.createElement(Br.A,{container:!0,className:(0,wt.A)("manifest-list-item"),spacing:2},u.createElement(Br.A,{item:!0,xs:3,sm:2},u.createElement(Xi.A,{className:c.placeholder,variant:"rect",height:80,width:120})),u.createElement(Br.A,{item:!0,xs:9,sm:6},u.createElement(Xi.A,{className:c.placeholder,variant:"text"})),u.createElement(Br.A,{item:!0,xs:8,sm:2},u.createElement(Xi.A,{className:c.placeholder,variant:"text"}),u.createElement(Xi.A,{className:c.placeholder,variant:"text"})),u.createElement(Br.A,{item:!0,xs:4,sm:2},u.createElement(Xi.A,{className:c.placeholder,variant:"rect",height:60,width:60})));return p?u.createElement(Lu.A,{divider:!0,className:c.root,"data-manifestid":r},u.createElement(Vu,{manifestId:r})):u.createElement(Lu.A,{divider:!0,className:[c.root,t?c.active:""].join(" "),"data-manifestid":r},i?u.createElement(Br.A,{container:!0,className:(0,wt.A)("manifest-list-item"),spacing:2},u.createElement(Br.A,{item:!0,xs:12,sm:6,className:c.buttonGrid},u.createElement(se.A,{ref:n,className:(0,wt.A)("manifest-list-item-title"),style:{width:"100%"},onClick:this.handleOpenButtonClick},u.createElement(Br.A,{container:!0,spacing:2,className:c.label,component:"span"},u.createElement(Br.A,{item:!0,xs:4,sm:3,component:"span"},a?u.createElement(Nu.Img,{className:[c.thumbnail,(0,wt.A)("manifest-list-item-thumb")].join(" "),src:[a],alt:"",height:"80",unloader:u.createElement(Xi.A,{variant:"rect",animation:!1,className:c.placeholder,height:80,width:120})}):u.createElement(Xi.A,{className:c.placeholder,variant:"rect",height:80,width:120})),u.createElement(Br.A,{item:!0,xs:8,sm:9,component:"span"},h&&u.createElement(z.A,{component:"div",variant:"overline"},d(m?"multipartCollection":"collection")),u.createElement(z.A,{component:"span",variant:"h6"},o||r))))),u.createElement(Br.A,{item:!0,xs:8,sm:4},u.createElement(z.A,{className:(0,wt.A)("manifest-list-item-provider")},f),u.createElement(z.A,null,d("numItems",{count:l,number:l}))),u.createElement(Br.A,{item:!0,xs:4,sm:2},s&&u.createElement(Nu.Img,{src:[s],alt:"",role:"presentation",className:c.logo,unloader:u.createElement(Xi.A,{variant:"rect",animation:!1,className:c.placeholder,height:60,width:60})}))):v)}}])&&qu(t.prototype,n),a}(u.Component);function Ku(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ju(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ku(Object(n),!0).forEach((function(t){Qu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ku(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Yu.defaultProps={active:!1,buttonRef:void 0,classes:{},error:null,handleClose:function(){},isCollection:!1,isFetching:!1,isMultipart:!1,manifestLogo:null,provider:null,ready:!1,size:0,t:function(e){return e},thumbnail:null,title:null};var ec={addWindow:tr._U,fetchManifest:ju.Cj},tc=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){return{active:{},buttonGrid:{},label:{textAlign:"left",textTransform:"initial"},logo:{height:"2.5rem",maxWidth:"100%",objectFit:"contain",paddingRight:8},placeholder:{backgroundColor:e.palette.grey[300]},root:Ju(Ju({},e.mixins.gutters()),{},{"&$active":{borderLeft:"4px solid ".concat(e.palette.primary.main)},"&:hover,&:focus-within":{"&$active":{borderLeft:"4px solid ".concat(e.palette.primary.main)},backgroundColor:e.palette.action.hover,borderLeft:"4px solid ".concat(e.palette.action.hover)},borderLeft:"4px solid transparent"}),thumbnail:{maxWidth:"100%",objectFit:"contain"}}})),(0,i.Ng)((function(e,t){var n=t.manifestId,r=t.provider,i=(0,ae.c2)(e,{manifestId:n})||{},o=(0,qi.SG)(e,{manifestId:n}),a=(o||{isCollection:function(){return!1}}).isCollection(),s=a?o.getTotalItems():(0,mo.P)(e,{manifestId:n}).length;return{active:(0,ae.p3)(e).includes(n),error:i.error,isCollection:a,isFetching:i.isFetching,isMultipart:a&&(0,La.pw)(e,{manifestId:n}).includes("multi-part"),manifestLogo:(0,qi.nB)(e,{manifestId:n}),provider:r||(0,qi.X6)(e,{manifestId:n}),ready:!!i.json,size:s,thumbnail:(0,qi.yj)(e,{manifestId:n}),title:(0,qi.aY)(e,{manifestId:n})}}),ec),(0,l.h)("ManifestListItem"));const nc=tc(Yu);function rc(e){return rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(e)}function ic(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oc(e,t){return oc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},oc(e,t)}function ac(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sc(e){return sc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sc(e)}var lc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oc(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=sc(r);if(i){var n=sc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===rc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ac(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={addResourcesOpen:!1},t.ref=u.createRef(),t.onSubmit=t.onSubmit.bind(ac(t)),t.setAddResourcesVisibility=t.setAddResourcesVisibility.bind(ac(t)),t.handleDrop=t.handleDrop.bind(ac(t)),t}return t=a,n=[{key:"handleDrop",value:function(e,t,n){var r=e.manifestId,i=e.manifestJson,o=this.props.addResource;i?o(r,i,{provider:"file"}):o(r),this.scrollToTop()}},{key:"onSubmit",value:function(){this.setAddResourcesVisibility(!1),this.scrollToTop()}},{key:"setAddResourcesVisibility",value:function(e){this.setState({addResourcesOpen:e})}},{key:"scrollToTop",value:function(){this.ref.current&&this.ref.current.scrollTo({behavior:"smooth",left:0,top:0})}},{key:"render",value:function(){var e,t,n,r=this,i=this.props,o=i.catalog,a=i.setWorkspaceAddVisibility,s=i.t,l=i.classes,c=this.state.addResourcesOpen,d=o.map((function(e,t){return u.createElement(nc,Object.assign({},0===t&&{buttonRef:function(e){return e&&e.focus()}},{key:e.manifestId,manifestId:e.manifestId,provider:e.provider,handleClose:function(){return a(!1)}}))}));return u.createElement(pu,{onDrop:this.handleDrop},u.createElement("div",{ref:this.ref,className:f()((0,wt.A)("workspace-add"),l.workspaceAdd)},o.length<1?u.createElement(Br.A,{alignItems:"center",container:!0,style:{height:"100%"}},u.createElement(Br.A,{xs:12,item:!0},u.createElement(z.A,{variant:"h1",component:"div",align:"center"},s("emptyResourceList")))):u.createElement(I.A,{className:l.list},u.createElement(z.A,{variant:"srOnly",component:"h1"},s("miradorResources")),u.createElement(kt.F,this.props),u.createElement(Eu.A,{disablePadding:!0},d)),u.createElement(ue,{variant:"extended",disabled:c,className:f()(l.fab,(0,wt.A)("add-resource-button")),color:"primary",onClick:function(){return r.setAddResourcesVisibility(!0)}},u.createElement(fe.A,null),s("addResource")),u.createElement(Eo,{className:f()((e={},t=l.displayNone,n=!c,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e)),classes:{paper:l.paper},variant:"persistent",anchor:"bottom",open:c,ModalProps:{disablePortal:!0,hideBackdrop:!0,style:{position:"absolute"}}},u.createElement(I.A,{className:l.form},u.createElement(ne,{position:"absolute",color:"primary",onClick:function(){return r.setAddResourcesVisibility(!1)}},u.createElement(re.A,{variant:"dense"},u.createElement(Ee.A,{"aria-label":s("closeAddResourceForm"),className:l.menuButton,color:"inherit"},u.createElement(qe.A,null)),u.createElement(z.A,{variant:"h2",noWrap:!0,color:"inherit",className:l.typographyBody},s("addResource")))),u.createElement(Du,{addResourcesOpen:c,onSubmit:this.onSubmit,onCancel:function(){return r.setAddResourcesVisibility(!1)}})))))}}],n&&ic(t.prototype,n),a}(u.Component);function uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uc(Object(n),!0).forEach((function(t){fc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}lc.defaultProps={addResource:function(){},catalog:[],classes:{},t:function(e){return e}};var dc={addResource:Su.M,setWorkspaceAddVisibility:oe.DW};const pc=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){return{displayNone:{display:"none"},fab:{bottom:e.spacing(2),position:"absolute",right:e.spacing(2)},form:cc(cc({},e.mixins.gutters()),{},{left:"0",marginTop:48,paddingBottom:e.spacing(2),paddingTop:e.spacing(2),right:"0"}),list:{margin:"16px"},menuButton:{marginLeft:-12,marginRight:20},paper:fc({borderTop:"0",left:"0"},e.breakpoints.up("sm"),{left:"65px"}),typographyBody:{flexGrow:1},workspaceAdd:{boxSizing:"border-box",height:"100%",overflowX:"hidden",overflowY:"auto",paddingTop:68},"@media (min-width: 600px)":{workspaceAdd:{paddingLeft:68,paddingTop:0}}}})),(0,i.Ng)((function(e){return{catalog:(0,ae.O5)(e)}}),dc),(0,l.h)("WorkspaceAdd"))(lc);var hc=function(e){return u.createElement("div",{className:(0,wt.A)("background-plugin-area"),style:{display:"none"}},u.createElement(kt.F,e))};hc.defaultProps={PluginComponents:[]};const mc=(0,l.h)("BackgroundPluginArea")(hc);function vc(e){return vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(e)}function gc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yc(e,t){return yc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yc(e,t)}function bc(e){return bc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bc(e)}var wc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yc(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=bc(r);if(i){var n=bc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===vc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.controlPanelVariant,r=e.isWorkspaceAddVisible,i=e.isWorkspaceControlPanelVisible,o=e.lang,a=e.t;return u.createElement(u.Fragment,null,i&&u.createElement(zr,{variant:n}),u.createElement("main",{className:f()(t.viewer,(0,wt.A)("viewer")),lang:o,"aria-label":a("workspace")},r?u.createElement(pc,null):u.createElement(xu,null),u.createElement(ee,null),u.createElement(mc,null)))}}])&&gc(t.prototype,n),a}(u.Component);wc.defaultProps={controlPanelVariant:void 0,isWorkspaceAddVisible:!1,lang:void 0};const xc=(0,r.Zz)((0,o.C)(),(0,s.A)((function(e){return{viewer:{background:("light"===e.palette.type?a.e$:a.a)(e.palette.shades.light,.1),bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0}}})),(0,i.Ng)((function(e){return{controlPanelVariant:(0,ae.K4)(e).isWorkspaceAddVisible||(0,ae.rG)(e).length>0?void 0:"wide",isWorkspaceAddVisible:(0,ae.K4)(e).isWorkspaceAddVisible,isWorkspaceControlPanelVisible:(0,Ie.zj)(e).workspaceControlPanel.enabled,lang:(0,Ie.zj)(e).language}})),(0,l.h)("WorkspaceArea"))(wc)},12924:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(78281).createContext()},92910:(e,t,n)=>{"use strict";n.d(t,{h:()=>d});var r=n(78281),i=n(56456),o=n.n(i),a=n(47114),s=n.n(a),l=n(12924);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=o()((function(e,t){function n(n,i){var o=(0,r.useContext)(l.A),a=c(c({},n),i?{ref:i}:{}),u=(o||{})[e];if(s()(u)||s()(u.wrap)&&s()(u.add))return r.createElement(t,a);var f=(u.add||[]).map((function(e){return e.component})),d=r.createElement(t,Object.assign({},a,{PluginComponents:f}));return s()(u.wrap)?d:u.wrap.slice().reverse().reduce((function(e,n){var i=n.component;return r.createElement(i,Object.assign({targetProps:a},a,{PluginComponents:f,TargetComponent:t}),e)}),r.createElement(t,a))}var i=r.forwardRef(n);return i.displayName="WithPlugins(".concat(e,")"),i}))},95800:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(94881),i=n.n(r),o=n(36286),a=n.n(o),s=n(13443);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resource=t}var t,n;return t=e,(n=[{key:"isOnlyTag",value:function(){return 1===this.motivations.length&&"oa:tagging"===this.motivations[0]}},{key:"id",get:function(){return this._id=this._id||this.resource["@id"]||this.resources[0]&&this.resources[0]["@id"]||(0,s.A)(),this._id}},{key:"targetId",get:function(){var e=this.on[0];switch(l(e)){case"string":return e.replace(/#?xywh=(.*)$/,"");case"object":return e.full.replace(/#?xywh=(.*)$/,"");default:return null}}},{key:"motivations",get:function(){return i()(a()(new Array(this.resource.motivation)))}},{key:"resources",get:function(){return i()(a()(new Array(this.resource.resource)))}},{key:"on",get:function(){return i()(a()(new Array(this.resource.on)))}},{key:"tags",get:function(){return this.isOnlyTag()?this.resources.map((function(e){return e.chars})):this.resources.filter((function(e){return"oa:Tag"===e["@type"]})).map((function(e){return e.chars}))}},{key:"chars",get:function(){return this.resources.filter((function(e){return"oa:Tag"!==e["@type"]})).map((function(e){return e.chars})).join(" ")}},{key:"selector",get:function(){var e=this.on[0];switch(l(e)){case"string":return e;case"object":return"oa:Choice"===e.selector["@type"]?e.selector.default:e.selector;default:return null}}},{key:"svgSelector",get:function(){var e=this.on[0];switch(l(e)){case"string":default:return null;case"object":return e.selector&&e.selector.item&&"oa:SvgSelector"===e.selector.item["@type"]?e.selector.item:null}}},{key:"fragmentSelector",get:function(){var e,t=this.selector;switch(l(t)){case"string":e=t.match(/xywh=(.*)$/);break;case"object":e=t.value.match(/xywh=(.*)$/);break;default:return null}return e&&e[1].split(",").map((function(e){return parseInt(e,10)}))}}])&&u(t.prototype,n),e}();function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.json=t,this.target=n}var t,n;return t=e,(n=[{key:"id",get:function(){return this.json["@id"]}},{key:"present",value:function(){return this.resources&&this.resources.length>0}},{key:"resources",get:function(){var e=this;return this._resources=this._resources||(e.json&&e.json.resources?i()([e.json.resources]).map((function(e){return new c(e)})):[]),this._resources}}])&&f(t.prototype,n),e}()},59745:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(2913),i=n.n(r),o=n(66785);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left-to-right";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvases=t.map((function(e){return new o.A(e)})),this.layers=n,this.viewingDirection=r,this._canvasDimensions=null}var t,n;return t=e,(n=[{key:"canvasIds",get:function(){return this.canvases.map((function(e){return e.id}))}},{key:"canvasDimensions",get:function(){if(this._canvasDimensions)return this._canvasDimensions;var e=c(this.canvasDirection,2),t=e[0],n=e[1],r=0===n?Math.min.apply(Math,u(this.canvases.map((function(e){return e.getHeight()})))):Math.min.apply(Math,u(this.canvases.map((function(e){return e.getWidth()})))),i=0,o=0,a=this.canvases.reduce((function(e,a){var s=0,l=0;return isNaN(a.aspectRatio)||(0===n?(s=r,l=Math.floor(r*a.aspectRatio)):(l=r,s=Math.floor(r*(1/a.aspectRatio)))),e.push({canvas:a,height:s,width:l,x:i,y:o}),i+=t*l,o+=n*s,e}),[]),l=0===n?r:Math.abs(o),f=0===t?r:Math.abs(i);return this._canvasDimensions=a.reduce((function(e,r){return e.push(s(s({},r),{},{x:-1===t?r.x+f-r.width:r.x,y:-1===n?r.y+l-r.height:r.y})),e}),[]),this._canvasDimensions}},{key:"contentResourceToWorldCoordinates",value:function(e){var t=this.canvases.findIndex((function(t){return t.imageResources.find((function(t){return t.id===e.id}))})),n=this.canvases[t];if(!n)return[];var r=c(this.canvasToWorldCoordinates(n.id),4),i=r[0],o=r[1],a=r[2],s=r[3],l=n.onFragment(e.id);return l?[i+l[0],o+l[1],l[2],l[3]]:[i,o,a,s]}},{key:"canvasToWorldCoordinates",value:function(e){var t=this.canvasDimensions.find((function(t){return t.canvas.id===e}));return[t.x,t.y,t.width,t.height]}},{key:"canvasDirection",get:function(){switch(this.viewingDirection){case"left-to-right":default:return[1,0];case"right-to-left":return[-1,0];case"top-to-bottom":return[0,1];case"bottom-to-top":return[0,-1]}}},{key:"contentResource",value:function(e){var t=this.canvases.find((function(t){return t.imageServiceIds.some((function(t){return i()(t,{stripAuthentication:!1})===i()(e,{stripAuthentication:!1})}))}));if(t)return t.imageResources.find((function(t){return i()(t.getServices()[0].id,{stripAuthentication:!1})===i()(e,{stripAuthentication:!1})}))}},{key:"getLayerMetadata",value:function(e){if(this.layers){var t=this.canvases.find((function(t){return t.imageResources.find((function(t){return t.id===e.id}))}));if(t){var n=t.imageResources.findIndex((function(t){return t.id===e.id})),r=this.layers[t.canvas.id],i=r&&r[e.id];return s({index:n,opacity:1,total:t.imageResources.length,visibility:!0},i)}}}},{key:"layerOpacityOfImageResource",value:function(e){var t=this.getLayerMetadata(e);return t?t.visibility?t.opacity:0:1}},{key:"layerIndexOfImageResource",value:function(e){var t=this.getLayerMetadata(e);if(t)return t.total-t.index-1}},{key:"offsetByCanvas",value:function(e){var t=this.canvasToWorldCoordinates(e);return{x:t[0],y:t[1]}}},{key:"worldBounds",value:function(){return[0,0,Math.max.apply(Math,u(this.canvasDimensions.map((function(e){return e.x+e.width})))),Math.max.apply(Math,u(this.canvasDimensions.map((function(e){return e.y+e.height}))))]}},{key:"canvasAtPoint",value:function(e){var t=this.canvasDimensions.find((function(t){return t.x<=e.x&&e.x<=t.x+t.width&&t.y<=e.y&&e.y<=t.y+t.height}));return t&&t.canvas}}])&&p(t.prototype,n),e}()},83557:(e,t,n)=>{"use strict";n.d(t,{A:()=>qc});var r=n(69592),i=n(35914),o=n(82946),a=n(74855),s=n(92910),l=n(83131),u=n(78281),c=n(39729);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}var d,p=["children","defaultHeight","defaultWidth","disableHeight","disableWidth","nonce","onResize","style","tagName"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=g(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function g(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:String(t)}function y(e,t,n){return t=w(t),function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,b()?Reflect.construct(t,n||[],w(e).constructor):t.apply(e,n))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}d="undefined"!=typeof window?window:"undefined"!=typeof self?self:n.g;var E=null,_=null,T=d.clearTimeout,O=d.setTimeout,A=d.cancelAnimationFrame||d.mozCancelAnimationFrame||d.webkitCancelAnimationFrame,C=d.requestAnimationFrame||d.mozRequestAnimationFrame||d.webkitRequestAnimationFrame;null==A||null==C?(E=T,_=function(e){return O(e,20)}):(E=function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,n)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],o=r[1];A(i),T(o)},_=function(e){var t=C((function(){T(n),e()})),n=O((function(){A(t),e()}),20);return[t,n]});var P=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=y(this,t,[].concat(r))).state={height:e.props.defaultHeight||0,scaledHeight:e.props.defaultHeight||0,scaledWidth:e.props.defaultWidth||0,width:e.props.defaultWidth||0},e._autoSizer=null,e._detectElementResize=null,e._parentNode=null,e._resizeObserver=null,e._timeoutId=null,e._onResize=function(){e._timeoutId=null;var t=e.props,n=t.disableHeight,r=t.disableWidth,i=t.onResize;if(e._parentNode){var o,a,s,l,u=window.getComputedStyle(e._parentNode)||{},c=parseFloat(null!==(o=u.paddingLeft)&&void 0!==o?o:"0"),f=parseFloat(null!==(a=u.paddingRight)&&void 0!==a?a:"0"),d=parseFloat(null!==(s=u.paddingTop)&&void 0!==s?s:"0"),p=parseFloat(null!==(l=u.paddingBottom)&&void 0!==l?l:"0"),h=e._parentNode.getBoundingClientRect(),m=h.height-d-p,v=h.width-c-f,g=e._parentNode.offsetHeight-d-p,y=e._parentNode.offsetWidth-c-f;(n||e.state.height===g&&e.state.scaledHeight===m)&&(r||e.state.width===y&&e.state.scaledWidth===v)||(e.setState({height:g,width:y,scaledHeight:m,scaledWidth:v}),"function"==typeof i&&i({height:g,scaledHeight:m,scaledWidth:v,width:y}))}},e._setRef=function(t){e._autoSizer=t},e}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(t,e),n=t,r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,null!=this._parentNode&&("undefined"!=typeof ResizeObserver?(this._resizeObserver=new ResizeObserver((function(){e._timeoutId=setTimeout(e._onResize,0)})),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=function(e){var t,n,r,i,o,a,s,l="undefined"!=typeof document&&document.attachEvent;if(!l){a=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},o=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},s=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;a(this),this.__resizeRAF__&&E(this.__resizeRAF__),this.__resizeRAF__=_((function(){o(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}};var u=!1,c="";r="animationstart";var f="Webkit Moz O ms".split(" "),p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),h=document.createElement("fakeelement");if(void 0!==h.style.animationName&&(u=!0),!1===u)for(var m=0;m<f.length;m++)if(void 0!==h.style[f[m]+"AnimationName"]){c="-"+f[m].toLowerCase()+"-",r=p[m],u=!0;break}t="@"+c+"keyframes "+(n="resizeanim")+" { from { opacity: 0; } to { opacity: 0; } } ",i=c+"animation: 1ms "+n+"; "}return{addResizeListener:function(o,u){if(l)o.attachEvent("onresize",u);else{if(!o.__resizeTriggers__){var c=o.ownerDocument,f=d.getComputedStyle(o);f&&"static"===f.position&&(o.style.position="relative"),function(n){if(!n.getElementById("detectElementResize")){var r=(t||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=n.head||n.getElementsByTagName("head")[0],a=n.createElement("style");a.id="detectElementResize",a.type="text/css",null!=e&&a.setAttribute("nonce",e),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(n.createTextNode(r)),o.appendChild(a)}}(c),o.__resizeLast__={},o.__resizeListeners__=[],(o.__resizeTriggers__=c.createElement("div")).className="resize-triggers";var p=c.createElement("div");p.className="expand-trigger",p.appendChild(c.createElement("div"));var h=c.createElement("div");h.className="contract-trigger",o.__resizeTriggers__.appendChild(p),o.__resizeTriggers__.appendChild(h),o.appendChild(o.__resizeTriggers__),a(o),o.addEventListener("scroll",s,!0),r&&(o.__resizeTriggers__.__animationListener__=function(e){e.animationName===n&&a(o)},o.__resizeTriggers__.addEventListener(r,o.__resizeTriggers__.__animationListener__))}o.__resizeListeners__.push(u)}},removeResizeListener:function(e,t){if(l)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",s,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(r,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}},{key:"componentWillUnmount",value:function(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),null!==this._timeoutId&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.defaultHeight,e.defaultWidth,e.disableHeight),r=void 0!==n&&n,i=e.disableWidth,o=void 0!==i&&i,a=(e.nonce,e.onResize,e.style),s=void 0===a?{}:a,l=e.tagName,c=void 0===l?"div":l,f=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,p),d=this.state,h=d.height,v=d.scaledHeight,g=d.scaledWidth,y=d.width,b={overflow:"visible"},w={},x=!1;return r||(0===h&&(x=!0),b.height=0,w.height=h,w.scaledHeight=v),o||(0===y&&(x=!0),b.width=0,w.width=y,w.scaledWidth=g),(0,u.createElement)(c,m({ref:this._setRef,style:m(m({},b),s)},f),!x&&t(w))}}],r&&v(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(u.Component),k=n(63063),R=n(87354),I=n(25588),M=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function D(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!((r=e[n])===(i=t[n])||M(r)&&M(i)))return!1;var r,i;return!0}const j=function(e,t){var n;void 0===t&&(t=D);var r,i=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&n===this&&t(a,i)||(r=e.apply(this,a),o=!0,n=this,i=a),r}};function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}var N="object"===("undefined"==typeof performance?"undefined":L(performance))&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function z(e){cancelAnimationFrame(e.id)}var B=-1;function F(e){if(void 0===e&&(e=!1),-1===B||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),B=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return B}var W=null;function H(e){if(void 0===e&&(e=!1),null===W||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?W="positive-descending":(t.scrollLeft=1,W=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),W}return W}var U=function(e,t){return e};function V(e){var t,n=e.getItemOffset,r=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,a=e.getStartIndexForOffset,s=e.getStopIndexForStartIndex,l=e.initInstanceProps,c=e.shouldResetStyleCacheOnItemSizeChange,f=e.validateProps;return t=function(e){function t(t){var r;return(r=e.call(this,t)||this)._instanceProps=l(r.props,(0,R.A)(r)),r._outerRef=void 0,r._resetIsScrollingTimeoutId=null,r.state={instance:(0,R.A)(r),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof r.props.initialScrollOffset?r.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},r._callOnItemsRendered=void 0,r._callOnItemsRendered=j((function(e,t,n,i){return r.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:n,visibleStopIndex:i})})),r._callOnScroll=void 0,r._callOnScroll=j((function(e,t,n){return r.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:n})})),r._getItemStyle=void 0,r._getItemStyle=function(e){var t,o=r.props,a=o.direction,s=o.itemSize,l=o.layout,u=r._getItemStyleCache(c&&s,c&&l,c&&a);if(u.hasOwnProperty(e))t=u[e];else{var f=n(r.props,e,r._instanceProps),d=i(r.props,e,r._instanceProps),p="horizontal"===a||"horizontal"===l,h="rtl"===a,m=p?f:0;u[e]=t={position:"absolute",left:h?void 0:m,right:h?m:void 0,top:p?0:f,height:p?"100%":d,width:p?d:"100%"}}return t},r._getItemStyleCache=void 0,r._getItemStyleCache=j((function(e,t,n){return{}})),r._onScrollHorizontal=function(e){var t=e.currentTarget,n=t.clientWidth,i=t.scrollLeft,o=t.scrollWidth;r.setState((function(e){if(e.scrollOffset===i)return null;var t=r.props.direction,a=i;if("rtl"===t)switch(H()){case"negative":a=-i;break;case"positive-descending":a=o-n-i}return a=Math.max(0,Math.min(a,o-n)),{isScrolling:!0,scrollDirection:e.scrollOffset<a?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._onScrollVertical=function(e){var t=e.currentTarget,n=t.clientHeight,i=t.scrollHeight,o=t.scrollTop;r.setState((function(e){if(e.scrollOffset===o)return null;var t=Math.max(0,Math.min(o,i-n));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._outerRefSetter=function(e){var t=r.props.outerRef;r._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"===L(t)&&t.hasOwnProperty("current")&&(t.current=e)},r._resetIsScrollingDebounced=function(){null!==r._resetIsScrollingTimeoutId&&z(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=function(e,t){var n=N(),r={id:requestAnimationFrame((function i(){N()-n>=t?e.call(null):r.id=requestAnimationFrame(i)}))};return r}(r._resetIsScrolling,150)},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},(function(){r._getItemStyleCache(-1,null)}))},r}(0,I.A)(t,e),t.getDerivedStateFromProps=function(e,t){return G(e,t),f(e),null};var d=t.prototype;return d.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},d.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props,r=n.itemCount,i=n.layout,a=this.state.scrollOffset;e=Math.max(0,Math.min(e,r-1));var s=0;if(this._outerRef){var l=this._outerRef;s="vertical"===i?l.scrollWidth>l.clientWidth?F():0:l.scrollHeight>l.clientHeight?F():0}this.scrollTo(o(this.props,e,t,a,this._instanceProps,s))},d.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,r=e.layout;if("number"==typeof n&&null!=this._outerRef){var i=this._outerRef;"horizontal"===t||"horizontal"===r?i.scrollLeft=n:i.scrollTop=n}this._callPropsCallbacks()},d.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,r=this.state,i=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var o=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(H()){case"negative":o.scrollLeft=-i;break;case"positive-ascending":o.scrollLeft=i;break;default:var a=o.clientWidth,s=o.scrollWidth;o.scrollLeft=s-a-i}else o.scrollLeft=i;else o.scrollTop=i}this._callPropsCallbacks()},d.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&z(this._resetIsScrollingTimeoutId)},d.render=function(){var e=this.props,t=e.children,n=e.className,i=e.direction,o=e.height,a=e.innerRef,s=e.innerElementType,l=e.innerTagName,c=e.itemCount,f=e.itemData,d=e.itemKey,p=void 0===d?U:d,h=e.layout,m=e.outerElementType,v=e.outerTagName,g=e.style,y=e.useIsScrolling,b=e.width,w=this.state.isScrolling,x="horizontal"===i||"horizontal"===h,S=x?this._onScrollHorizontal:this._onScrollVertical,E=this._getRangeToRender(),_=E[0],T=E[1],O=[];if(c>0)for(var A=_;A<=T;A++)O.push((0,u.createElement)(t,{data:f,key:p(A,f),index:A,isScrolling:y?w:void 0,style:this._getItemStyle(A)}));var C=r(this.props,this._instanceProps);return(0,u.createElement)(m||v||"div",{className:n,onScroll:S,ref:this._outerRefSetter,style:(0,k.A)({position:"relative",height:o,width:b,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:i},g)},(0,u.createElement)(s||l||"div",{children:O,ref:a,style:{height:x?"100%":C,pointerEvents:w?"none":void 0,width:x?C:"100%"}}))},d._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],r=e[2],i=e[3];this._callOnItemsRendered(t,n,r,i)}if("function"==typeof this.props.onScroll){var o=this.state,a=o.scrollDirection,s=o.scrollOffset,l=o.scrollUpdateWasRequested;this._callOnScroll(a,s,l)}},d._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,r=this.state,i=r.isScrolling,o=r.scrollDirection,l=r.scrollOffset;if(0===t)return[0,0,0,0];var u=a(this.props,l,this._instanceProps),c=s(this.props,u,l,this._instanceProps),f=i&&"backward"!==o?1:Math.max(1,n),d=i&&"forward"!==o?1:Math.max(1,n);return[Math.max(0,u-f),Math.max(0,Math.min(t-1,c+d)),u,c]},t}(u.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var G=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},q=function(e,t,n){var r=e.itemSize,i=n.itemMetadataMap,o=n.lastMeasuredIndex;if(t>o){var a=0;if(o>=0){var s=i[o];a=s.offset+s.size}for(var l=o+1;l<=t;l++){var u=r(l);i[l]={offset:a,size:u},a+=u}n.lastMeasuredIndex=t}return i[t]},X=function(e,t,n,r,i){for(;r<=n;){var o=r+Math.floor((n-r)/2),a=q(e,o,t).offset;if(a===i)return o;a<i?r=o+1:a>i&&(n=o-1)}return r>0?r-1:0},Z=function(e,t){var n=e.itemCount,r=t.itemMetadataMap,i=t.estimatedItemSize,o=t.lastMeasuredIndex,a=0;if(o>=n&&(o=n-1),o>=0){var s=r[o];a=s.offset+s.size}return a+(n-o-1)*i},$=V({getItemOffset:function(e,t,n){return q(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:Z,getOffsetForIndexAndAlignment:function(e,t,n,r,i,o){var a=e.direction,s=e.height,l=e.layout,u=e.width,c="horizontal"===a||"horizontal"===l?u:s,f=q(e,t,i),d=Z(e,i),p=Math.max(0,Math.min(d-c,f.offset)),h=Math.max(0,f.offset-c+f.size+o);switch("smart"===n&&(n=r>=h-c&&r<=p+c?"auto":"center"),n){case"start":return p;case"end":return h;case"center":return Math.round(h+(p-h)/2);default:return r>=h&&r<=p?r:r<h?h:p}},getStartIndexForOffset:function(e,t,n){return function(e,t,n){var r=t.itemMetadataMap,i=t.lastMeasuredIndex;return(i>0?r[i].offset:0)>=n?X(e,t,i,0,n):function(e,t,n,r){for(var i=e.itemCount,o=1;n<i&&q(e,n,t).offset<r;)n+=o,o*=2;return X(e,t,Math.min(n,i-1),Math.floor(n/2),r)}(e,t,Math.max(0,i),n)}(e,n,t)},getStopIndexForStartIndex:function(e,t,n,r){for(var i=e.direction,o=e.height,a=e.itemCount,s=e.layout,l=e.width,u="horizontal"===i||"horizontal"===s?l:o,c=q(e,t,r),f=n+u,d=c.offset+c.size,p=t;p<a-1&&d<f;)p++,d+=q(e,p,r).size;return p},initInstanceProps:function(e,t){var n={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,r){void 0===r&&(r=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),r&&t.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}}),Y=n(76973),K=n.n(Y),J=n(59745),Q=n(63403),ee=n(93368),te=n(33723),ne=n(62991);function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},le(e,t)}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e){return ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ce(e)}var fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ce(r);if(i){var n=ce(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ue(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).setCanvas=t.setCanvas.bind(ue(t)),t}return t=a,n=[{key:"setCanvas",value:function(e){(0,this.props.setCanvas)(e.currentTarget.dataset.canvasId)}},{key:"currentCanvasClass",value:function(e){var t=this.props.index;return e.includes(t)?"current-canvas-grouping":""}},{key:"render",value:function(){var e=this.props,t=e.index,n=e.style,r=e.data,i=e.classes,o=e.currentCanvasId,a=r.canvasGroupings,s=r.position,l=r.height,c=a[t];return u.createElement("div",{style:oe(oe({},n),{},{boxSizing:"content-box",height:Number.isInteger(n.height)?n.height-8:null,left:n.left+8,top:n.top+8,width:Number.isInteger(n.width)?n.width-8:null}),className:(0,ne.A)("thumbnail-nav-container"),role:"gridcell","aria-colindex":t+1},u.createElement("div",{role:"button","data-canvas-id":c[0].id,"data-canvas-index":c[0].index,onKeyUp:this.setCanvas,onClick:this.setCanvas,tabIndex:-1,style:{height:"far-right"===s?"auto":"".concat(l-8,"px"),width:"far-bottom"===s?"auto":"".concat(n.width,"px")},className:K()((0,ne.A)(["thumbnail-nav-canvas","thumbnail-nav-canvas-".concat(t),this.currentCanvasClass(c.map((function(e){return e.index})))]),i.canvas,ae({},i.currentCanvas,c.map((function(e){return e.id})).includes(o)))},c.map((function(e,t){return u.createElement(te.A,{key:e.id,resource:e,labelled:!0,maxHeight:"far-right"===s?n.height-12:l-12,variant:"inside"})}))))}}],n&&se(t.prototype,n),a}(u.PureComponent),de=(0,r.Zz)((0,o.C)(),(0,a.A)((function(e){return{canvas:{"&$currentCanvas":{outline:"2px solid ".concat(e.palette.primary.main),outlineOffset:"3px"},"&:hover":{outline:"9px solid ".concat(e.palette.action.hover),outlineOffset:"-2px"},boxSizing:"border-box",color:e.palette.common.white,cursor:"pointer",display:"inline-block",outline:0,whiteSpace:"nowrap"},currentCanvas:{}}})),(0,i.Ng)((function(e,t){var n=t.data;return{currentCanvasId:((0,ee.kR)(e,{windowId:n.windowId})||{}).id}}),(function(e,t){var n=t.data;return{setCanvas:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e(l.h5.apply(Q,[n.windowId].concat(r)))}}})),(0,s.h)("ThumbnailCanvasGrouping"));const pe=de(fe);function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t){return ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ve(e,t)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ye(e)}var be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ye(r);if(i){var n=ye(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===he(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ge(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).scrollbarSize=15,t.spacing=8,t.calculateScaledSize=t.calculateScaledSize.bind(ge(t)),t.itemCount=t.itemCount.bind(ge(t)),t.handleKeyUp=t.handleKeyUp.bind(ge(t)),t.nextCanvas=t.nextCanvas.bind(ge(t)),t.previousCanvas=t.previousCanvas.bind(ge(t)),t.gridRef=u.createRef(),t}return t=a,n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.canvasIndex,r=t.position,i=t.view;if(e.view!==i&&"off"!==r&&this.gridRef.current.resetAfterIndex(0),e.canvasIndex!==n){var o=n;"book"===i&&(o=Math.ceil(o/2)),this.gridRef.current.scrollToItem(o,"center")}}},{key:"handleKeyUp",value:function(e){var t="ArrowRight",n="ArrowLeft";switch("far-right"===this.props.position&&(t="ArrowDown",n="ArrowUp"),e.key){case t:this.nextCanvas();break;case n:this.previousCanvas()}}},{key:"calculateScaledSize",value:function(e){var t=this.props,n=t.thumbnailNavigation,r=t.canvasGroupings,i=t.position,o=r[e]||[],a=new J.A(o).worldBounds();if("far-right"===i){var s=Math.floor(this.calculatingWidth(o.length)*a[3]/a[2]);return Number.isInteger(s)?s+this.spacing:n.width+this.spacing}return 0===a[3]?n.width+this.spacing:Math.ceil((n.height-this.scrollbarSize-this.spacing-4)*a[2]/a[3])}},{key:"calculatingWidth",value:function(e){var t=this.props.thumbnailNavigation;return 1===e?t.width:2*t.width}},{key:"rightWidth",value:function(){var e=this.props,t=e.view,n=e.thumbnailNavigation;return"book"===t?2*n.width:n.width}},{key:"style",value:function(){var e=this.props,t=e.position,n=e.thumbnailNavigation;return"far-right"===t?{height:"100%",minHeight:0,width:"".concat(this.rightWidth()+this.scrollbarSize+this.spacing,"px")}:{height:"".concat(n.height,"px"),width:"100%"}}},{key:"areaHeight",value:function(e){var t=this.props,n=t.position,r=t.thumbnailNavigation;return"far-right"===n?e:r.height}},{key:"itemCount",value:function(){return this.props.canvasGroupings.length}},{key:"nextCanvas",value:function(){var e=this.props,t=e.hasNextCanvas,n=e.setNextCanvas;t&&n()}},{key:"previousCanvas",value:function(){var e=this.props,t=e.hasPreviousCanvas,n=e.setPreviousCanvas;t&&n()}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,r=t.canvasGroupings,i=t.classes,o=t.position,a=t.thumbnailNavigation,s=t.viewingDirection,l=t.windowId;if("off"===o)return u.createElement(u.Fragment,null);var f="right-to-left"===s?"rtl":"ltr",d={canvasGroupings:r,height:a.height-this.spacing-this.scrollbarSize,position:o,windowId:l};return u.createElement(c.A,{className:K()((0,ne.A)("thumb-navigation"),i.thumbNavigation),"aria-label":n("thumbnailNavigation"),square:!0,elevation:0,style:this.style(),tabIndex:0,onKeyUp:this.handleKeyUp,role:"grid"},u.createElement("div",{role:"row",style:{height:"100%",width:"100%"}},u.createElement(P,{defaultHeight:100,defaultWidth:400},(function(t){var n=t.height,r=t.width;return u.createElement($,{direction:f,height:e.areaHeight(n),itemCount:e.itemCount(),itemSize:e.calculateScaledSize,width:r,layout:"far-bottom"===o?"horizontal":"vertical",itemData:d,ref:e.gridRef},pe)}))))}}],n&&me(t.prototype,n),a}(u.Component);be.defaultProps={hasNextCanvas:!1,hasPreviousCanvas:!1,setNextCanvas:function(){},setPreviousCanvas:function(){},view:void 0,viewingDirection:""};var we=n(16344),xe=n(47031),Se=n(71450),Ee=n(37466),_e=n(67671),Te=(0,r.Zz)((0,a.A)((function(e){return{thumbNavigation:{"&:focus":{boxShadow:0,outline:0}}}})),(0,o.C)(),(0,i.Ng)((function(e,t){var n=t.windowId;return{canvasGroupings:(0,ee.tV)(e,{windowId:n}),canvasIndex:(0,we.PB)(e,{windowId:n}),hasNextCanvas:!!(0,ee.BL)(e,{windowId:n}),hasPreviousCanvas:!!(0,ee.Nj)(e,{windowId:n}),position:(0,xe.DS)(e,{companionWindowId:(0,Se.zk)(e,{windowId:n}).thumbnailNavigationId}).position,thumbnailNavigation:(0,Ee.zj)(e).thumbnailNavigation,view:(0,_e.i9)(e,{windowId:n}),viewingDirection:(0,we.Kb)(e,{windowId:n})}}),(function(e,t){var n=t.windowId;return{setNextCanvas:function(){return e(l.OZ(n))},setPreviousCanvas:function(){return e(l.Kh(n))}}})),(0,s.h)("ThumbnailNavigation"));const Oe=Te(be);var Ae=n(91663),Ce=n(72133),Pe=n(82486),ke=n(57845),Re=n(93174),Ie=n(96949);function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},je(e,t)}function Le(e){return Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Le(e)}var Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Le(r);if(i){var n=Le(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.displayAll,n=e.displayAllDisabled,r=e.t,i=e.toggleAnnotationDisplay;return u.createElement(Ie.A,{"aria-label":r(t?"displayNoAnnotations":"highlightAllAnnotations"),onClick:i,disabled:n,size:"small"},t?u.createElement(ke.A,null):u.createElement(Re.A,null))}}])&&De(t.prototype,n),a}(u.Component),ze=(0,r.Zz)((0,o.C)(),(0,i.Ng)((function(e,t){var n=t.windowId;return{displayAll:(0,Se.zk)(e,{windowId:n}).highlightAllAnnotations,displayAllDisabled:(0,Ae.Y2)(e,{windowId:n}).length<2}}),(function(e,t){var n=t.windowId;return{toggleAnnotationDisplay:function(){e(Pe.ow(n))}}})),(0,s.h)("AnnotationSettings"));const Be=ze(Ne);var Fe=n(80634),We=n(87817),He=n(71289),Ue=n(44631),Ve=n(23631),Ge=n(3501);function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t){return Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ze(e,t)}function $e(e){return $e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$e(e)}var Ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$e(r);if(i){var n=$e(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).scrollToRef=u.createRef(),t}return t=a,(n=[{key:"componentDidMount",value:function(){this.props.scrollTo&&this.scrollToElement()}},{key:"componentDidUpdate",value:function(e){var t=this.props.scrollTo;t&&e.scrollTo!==t&&this.scrollToElement()}},{key:"containerBoundingRect",value:function(){var e=this.props.containerRef;return e&&e.current&&e.current.domEl?e.current.domEl.getBoundingClientRect():{}}},{key:"scrollToBoundingRect",value:function(){return this.elementToScrollTo()?this.elementToScrollTo().getBoundingClientRect():{}}},{key:"elementToScrollTo",value:function(){return this.scrollToRef&&this.scrollToRef.current?this.scrollToRef.current:null}},{key:"scrollabelContainer",value:function(){var e=this.props.containerRef;return e&&e.current&&e.current.domEl?e.current.domEl.getElementsByClassName("mirador-scrollto-scrollable")[0]:null}},{key:"elementIsVisible",value:function(){var e=this.props.offsetTop;return!(this.scrollToBoundingRect().top<this.containerBoundingRect().top+e||this.scrollToBoundingRect().bottom>this.containerBoundingRect().bottom)}},{key:"scrollToElement",value:function(){var e=this.props,t=e.offsetTop;if(e.scrollTo&&this.elementToScrollTo()&&!this.elementIsVisible()&&this.scrollabelContainer()){var n=this.elementToScrollTo().offsetTop-this.containerBoundingRect().height/2+t;this.scrollabelContainer().scrollTo(0,n)}}},{key:"render",value:function(){var e=this.props,t=e.children;return e.scrollTo?u.createElement("div",{ref:this.scrollToRef},t):t}}])&&Xe(t.prototype,n),a}(u.Component);function Ke(e){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(e)}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e,t){return Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qe(e,t)}function et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(e){return tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tt(e)}Ye.defaultProps={offsetTop:0};var nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=tt(r);if(i){var n=tt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return et(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).handleClick=t.handleClick.bind(et(t)),t.handleAnnotationHover=t.handleAnnotationHover.bind(et(t)),t.handleAnnotationBlur=t.handleAnnotationBlur.bind(et(t)),t}return t=a,n=[{key:"handleClick",value:function(e,t){var n=this.props,r=n.deselectAnnotation,i=n.selectAnnotation,o=n.selectedAnnotationId,a=n.windowId;o===t.id?r(a,t.id):i(a,t.id)}},{key:"handleAnnotationHover",value:function(e){var t=this.props;(0,t.hoverAnnotation)(t.windowId,[e.id])}},{key:"handleAnnotationBlur",value:function(){var e=this.props;(0,e.hoverAnnotation)(e.windowId,[])}},{key:"render",value:function(){var e=this,t=this.props,n=t.annotations,r=t.classes,i=t.index,o=t.label,a=t.selectedAnnotationId,s=t.t,l=t.totalSize,c=t.listContainerComponent,f=t.htmlSanitizationRuleSet,d=t.hoveredAnnotationIds,p=t.containerRef;return 0===n.length?u.createElement(u.Fragment,null):u.createElement(u.Fragment,null,u.createElement(Ce.A,{className:r.sectionHeading,variant:"overline"},s("annotationCanvasLabel",{context:"".concat(i+1,"/").concat(l),label:o})),u.createElement(He.A,{autoFocusItem:!0,variant:"selectedMenu"},n.map((function(t){return u.createElement(Ye,{containerRef:p,key:"".concat(t.id,"-scroll"),offsetTop:96,scrollTo:a===t.id},u.createElement(Ue.A,{button:!0,component:c,className:(0,Fe.default)(r.annotationListItem,(n={},i=r.hovered,o=d.includes(t.id),i in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n)),key:t.id,annotationid:t.id,selected:a===t.id,onClick:function(n){return e.handleClick(n,t)},onFocus:function(){return e.handleAnnotationHover(t)},onBlur:e.handleAnnotationBlur,onMouseEnter:function(){return e.handleAnnotationHover(t)},onMouseLeave:e.handleAnnotationBlur},u.createElement(Ve.A,{primaryTypographyProps:{variant:"body2"}},u.createElement(Ge.A,{ruleSet:f,htmlString:t.content}),u.createElement("div",null,t.tags.map((function(e){return u.createElement(We.A,{size:"small",variant:"outlined",label:e,id:e,className:r.chip,key:e.toString()})}))))));var n,i,o}))))}}],n&&Je(t.prototype,n),a}(u.Component);nt.defaultProps={annotations:[],classes:{},containerRef:void 0,hoveredAnnotationIds:[],htmlSanitizationRuleSet:"iiif",listContainerComponent:"li",selectedAnnotationId:void 0};var rt={deselectAnnotation:Pe.PW,hoverAnnotation:Pe.GW,selectAnnotation:Pe.gN},it=(0,r.Zz)((0,o.C)(),(0,a.A)((function(e){return{annotationListItem:{"&$hovered":{backgroundColor:e.palette.action.hover},"&:hover,&:focus":{backgroundColor:e.palette.action.hover},borderBottom:"0.5px solid ".concat(e.palette.divider),cursor:"pointer",whiteSpace:"normal"},chip:{backgroundColor:e.palette.background.paper,marginRight:e.spacing(.5),marginTop:e.spacing(1)},hovered:{},sectionHeading:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1),paddingTop:e.spacing(2)}}})),(0,i.Ng)((function(e,t){var n,r=t.canvasId,i=t.windowId;return{annotations:(n=(0,Ae.Ni)(e,{canvasId:r,windowId:i}),n.map((function(e,t){return{content:e.chars,id:e.id,tags:e.tags,targetId:e.targetId}}))),htmlSanitizationRuleSet:(0,Ee.zj)(e).annotations.htmlSanitizationRuleSet,label:(0,ee.T2)(e,{canvasId:r,windowId:i}),selectedAnnotationId:(0,Ae.e3)(e,{windowId:i})}}),rt),(0,s.h)("CanvasAnnotations"));const ot=it(nt);var at=n(19957);function st(e){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(e)}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ut(e,t){return ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ut(e,t)}function ct(e){return ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ct(e)}var ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ut(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ct(r);if(i){var n=ct(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===st(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).containerRef=u.createRef(),t}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.annotationCount,r=t.classes,i=t.canvasIds,o=t.t,a=t.windowId,s=t.id;return u.createElement(at.A,{title:o("annotations"),paperClassName:(0,ne.A)("window-sidebar-annotation-panel"),windowId:a,id:s,ref:this.containerRef,otherRef:this.containerRef,titleControls:u.createElement(Be,{windowId:a})},u.createElement("div",{className:r.section},u.createElement(Ce.A,{component:"p",variant:"subtitle2"},o("showingNumAnnotations",{count:n,number:n}))),i.map((function(t,n){return u.createElement(ot,{canvasId:t,containerRef:e.containerRef,key:t,index:n,totalSize:i.length,windowId:a})})))}}])&&lt(t.prototype,n),a}(u.Component);ft.defaultProps={canvasIds:[],t:function(e){return e}};var dt=(0,r.Zz)((0,o.C)(),(0,a.A)((function(e){return{section:{borderBottom:".5px solid ".concat(e.palette.section_divider),paddingBottom:e.spacing(1),paddingLeft:e.spacing(2),paddingRight:e.spacing(1),paddingTop:e.spacing(2)}}})),(0,i.Ng)((function(e,t){var n=t.windowId;return{annotationCount:(0,Ae.Y2)(e,{windowId:n}).length,canvasIds:(0,ee.tv)(e,{windowId:n})}}),null),(0,s.h)("WindowSideBarAnnotationsPanel"));const pt=dt(ft);var ht=n(91769),mt=n(35004),vt=n(93801),gt=n(20530),yt=n(25960);function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xt(e,t){return xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xt(e,t)}function St(e){return St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},St(e)}var Et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=St(r);if(i){var n=St(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.canvasDescription,n=e.canvasLabel,r=e.canvasMetadata,i=e.id,o=e.index,a=e.t,s=e.totalSize;return u.createElement(vt.A,{id:"".concat(i,"-currentItem-").concat(o),label:a("currentItem",{context:"".concat(o+1,"/").concat(s)})},n&&u.createElement(Ce.A,{"aria-labelledby":"".concat(i,"-currentItem-").concat(o," ").concat(i,"-currentItem-").concat(o,"-heading"),id:"".concat(i,"-currentItem-").concat(o,"-heading"),variant:"h4",component:"h5"},n),t&&u.createElement(Ce.A,{variant:"body1"},u.createElement(Ge.A,{htmlString:t,ruleSet:"iiif"})),r&&r.length>0&&u.createElement(gt.P,{labelValuePairs:r}),u.createElement(yt.F,this.props))}}])&&wt(t.prototype,n),a}(u.Component);Et.defaultProps={canvasDescription:null,canvasLabel:null,canvasMetadata:[],index:1,t:function(e){return e},totalSize:1};var _t=(0,r.Zz)((0,o.C)(),(0,i.Ng)((function(e,t){var n=t.canvasId,r=t.id,i=t.windowId;return{canvasDescription:(0,ee.HU)(e,{canvasId:n,companionWindowId:r,windowId:i}),canvasLabel:(0,ee.T2)(e,{canvasId:n,companionWindowId:r,windowId:i}),canvasMetadata:(0,mt.uh)((0,ee.dX)(e,{canvasId:n,companionWindowId:r,windowId:i}))}})),(0,s.h)("CanvasInfo"));const Tt=_t(Et);var Ot=n(2021),At=n(80008);function Ct(e){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(e)}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kt(e,t){return kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},kt(e,t)}function Rt(e){return Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rt(e)}var It=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Rt(r);if(i){var n=Rt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ct(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.availableLocales,n=e.classes,r=e.locale,i=e.setLocale;return!i||t.length<2?u.createElement(u.Fragment,null):u.createElement(Ot.A,null,u.createElement(At.A,{MenuProps:{anchorOrigin:{horizontal:"left",vertical:"bottom"},getContentAnchorEl:null},displayEmpty:!0,value:r,onChange:function(e){i(e.target.value)},name:"locale",classes:{select:n.select},className:n.selectEmpty},t.map((function(e){return u.createElement(Ue.A,{key:e,value:e},u.createElement(Ce.A,{variant:"body2"},e))}))))}}])&&Pt(t.prototype,n),a}(u.Component);It.defaultProps={availableLocales:[],classes:{},locale:"",setLocale:void 0};const Mt=(0,r.Zz)((0,o.C)(),(0,a.A)((function(e){return{select:{"&:focus":{backgroundColor:e.palette.background.paper}},selectEmpty:{backgroundColor:e.palette.background.paper}}})))(It);var Dt=n(43315),jt=n(18595),Lt=n(37891),Nt=n(16706);function zt(e){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(e)}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t){return Ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ft(e,t)}function Wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ht(e){return Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ht(e)}var Ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ft(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ht(r);if(i){var n=Ht(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===zt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wt(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).openCollectionDialog=t.openCollectionDialog.bind(Wt(t)),t}return t=a,(n=[{key:"openCollectionDialog",value:function(){var e=this.props,t=e.collectionPath,n=e.showCollectionDialog,r=e.windowId;n(t[t.length-1],t.slice(0,-1),r)}},{key:"render",value:function(){var e=this.props,t=e.collectionLabel,n=e.collectionPath,r=e.id,i=e.t;return 0===n.length?null:u.createElement(vt.A,{id:"".concat(r,"-collection"),label:i("collection")},t&&u.createElement(Ce.A,{"aria-labelledby":"".concat(r,"-resource ").concat(r,"-resource-heading"),id:"".concat(r,"-resource-heading"),variant:"h4"},t),u.createElement(Lt.A,{color:"primary",onClick:this.openCollectionDialog,startIcon:u.createElement(Nt.A,null)},i("showCollection")))}}])&&Bt(t.prototype,n),a}(u.Component);Ut.defaultProps={collectionLabel:null,collectionPath:[],t:function(e){return e},windowId:null};var Vt={showCollectionDialog:jt.Az},Gt=(0,r.Zz)((0,o.C)(),(0,i.Ng)((function(e,t){t.id;var n=t.windowId,r=((0,Se.zk)(e,{windowId:n})||{}).collectionPath,i=r[r.length-1];return{collectionLabel:(0,mt.aY)(e,{manifestId:i}),collectionPath:r}}),Vt),(0,s.h)("CollectionInfo"));const qt=Gt(Ut);var Xt=n(79747);function Zt(e){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt(e)}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yt(e,t){return Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Yt(e,t)}function Kt(e){return Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Kt(e)}var Jt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yt(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Kt(r);if(i){var n=Kt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Zt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.homepage,r=e.manifestUrl,i=e.renderings,o=e.seeAlso,a=e.id,s=e.t;return u.createElement(vt.A,{id:"".concat(a,"-related"),label:s("related")},u.createElement(Ce.A,{"aria-labelledby":"".concat(a,"-related ").concat(a,"-related-heading"),id:"".concat(a,"-related-heading"),variant:"h4",component:"h5"},s("links")),u.createElement("dl",{className:K()((0,ne.A)("label-value-metadata"),t.labelValueMetadata)},n&&u.createElement(u.Fragment,null,u.createElement(Ce.A,{variant:"subtitle2",component:"dt"},s("iiif_homepage")),n.map((function(e){return u.createElement(Ce.A,{key:e.value,variant:"body1",component:"dd"},u.createElement(Xt.A,{target:"_blank",rel:"noopener noreferrer",href:e.value},e.label||e.value))}))),i&&i.length>0&&u.createElement(u.Fragment,null,u.createElement(Ce.A,{variant:"subtitle2",component:"dt"},s("iiif_renderings")),i.map((function(e){return u.createElement(Ce.A,{key:e.value,variant:"body1",component:"dd"},u.createElement(Xt.A,{target:"_blank",rel:"noopener noreferrer",href:e.value},e.label||e.value))}))),o&&u.createElement(u.Fragment,null,u.createElement(Ce.A,{variant:"subtitle2",component:"dt"},s("iiif_seeAlso")),o.map((function(e){return u.createElement(Ce.A,{key:e.value,variant:"body1",component:"dd"},u.createElement(Xt.A,{target:"_blank",rel:"noopener noreferrer",href:e.value},e.label||e.value),e.format&&u.createElement(Ce.A,{component:"span"}," (".concat(e.format,")")))}))),r&&u.createElement(u.Fragment,null,u.createElement(Ce.A,{variant:"subtitle2",component:"dt"},s("iiif_manifest")),u.createElement(Ce.A,{variant:"body1",component:"dd"},u.createElement(Xt.A,{target:"_blank",rel:"noopener noreferrer",href:r},r)))),u.createElement(yt.F,this.props))}}])&&$t(t.prototype,n),a}(u.Component);Jt.defaultProps={homepage:null,manifestUrl:null,renderings:null,seeAlso:null,t:function(e){return e}};var Qt=(0,r.Zz)((0,a.A)({labelValueMetadata:{"& dd":{marginBottom:".5em",marginLeft:"0"}}}),(0,o.C)(),(0,i.Ng)((function(e,t){t.id;var n=t.windowId;return{homepage:(0,mt.cm)(e,{windowId:n}),manifestUrl:(0,mt.hp)(e,{windowId:n}),renderings:(0,mt.dn)(e,{windowId:n}),seeAlso:(0,mt._l)(e,{windowId:n})}})),(0,s.h)("ManifestRelatedLinks"));const en=Qt(Jt);function tn(e){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tn(e)}function nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rn(e,t){return rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},rn(e,t)}function on(e){return on=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},on(e)}var an=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rn(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=on(r);if(i){var n=on(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===tn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.windowId,n=e.id,r=e.canvasIds,i=e.classes,o=e.collectionPath,a=e.t,s=e.locale,l=e.setLocale,c=e.availableLocales,f=e.showLocalePicker;return u.createElement(at.A,{title:a("aboutThisItem"),paperClassName:(0,ne.A)("window-sidebar-info-panel"),windowId:t,id:n,titleControls:f&&u.createElement(Mt,{locale:s,setLocale:l,availableLocales:c})},r.map((function(e,o){return u.createElement("div",{key:e,className:i.section},u.createElement(Tt,{id:n,canvasId:e,index:o,totalSize:r.length,windowId:t}))})),o.length>0&&u.createElement("div",{className:i.section},u.createElement(qt,{id:n,windowId:t})),u.createElement("div",{className:i.section},u.createElement(Dt.A,{id:n,windowId:t})),u.createElement("div",{className:i.section},u.createElement(en,{id:n,windowId:t})))}}])&&nn(t.prototype,n),a}(u.Component);an.defaultProps={availableLocales:[],canvasIds:[],classes:{},collectionPath:[],locale:"",setLocale:void 0,showLocalePicker:!1,t:function(e){return e}};var sn=(0,r.Zz)((0,o.C)(),(0,a.A)((function(e){return{section:{borderBottom:".5px solid ".concat(e.palette.section_divider),paddingBottom:e.spacing(1),paddingLeft:e.spacing(2),paddingRight:e.spacing(1),paddingTop:e.spacing(2)}}})),(0,i.Ng)((function(e,t){var n=t.id,r=t.windowId;return{availableLocales:(0,mt.t_)(e,{companionWindowId:n,windowId:r}),canvasIds:(0,ee.tv)(e,{windowId:r}),collectionPath:((0,Se.zk)(e,{windowId:r})||{}).collectionPath,locale:(0,xe.DS)(e,{companionWindowId:n}).locale||(0,mt.U1)(e,{windowId:r}),showLocalePicker:(0,_e.R2)(e,{windowId:r}).showLocalePicker}}),(function(e,t){var n=t.windowId,r=t.id;return{setLocale:function(t){return e(ht.u3(n,r,{locale:t}))}}})),(0,s.h)("WindowSideBarInfoPanel"));const ln=sn(an);var un=n(57528),cn=n(32765),fn=n(39405),dn=n(23224),pn=n(77477),hn=n(81479),mn=n(66785);function vn(e){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(e)}function gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yn(e,t){return yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yn(e,t)}function bn(e){return bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bn(e)}var wn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yn(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=bn(r);if(i){var n=bn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===vn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.label;return u.createElement(u.Fragment,null,u.createElement(Ce.A,{className:K()(t.label),variant:"body1"},n))}}])&&gn(t.prototype,n),a}(u.Component);const xn=(0,r.Zz)((0,a.A)((function(e){return{label:{paddingLeft:e.spacing(1)}}})),(0,o.C)(),(0,i.Ng)(null,null),(0,s.h)("SidebarIndexItem"))(wn);function Sn(e){return Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sn(e)}function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _n(e,t){return _n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_n(e,t)}function Tn(e){return Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tn(e)}var On=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Tn(r);if(i){var n=Tn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Sn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.canvas,r=e.height,i=e.label,o=e.width;return u.createElement(u.Fragment,null,u.createElement("div",{style:{minWidth:50}},u.createElement(te.A,{label:i,resource:n,className:K()(t.clickable),maxHeight:r,maxWidth:o})),u.createElement(Ce.A,{className:K()(t.label),variant:"body1"},i))}}],n&&En(t.prototype,n),a}(u.Component);function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}On.defaultProps={height:void 0,width:void 0};var Pn=(0,r.Zz)((0,a.A)((function(e){return{label:{paddingLeft:e.spacing(1)}}})),(0,o.C)(),(0,i.Ng)((function(e,t){return t.data,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){Cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,Ee.zj)(e).canvasNavigation||{})}),null),(0,s.h)("SidebarIndexThumbnail"));const kn=Pn(On);function Rn(e){return Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(e)}function In(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mn(e,t){return Mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Mn(e,t)}function Dn(e){return Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dn(e)}var jn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mn(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Dn(r);if(i){var n=Dn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Rn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,n=[{key:"getIdAndLabelOfCanvases",value:function(){return this.props.canvases.map((function(e,t){return{id:e.id,label:new mn.A(e).getLabel()}}))}},{key:"render",value:function(){var e,t=this.props,n=t.canvases,r=t.classes,i=t.containerRef,o=t.selectedCanvasIds,a=t.setCanvas,s=t.variant,l=t.windowId,c=this.getIdAndLabelOfCanvases(n);return e="thumbnail"===s?kn:xn,u.createElement(He.A,{variant:"selectedMenu"},c.map((function(t,c){return u.createElement(Ye,{containerRef:i,key:"".concat(t.id,"-").concat(s),offsetTop:96,scrollTo:o.includes(t.id)},u.createElement(Ue.A,{key:t.id,className:r.listItem,alignItems:"flex-start",onClick:function(){a(l,t.id)},button:!0,component:"li",selected:o.includes(t.id)},u.createElement(e,{label:t.label,canvas:n[c]})))})))}}],n&&In(t.prototype,n),a}(u.Component);jn.defaultProps={selectedCanvasIds:[],variant:"item"};var Ln=(0,r.Zz)((0,a.A)((function(e){return{label:{paddingLeft:e.spacing(1)},listItem:{borderBottom:"0.5px solid ".concat(e.palette.divider),paddingRight:e.spacing(1)}}})),(0,o.C)(),(0,i.Ng)((function(e,t){var n=t.id,r=t.windowId;return{canvases:(0,ee.P)(e,{windowId:r}),selectedCanvasIds:(0,ee.tv)(e,{windowId:r}),variant:(0,xe.DS)(e,{companionWindowId:n,windowId:r}).variant}}),(function(e,t){return t.id,t.windowId,{setCanvas:function(){return e(l.h5.apply(Q,arguments))}}})),(0,s.h)("SidebarIndexList"));const Nn=Ln(jn);var zn=n(23040),Bn=n(55258),Fn=n(53466),Wn=(n(43979),n(62073));const Hn=u.createContext({});var Un=function(e,t,n){for(var r=t;r<e.length;r+=1)if(n===e[r])return r;return-1},Vn=[],Gn=[],qn=u.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,o=e.defaultCollapseIcon,a=e.defaultEndIcon,s=e.defaultExpanded,l=void 0===s?Vn:s,c=e.defaultExpandIcon,f=e.defaultParentIcon,d=e.defaultSelected,p=void 0===d?Gn:d,h=e.disableSelection,m=void 0!==h&&h,v=e.multiSelect,g=void 0!==v&&v,y=e.expanded,b=e.onNodeSelect,w=e.onNodeToggle,x=e.selected,S=(0,Fn.A)(e,["children","classes","className","defaultCollapseIcon","defaultEndIcon","defaultExpanded","defaultExpandIcon","defaultParentIcon","defaultSelected","disableSelection","multiSelect","expanded","onNodeSelect","onNodeToggle","selected"]),E=u.useState(null),_=E[0],T=E[1],O=u.useState(null),A=O[0],C=O[1],P=u.useRef({}),R=u.useRef({}),I=u.useRef([]),M=(0,Wn.A)({controlled:y,default:l,name:"TreeView",state:"expanded"}),D=(0,Bn.A)(M,2),j=D[0],L=D[1],N=(0,Wn.A)({controlled:x,default:p,name:"TreeView",state:"selected"}),z=(0,Bn.A)(N,2),B=z[0],F=z[1],W=u.useCallback((function(e){return!!Array.isArray(j)&&-1!==j.indexOf(e)}),[j]),H=u.useCallback((function(e){return Array.isArray(B)?-1!==B.indexOf(e):B===e}),[B]),U=function(e){var t=I.current.indexOf(e);return-1!==t&&t+1<I.current.length?I.current[t+1]:null},V=function(e){var t=I.current.indexOf(e);return-1!==t&&t-1>=0?I.current[t-1]:null},G=function(){return I.current[I.current.length-1]},q=function(){return I.current[0]},X=function(e){e&&(T(e),C(e))},Z=u.useRef(null),$=u.useRef(!1),Y=u.useRef([]),K=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.start,i=void 0===r?Z.current:r,o=t.end,a=t.current;return n?function(e,t){var n=B,r=t.start,i=t.next,o=t.current;i&&o&&(-1===Y.current.indexOf(o)&&(Y.current=[]),$.current?-1!==Y.current.indexOf(i)?(n=n.filter((function(e){return e===r||e!==o})),Y.current=Y.current.filter((function(e){return e===r||e!==o}))):(n.push(i),Y.current.push(i)):(n.push(i),Y.current.push(o,i)),b&&b(e,n),F(n))}(e,{start:i,next:o,current:a}):function(e,t){var n=B,r=t.start,i=t.end;$.current&&(n=B.filter((function(e){return-1===Y.current.indexOf(e)})));var o=function(e,t){var n=I.current.indexOf(e),r=I.current.indexOf(t),i=Math.min(n,r),o=Math.max(n,r);return I.current.slice(i,o+1)}(r,i);Y.current=o;var a=n.concat(o);a=a.filter((function(e,t){return a.indexOf(e)===t})),b&&b(e,a),F(a)}(e,{start:i,end:o}),$.current=!0,!0},J=u.useCallback((function(e){var t=P.current[e],n=[];return t&&(n.push(e),t.children&&(n.concat(t.children),t.children.forEach((function(e){n.concat(J(e))})))),n}),[]),Q=u.useCallback((function(e){var t=(0,k.A)({},R.current);e.forEach((function(e){t[e]&&delete t[e]})),R.current=t}),[]),ee=u.useCallback((function(e){var t=J(e);Q(t);var n=(0,k.A)({},P.current);t.forEach((function(e){var t=n[e];if(t){if(t.parent){var r=n[t.parent];if(r&&r.children){var i=r.children.filter((function(t){return t!==e}));n[t.parent]=(0,k.A)({},r,{children:i})}}delete n[e]}})),P.current=n,C((function(t){return t===e?null:t}))}),[J,Q]),te=u.useRef([]),ne=u.useState(!1),re=ne[0],ie=ne[1];u.useEffect((function(){var e=[];u.Children.forEach(n,(function(t){u.isValidElement(t)&&t.props.nodeId&&e.push(t.props.nodeId)})),function(e,t){if(e.length!==t.length)return!0;for(var n=0;n<e.length;n+=1)if(e[n]!==t[n])return!0;return!1}(te.current,e)&&(P.current[-1]={parent:null,children:e},e.forEach((function(e,t){0===t&&T(e)})),I.current=P.current[-1].children,te.current=e,ie(!0))}),[n]),u.useEffect((function(){re&&(I.current=function e(t){for(var n=[],r=0;r<t.length;r+=1){var i=t[r];n.push(i);var o=P.current[i].children;W(i)&&o&&(n=n.concat(e(o)))}return n}(P.current[-1].children))}),[j,re,W,n]);var oe=function(){return!1};return u.createElement(Hn.Provider,{value:{icons:{defaultCollapseIcon:o,defaultExpandIcon:c,defaultParentIcon:f,defaultEndIcon:a},focus:X,focusFirstNode:function(){return X(q())},focusLastNode:function(){return X(G())},focusNextNode:function(e){return X(U(e))},focusPreviousNode:function(e){return X(V(e))},focusByFirstCharacter:function(e,t){var n,r,i=t.toLowerCase(),o=[],a=[];Object.keys(R.current).forEach((function(e){var t=R.current[e],n=P.current[e];(!n.parent||W(n.parent))&&(o.push(e),a.push(t))})),(n=o.indexOf(e)+1)===P.current.length&&(n=0),-1===(r=Un(a,n,i))&&(r=Un(a,0,i)),r>-1&&X(o[r])},expandAllSiblings:function(e,t){var n,r=P.current[t],i=P.current[r.parent];n=i?i.children.filter((function(e){return!W(e)})):P.current[-1].children.filter((function(e){return!W(e)}));var o=j.concat(n);n.length>0&&(L(o),w&&w(e,o))},toggleExpansion:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A;-1!==j.indexOf(n)?(t=j.filter((function(e){return e!==n})),T((function(e){var t=P.current[e];return e&&(t&&t.parent?t.parent.id:null)===n?n:e}))):t=[n].concat(j),w&&w(e,t),L(t)},isExpanded:W,isFocused:function(e){return A===e},isSelected:H,selectNode:m?oe:function(e,t){return!!t&&(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?function(e,t){var n;n=-1!==B.indexOf(t)?B.filter((function(e){return e!==t})):[t].concat(B),b&&b(e,n),F(n)}(e,t):function(e,t){var n=g?[t]:t;b&&b(e,n),F(n)}(e,t),Z.current=t,$.current=!1,Y.current=[],!0)},selectRange:m?oe:K,selectNextNode:m?oe:function(e,t){return K(e,{end:U(t),current:t},!0)},selectPreviousNode:m?oe:function(e,t){return K(e,{end:V(t),current:t},!0)},rangeSelectToFirst:m?oe:function(e,t){Z.current||(Z.current=t);var n=$.current?Z.current:t;return K(e,{start:n,end:q()})},rangeSelectToLast:m?oe:function(e,t){Z.current||(Z.current=t);var n=$.current?Z.current:t;return K(e,{start:n,end:G()})},selectAllNodes:m?oe:function(e){return K(e,{start:q(),end:G()})},isTabbable:function(e){return _===e},multiSelect:g,getParent:function(e){return P.current[e].parent},mapFirstChar:function(e,t){R.current[e]=t},addNodeToNodeMap:function(e,t){var n=P.current[e];P.current[e]=(0,k.A)({},n,{children:t,id:e}),t.forEach((function(t){var n=P.current[t];P.current[t]=(0,k.A)({},n,{parent:e,id:t})}))},removeNodeFromNodeMap:ee}},u.createElement("ul",(0,k.A)({role:"tree","aria-multiselectable":g,className:(0,Fe.default)(r.root,i),ref:t},S),n))}));const Xn=(0,a.A)({root:{padding:0,margin:0,listStyle:"none"}},{name:"MuiTreeView"})(qn);var Zn=n(93276),$n=n(74118),Yn=n(90117),Kn=n(61276),Jn=n(17429),Qn=n(86390),er=u.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,o=e.collapseIcon,a=e.endIcon,s=e.expandIcon,l=e.icon,c=e.label,f=e.nodeId,d=e.onClick,p=e.onLabelClick,h=e.onIconClick,m=e.onFocus,v=e.onKeyDown,g=e.onMouseDown,y=e.TransitionComponent,b=void 0===y?Yn.A:y,w=e.TransitionProps,x=(0,Fn.A)(e,["children","classes","className","collapseIcon","endIcon","expandIcon","icon","label","nodeId","onClick","onLabelClick","onIconClick","onFocus","onKeyDown","onMouseDown","TransitionComponent","TransitionProps"]),S=u.useContext(Hn),E=S.icons,_=S.focus,T=S.focusFirstNode,O=S.focusLastNode,A=S.focusNextNode,C=S.focusPreviousNode,P=S.focusByFirstCharacter,R=S.selectNode,I=S.selectRange,M=S.selectNextNode,D=S.selectPreviousNode,j=S.rangeSelectToFirst,L=S.rangeSelectToLast,N=S.selectAllNodes,z=S.expandAllSiblings,B=S.toggleExpansion,F=S.isExpanded,W=S.isFocused,H=S.isSelected,U=S.isTabbable,V=S.multiSelect,G=S.getParent,q=S.mapFirstChar,X=S.addNodeToNodeMap,Z=S.removeNodeFromNodeMap,$=u.useRef(null),Y=u.useRef(null),K=(0,Qn.A)($,t),J=l,Q=Boolean(Array.isArray(n)?n.length:n),ee=!!F&&F(f),te=!!W&&W(f),ne=!!U&&U(f),re=!!H&&H(f),ie=E||{},oe=(0,Jn.A)();J||(Q?(J=ee?o||ie.defaultCollapseIcon:s||ie.defaultExpandIcon)||(J=ie.defaultParentIcon):J=a||ie.defaultEndIcon);var ae,se=function(e){return Q&&(ee?A(f):B(e)),!0},le=function(e){if(ee)return B(e,f),!0;var t=G(f);return!!t&&(_(t),!0)};return u.useEffect((function(){if(X){var e=[];u.Children.forEach(n,(function(t){u.isValidElement(t)&&t.props.nodeId&&e.push(t.props.nodeId)})),X(f,e)}}),[n,f,X]),u.useEffect((function(){if(Z)return function(){Z(f)}}),[f,Z]),u.useEffect((function(){q&&c&&q(f,Y.current.textContent.substring(0,1).toLowerCase())}),[q,f,c]),u.useEffect((function(){te&&$.current.focus()}),[te]),V?ae=re:re&&(ae=!0),u.createElement("li",(0,k.A)({className:(0,Fe.default)(r.root,i,ee&&r.expanded,re&&r.selected),role:"treeitem",onKeyDown:function(e){var t=!1,n=e.key;if(!e.altKey&&e.currentTarget===e.target){var r,i=e.ctrlKey||e.metaKey;switch(n){case" ":$.current===e.currentTarget&&(t=V&&e.shiftKey?I(e,{end:f}):V?R(e,f,!0):R(e,f)),e.stopPropagation();break;case"Enter":$.current===e.currentTarget&&Q&&(B(e),t=!0),e.stopPropagation();break;case"ArrowDown":V&&e.shiftKey&&M(e,f),A(f),t=!0;break;case"ArrowUp":V&&e.shiftKey&&D(e,f),C(f),t=!0;break;case"ArrowRight":t="rtl"===oe.direction?le(e):se(e);break;case"ArrowLeft":t="rtl"===oe.direction?se(e):le(e);break;case"Home":V&&i&&e.shiftKey&&j(e,f),T(),t=!0;break;case"End":V&&i&&e.shiftKey&&L(e,f),O(),t=!0;break;default:"*"===n?(z(e,f),t=!0):V&&i&&"a"===n.toLowerCase()?t=N(e):!i&&!e.shiftKey&&(r=n)&&1===r.length&&r.match(/\S/)&&(P(f,n),t=!0)}t&&(e.preventDefault(),e.stopPropagation()),v&&v(e)}},onFocus:function(e){te||e.currentTarget!==e.target||_(f),m&&m(e)},"aria-expanded":Q?ee:null,"aria-selected":ae,ref:K,tabIndex:ne?0:-1},x),u.createElement("div",{className:r.content,onClick:function(e){te||_(f);var t=V&&(e.shiftKey||e.ctrlKey||e.metaKey);!Q||e.defaultPrevented||t&&F(f)||B(e,f),t?e.shiftKey?I(e,{end:f}):R(e,f,!0):R(e,f),d&&d(e)},onMouseDown:function(e){(e.shiftKey||e.ctrlKey||e.metaKey)&&e.preventDefault(),g&&g(e)},ref:Y},u.createElement("div",{onClick:h,className:r.iconContainer},J),u.createElement(Ce.A,{onClick:p,component:"div",className:r.label},c)),n&&u.createElement(b,(0,k.A)({unmountOnExit:!0,className:r.group,in:ee,component:"ul",role:"group"},w),n))}));const tr=(0,a.A)((function(e){return{root:{listStyle:"none",margin:0,padding:0,outline:0,WebkitTapHighlightColor:"transparent","&:focus > $content $label":{backgroundColor:e.palette.action.hover},"&$selected > $content $label":{backgroundColor:(0,Kn.X4)(e.palette.primary.main,e.palette.action.selectedOpacity)},"&$selected > $content $label:hover, &$selected:focus > $content $label":{backgroundColor:(0,Kn.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},expanded:{},selected:{},group:{margin:0,padding:0,marginLeft:17},content:{width:"100%",display:"flex",alignItems:"center",cursor:"pointer"},iconContainer:{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},label:{width:"100%",paddingLeft:4,position:"relative","&:hover":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}}}),{name:"MuiTreeItem"})(er);function nr(e){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr(e)}function rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ir(e,t){return ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ir(e,t)}function or(e){return or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},or(e)}var ar=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ir(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=or(r);if(i){var n=or(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===nr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"handleKeyPressed",value:function(e,t){var n=this.props,r=n.expandedNodeIds,i=n.toggleNode;"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||this.selectTreeItem(t),("ArrowLeft"===e.key&&-1!==r.indexOf(t.id)||"ArrowRight"===e.key&&-1===r.indexOf(t.id)&&t.nodes.length>0)&&i(t.id)}},{key:"selectTreeItem",value:function(e){var t=this.props,n=t.setCanvas,r=t.toggleNode,i=t.windowId;if(e.nodes.length>0&&r(e.id),e.data.getCanvasIds()&&0!==e.data.getCanvasIds().length&&!(e.nodes.length>0)){var o=function(e){var t=e.data.__jsonld;if(t.startCanvas&&"string"==typeof t.startCanvas)return t.startCanvas;if(t.start){if("Canvas"===t.start.type&&"string"==typeof t.start.id)return t.start.id;if("SpecificResource"===t.start.type&&"string"==typeof t.start.source)return t.start.source}return e.data.getCanvasIds()[0]}(e);n(i,-1===o.indexOf("#")?o:o.substr(0,o.indexOf("#")))}}},{key:"buildTreeItems",value:function(e,t,n,r){var i=this,o=this.props.classes;return e?e.map((function(e){return u.createElement(Ye,{containerRef:n,key:"".concat(e.id,"-scroll"),offsetTop:96,scrollTo:r===e.id},u.createElement(tr,{key:e.id,nodeId:e.id,classes:{content:o.content,group:o.group,label:o.label,root:o.treeItemRoot,selected:o.selected},label:u.createElement("div",{className:(0,Fe.default)((a={},s=o.visibleNode,l=-1!==t.indexOf(e.id),s in a?Object.defineProperty(a,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[s]=l,a))},e.label),onClick:function(){return i.selectTreeItem(e)},onKeyDown:function(t){return i.handleKeyPressed(t,e)}},e.nodes&&e.nodes.length>0?i.buildTreeItems(e.nodes,t,n,r):null));var a,s,l})):null}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.treeStructure,r=e.visibleNodeIds,i=e.expandedNodeIds,o=e.containerRef,a=e.nodeIdToScrollTo;return n?u.createElement(u.Fragment,null,u.createElement(Xn,{className:t.root,defaultCollapseIcon:u.createElement(Zn.A,{color:"action"}),defaultExpandIcon:u.createElement($n.A,{color:"action"}),defaultEndIcon:u.createElement(u.Fragment,null),expanded:i},this.buildTreeItems(n.nodes,r,o,a))):u.createElement(u.Fragment,null)}}])&&rr(t.prototype,n),a}(u.Component),sr=n(49842),lr=(0,r.Zz)((0,a.A)((function(e){return{content:{alignItems:"flex-start",borderLeft:"1px solid transparent",padding:"8px 16px 8px 0",width:"auto"},group:{borderLeft:"1px solid ".concat(e.palette.grey[300])},label:{paddingLeft:0},root:{flexGrow:1},selected:{},treeItemRoot:{"&:focus > $content":{backgroundColor:e.palette.action.selected},"&:hover > $content":{backgroundColor:e.palette.action.hover},"&:hover >$content $label, &:focus > $content $label, &$selected > $content $label, &$selected > $content $label:hover, &$selected:focus > $content $label":{backgroundColor:"transparent"}},visibleNode:{backgroundColor:(0,zn.fade)(e.palette.highlights.primary,.35),display:"inline"}}})),(0,o.C)(),(0,i.Ng)((function(e,t){var n=t.id,r=t.windowId;return{expandedNodeIds:(0,sr.S)(e,{companionWindowId:n,windowId:r}),nodeIdToScrollTo:(0,sr.rK)(e,{companionWindowId:n,windowId:r}),treeStructure:(0,we.P8)(e,{windowId:r}),visibleNodeIds:(0,sr.BB)(e,{companionWindowId:n,windowId:r})}}),(function(e,t){var n=t.id,r=t.windowId;return{setCanvas:function(){return e(l.h5.apply(Q,arguments))},toggleNode:function(t){return e(ht.TN(r,n,t))}}})),(0,s.h)("SidebarIndexTableOfContents"));const ur=lr(ar);function cr(e){return cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cr(e)}function fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dr(e,t){return dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dr(e,t)}function pr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hr(e){return hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hr(e)}var mr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dr(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=hr(i);if(o){var n=hr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===cr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pr(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).handleSequenceChange=t.handleSequenceChange.bind(pr(t)),t.handleVariantChange=t.handleVariantChange.bind(pr(t)),t.containerRef=u.createRef(),t}return t=s,n=[{key:"handleSequenceChange",value:function(e){(0,this.props.updateSequence)(e.target.value)}},{key:"handleVariantChange",value:function(e,t){(0,this.props.updateVariant)(t)}},{key:"render",value:function(){var e,t=this.props,n=t.classes,r=t.collection,i=t.id,o=t.showMultipart,a=t.sequenceId,l=t.sequences,c=t.t,f=t.variant,d=t.showToc,p=t.windowId;return e="tableOfContents"===f?u.createElement(ur,{id:i,containerRef:this.containerRef,windowId:p}):u.createElement(Nn,{id:i,containerRef:this.containerRef,windowId:p}),u.createElement(at.A,{title:c("canvasIndex"),id:i,windowId:p,ref:this.containerRef,otherRef:this.containerRef,titleControls:u.createElement(u.Fragment,null,l&&l.length>1&&u.createElement(Ot.A,null,u.createElement(At.A,{MenuProps:{anchorOrigin:{horizontal:"left",vertical:"bottom"},getContentAnchorEl:null},displayEmpty:!0,value:a,onChange:this.handleSequenceChange,name:"sequenceId",classes:{select:n.select},className:n.selectEmpty},l.map((function(e,t){return u.createElement(Ue.A,{value:e.id,key:e.id},u.createElement(Ce.A,{variant:"body2"},s.getUseableLabel(e,t)))})))),u.createElement("div",{className:n.break}),u.createElement(un.A,{value:f,onChange:this.handleVariantChange,variant:"fullWidth",indicatorColor:"primary",textColor:"primary"},d&&u.createElement(fn.Ay,{title:c("tableOfContentsList"),value:"tableOfContents"},u.createElement(cn.A,{className:n.variantTab,value:"tableOfContents","aria-label":c("tableOfContentsList"),"aria-controls":"tab-panel-".concat(i),icon:u.createElement(pn.A,{style:{transform:"scale(-1, 1)"}})})),u.createElement(fn.Ay,{title:c("itemList"),value:"item"},u.createElement(cn.A,{className:n.variantTab,value:"item","aria-label":c("itemList"),"aria-controls":"tab-panel-".concat(i),icon:u.createElement(dn.A,null)})),u.createElement(fn.Ay,{title:c("thumbnailList"),value:"thumbnail"},u.createElement(cn.A,{className:n.variantTab,value:"thumbnail","aria-label":c("thumbnailList"),"aria-controls":"tab-panel-".concat(i),icon:u.createElement(Nt.A,null)}))))},u.createElement("div",{id:"tab-panel-".concat(i)},r&&u.createElement(Lt.A,{fullWidth:!0,onClick:o,endIcon:u.createElement(hn.A,null)},u.createElement(Ce.A,{className:n.collectionNavigationButton},s.getUseableLabel(r))),e))}}],r=[{key:"getUseableLabel",value:function(e,t){return e&&e.getLabel&&e.getLabel().length>0?e.getLabel().getValue():e.id}}],n&&fr(t.prototype,n),r&&fr(t,r),s}(u.Component);mr.defaultProps={collection:null,sequenceId:null,sequences:[],showToc:!1};var vr=(0,r.Zz)((0,o.C)(),(0,a.A)((function(e){return{break:{flexBasis:"100%",height:0},collectionNavigationButton:{textTransform:"none"},label:{paddingLeft:e.spacing(1)},select:{"&:focus":{backgroundColor:e.palette.background.paper}},selectEmpty:{backgroundColor:e.palette.background.paper},variantTab:{minWidth:"auto"}}})),(0,i.Ng)((function(e,t){var n=t.id,r=t.windowId,i=(0,we.P8)(e,{windowId:r}),o=(0,Se.zk)(e,{windowId:r}),a=e.config,s=(0,xe.DS)(e,{companionWindowId:n}),l=o.collectionPath||[],u=l&&l[l.length-1],c=(0,we.eb)(e,{windowId:r});return{collection:u&&(0,mt.SG)(e,{manifestId:u}),config:a,sequenceId:c&&c.id,sequences:(0,we.fO)(e,{windowId:r}),showToc:i&&i.nodes&&i.nodes.length>0,variant:s.variant||(0,sr.bT)(e,{windowId:r})}}),(function(e,t){var n=t.id,r=t.windowId;return{showMultipart:function(){return e(ht.Yy(r,{content:"collection",position:"right"}))},updateSequence:function(t){return e(jt.uE(r,{sequenceId:t}))},updateVariant:function(t){return e(ht.u3(r,n,{variant:t}))}}})),(0,s.h)("WindowSideBarCanvasPanel"));const gr=vr(mr);var yr=n(76307),br=n(23420);function wr(e){return wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wr(e)}function xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sr(e,t){return Sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Sr(e,t)}function Er(e){return Er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Er(e)}var _r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sr(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Er(r);if(i){var n=Er(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===wr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.manifestLogo,n=e.requiredStatement,r=e.rights,i=e.windowId,o=e.id,a=e.classes,s=e.t;return u.createElement(at.A,{title:s("attributionTitle"),paperClassName:(0,ne.A)("attribution-panel"),windowId:i,id:o},u.createElement("div",{className:a.section},n&&u.createElement(gt.P,{labelValuePairs:n,defaultLabel:s("attribution")}),r&&r.length>0&&u.createElement("dl",{className:(0,ne.A)("label-value-metadata")},u.createElement(Ce.A,{variant:"subtitle2",component:"dt"},s("rights")),r.map((function(e){return u.createElement(Ce.A,{variant:"body1",component:"dd",key:e.toString()},u.createElement(Xt.A,{target:"_blank",rel:"noopener noreferrer",href:e},e))})))),t&&u.createElement("div",{className:a.section},u.createElement(br.Img,{src:[t],alt:"",role:"presentation",className:a.logo,unloader:u.createElement(yr.A,{className:a.placeholder,variant:"rect",height:60,width:60})})),u.createElement(yt.F,this.props))}}])&&xr(t.prototype,n),a}(u.Component);_r.defaultProps={classes:{},manifestLogo:null,requiredStatement:null,rights:null,t:function(e){return e}};var Tr=(0,r.Zz)((0,a.A)((function(e){return{logo:{maxWidth:"100%"},placeholder:{backgroundColor:e.palette.grey[300]},section:{borderBottom:".5px solid ".concat(e.palette.section_divider),paddingBottom:e.spacing(1),paddingLeft:e.spacing(2),paddingRight:e.spacing(1),paddingTop:e.spacing(2)}}})),(0,o.C)(),(0,i.Ng)((function(e,t){t.id;var n=t.windowId;return{manifestLogo:(0,mt.nB)(e,{windowId:n}),requiredStatement:(0,mt.lj)(e,{windowId:n}),rights:(0,mt._6)(e,{windowId:n})}})),(0,s.h)("AttributionPanel"));const Or=Tr(_r);var Ar=n(7171),Cr=n(63209),Pr=n.n(Cr),kr=n(38624),Rr=n.n(kr),Ir=n(78204),Mr=n.n(Ir),Dr=n(2362),jr=n(96851),Lr=n(71205),Nr=n(5157),zr=n(21182);const Br=(0,n(82083).A)(u.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");var Fr=n(11899),Wr=n(68596),Hr=n(35851);function Ur(e){return void 0!==e.normalize?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function Vr(e,t){for(var n=0;n<e.length;n+=1)if(t(e[n]))return n;return-1}var Gr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ignoreAccents,n=void 0===t||t,r=e.ignoreCase,i=void 0===r||r,o=e.limit,a=e.matchFrom,s=void 0===a?"any":a,l=e.stringify,u=e.trim,c=void 0!==u&&u;return function(e,t){var r=t.inputValue,a=t.getOptionLabel,u=c?r.trim():r;i&&(u=u.toLowerCase()),n&&(u=Ur(u));var f=e.filter((function(e){var t=(l||a)(e);return i&&(t=t.toLowerCase()),n&&(t=Ur(t)),"start"===s?0===t.indexOf(u):t.indexOf(u)>-1}));return"number"==typeof o?f.slice(0,o):f}}();function qr(e){e.anchorEl,e.open;var t=(0,Fn.A)(e,["anchorEl","open"]);return u.createElement("div",t)}var Xr=u.createElement(zr.A,{fontSize:"small"}),Zr=u.createElement(Br,null),$r=u.forwardRef((function(e,t){e.autoComplete,e.autoHighlight,e.autoSelect,e.blurOnSelect;var n,r=e.ChipProps,i=e.classes,o=e.className,a=(void 0===e.clearOnBlur&&e.freeSolo,e.clearOnEscape,e.clearText),s=void 0===a?"Clear":a,l=e.closeIcon,f=void 0===l?Xr:l,d=e.closeText,p=void 0===d?"Close":d,h=(void 0===(e.debug,e.defaultValue)&&e.multiple,e.disableClearable),m=void 0!==h&&h,v=(e.disableCloseOnSelect,e.disabled),g=void 0!==v&&v,y=(e.disabledItemsFocusable,e.disableListWrap,e.disablePortal),b=void 0!==y&&y,w=(e.filterOptions,e.filterSelectedOptions,e.forcePopupIcon),x=void 0===w?"auto":w,S=e.freeSolo,E=void 0!==S&&S,_=e.fullWidth,T=void 0!==_&&_,O=e.getLimitTagsText,A=void 0===O?function(e){return"+".concat(e)}:O,C=(e.getOptionDisabled,e.getOptionLabel),P=void 0===C?function(e){return e}:C,R=(e.getOptionSelected,e.groupBy),I=(void 0===e.handleHomeEndKeys&&e.freeSolo,e.id,e.includeInputInList,e.inputValue,e.limitTags),M=void 0===I?-1:I,D=e.ListboxComponent,j=void 0===D?"ul":D,L=e.ListboxProps,N=e.loading,z=void 0!==N&&N,B=e.loadingText,F=void 0===B?"Loading":B,W=e.multiple,H=void 0!==W&&W,U=e.noOptionsText,V=void 0===U?"No options":U,G=(e.onChange,e.onClose,e.onHighlightChange,e.onInputChange,e.onOpen,e.open,e.openOnFocus,e.openText),q=void 0===G?"Open":G,X=(e.options,e.PaperComponent),Z=void 0===X?c.A:X,$=e.PopperComponent,Y=void 0===$?jr.A:$,K=e.popupIcon,J=void 0===K?Zr:K,Q=e.renderGroup,ee=e.renderInput,te=e.renderOption,ne=e.renderTags,re=(void 0===e.selectOnFocus&&e.freeSolo,e.size),ie=void 0===re?"medium":re,oe=(e.value,(0,Fn.A)(e,["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","classes","className","clearOnBlur","clearOnEscape","clearText","closeIcon","closeText","debug","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","getOptionSelected","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","value"])),ae=b?qr:Y,se=function(e){var t=e.autoComplete,n=void 0!==t&&t,r=e.autoHighlight,i=void 0!==r&&r,o=e.autoSelect,a=void 0!==o&&o,s=e.blurOnSelect,l=void 0!==s&&s,c=e.clearOnBlur,f=void 0===c?!e.freeSolo:c,d=e.clearOnEscape,p=void 0!==d&&d,h=e.componentName,m=void 0===h?"useAutocomplete":h,v=e.debug,g=void 0!==v&&v,y=e.defaultValue,b=void 0===y?e.multiple?[]:null:y,w=e.disableClearable,x=void 0!==w&&w,S=e.disableCloseOnSelect,E=void 0!==S&&S,_=e.disabledItemsFocusable,T=void 0!==_&&_,O=e.disableListWrap,A=void 0!==O&&O,C=e.filterOptions,P=void 0===C?Gr:C,R=e.filterSelectedOptions,I=void 0!==R&&R,M=e.freeSolo,D=void 0!==M&&M,j=e.getOptionDisabled,L=e.getOptionLabel,N=void 0===L?function(e){return e}:L,z=e.getOptionSelected,B=void 0===z?function(e,t){return e===t}:z,F=e.groupBy,W=e.handleHomeEndKeys,H=void 0===W?!e.freeSolo:W,U=e.id,V=e.includeInputInList,G=void 0!==V&&V,q=e.inputValue,X=e.multiple,Z=void 0!==X&&X,$=e.onChange,Y=e.onClose,K=e.onHighlightChange,J=e.onInputChange,Q=e.onOpen,ee=e.open,te=e.openOnFocus,ne=void 0!==te&&te,re=e.options,ie=e.selectOnFocus,oe=void 0===ie?!e.freeSolo:ie,ae=e.value,se=(0,Fr.A)(U),le=N,ue=u.useRef(!1),ce=u.useRef(!0),fe=u.useRef(null),de=u.useRef(null),pe=u.useState(null),he=pe[0],me=pe[1],ve=u.useState(-1),ge=ve[0],ye=ve[1],be=i?0:-1,we=u.useRef(be),xe=(0,Wn.A)({controlled:ae,default:b,name:m}),Se=(0,Bn.A)(xe,2),Ee=Se[0],_e=Se[1],Te=(0,Wn.A)({controlled:q,default:"",name:m,state:"inputValue"}),Oe=(0,Bn.A)(Te,2),Ae=Oe[0],Ce=Oe[1],Pe=u.useState(!1),ke=Pe[0],Re=Pe[1],Ie=(0,Wr.A)((function(e,t){var n;if(Z)n="";else if(null==t)n="";else{var r=le(t);n="string"==typeof r?r:""}Ae!==n&&(Ce(n),J&&J(e,n,"reset"))}));u.useEffect((function(){Ie(null,Ee)}),[Ee,Ie]);var Me=(0,Wn.A)({controlled:ee,default:!1,name:m,state:"open"}),De=(0,Bn.A)(Me,2),je=De[0],Le=De[1],Ne=!Z&&null!=Ee&&Ae===le(Ee),ze=je,Be=ze?P(re.filter((function(e){return!I||!(Z?Ee:[Ee]).some((function(t){return null!==t&&B(e,t)}))})),{inputValue:Ne?"":Ae,getOptionLabel:le}):[],Fe=(0,Wr.A)((function(e){-1===e?fe.current.focus():he.querySelector('[data-tag-index="'.concat(e,'"]')).focus()}));u.useEffect((function(){Z&&ge>Ee.length-1&&(ye(-1),Fe(-1))}),[Ee,Z,ge,Fe]);var We=(0,Wr.A)((function(e){var t=e.event,n=e.index,r=e.reason,i=void 0===r?"auto":r;if(we.current=n,-1===n?fe.current.removeAttribute("aria-activedescendant"):fe.current.setAttribute("aria-activedescendant","".concat(se,"-option-").concat(n)),K&&K(t,-1===n?null:Be[n],i),de.current){var o=de.current.querySelector("[data-focus]");o&&o.removeAttribute("data-focus");var a=de.current.parentElement.querySelector('[role="listbox"]');if(a)if(-1!==n){var s=de.current.querySelector('[data-option-index="'.concat(n,'"]'));if(s&&(s.setAttribute("data-focus","true"),a.scrollHeight>a.clientHeight&&"mouse"!==i)){var l=s,u=a.clientHeight+a.scrollTop,c=l.offsetTop+l.offsetHeight;c>u?a.scrollTop=c-a.clientHeight:l.offsetTop-l.offsetHeight*(F?1.3:0)<a.scrollTop&&(a.scrollTop=l.offsetTop-l.offsetHeight*(F?1.3:0))}}else a.scrollTop=0}})),He=(0,Wr.A)((function(e){var t=e.event,r=e.diff,i=e.direction,o=void 0===i?"next":i,a=e.reason,s=void 0===a?"auto":a;if(ze){var l=function(e,t){if(!de.current||-1===e)return-1;for(var n=e;;){if("next"===t&&n===Be.length||"previous"===t&&-1===n)return-1;var r=de.current.querySelector('[data-option-index="'.concat(n,'"]')),i=!T&&r&&(r.disabled||"true"===r.getAttribute("aria-disabled"));if(!(r&&!r.hasAttribute("tabindex")||i))return n;n+="next"===t?1:-1}}(function(){var e=Be.length-1;if("reset"===r)return be;if("start"===r)return 0;if("end"===r)return e;var t=we.current+r;return t<0?-1===t&&G?-1:A&&-1!==we.current||Math.abs(r)>1?0:e:t>e?t===e+1&&G?-1:A||Math.abs(r)>1?e:0:t}(),o);if(We({index:l,reason:s,event:t}),n&&"reset"!==r)if(-1===l)fe.current.value=Ae;else{var u=le(Be[l]);fe.current.value=u,0===u.toLowerCase().indexOf(Ae.toLowerCase())&&Ae.length>0&&fe.current.setSelectionRange(Ae.length,u.length)}}})),Ue=u.useCallback((function(){if(ze){var e=Z?Ee[0]:Ee;if(0!==Be.length&&null!=e){if(de.current)if(I||null==e)we.current>=Be.length-1?We({index:Be.length-1}):We({index:we.current});else{var t=Be[we.current];if(Z&&t&&-1!==Vr(Ee,(function(e){return B(t,e)})))return;var n=Vr(Be,(function(t){return B(t,e)}));-1===n?He({diff:"reset"}):We({index:n})}}else He({diff:"reset"})}}),[0===Be.length,!Z&&Ee,I,He,We,ze,Ae,Z]),Ve=(0,Wr.A)((function(e){(0,Hr.A)(de,e),e&&Ue()}));u.useEffect((function(){Ue()}),[Ue]);var Ge=function(e){je||(Le(!0),Q&&Q(e))},qe=function(e,t){je&&(Le(!1),Y&&Y(e,t))},Xe=function(e,t,n,r){Ee!==t&&($&&$(e,t,n,r),_e(t))},Ze=u.useRef(!1),$e=function(e,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"options",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"select-option",i=t;if(Z){var o=Vr(i=Array.isArray(Ee)?Ee.slice():[],(function(e){return B(t,e)}));-1===o?i.push(t):"freeSolo"!==n&&(i.splice(o,1),r="remove-option")}Ie(e,i),Xe(e,i,r,{option:t}),E||qe(e,r),(!0===l||"touch"===l&&Ze.current||"mouse"===l&&!Ze.current)&&fe.current.blur()},Ye=function(e,t){if(Z){qe(e,"toggleInput");var n=ge;-1===ge?""===Ae&&"previous"===t&&(n=Ee.length-1):((n+="next"===t?1:-1)<0&&(n=0),n===Ee.length&&(n=-1)),n=function(e,t){if(-1===e)return-1;for(var n=e;;){if("next"===t&&n===Ee.length||"previous"===t&&-1===n)return-1;var r=he.querySelector('[data-tag-index="'.concat(n,'"]'));if(!r||r.hasAttribute("tabindex")&&!r.disabled&&"true"!==r.getAttribute("aria-disabled"))return n;n+="next"===t?1:-1}}(n,t),ye(n),Fe(n)}},Ke=function(e){ue.current=!0,Ce(""),J&&J(e,"","clear"),Xe(e,Z?[]:null,"clear")},Je=function(e){return function(t){switch(-1!==ge&&-1===["ArrowLeft","ArrowRight"].indexOf(t.key)&&(ye(-1),Fe(-1)),t.key){case"Home":ze&&H&&(t.preventDefault(),He({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":ze&&H&&(t.preventDefault(),He({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),He({diff:-5,direction:"previous",reason:"keyboard",event:t}),Ge(t);break;case"PageDown":t.preventDefault(),He({diff:5,direction:"next",reason:"keyboard",event:t}),Ge(t);break;case"ArrowDown":t.preventDefault(),He({diff:1,direction:"next",reason:"keyboard",event:t}),Ge(t);break;case"ArrowUp":t.preventDefault(),He({diff:-1,direction:"previous",reason:"keyboard",event:t}),Ge(t);break;case"ArrowLeft":Ye(t,"previous");break;case"ArrowRight":Ye(t,"next");break;case"Enter":if(229===t.which)break;if(-1!==we.current&&ze){var r=Be[we.current],i=!!j&&j(r);if(t.preventDefault(),i)return;$e(t,r,"select-option"),n&&fe.current.setSelectionRange(fe.current.value.length,fe.current.value.length)}else D&&""!==Ae&&!1===Ne&&(Z&&t.preventDefault(),$e(t,Ae,"create-option","freeSolo"));break;case"Escape":ze?(t.preventDefault(),t.stopPropagation(),qe(t,"escape")):p&&(""!==Ae||Z&&Ee.length>0)&&(t.preventDefault(),t.stopPropagation(),Ke(t));break;case"Backspace":if(Z&&""===Ae&&Ee.length>0){var o=-1===ge?Ee.length-1:ge,a=Ee.slice();a.splice(o,1),Xe(t,a,"remove-option",{option:Ee[o]})}}e.onKeyDown&&e.onKeyDown(t)}},Qe=function(e){Re(!0),ne&&!ue.current&&Ge(e)},et=function(e){null===de.current||document.activeElement!==de.current.parentElement?(Re(!1),ce.current=!0,ue.current=!1,g&&""!==Ae||(a&&-1!==we.current&&ze?$e(e,Be[we.current],"blur"):a&&D&&""!==Ae?$e(e,Ae,"blur","freeSolo"):f&&Ie(e,Ee),qe(e,"blur"))):fe.current.focus()},tt=function(e){var t=e.target.value;Ae!==t&&(Ce(t),J&&J(e,t,"input")),""===t?x||Z||Xe(e,null,"clear"):Ge(e)},nt=function(e){We({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"mouse"})},rt=function(){Ze.current=!0},it=function(e){var t=Number(e.currentTarget.getAttribute("data-option-index"));$e(e,Be[t],"select-option"),Ze.current=!1},ot=function(e){return function(t){var n=Ee.slice();n.splice(e,1),Xe(t,n,"remove-option",{option:Ee[e]})}},at=function(e){je?qe(e,"toggleInput"):Ge(e)},st=function(e){e.target.getAttribute("id")!==se&&e.preventDefault()},lt=function(){fe.current.focus(),oe&&ce.current&&fe.current.selectionEnd-fe.current.selectionStart==0&&fe.current.select(),ce.current=!1},ut=function(e){""!==Ae&&je||at(e)},ct=D&&Ae.length>0;ct=ct||(Z?Ee.length>0:null!==Ee);var ft=Be;return F&&(new Map,ft=Be.reduce((function(e,t,n){var r=F(t);return e.length>0&&e[e.length-1].group===r?e[e.length-1].options.push(t):e.push({key:n,index:n,group:r,options:[t]}),e}),[])),{getRootProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,k.A)({"aria-owns":ze?"".concat(se,"-popup"):null,role:"combobox","aria-expanded":ze},e,{onKeyDown:Je(e),onMouseDown:st,onClick:lt})},getInputLabelProps:function(){return{id:"".concat(se,"-label"),htmlFor:se}},getInputProps:function(){return{id:se,value:Ae,onBlur:et,onFocus:Qe,onChange:tt,onMouseDown:ut,"aria-activedescendant":ze?"":null,"aria-autocomplete":n?"both":"list","aria-controls":ze?"".concat(se,"-popup"):null,autoComplete:"off",ref:fe,autoCapitalize:"none",spellCheck:"false"}},getClearProps:function(){return{tabIndex:-1,onClick:Ke}},getPopupIndicatorProps:function(){return{tabIndex:-1,onClick:at}},getTagProps:function(e){var t=e.index;return{key:t,"data-tag-index":t,tabIndex:-1,onDelete:ot(t)}},getListboxProps:function(){return{role:"listbox",id:"".concat(se,"-popup"),"aria-labelledby":"".concat(se,"-label"),ref:Ve,onMouseDown:function(e){e.preventDefault()}}},getOptionProps:function(e){var t=e.index,n=e.option,r=(Z?Ee:[Ee]).some((function(e){return null!=e&&B(n,e)})),i=!!j&&j(n);return{key:t,tabIndex:-1,role:"option",id:"".concat(se,"-option-").concat(t),onMouseOver:nt,onClick:it,onTouchStart:rt,"data-option-index":t,"aria-disabled":i,"aria-selected":r}},id:se,inputValue:Ae,value:Ee,dirty:ct,popupOpen:ze,focused:ke||-1!==ge,anchorEl:he,setAnchorEl:me,focusedTag:ge,groupedOptions:ft}}((0,k.A)({},e,{componentName:"Autocomplete"})),le=se.getRootProps,ue=se.getInputProps,ce=se.getInputLabelProps,fe=se.getPopupIndicatorProps,de=se.getClearProps,pe=se.getTagProps,he=se.getListboxProps,me=se.getOptionProps,ve=se.value,ge=se.dirty,ye=se.id,be=se.popupOpen,we=se.focused,xe=se.focusedTag,Se=se.anchorEl,Ee=se.setAnchorEl,_e=se.inputValue,Te=se.groupedOptions;if(H&&ve.length>0){var Oe=function(e){return(0,k.A)({className:(0,Fe.default)(i.tag,"small"===ie&&i.tagSizeSmall),disabled:g},pe(e))};n=ne?ne(ve,Oe):ve.map((function(e,t){return u.createElement(We.A,(0,k.A)({label:P(e),size:ie},Oe({index:t}),r))}))}if(M>-1&&Array.isArray(n)){var Ae=n.length-M;!we&&Ae>0&&(n=n.splice(0,M)).push(u.createElement("span",{className:i.tag,key:n.length},A(Ae)))}var Ce=Q||function(e){return u.createElement("li",{key:e.key},u.createElement(Lr.A,{className:i.groupLabel,component:"div"},e.group),u.createElement("ul",{className:i.groupUl},e.children))},Pe=te||P,ke=function(e,t){var n=me({option:e,index:t});return u.createElement("li",(0,k.A)({},n,{className:i.option}),Pe(e,{selected:n["aria-selected"],inputValue:_e}))},Re=!m&&!g,Ie=(!E||!0===x)&&!1!==x;return u.createElement(u.Fragment,null,u.createElement("div",(0,k.A)({ref:t,className:(0,Fe.default)(i.root,o,we&&i.focused,T&&i.fullWidth,Re&&i.hasClearIcon,Ie&&i.hasPopupIcon)},le(oe)),ee({id:ye,disabled:g,fullWidth:!0,size:"small"===ie?"small":void 0,InputLabelProps:ce(),InputProps:{ref:Ee,className:i.inputRoot,startAdornment:n,endAdornment:u.createElement("div",{className:i.endAdornment},Re?u.createElement(Nr.A,(0,k.A)({},de(),{"aria-label":s,title:s,className:(0,Fe.default)(i.clearIndicator,ge&&i.clearIndicatorDirty)}),f):null,Ie?u.createElement(Nr.A,(0,k.A)({},fe(),{disabled:g,"aria-label":be?p:q,title:be?p:q,className:(0,Fe.default)(i.popupIndicator,be&&i.popupIndicatorOpen)}),J):null)},inputProps:(0,k.A)({className:(0,Fe.default)(i.input,-1===xe&&i.inputFocused),disabled:g},ue())})),be&&Se?u.createElement(ae,{className:(0,Fe.default)(i.popper,b&&i.popperDisablePortal),style:{width:Se?Se.clientWidth:null},role:"presentation",anchorEl:Se,open:!0},u.createElement(Z,{className:i.paper},z&&0===Te.length?u.createElement("div",{className:i.loading},F):null,0!==Te.length||E||z?null:u.createElement("div",{className:i.noOptions},V),Te.length>0?u.createElement(j,(0,k.A)({className:i.listbox},he(),L),Te.map((function(e,t){return R?Ce({key:e.key,group:e.group,children:e.options.map((function(t,n){return ke(t,e.index+n)}))}):ke(e,t)}))):null)):null)}));const Yr=(0,a.A)((function(e){var t;return{root:{"&$focused $clearIndicatorDirty":{visibility:"visible"},"@media (pointer: fine)":{"&:hover $clearIndicatorDirty":{visibility:"visible"}}},fullWidth:{width:"100%"},focused:{},tag:{margin:3,maxWidth:"calc(100% - 6px)"},tagSizeSmall:{margin:2,maxWidth:"calc(100% - 4px)"},hasPopupIcon:{},hasClearIcon:{},inputRoot:{flexWrap:"wrap","$hasPopupIcon &, $hasClearIcon &":{paddingRight:30},"$hasPopupIcon$hasClearIcon &":{paddingRight:56},"& $input":{width:0,minWidth:30},'&[class*="MuiInput-root"]':{paddingBottom:1,"& $input":{padding:4},"& $input:first-child":{padding:"6px 0"}},'&[class*="MuiInput-root"][class*="MuiInput-marginDense"]':{"& $input":{padding:"4px 4px 5px"},"& $input:first-child":{padding:"3px 0 6px"}},'&[class*="MuiOutlinedInput-root"]':{padding:9,"$hasPopupIcon &, $hasClearIcon &":{paddingRight:39},"$hasPopupIcon$hasClearIcon &":{paddingRight:65},"& $input":{padding:"9.5px 4px"},"& $input:first-child":{paddingLeft:6},"& $endAdornment":{right:9}},'&[class*="MuiOutlinedInput-root"][class*="MuiOutlinedInput-marginDense"]':{padding:6,"& $input":{padding:"4.5px 4px"}},'&[class*="MuiFilledInput-root"]':{paddingTop:19,paddingLeft:8,"$hasPopupIcon &, $hasClearIcon &":{paddingRight:39},"$hasPopupIcon$hasClearIcon &":{paddingRight:65},"& $input":{padding:"9px 4px"},"& $endAdornment":{right:9}},'&[class*="MuiFilledInput-root"][class*="MuiFilledInput-marginDense"]':{paddingBottom:1,"& $input":{padding:"4.5px 4px"}}},input:{flexGrow:1,textOverflow:"ellipsis",opacity:0},inputFocused:{opacity:1},endAdornment:{position:"absolute",right:0,top:"calc(50% - 14px)"},clearIndicator:{marginRight:-2,padding:4,visibility:"hidden"},clearIndicatorDirty:{},popupIndicator:{padding:2,marginRight:-2},popupIndicatorOpen:{transform:"rotate(180deg)"},popper:{zIndex:e.zIndex.modal},popperDisablePortal:{position:"absolute"},paper:(0,k.A)({},e.typography.body1,{overflow:"hidden",margin:"4px 0"}),listbox:{listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto"},loading:{color:e.palette.text.secondary,padding:"14px 16px"},noOptions:{color:e.palette.text.secondary,padding:"14px 16px"},option:(t={minHeight:48,display:"flex",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16},(0,Dr.A)(t,e.breakpoints.up("sm"),{minHeight:"auto"}),(0,Dr.A)(t,'&[aria-selected="true"]',{backgroundColor:e.palette.action.selected}),(0,Dr.A)(t,'&[data-focus="true"]',{backgroundColor:e.palette.action.hover}),(0,Dr.A)(t,"&:active",{backgroundColor:e.palette.action.selected}),(0,Dr.A)(t,'&[aria-disabled="true"]',{opacity:e.palette.action.disabledOpacity,pointerEvents:"none"}),t),groupLabel:{backgroundColor:e.palette.background.paper,top:-8},groupUl:{padding:0,"& $option":{paddingLeft:24}}}}),{name:"MuiAutocomplete"})($r);var Kr=n(30568),Jr=44,Qr=u.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.color,o=void 0===i?"primary":i,a=e.disableShrink,s=void 0!==a&&a,l=e.size,c=void 0===l?40:l,f=e.style,d=e.thickness,p=void 0===d?3.6:d,h=e.value,m=void 0===h?0:h,v=e.variant,g=void 0===v?"indeterminate":v,y=(0,Fn.A)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),b={},w={},x={};if("determinate"===g||"static"===g){var S=2*Math.PI*((Jr-p)/2);b.strokeDasharray=S.toFixed(3),x["aria-valuenow"]=Math.round(m),b.strokeDashoffset="".concat(((100-m)/100*S).toFixed(3),"px"),w.transform="rotate(-90deg)"}return u.createElement("div",(0,k.A)({className:(0,Fe.default)(n.root,r,"inherit"!==o&&n["color".concat((0,Kr.A)(o))],{determinate:n.determinate,indeterminate:n.indeterminate,static:n.static}[g]),style:(0,k.A)({width:c,height:c},w,f),ref:t,role:"progressbar"},x,y),u.createElement("svg",{className:n.svg,viewBox:"".concat(22," ").concat(22," ").concat(Jr," ").concat(Jr)},u.createElement("circle",{className:(0,Fe.default)(n.circle,s&&n.circleDisableShrink,{determinate:n.circleDeterminate,indeterminate:n.circleIndeterminate,static:n.circleStatic}[g]),style:b,cx:Jr,cy:Jr,r:(Jr-p)/2,fill:"none",strokeWidth:p})))}));const ei=(0,a.A)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(Qr);var ti=n(76058),ni=n(25349),ri=n(40571),ii=n(11452);function oi(e){return oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oi(e)}function ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function si(e,t){return si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},si(e,t)}function li(e){return li=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},li(e)}var ui=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&si(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=li(r);if(i){var n=li(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===oi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"nextSearchResult",value:function(e){var t=this.props,n=t.searchHits;(0,t.selectAnnotation)(n[e+1].annotations[0])}},{key:"previousSearchResult",value:function(e){var t=this.props,n=t.searchHits;(0,t.selectAnnotation)(n[e-1].annotations[0])}},{key:"hasNextResult",value:function(e){var t=this.props.searchHits;return 0!==t.length&&e<t.length-1}},{key:"hasPreviousResult",value:function(e){return 0!==this.props.searchHits.length&&e>0}},{key:"render",value:function(){var e=this,t=this.props,n=t.numTotal,r=t.searchHits,i=t.selectedContentSearchAnnotation,o=t.classes,a=t.t,s="rtl"===t.direction?{transform:"rotate(180deg)"}:{},l=r.findIndex((function(e){return e.annotations.includes(i[0])})),c=r.length;return r.length<n&&(c+="+"),u.createElement(u.Fragment,null,r.length>0&&u.createElement(Ce.A,{variant:"body2",align:"center",classes:o},u.createElement(Ie.A,{"aria-label":a("searchPreviousResult"),disabled:!this.hasPreviousResult(l),onClick:function(){return e.previousSearchResult(l)}},u.createElement(ri.A,{style:s})),u.createElement("span",{style:{unicodeBidi:"plaintext"}},a("pagination",{current:l+1,total:c})),u.createElement(Ie.A,{"aria-label":a("searchNextResult"),disabled:!this.hasNextResult(l),onClick:function(){return e.nextSearchResult(l)}},u.createElement(ii.A,{style:s}))))}}])&&ai(t.prototype,n),a}(u.Component);ui.defaultProps={classes:{},numTotal:void 0,searchHits:[],t:function(e){return e}};var ci=n(64640),fi=(0,r.Zz)((0,i.Ng)((function(e,t){var n=t.companionWindowId,r=t.windowId;return{direction:(0,Ee.b3)(e),numTotal:(0,ci.LR)(e,{companionWindowId:n,windowId:r}),searchHits:(0,ci.XK)(e,{companionWindowId:n,windowId:r}),selectedContentSearchAnnotation:(0,ci.SU)(e,{companionWindowId:n,windowId:r})}}),(function(e,t){var n=t.windowId;return{selectAnnotation:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e(Pe.gN.apply(Q,[n].concat(r)))}}})),(0,a.A)((function(e){return{body2:{marginLeft:"-16px",width:"100%"}}})),(0,o.C)(),(0,s.h)("SearchPanelNavigation"));const di=fi(ui);function pi(e){return pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pi(e)}function hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hi(Object(n),!0).forEach((function(t){vi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yi(e,t){return yi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yi(e,t)}function bi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wi(e){return wi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wi(e)}var xi=function(e){return Mr()(e)?e.match:e},Si=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yi(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=wi(r);if(i){var n=wi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===pi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bi(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={search:e.query,suggestions:[]},t.handleChange=t.handleChange.bind(bi(t)),t.submitSearch=t.submitSearch.bind(bi(t)),t.getSuggestions=t.getSuggestions.bind(bi(t)),t.selectItem=t.selectItem.bind(bi(t)),t.fetchAutocomplete=Rr()(t.fetchAutocomplete.bind(bi(t)),500),t.receiveAutocomplete=t.receiveAutocomplete.bind(bi(t)),t}return t=a,n=[{key:"componentDidUpdate",value:function(e){var t=this.props.query;t!==e.query&&this.setState({search:t})}},{key:"handleChange",value:function(e,t,n){("reset"!==n||t)&&(this.setState({search:t,suggestions:[]}),t&&this.fetchAutocomplete(t))}},{key:"getSuggestions",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).showEmpty,n=void 0!==t&&t,r=this.state.suggestions;return 0!==Pr()(e.trim()).toLowerCase().length||n?r:[]}},{key:"fetchAutocomplete",value:function(e){var t=this.props.autocompleteService;t&&e&&fetch("".concat(t.id,"?q=").concat(e)).then((function(e){return e.json()})).then(this.receiveAutocomplete)}},{key:"receiveAutocomplete",value:function(e){this.setState({suggestions:e.terms})}},{key:"submitSearch",value:function(e){var t=this.props,n=t.companionWindowId,r=t.fetchSearch,i=t.searchService,o=t.windowId,a=this.state.search;e&&e.preventDefault(),a&&r(o,n,"".concat(i.id,"?q=").concat(a),a)}},{key:"selectItem",value:function(e,t,n){t&&xi(t)&&this.setState({search:xi(t)},this.submitSearch)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.companionWindowId,r=e.searchIsFetching,i=e.t,o=e.windowId,a=this.state,s=a.search,l=a.suggestions,c="search-".concat(n);return u.createElement(u.Fragment,null,u.createElement("form",{onSubmit:this.submitSearch,className:t.form},u.createElement(Yr,{id:c,inputValue:s,options:l,getOptionLabel:xi,getOptionSelected:function(e,t){return Pr()(xi(e).trim()).toLowerCase()===Pr()(xi(t).trim()).toLowerCase()},noOptionsText:"",onChange:this.selectItem,onInputChange:this.handleChange,freeSolo:!0,renderInput:function(e){return u.createElement(ti.A,Object.assign({},e,{label:i("searchInputLabel"),InputProps:mi(mi({},e.InputProps),{},{endAdornment:u.createElement("div",{className:t.endAdornment},u.createElement(Ie.A,{"aria-label":i("searchSubmitAria"),type:"submit"},u.createElement(ni.A,null)),Boolean(r)&&u.createElement(ei,{className:t.searchProgress,size:50}))})}))}})),u.createElement(di,{windowId:o,companionWindowId:n}))}}],n&&gi(t.prototype,n),a}(u.Component);Si.defaultProps={autocompleteService:void 0,classes:{},query:"",t:function(e){return e}};var Ei={fetchSearch:Ar.$Q},_i=(0,r.Zz)((0,i.Ng)((function(e,t){var n=t.companionWindowId,r=t.windowId;return{autocompleteService:(0,mt.J4)(e,{windowId:r}),query:(0,ci.V8)(e,{companionWindowId:n,windowId:r}),searchIsFetching:(0,ci.bq)(e,{companionWindowId:n,windowId:r}),searchService:(0,mt.B8)(e,{windowId:r})}}),Ei),(0,a.A)((function(e){return{endAdornment:{position:"absolute",right:0},form:{paddingBottom:e.spacing(1),paddingRight:e.spacing(1.5),width:"100%"},searchProgress:{position:"absolute",right:0}}})),(0,o.C)(),(0,s.h)("SearchPanelControls"));const Ti=_i(Si);var Oi=n(81511),Ai=n(36571),Ci=n(59410),Pi=n(68445);function ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ri(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ii=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.maxChars,o=void 0===i?200:i,a=r.minimum,s=void 0===a?20:a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hit=t,this.annotation=n,this.maxChars=o||200,this.minimum=s||20}var t,n;return t=e,(n=[{key:"match",get:function(){return this.hit.match||this.annotation&&this.annotation.resource.resource.chars||"-"}},{key:"charsOnSide",get:function(){var e,t=(this.maxChars-this.match.length)/2,n=[(this.hit.before||"").length,(this.hit.after||"").length].filter((function(e){return e>0}));return Math.max(Math.min.apply(Math,[t].concat(function(e){if(Array.isArray(e))return ki(e)}(e=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ki(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ki(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),this.minimum)}},{key:"before",get:function(){return this.hit.before?this.hit.before.substring(this.hit.before.length-this.charsOnSide,this.hit.before.length):""}},{key:"after",get:function(){return this.hit.after?this.hit.after.substring(0,Math.min(this.hit.after.length,this.charsOnSide)):""}}])&&Ri(t.prototype,n),e}();function Mi(e){return Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mi(e)}function Di(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Li(e,t){return Li=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Li(e,t)}function Ni(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zi(e){return zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zi(e)}var Bi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Li(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=zi(r);if(i){var n=zi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Mi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ni(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).handleClick=t.handleClick.bind(Ni(t)),t}return t=a,n=[{key:"componentDidMount",value:function(){this.props.selected&&this.announceHit()}},{key:"componentDidUpdate",value:function(e){var t=this.props.selected;t&&t!==e.selected&&this.announceHit()}},{key:"handleClick",value:function(){var e=this.props,t=e.annotation,n=e.annotationId,r=e.selectAnnotation;t&&n&&r(n)}},{key:"announceHit",value:function(){var e=this.props,t=e.annotation,n=e.annotationLabel,r=e.announcer,i=e.canvasLabel,o=e.hit,a=e.index,s=e.t,l=e.total;if(o){var u=new Ii(o,t);r([s("pagination",{current:a+1,total:l}),i,n,u.before,u.match,u.after].join(" "))}}},{key:"render",value:function(){var e,t=this.props,n=t.adjacent,r=t.annotation,i=t.annotationLabel,o=t.canvasLabel,a=t.classes,s=t.companionWindowId,l=t.containerRef,c=t.hit,f=t.focused,d=t.index,p=t.showDetails,h=t.selected,m=t.t,v=t.windowSelected;if(f&&!h)return null;var g=f?c:c&&new Ii(c,r),y=c&&g.before!==c.before&&g.after!==c.after,b="".concat(s,"-").concat(d);return u.createElement(Ye,{containerRef:l,offsetTop:96,scrollTo:v&&!f},u.createElement(Pi.A,{className:(0,Fe.default)(a.listItem,(e={},Di(e,a.adjacent,n),Di(e,a.selected,h),Di(e,a.focused,f),Di(e,a.windowSelected,v),e)),button:!h,component:"li",onClick:this.handleClick,selected:h},u.createElement(Ve.A,{primaryTypographyProps:{variant:"body1"}},u.createElement(Ce.A,{variant:"subtitle2",className:a.subtitle},u.createElement(We.A,{component:"span",label:d+1,className:a.hitCounter}),u.createElement("span",{id:b},o)),i&&u.createElement(Ce.A,{variant:"subtitle2"},i),c&&u.createElement(u.Fragment,null,u.createElement(Ge.A,{ruleSet:"iiif",htmlString:g.before})," ",u.createElement("strong",null,u.createElement(Ge.A,{ruleSet:"iiif",htmlString:g.match}))," ",u.createElement(Ge.A,{ruleSet:"iiif",htmlString:g.after})," ",y&&!f&&u.createElement(Lt.A,{className:a.inlineButton,onClick:p,color:"secondary",size:"small","aria-describedby":b},m("more"))),!c&&r&&u.createElement(Ge.A,{ruleSet:"iiif",htmlString:r.chars}))))}}],n&&ji(t.prototype,n),a}(u.Component);function Fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fi(Object(n),!0).forEach((function(t){Hi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Bi.defaultProps={adjacent:!1,annotation:void 0,annotationId:void 0,annotationLabel:void 0,canvasLabel:void 0,classes:{},companionWindowId:void 0,containerRef:void 0,focused:!1,hit:void 0,index:void 0,selectAnnotation:function(){},selected:!1,showDetails:function(){},t:function(e){return e},total:void 0,windowSelected:!1};var Vi=(0,r.Zz)((0,i.Ng)((function(e,t){var n,r=t.annotationId,i=t.hit,o=void 0===i?{annotations:[]}:i,a=t.companionWindowId,s=t.windowId,l=r||o.annotations[0],u=(0,ci.KB)(e,{annotationUri:l,companionWindowId:a,windowId:s}),c=(0,ci.wt)(e,{annotationUri:l,companionWindowId:a,windowId:s}),f=(0,ee.tv)(e,{windowId:s}),d=(0,ci.SU)(e,{companionWindowId:a,windowId:s}),p=(0,Ae.e3)(e,{windowId:s}),h=[r].concat(function(e){if(Array.isArray(e))return Ui(e)}(n=o.annotations)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return Ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ui(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{adjacent:f.includes(u.targetId),annotation:u,annotationId:l,annotationLabel:c[0],canvasLabel:u&&(0,ee.T2)(e,{canvasId:u.targetId,windowId:s}),selected:d[0]&&h.includes(d[0]),windowSelected:p&&h.includes(p)}}),(function(e,t){var n=t.windowId;return{selectAnnotation:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e(Pe.gN.apply(Q,[n].concat(r)))}}})),(0,a.A)((function(e){return{adjacent:{},focused:{},hitCounter:Wi(Wi({},e.typography.subtitle2),{},{backgroundColor:e.palette.hitCounter.default,height:30,marginRight:e.spacing(1),verticalAlign:"inherit"}),inlineButton:{"& span":{lineHeight:"1.5em"},margin:0,padding:0,textTransform:"none"},listItem:{"&$adjacent":{"& $hitCounter":{backgroundColor:e.palette.highlights.secondary},"&$windowSelected":{"& $hitCounter":{backgroundColor:e.palette.highlights.primary}}},"&$windowSelected":{"& $hitCounter":{backgroundColor:e.palette.highlights.primary},"&$focused":{"&:hover":{backgroundColor:"inherit"},backgroundColor:"inherit"}},borderBottom:"0.5px solid ".concat(e.palette.divider),paddingRight:8},selected:{},subtitle:{marginBottom:e.spacing(1.5)},windowSelected:{}}})),(0,o.C)(),(0,s.h)("SearchHit"));const Gi=Vi(Bi);function qi(e){return qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qi(e)}function Xi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zi(e,t){return Zi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zi(e,t)}function $i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yi(e){return Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yi(e)}var Ki=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zi(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Yi(r);if(i){var n=Yi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===qi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $i(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={focused:!1},t.toggleFocus=t.toggleFocus.bind($i(t)),t}return t=a,n=[{key:"toggleFocus",value:function(){var e=this.state.focused;this.setState({focused:!e})}},{key:"renderSearchHitsAndAnnotations",value:function(e){var t=this,n=this.props,r=n.companionWindowId,i=n.containerRef,o=n.searchAnnotations,a=n.searchHits,s=n.windowId,l=this.state.focused;return 0===a.length&&o.length>0?o.map((function(n,a){return u.createElement(Gi,{announcer:e,annotationId:n.id,companionWindowId:r,containerRef:i,key:n.id,focused:l,index:a,total:o.length,windowId:s,showDetails:t.toggleFocus})})):a.map((function(n,o){return u.createElement(Gi,{announcer:e,containerRef:i,companionWindowId:r,key:n.annotations[0],focused:l,hit:n,index:o,total:a.length,windowId:s,showDetails:t.toggleFocus})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.companionWindowId,i=t.containerRef,o=t.isFetching,a=t.fetchSearch,s=t.nextSearch,l=t.query,c=t.searchAnnotations,f=t.searchHits,d=t.searchNumTotal,p=t.t,h=t.windowId,m=this.state.focused,v=l&&!o&&0===f.length&&0===c.length;return u.createElement(u.Fragment,null,m&&u.createElement(Ye,{containerRef:i,offsetTop:96,scrollTo:!0},u.createElement(Lt.A,{onClick:this.toggleFocus,className:n.navigation,size:"small"},u.createElement(Ai.A,null),p("backToResults"))),v&&u.createElement(Ce.A,{className:n.noResults},p("searchNoResults")),u.createElement(Oi.A,{disablePadding:!0},u.createElement(Ci.uj,null,(function(t){var n=t.announcePolite;return e.renderSearchHitsAndAnnotations(n)}))),s&&u.createElement(Lt.A,{className:n.moreButton,color:"secondary",onClick:function(){return a(h,r,s,l)}},p("moreResults"),u.createElement("br",null),"(".concat(p("searchResultsRemaining",{numLeft:d-f.length}),")")))}}],n&&Xi(t.prototype,n),a}(u.Component);function Ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(n),!0).forEach((function(t){eo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ki.defaultProps={classes:{},containerRef:void 0,isFetching:!1,nextSearch:void 0,query:void 0,searchAnnotations:[],searchHits:[],searchNumTotal:void 0,t:function(e){return e}};var to={fetchSearch:Ar.$Q},no=(0,r.Zz)((0,i.Ng)((function(e,t){var n=t.companionWindowId,r=t.windowId;return{isFetching:(0,ci.bq)(e,{companionWindowId:n,windowId:r}),nextSearch:(0,ci.TU)(e,{companionWindowId:n,windowId:r}),query:(0,ci.V8)(e,{companionWindowId:n,windowId:r}),searchAnnotations:(0,ci.TA)(e,{companionWindowId:n,windowId:r}),searchHits:(0,ci.XK)(e,{companionWindowId:n,windowId:r}),searchNumTotal:(0,ci.LR)(e,{companionWindowId:n,windowId:r})}}),to),(0,a.A)((function(e){return{moreButton:{width:"100%"},navigation:{textTransform:"none"},noResults:Qi(Qi({},e.typography.h6),{},{padding:e.spacing(2)}),toggleFocus:Qi({},e.typography.subtitle1)}})),(0,o.C)(),(0,s.h)("SearchResults"));const ro=no(Ki);function io(e){return io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},io(e)}function oo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ao(e,t){return ao=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ao(e,t)}function so(e){return so=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},so(e)}var lo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ao(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=so(r);if(i){var n=so(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===io(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).containerRef=u.createRef(),t}return t=a,n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.fetchSearch,r=e.windowId,i=e.id,o=e.query,a=e.removeSearch,s=e.searchService,l=e.suggestedSearches,c=e.t;return u.createElement(at.A,{ariaLabel:c("searchTitle"),title:u.createElement(u.Fragment,null,c("searchTitle"),o&&""!==o&&u.createElement(We.A,{className:t.clearChip,color:"secondary",label:c("clearSearch"),onClick:a,onDelete:a,size:"small",variant:"outlined"})),windowId:r,id:i,titleControls:u.createElement(Ti,{companionWindowId:i,windowId:r}),ref:this.containerRef},u.createElement(ro,{containerRef:this.containerRef,companionWindowId:i,windowId:r}),n&&l&&""===o&&l.map((function(e){return u.createElement(Ce.A,{component:"p",key:e,variant:"body1"},u.createElement(Lt.A,{className:t.inlineButton,color:"secondary",onClick:function(){return n("".concat(s.id,"?q=").concat(e),e)}},c("suggestSearch",{query:e})))})))}}],n&&oo(t.prototype,n),a}(u.Component);lo.defaultProps={classes:{},fetchSearch:void 0,query:"",suggestedSearches:[],t:function(e){return e}};var uo=(0,r.Zz)((0,i.Ng)((function(e,t){var n=t.id,r=t.windowId;return{query:(0,ci.V8)(e,{companionWindowId:n,windowId:r}),searchService:(0,mt.B8)(e,{windowId:r}),suggestedSearches:(0,Se.zk)(e,{windowId:r}).suggestedSearches}}),(function(e,t){return{fetchSearch:function(n,r){return e(Ar.$Q(t.windowId,t.id,n,r))},removeSearch:function(){return e(Ar.Vw(t.windowId,t.id))}}})),(0,a.A)((function(e){return{clearChip:{marginLeft:e.spacing(1)},inlineButton:{"& span":{lineHeight:"1.5em"},margin:e.spacing(2),padding:0,textAlign:"inherit",textTransform:"none"}}})),(0,o.C)(),(0,s.h)("SearchPanel"));const co=uo(lo);var fo=n(44269),po=n(33342),ho=n(13443),mo=n(57525),vo=n(65022),go=u.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,o=e.component,a=void 0===o?"div":o,s=e.disablePointerEvents,l=void 0!==s&&s,c=e.disableTypography,f=void 0!==c&&c,d=e.position,p=e.variant,h=(0,Fn.A)(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),m=(0,vo.t)()||{},v=p;return p&&m.variant,m&&!v&&(v=m.variant),u.createElement(vo.A.Provider,{value:null},u.createElement(a,(0,k.A)({className:(0,Fe.default)(r.root,i,"end"===d?r.positionEnd:r.positionStart,l&&r.disablePointerEvents,m.hiddenLabel&&r.hiddenLabel,"filled"===v&&r.filled,"dense"===m.margin&&r.marginDense),ref:t},h),"string"!=typeof n||f?n:u.createElement(Ce.A,{color:"textSecondary"},n)))}));const yo=(0,a.A)({root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}},{name:"MuiInputAdornment"})(go);var bo=n(13611),wo=n(92549),xo=n(46783),So=n(37074);function Eo(e,t){var n=(0,u.useState)((function(){return{inputs:t,result:e()}}))[0],r=(0,u.useRef)(!0),i=(0,u.useRef)(n),o=r.current||Boolean(t&&i.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,i.current.inputs))?i.current:{inputs:t,result:e()};return(0,u.useEffect)((function(){r.current=!1,i.current=o}),[o]),o.result}var _o=Eo,To=function(e,t){return Eo((function(){return e}),t)},Oo=function(e){var t=e.top,n=e.right,r=e.bottom,i=e.left;return{top:t,right:n,bottom:r,left:i,width:n-i,height:r-t,x:i,y:t,center:{x:(n+i)/2,y:(r+t)/2}}},Ao=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},Co=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},Po={top:0,right:0,bottom:0,left:0},ko=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?Po:n,i=e.border,o=void 0===i?Po:i,a=e.padding,s=void 0===a?Po:a,l=Oo(Ao(t,r)),u=Oo(Co(t,o)),c=Oo(Co(u,s));return{marginBox:l,borderBox:Oo(t),paddingBox:u,contentBox:c,margin:r,border:o,padding:s}},Ro=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e,t){throw new Error("Invariant failed")}(),n},Io=function(e,t){var n,r,i=e.borderBox,o=e.border,a=e.margin,s=e.padding,l=(r=t,{top:(n=i).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return ko({borderBox:l,border:o,margin:a,padding:s})},Mo=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),Io(e,t)},Do=function(e,t){var n={top:Ro(t.marginTop),right:Ro(t.marginRight),bottom:Ro(t.marginBottom),left:Ro(t.marginLeft)},r={top:Ro(t.paddingTop),right:Ro(t.paddingRight),bottom:Ro(t.paddingBottom),left:Ro(t.paddingLeft)},i={top:Ro(t.borderTopWidth),right:Ro(t.borderRightWidth),bottom:Ro(t.borderBottomWidth),left:Ro(t.borderLeftWidth)};return ko({borderBox:e,margin:n,padding:r,border:i})},jo=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return Do(t,n)};const Lo=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t=i,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};var No=n(8568);function zo(e,t){}function Bo(){}function Fo(e,t,n){var r=t.map((function(t){var r,i,o=(r=n,i=t.options,(0,k.A)({},r,{},i));return e.addEventListener(t.eventName,t.fn,o),function(){e.removeEventListener(t.eventName,t.fn,o)}}));return function(){r.forEach((function(e){e()}))}}n(3324),zo.bind(null,"warn"),zo.bind(null,"error");var Wo=!0,Ho="Invariant failed";function Uo(e){this.message=e}function Vo(e,t){if(!e)throw new Uo(Wo?Ho:Ho+": "+(t||""))}Uo.prototype.toString=function(){return this.message};var Go=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=Bo,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof Uo&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}(0,I.A)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=Fo(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof Uo))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(u.Component),qo=function(e){return e+1},Xo=function(e,t){var n=e.droppableId===t.droppableId,r=qo(e.index),i=qo(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+i+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+i+"\n  "},Zo=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},$o=function(e){return"\n  The item has returned to its starting position\n  of "+qo(e.index)+"\n"},Yo=function(e){return"\n  You have lifted an item in position "+qo(e.source.index)+"\n"},Ko=function(e){var t=e.destination;if(t)return Xo(e.source,t);var n=e.combine;return n?Zo(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},Jo=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+$o(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+Xo(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+Zo(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+$o(e.source)+"\n  "},Qo={x:0,y:0},ea=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},ta=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},na=function(e,t){return e.x===t.x&&e.y===t.y},ra=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},ia=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},oa=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},aa=function(e,t){return Math.min.apply(Math,t.map((function(t){return oa(e,t)})))},sa=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},la=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},ua=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},ca=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=Oo({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):Oo(e)},fa=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,o=function(e,t){return t?la(e,t.scroll.diff.displacement):e}(t.marginBox,i),a=function(e,t,n){var r;return n&&n.increasedBy?(0,k.A)({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(o,r,n);return{page:t,withPlaceholder:n,active:ca(a,i)}},da=function(e,t){e.frame||Vo(!1);var n=e.frame,r=ta(t,n.scroll.initial),i=ra(r),o=(0,k.A)({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}}),a=fa({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return(0,k.A)({},e,{frame:o,subject:a})};function pa(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function ha(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function ma(e,t){if(e.find)return e.find(t);var n=ha(e,t);return-1!==n?e[n]:void 0}function va(e){return Array.prototype.slice.call(e)}var ga=j((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),ya=j((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),ba=j((function(e){return pa(e)})),wa=j((function(e){return pa(e)})),xa=j((function(e,t){var n=wa(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function Sa(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Ea(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var _a=j((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),Ta=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Oa={point:Qo,value:0},Aa={invisible:{},visible:{},all:[]},Ca={displaced:Aa,displacedBy:Oa,at:null},Pa=function(e,t){return function(n){return e<=n&&n<=t}},ka=function(e){var t=Pa(e.top,e.bottom),n=Pa(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var i=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(i&&o)return!0;var a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!a||!s)||a&&o||s&&i}},Ra=function(e){var t=Pa(e.top,e.bottom),n=Pa(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},Ia={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Ma={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Da=function(e){var t=e.target,n=e.destination,r=e.viewport,i=e.withDroppableDisplacement,o=e.isVisibleThroughFrameFn,a=i?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:Qo;return la(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(a,n,o)&&function(e,t,n){return n(t)(e)}(a,r,o)},ja=function(e){return Da((0,k.A)({},e,{isVisibleThroughFrameFn:ka}))},La=function(e){return Da((0,k.A)({},e,{isVisibleThroughFrameFn:Ra}))},Na=function(e,t,n){if("boolean"==typeof n)return n;if(!t)return!0;var r=t.invisible,i=t.visible;if(r[e])return!1;var o=i[e];return!o||o.shouldAnimate};function za(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,o=e.forceShouldAnimate,a=e.last;return t.reduce((function(e,t){var s=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Oo(Ao(n,r))}(t,r),l=t.descriptor.id;if(e.all.push(l),!ja({target:s,destination:n,viewport:i,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var u={draggableId:l,shouldAnimate:Na(l,a,o)};return e.visible[l]=u,e}),{all:[],visible:{},invisible:{}})}function Ba(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,o=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:Aa,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function Fa(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,o=e.displacedBy,a=e.last,s=e.index,l=e.forceShouldAnimate,u=Ta(t,r);if(null==s)return Ba({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});var c=ma(n,(function(e){return e.descriptor.index===s}));if(!c)return Ba({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});var f=_a(t,n),d=n.indexOf(c);return{displaced:za({afterDragging:f.slice(d),destination:r,displacedBy:o,last:a,viewport:i.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Wa(e,t){return Boolean(t.effected[e])}var Ha=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Ua=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},Va=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return ia(t.line,n.marginBox[t.end]+Ha(t,r),Ua(t,n.marginBox,r))},Ga=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return ia(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),Ua(t,n.marginBox,r))},qa=function(e,t){var n=e.frame;return n?ea(t,n.scroll.diff.displacement):t},Xa=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.afterCritical,a=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,o=e.afterCritical,a=xa(i.descriptor.id,r),s=n.page,l=i.axis;if(!a.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return ia(t.line,n.contentBox[t.start]+Ha(t,r),Ua(t,n.contentBox,r))}({axis:l,moveInto:i.page,isMoving:s});var u=t.displaced,c=t.displacedBy,f=u.all[0];if(f){var d=r[f];if(Wa(f,o))return Ga({axis:l,moveRelativeTo:d.page,isMoving:s});var p=Io(d.page,c.point);return Ga({axis:l,moveRelativeTo:p,isMoving:s})}var h=a[a.length-1];if(h.descriptor.id===n.descriptor.id)return s.borderBox.center;if(Wa(h.descriptor.id,o)){var m=Io(h.page,ra(o.displacedBy.point));return Va({axis:l,moveRelativeTo:m,isMoving:s})}return Va({axis:l,moveRelativeTo:h.page,isMoving:s})}({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o}):function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=Ea(n);i||Vo(!1);var o=i.draggableId,a=r[o].page.borderBox.center,s=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,o=Boolean(t.visible[r]||t.invisible[r]);return Wa(r,n)?o?Qo:ra(i.point):o?i.point:Qo}({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return ea(a,s)}({impact:t,draggables:i,afterCritical:o}):a}(e),n=e.droppable;return n?qa(n,t):t},Za=function(e,t){var n=ta(t,e.scroll.initial),r=ra(n);return{frame:Oo({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function $a(e,t){return e.map((function(e){return t[e]}))}var Ya=function(e){var t,n,r=e.pageBorderBoxCenter,i=e.draggable,o=(t=e.viewport,n=r,ea(t.scroll.diff.displacement,n)),a=ta(o,i.page.borderBox.center);return ea(i.client.borderBox.center,a)},Ka=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,o=e.withDroppableDisplacement,a=e.onlyOnMainAxis,s=void 0!==a&&a,l=ta(r,t.page.borderBox.center),u={target:la(t.page.borderBox,l),destination:n,withDroppableDisplacement:o,viewport:i};return s?function(e){return Da((0,k.A)({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=Pa(e.top,e.bottom),r=Pa(e.left,e.right);return function(e){return t===Ia?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(u):La(u)},Ja=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,o=e.previousImpact,a=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,u=e.afterCritical;if(!r.isEnabled)return null;var c=xa(r.descriptor.id,i),f=Ta(n,r),d=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.previousImpact;if(!r.isCombineEnabled)return null;if(!Sa(o))return null;function a(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return(0,k.A)({},o,{at:t})}var s=o.displaced.all,l=s.length?s[0]:null;if(t)return l?a(l):null;var u=_a(n,i);if(!l)return u.length?a(u[u.length-1].descriptor.id):null;var c=ha(u,(function(e){return e.descriptor.id===l}));-1===c&&Vo(!1);var f=c-1;return f<0?null:a(u[f].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:c,previousImpact:o})||function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,o=e.destination,a=e.insideDestination,s=e.previousImpact,l=e.viewport,u=e.afterCritical,c=s.at;if(c||Vo(!1),"REORDER"===c.type){var f=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var o=i.index,a=t?o+1:o-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return a<s||a>(n?l:l+1)?null:a}({isMovingForward:t,isInHomeList:n,location:c.destination,insideDestination:a});return null==f?null:Fa({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:f})}var d=function(e){var t=e.isMovingForward,n=e.draggables,r=e.combine,i=e.afterCritical;if(!e.destination.isCombineEnabled)return null;var o=r.draggableId,a=n[o].descriptor.index;return Wa(o,i)?t?a:a-1:t?a+1:a}({isMovingForward:t,destination:o,displaced:s.displaced,draggables:i,combine:c.combine,afterCritical:u});return null==d?null:Fa({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}({isMovingForward:t,isInHomeList:f,draggable:n,draggables:i,destination:r,insideDestination:c,previousImpact:o,viewport:a,afterCritical:u});if(!d)return null;var p=Xa({impact:d,draggable:n,droppable:r,draggables:i,afterCritical:u});if(Ka({draggable:n,destination:r,newPageBorderBoxCenter:p,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Ya({pageBorderBoxCenter:p,draggable:n,viewport:a}),impact:d,scrollJumpRequest:null};var h=ta(p,s),m=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,o=e.maxScrollChange,a=Za(n,ea(n.scroll.current,o)),s=r.frame?da(r,ea(r.frame.scroll.current,o)):r,l=t.displaced,u=za({afterDragging:$a(l.all,i),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),c=za({afterDragging:$a(l.all,i),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),f={},d={},p=[l,u,c];return l.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,p);t?d[e]=t:f[e]=!0})),(0,k.A)({},t,{displaced:{all:l.all,invisible:f,visible:d}})}({impact:d,viewport:a,destination:r,draggables:i,maxScrollChange:h});return{clientSelection:l,impact:m,scrollJumpRequest:h}},Qa=function(e){var t=e.subject.active;return t||Vo(!1),t},es=function(e,t){var n=e.page.borderBox.center;return Wa(e.descriptor.id,t)?ta(n,t.displacedBy.point):n},ts=function(e,t){var n=e.page.borderBox;return Wa(e.descriptor.id,t)?la(n,ra(t.displacedBy.point)):n},ns=j((function(e,t){var n=t[e.line];return{value:n,point:ia(e.line,n)}})),rs=function(e,t){return(0,k.A)({},e,{scroll:(0,k.A)({},e.scroll,{max:t})})},is=function(e,t,n){var r=e.frame;Ta(t,e)&&Vo(!1),e.subject.withPlaceholder&&Vo(!1);var i=ns(e.axis,t.displaceBy).point,o=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return ia(r.line,t[r.line]);var i=e.subject.page.contentBox[r.size],o=xa(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-i;return o<=0?null:ia(r.line,o)}(e,i,n),a={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){var s=fa({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return(0,k.A)({},e,{subject:s})}var l=o?ea(r.scroll.max,o):r.scroll.max,u=rs(r,l),c=fa({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:u});return(0,k.A)({},e,{subject:c,frame:u})},os=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},as=function(e){var t=e.state,n=e.type,r=function(e,t){var n=os(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),i=Boolean(r),o=t.dimensions.droppables[t.critical.droppable.id],a=r||o,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!i)return null;var u="MOVE_DOWN"===n||"MOVE_RIGHT"===n,c=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,d=t.dimensions,p=d.draggables,h=d.droppables;return l?Ja({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:c,destination:a,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,o=e.draggables,a=e.droppables,s=e.viewport,l=e.afterCritical,u=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,o=e.viewport,a=r.subject.active;if(!a)return null;var s=r.axis,l=Pa(a[s.start],a[s.end]),u=ba(i).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return ka(o.frame)(Qa(e))})).filter((function(e){var n=Qa(e);return t?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]})).filter((function(e){var t=Qa(e),n=Pa(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(a[s.start])||n(a[s.end])})).sort((function(e,n){var r=Qa(e)[s.crossAxisStart],i=Qa(n)[s.crossAxisStart];return t?r-i:i-r})).filter((function(e,t,n){return Qa(e)[s.crossAxisStart]===Qa(n[0])[s.crossAxisStart]}));if(!u.length)return null;if(1===u.length)return u[0];var c=u.filter((function(e){return Pa(Qa(e)[s.start],Qa(e)[s.end])(n[s.line])}));return 1===c.length?c[0]:c.length>1?c.sort((function(e,t){return Qa(e)[s.start]-Qa(t)[s.start]}))[0]:u.sort((function(e,t){var r=aa(n,ua(Qa(e))),i=aa(n,ua(Qa(t)));return r!==i?r-i:Qa(e)[s.start]-Qa(t)[s.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:a,viewport:s});if(!u)return null;var c=xa(u.descriptor.id,o),f=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.afterCritical,o=e.insideDestination.filter((function(e){return La({target:ts(e,i),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var o=oa(t,qa(r,es(e,i))),a=oa(t,qa(r,es(n,i)));return o<a?-1:a<o?1:e.descriptor.index-n.descriptor.index}));return o[0]||null}({pageBorderBoxCenter:n,viewport:s,destination:u,insideDestination:c,afterCritical:l}),d=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,o=e.draggables,a=e.destination,s=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var u={displaced:Aa,displacedBy:Oa,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},c=Xa({impact:u,draggable:i,droppable:a,draggables:o,afterCritical:l}),f=Ta(i,a)?a:is(a,i,o);return Ka({draggable:i,destination:f,newPageBorderBoxCenter:c,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?u:null}var d,p=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),h=(d=n.descriptor.index,n.descriptor.id===i.descriptor.id||p?d:d+1);return Fa({draggable:i,insideDestination:r,destination:a,viewport:s,displacedBy:ns(a.axis,i.displaceBy),last:Aa,index:h})}({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:o,moveRelativeTo:f,insideDestination:c,viewport:s,afterCritical:l});if(!d)return null;var p=Xa({impact:d,draggable:r,droppable:u,draggables:o,afterCritical:l});return{clientSelection:Ya({pageBorderBoxCenter:p,draggable:r,viewport:s}),impact:d,scrollJumpRequest:null}}({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:c,isOver:a,draggables:p,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function ss(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function ls(e){var t=Pa(e.top,e.bottom),n=Pa(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}var us=function(e,t){return Oo(la(e,t))};function cs(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var fs=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,o=e.previousImpact,a=e.viewport,s=e.afterCritical,l=us(n.page.borderBox,t),u=function(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=ba(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,i=e.subject.active;if(!i)return!1;if(r=i,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(ls(i)(t.center))return!0;var o=e.axis,a=i.center[o.crossAxisLine],s=t[o.crossAxisStart],l=t[o.crossAxisEnd],u=Pa(i[o.crossAxisStart],i[o.crossAxisEnd]),c=u(s),f=u(l);return!c&&!f||(c?s<a:l>a)}));return i.length?1===i.length?i[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.candidates,r=e.draggable.page.borderBox.center,i=n.map((function(e){var n=e.axis,i=ia(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:oa(r,i)}})).sort((function(e,t){return t.distance-e.distance}));return i[0]?i[0].id:null}({pageBorderBox:t,draggable:n,candidates:i}):null}({pageBorderBox:l,draggable:n,droppables:i});if(!u)return Ca;var c=i[u],f=xa(c.descriptor.id,r),d=function(e,t){var n=e.frame;return n?us(t,n.scroll.diff.value):t}(c,l);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,o=e.insideDestination,a=e.afterCritical;if(!i.isCombineEnabled)return null;var s=i.axis,l=ns(i.axis,t.displaceBy),u=l.value,c=n[s.start],f=n[s.end],d=ma(_a(t,o),(function(e){var t=e.descriptor.id,n=e.page.borderBox,i=n[s.size]/4,o=Wa(t,a),l=cs({displaced:r.displaced,id:t});return o?l?f>n[s.start]+i&&f<n[s.end]-i:c>n[s.start]-u+i&&c<n[s.end]-u-i:l?f>n[s.start]+u+i&&f<n[s.end]+u-i:c>n[s.start]+i&&c<n[s.end]-i}));return d?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:d.descriptor.id,droppableId:i.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:d,draggable:n,previousImpact:o,destination:c,insideDestination:f,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.last,a=e.viewport,s=e.afterCritical,l=r.axis,u=ns(r.axis,n.displaceBy),c=u.value,f=t[l.start],d=t[l.end],p=function(e){var t=e.draggable,n=e.closest;return n?e.inHomeList&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:ma(_a(n,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=Wa(t,s),i=cs({displaced:o,id:t});return r?i?d<=n:f<n-c:i?d<=n+c:f<n})),inHomeList:Ta(n,r)});return Fa({draggable:n,insideDestination:i,destination:r,viewport:a,last:o,displacedBy:u,index:p})}({pageBorderBoxWithDroppableScroll:d,draggable:n,destination:c,insideDestination:f,last:o.displaced,viewport:a,afterCritical:s})},ds=function(e,t){var n;return(0,k.A)({},e,((n={})[t.descriptor.id]=t,n))},ps=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,o=e.impact,a=e.scrollJumpRequest,s=i||t.viewport,l=r||t.dimensions,u=n||t.current.client.selection,c=ta(u,t.initial.client.selection),f={offset:c,selection:u,borderBoxCenter:ea(t.initial.client.borderBoxCenter,c)},d={selection:ea(f.selection,s.scroll.current),borderBoxCenter:ea(f.borderBoxCenter,s.scroll.current),offset:ea(f.offset,s.scroll.diff.value)},p={client:f,page:d};if("COLLECTING"===t.phase)return(0,k.A)({phase:"COLLECTING"},t,{dimensions:l,viewport:s,current:p});var h=l.draggables[t.critical.draggable.id],m=o||fs({pageOffset:d.offset,draggable:h,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),v=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.impact,o=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,i=os(t),o=os(n);if(!i)return r;if(i===o)return r;var a=r[i];if(!a.subject.withPlaceholder)return r;var s=function(e){var t=e.subject.withPlaceholder;t||Vo(!1);var n=e.frame;if(!n){var r=fa({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return(0,k.A)({},e,{subject:r})}var i=t.oldFrameMaxScroll;i||Vo(!1);var o=rs(n,i),a=fa({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return(0,k.A)({},e,{subject:a,frame:o})}(a);return ds(r,s)}({previousImpact:e.previousImpact,impact:i,droppables:r}),a=os(i);if(!a)return o;var s=r[a];if(Ta(t,s))return o;if(s.subject.withPlaceholder)return o;var l=is(s,t,n);return ds(o,l)}({draggable:h,impact:m,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return(0,k.A)({},t,{current:p,dimensions:{draggables:l.draggables,droppables:v},impact:m,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})},hs=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,o=e.forceShouldAnimate,a=t.displaced,s=function(e,t){return e.map((function(e){return t[e]}))}(a.all,r),l=za({afterDragging:s,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:a});return(0,k.A)({},t,{displaced:l})},ms=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.viewport,a=e.afterCritical,s=Xa({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:a});return Ya({pageBorderBoxCenter:s,draggable:n,viewport:o})},vs=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&Vo(!1);var i=t.impact,o=r||t.viewport,a=n||t.dimensions,s=a.draggables,l=a.droppables,u=s[t.critical.draggable.id],c=os(i);c||Vo(!1);var f=l[c],d=hs({impact:i,viewport:o,destination:f,draggables:s}),p=ms({impact:d,draggable:u,droppable:f,draggables:s,viewport:o,afterCritical:t.afterCritical});return ps({impact:d,clientSelection:p,state:t,dimensions:a,viewport:o})},gs=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,o=ns(n.axis,t.displaceBy),a=xa(n.descriptor.id,r),s=a.indexOf(t);-1===s&&Vo(!1);var l,u=a.slice(s+1),c=u.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),f={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:o,effected:c};return{impact:{displaced:za({afterDragging:u,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:f}},ys=function(e){return"SNAP"===e.movementMode},bs=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:ds(e.droppables,t)}}(e.dimensions,t);return!ys(e)||n?ps({state:e,dimensions:r}):vs({state:e,dimensions:r})};function ws(e){return e.isDragging&&"SNAP"===e.movementMode?(0,k.A)({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var xs={phase:"IDLE",completed:null,shouldFlush:!1},Ss=function(e,t){if(void 0===e&&(e=xs),"FLUSH"===t.type)return(0,k.A)({},xs,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Vo(!1);var n=t.payload,r=n.critical,i=n.clientSelection,o=n.viewport,a=n.dimensions,s=n.movementMode,l=a.draggables[r.draggable.id],u=a.droppables[r.droppable.id],c={selection:i,borderBoxCenter:l.client.borderBox.center,offset:Qo},f={client:c,page:{selection:ea(c.selection,o.scroll.initial),borderBoxCenter:ea(c.selection,o.scroll.initial),offset:ea(c.selection,o.scroll.diff.value)}},d=ba(a.droppables).every((function(e){return!e.isFixedOnPage})),p=gs({draggable:l,home:u,draggables:a.draggables,viewport:o}),h=p.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:a,initial:f,current:f,isWindowScrollAllowed:d,impact:h,afterCritical:p.afterCritical,onLiftImpact:h,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&Vo(!1),(0,k.A)({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Vo(!1),function(e){var t=e.state,n=e.published,r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return da(n,e.scroll)})),i=(0,k.A)({},t.dimensions.droppables,{},ga(r)),o=ya(function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,o=function(e){var t=e.frame;return t||Vo(!1),t}(n[t]),a=o.scroll.diff.value,s=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=Io(t.client,n),o=Mo(i,r);return(0,k.A)({},t,{placeholder:(0,k.A)({},t.placeholder,{client:i}),client:i,page:o})}({draggable:e,offset:ea(i,a),initialWindowScroll:r.scroll.initial});return s}))}({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),a=(0,k.A)({},t.dimensions.draggables,{},o);n.removals.forEach((function(e){delete a[e]}));var s={droppables:i,draggables:a},l=os(t.impact),u=l?s.droppables[l]:null,c=s.draggables[t.critical.draggable.id],f=s.droppables[t.critical.droppable.id],d=gs({draggable:c,home:f,draggables:a,viewport:t.viewport}),p=d.impact,h=d.afterCritical,m=u&&u.isCombineEnabled?t.impact:p,v=fs({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:m,viewport:t.viewport,afterCritical:h}),g=(0,k.A)({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:v,onLiftImpact:p,dimensions:s,afterCritical:h,forceShouldAnimate:!1});return"COLLECTING"===t.phase?g:(0,k.A)({phase:"DROP_PENDING"},g,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;ss(e)||Vo(!1);var m=t.payload.client;return na(m,e.current.client.selection)?e:ps({state:e,clientSelection:m,impact:ys(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return ws(e);if("COLLECTING"===e.phase)return ws(e);ss(e)||Vo(!1);var v=t.payload,g=v.id,y=v.newScroll,b=e.dimensions.droppables[g];if(!b)return e;var w=da(b,y);return bs(e,w,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;ss(e)||Vo(!1);var x=t.payload,S=x.id,E=x.isEnabled,_=e.dimensions.droppables[S];_||Vo(!1),_.isEnabled===E&&Vo(!1);var T=(0,k.A)({},_,{isEnabled:E});return bs(e,T,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;ss(e)||Vo(!1);var O=t.payload,A=O.id,C=O.isCombineEnabled,P=e.dimensions.droppables[A];P||Vo(!1),P.isCombineEnabled===C&&Vo(!1);var R=(0,k.A)({},P,{isCombineEnabled:C});return bs(e,R,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;ss(e)||Vo(!1),e.isWindowScrollAllowed||Vo(!1);var I=t.payload.newScroll;if(na(e.viewport.scroll.current,I))return ws(e);var M=Za(e.viewport,I);return ys(e)?vs({state:e,viewport:M}):ps({state:e,viewport:M})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!ss(e))return e;var D=t.payload.maxScroll;if(na(D,e.viewport.scroll.max))return e;var j=(0,k.A)({},e.viewport,{scroll:(0,k.A)({},e.viewport.scroll,{max:D})});return(0,k.A)({phase:"DRAGGING"},e,{viewport:j})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Vo(!1);var L=as({state:e,type:t.type});return L?ps({state:e,impact:L.impact,clientSelection:L.clientSelection,scrollJumpRequest:L.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var N=t.payload.reason;return"COLLECTING"!==e.phase&&Vo(!1),(0,k.A)({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:N})}if("DROP_ANIMATE"===t.type){var z=t.payload,B=z.completed,F=z.dropDuration,W=z.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Vo(!1),{phase:"DROP_ANIMATING",completed:B,dropDuration:F,newHomeClientOffset:W,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},Es=function(e){return{type:"LIFT",payload:e}},_s=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},Ts=function(){return{type:"COLLECTION_STARTING",payload:null}},Os=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},As=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},Cs=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},Ps=function(e){return{type:"MOVE",payload:e}},ks=function(){return{type:"MOVE_UP",payload:null}},Rs=function(){return{type:"MOVE_DOWN",payload:null}},Is=function(){return{type:"MOVE_RIGHT",payload:null}},Ms=function(){return{type:"MOVE_LEFT",payload:null}},Ds=function(){return{type:"FLUSH",payload:null}},js=function(e){return{type:"DROP_COMPLETE",payload:e}},Ls=function(e){return{type:"DROP",payload:e}},Ns="cubic-bezier(.2,1,.1,1)",zs=0,Bs=.7,Fs=.75,Ws="0.2s cubic-bezier(0.2, 0, 0, 1)",Hs={fluid:"opacity "+Ws,snap:"transform "+Ws+", opacity "+Ws,drop:function(e){var t=e+"s "+Ns;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Ws,placeholder:"height "+Ws+", width "+Ws+", margin "+Ws},Us=function(e){return na(e,Qo)?null:"translate("+e.x+"px, "+e.y+"px)"},Vs=Us,Gs=function(e,t){var n=Us(e);return n?t?n+" scale("+Fs+")":n:null},qs=.33,Xs=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var i=t(),o=r.payload.reason;if("COLLECTING"!==i.phase){if("IDLE"!==i.phase){"DROP_PENDING"===i.phase&&i.isWaiting&&Vo(!1),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&Vo(!1);var a=i.critical,s=i.dimensions,l=s.draggables[i.critical.draggable.id],u=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,o=e.viewport,a=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:(0,k.A)({},r,{displaced:Aa}),didDropInsideDroppable:!0}:{impact:hs({draggables:t,impact:a,destination:i,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),c=u.impact,f=u.didDropInsideDroppable,d=f?Sa(c):null,p=f?Ea(c):null,h={index:a.draggable.index,droppableId:a.droppable.id},m={draggableId:l.descriptor.id,type:l.descriptor.type,source:h,reason:o,mode:i.movementMode,destination:d,combine:p},v=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,o=e.afterCritical,a=r.draggables,s=r.droppables,l=os(t),u=l?s[l]:null,c=s[n.descriptor.droppableId],f=ms({impact:t,draggable:n,draggables:a,afterCritical:o,droppable:u||c,viewport:i});return ta(f,n.client.borderBox.center)}({impact:c,draggable:l,dimensions:s,viewport:i.viewport,afterCritical:i.afterCritical}),g={critical:i.critical,afterCritical:i.afterCritical,result:m,impact:c};if(!na(i.current.client.offset,v)||Boolean(m.combine)){var y=function(e){var t=e.reason,n=oa(e.current,e.destination);if(n<=0)return qs;if(n>=1500)return.55;var r=qs+n/1500*.22000000000000003;return Number(("CANCEL"===t?.6*r:r).toFixed(2))}({current:i.current.client.offset,destination:v,reason:o});n({type:"DROP_ANIMATE",payload:{newHomeClientOffset:v,dropDuration:y,completed:g}})}else n(js({completed:g}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:o}))}else e(r)}}},Zs=function(){return{x:window.pageXOffset,y:window.pageYOffset}};var $s=function(e){var t=function(e){var t=e.onWindowScroll,n=Lo((function(){t(Zs())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),i=Bo;function o(){return i!==Bo}return{start:function(){o()&&Vo(!1),i=Fo(window,[r])},stop:function(){o()||Vo(!1),n.cancel(),i(),i=Bo},isActive:o}}({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},Ys=function(e,t){t()},Ks=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Js=function(e,t,n,r){if(e){var i=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),i=function(i){t||n||(t=!0,e(i),clearTimeout(r))};return i.wasCalled=function(){return t},i}(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}else n(r(t))},Qs=function(e,t){var n=function(e,t){var n,r=(n=[],{add:function(e){var t=setTimeout((function(){return function(e){var t=ha(n,(function(t){return t.timerId===e}));-1===t&&Vo(!1),n.splice(t,1)[0].callback()}(t)})),r={timerId:t,callback:e};n.push(r)},flush:function(){if(n.length){var e=[].concat(n);n.length=0,e.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}),i=null,o=function(n){i||Vo(!1),i=null,Ys(0,(function(){return Js(e().onDragEnd,n,t,Jo)}))};return{beforeCapture:function(t,n){i&&Vo(!1),Ys(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){i&&Vo(!1),Ys(0,(function(){var r=e().onBeforeDragStart;r&&r(Ks(t,n))}))},start:function(n,o){i&&Vo(!1);var a=Ks(n,o);i={mode:o,lastCritical:n,lastLocation:a.source,lastCombine:null},r.add((function(){Ys(0,(function(){return Js(e().onDragStart,a,t,Yo)}))}))},update:function(n,o){var a=Sa(o),s=Ea(o);i||Vo(!1);var l=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(n,i.lastCritical);l&&(i.lastCritical=n);var u,c,f=(c=a,!(null==(u=i.lastLocation)&&null==c||null!=u&&null!=c&&u.droppableId===c.droppableId&&u.index===c.index));f&&(i.lastLocation=a);var d=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(i.lastCombine,s);if(d&&(i.lastCombine=s),l||f||d){var p=(0,k.A)({},Ks(n,i.mode),{combine:s,destination:a});r.add((function(){Ys(0,(function(){return Js(e().onDragUpdate,p,t,Ko)}))}))}},flush:function(){i||Vo(!1),r.flush()},drop:o,abort:function(){if(i){var e=(0,k.A)({},Ks(i.lastCritical,i.mode),{combine:null,destination:null,reason:"CANCEL"});o(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var i=r.payload.critical;return n.beforeStart(i,r.payload.movementMode),t(r),void n.start(i,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var o=r.payload.completed.result;return n.flush(),t(r),void n.drop(o)}if(t(r),"FLUSH"!==r.type){var a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},el=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&Vo(!1),e.dispatch(js({completed:r.completed}))}else t(n)}}},tl=function(e){var t=null,n=null;return function(r){return function(i){if("FLUSH"!==i.type&&"DROP_COMPLETE"!==i.type&&"DROP_ANIMATION_FINISHED"!==i.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(i),"DROP_ANIMATE"===i.type){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=Fo(window,[o])}))}}}},nl=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(Ls({reason:r.reason})))}}}},rl=r.Zz,il=function(e){var t,n=e.dimensionMarshal,i=e.focusMarshal,o=e.styleMarshal,a=e.getResponders,s=e.announce,l=e.autoScroller;return(0,r.y$)(Ss,rl((0,r.Tw)((t=o,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(i){if("LIFT"===i.type){var o=i.payload,a=o.id,s=o.clientSelection,l=o.movementMode,u=n();"DROP_ANIMATING"===u.phase&&r(js({completed:u.completed})),"IDLE"!==n().phase&&Vo(!1),r(Ds()),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:l}});var c={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},f=e.startPublishing(c),d=f.critical,p=f.dimensions,h=f.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:d,dimensions:p,clientSelection:s,movementMode:l,viewport:h}})}else t(i)}}}}(n),Xs,el,tl,nl,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var i=t.getState();return"DRAGGING"!==i.phase&&Vo(!1),void e.start(i)}n(r),e.scroll(t.getState())}}}}(l),$s,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(i),Qs(a,s))))},ol=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,o=ta({x:n,y:t},{x:i,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},al=function(){var e=document.documentElement;return e||Vo(!1),e},sl=function(){var e=al();return ol({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})};function ll(e,t,n){return n.descriptor.id!==t.id&&n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var ul,cl,fl=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame((function(){i=null;var e=r,o=e.additions,a=e.removals,s=e.modified,l=Object.keys(o).map((function(e){return t.draggable.getById(e).getDimension(Qo)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),u=Object.keys(s).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),c={additions:l,removals:Object.keys(a),modified:u};r={additions:{},removals:{},modified:{}},n.publish(c)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],o()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],o()},stop:function(){i&&(cancelAnimationFrame(i),i=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(t){n||Vo(!1);var i=n.critical.draggable;"ADDITION"===t.type&&ll(e,i,t.value)&&r.add(t.value),"REMOVAL"===t.type&&ll(e,i,t.value)&&r.remove(t.value)},o={updateDroppableIsEnabled:function(r,i){e.droppable.exists(r)||Vo(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:function(r,i){n&&(e.droppable.exists(r)||Vo(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,i){n&&(e.droppable.exists(r)||Vo(!1),t.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:function(t){n&&Vo(!1);var r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:o.descriptor},s=e.subscribe(i);return n={critical:a,unsubscribe:s},function(e){var t,n,r,i,o,a,s,l=e.critical,u=e.scrollOptions,c=e.registry,f=(t=Zs(),n=sl(),r=t.y,i=t.x,a=(o=al()).clientWidth,s=o.clientHeight,{frame:Oo({top:r,left:i,right:i+a,bottom:r+s}),scroll:{initial:t,current:t,max:n,diff:{value:Qo,displacement:Qo}}}),d=f.scroll.current,p=l.droppable,h=c.droppable.getAllByType(p.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(d,u)})),m=c.draggable.getAllByType(l.draggable.type).map((function(e){return e.getDimension(d)}));return{dimensions:{draggables:ya(m),droppables:ga(h)},critical:l,viewport:f}}({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}};return o},dl=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason},pl=function(e){window.scrollBy(e.x,e.y)},hl=j((function(e){return ba(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),ml=function(e){return Math.pow(e,2)},vl=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;return 0===i?0:(r-t)/i},gl=360,yl=1200,bl=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,o=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return 28;if(e===t.startScrollingFrom)return 1;var n=vl({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=28*ml(1-n);return Math.ceil(r)}(t,n);return 0===o?0:i?Math.max(function(e,t){var n=t,r=yl,i=Date.now()-n;if(i>=yl)return e;if(i<gl)return 1;var o=vl({startOfRange:gl,endOfRange:r,current:i}),a=e*ml(o);return Math.ceil(a)}(o,r),1):o},wl=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,o=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:.25*e[t.size],maxScrollValueAt:.05*e[t.size]}}(t,i);return n[i.end]<n[i.start]?bl({distanceToEdge:n[i.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o}):-1*bl({distanceToEdge:n[i.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o})},xl=sa((function(e){return 0===e?0:e})),Sl=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,o=e.shouldUseTimeDampening,a={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},s=wl({container:n,distanceToEdges:a,dragStartTime:t,axis:Ia,shouldUseTimeDampening:o}),l=wl({container:n,distanceToEdges:a,dragStartTime:t,axis:Ma,shouldUseTimeDampening:o}),u=xl({x:l,y:s});if(na(u,Qo))return null;var c=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,o=n.width>t.width;return o||i?o&&i?null:{x:o?0:r.x,y:i?0:r.y}:r}({container:n,subject:r,proposedScroll:u});return c?na(c,Qo)?null:c:null},El=sa((function(e){return 0===e?0:e>0?1:-1})),_l=(ul=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,n=e.max,r=e.change,i=ea(t,r),o={x:ul(i.x,n.x),y:ul(i.y,n.y)};return na(o,Qo)?null:o}),Tl=function(e){var t=e.max,n=e.current,r=e.change,i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=El(r),a=_l({max:i,current:n,change:o});return!a||0!==o.x&&0===a.x||0!==o.y&&0===a.y},Ol=function(e,t){return Tl({current:e.scroll.current,max:e.scroll.max,change:t})},Al=function(e,t){var n=e.frame;return!!n&&Tl({current:n.scroll.current,max:n.scroll.max,change:t})},Cl=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,o=e.scrollDroppable,a=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.shouldUseTimeDampening,o=Sl({dragStartTime:e.dragStartTime,container:t.frame,subject:n,center:r,shouldUseTimeDampening:i});return o&&Ol(t,o)?o:null}({dragStartTime:n,viewport:t.viewport,subject:s,center:a,shouldUseTimeDampening:r});if(l)return void i(l)}var u=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var o=function(e,t){var n=ma(hl(t),(function(t){return t.frame||Vo(!1),ls(t.frame.pageMarginBox)(e)}));return n}(t,r);return o}({center:a,destination:os(t.impact),droppables:t.dimensions.droppables});if(u){var c=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var s=Sl({dragStartTime:i,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return s&&Al(t,s)?s:null}({dragStartTime:n,droppable:u,subject:s,center:a,shouldUseTimeDampening:r});c&&o(u.descriptor.id,c)}},Pl=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow;return function(e){var i=e.scrollJumpRequest;if(i){var o=os(e.impact);o||Vo(!1);var a=function(e,t){if(!Al(e,t))return t;var r=function(e,t){var n=e.frame;return n&&Al(e,t)?_l({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var i=ta(t,r);return n(e.descriptor.id,i),ta(t,i)}(e.dimensions.droppables[o],i);if(a){var s=e.viewport,l=function(e,t,n){if(!e)return n;if(!Ol(t,n))return n;var i=function(e,t){if(!Ol(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return _l({current:r,max:n,change:t})}(t,n);if(!i)return r(n),null;var o=ta(n,i);return r(o),ta(n,o)}(e.isWindowScrollAllowed,s,a);l&&function(e,n){var r=ea(e.current.client.selection,n);t({client:r})}(e,l)}}}},kl=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=function(e){var t=e.scrollDroppable,n=Lo(e.scrollWindow),r=Lo(t),i=null,o=function(e){i||Vo(!1);var t=i,o=t.shouldUseTimeDampening,a=t.dragStartTime;Cl({state:e,scrollWindow:n,scrollDroppable:r,dragStartTime:a,shouldUseTimeDampening:o})};return{start:function(e){i&&Vo(!1);var t=Date.now(),n=!1,r=function(){n=!0};Cl({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),i={dragStartTime:t,shouldUseTimeDampening:n},n&&o(e)},stop:function(){i&&(n.cancel(),r.cancel(),i=null)},scroll:o}}({scrollWindow:n,scrollDroppable:t}),o=Pl({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):i.scroll(e))},start:i.start,stop:i.stop}},Rl="data-rbd",Il={base:cl=Rl+"-drag-handle",draggableId:cl+"-draggable-id",contextId:cl+"-context-id"},Ml=function(){var e=Rl+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Dl=function(){var e=Rl+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),jl={contextId:Rl+"-scroll-container-context-id"},Ll=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},Nl=function(e){var t,n,r,i=(t=e,function(e){return"["+e+'="'+t+'"]'}),o=(n="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:i(Il.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:n,dragging:"pointer-events: none;",dropAnimating:n}}),a=[(r="\n      transition: "+Hs.outOfTheWay+";\n    ",{selector:i(Ml.contextId),styles:{dragging:r,dropAnimating:r,userCancel:r}}),o,{selector:i(Dl.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Ll(a,"always"),resting:Ll(a,"resting"),dragging:Ll(a,"dragging"),dropAnimating:Ll(a,"dropAnimating"),userCancel:Ll(a,"userCancel")}},zl="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?u.useLayoutEffect:u.useEffect,Bl=function(){var e=document.querySelector("head");return e||Vo(!1),e},Fl=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t},Wl=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Hl(e){return e instanceof Wl(e).HTMLElement}function Ul(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}function i(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var i=t.descriptor.id,o=r(i);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[i],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||Vo(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return pa(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=i(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=i(e);return t||Vo(!1),t},findById:i,exists:function(e){return Boolean(i(e))},getAllByType:function(t){return pa(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Vl=u.createContext(null),Gl=function(){var e=document.body;return e||Vo(!1),e},ql={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Xl=function(e){return"rbd-announcement-"+e},Zl=0,$l={separator:"::"};function Yl(e,t){return void 0===t&&(t=$l),_o((function(){return""+e+t.separator+Zl++}),[t.separator,e])}var Kl=u.createContext(null);function Jl(e){var t=(0,u.useRef)(e);return(0,u.useEffect)((function(){t.current=e})),t}var Ql,eu,tu=((Ql={})[13]=!0,Ql[9]=!0,Ql),nu=function(e){tu[e.keyCode]&&e.preventDefault()},ru=function(){var e="visibilitychange";return"undefined"==typeof document?e:ma([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}(),iu={type:"IDLE"};function ou(){}var au=((eu={})[34]=!0,eu[33]=!0,eu[36]=!0,eu[35]=!0,eu);var su={type:"IDLE"},lu={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function uu(e,t){if(null==t)return!1;if(Boolean(lu[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&uu(e,t.parentElement)}function cu(e,t){var n=t.target;return!!Hl(n)&&uu(e,n)}var fu=function(e){return Oo(e.getBoundingClientRect()).center},du=function(){var e="matches";return"undefined"==typeof document?e:ma([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function pu(e,t){return null==e?null:e[du](t)?e:pu(e.parentElement,t)}function hu(e,t){return e.closest?e.closest(t):pu(e,t)}function mu(e){e.preventDefault()}function vu(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!!r()&&t===n}function gu(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var o=r.draggable.findById(i);return!!o&&!!o.options.isEnabled&&!!dl(n.getState(),i)}var yu=[function(e){var t=(0,u.useRef)(iu),n=(0,u.useRef)(Bo),r=_o((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,a,{sourceEvent:t});if(i){t.preventDefault();var o={x:t.clientX,y:t.clientY};n.current(),c(i,o)}}}}}}),[e]),i=_o((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),o=To((function(){n.current=Fo(window,[i,r],{passive:!1,capture:!0})}),[i,r]),a=To((function(){"IDLE"!==t.current.type&&(t.current=iu,n.current(),o())}),[o]),s=To((function(){var e=t.current;a(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[a]),l=To((function(){var e=function(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,o=e.clientY;if(0===t){var a={x:n,y:o},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);if("PENDING"!==s.type&&Vo(!1),l=s.point,u=a,Math.abs(u.x-l.x)>=5||Math.abs(u.y-l.y)>=5){var l,u;e.preventDefault();var c=s.actions.fluidLift(a);i({type:"DRAGGING",actions:c})}}}},{eventName:"mouseup",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void nu(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&Vo(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:ru,fn:t}]}({cancel:s,completed:a,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=Fo(window,e,{capture:!0,passive:!1})}),[s,a]),c=To((function(e,n){"IDLE"!==t.current.type&&Vo(!1),t.current={type:"PENDING",point:n,actions:e},l()}),[l]);zl((function(){return o(),function(){n.current()}}),[o])},function(e){var t=(0,u.useRef)(ou),n=_o((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var i=e.findClosestDraggableId(n);if(i){var o=e.tryGetLock(i,l,{sourceEvent:n});if(o){n.preventDefault();var a=!0,s=o.snapLift();t.current(),t.current=Fo(window,function(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(au[r.keyCode]?r.preventDefault():nu(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:ru,fn:n}]}(s,l),{capture:!0,passive:!1})}}}function l(){a||Vo(!1),a=!1,t.current(),r()}}}}),[e]),r=To((function(){t.current=Fo(window,[n],{passive:!1,capture:!0})}),[n]);zl((function(){return r(),function(){t.current()}}),[r])},function(e){var t=(0,u.useRef)(su),n=(0,u.useRef)(Bo),r=To((function(){return t.current}),[]),i=To((function(e){t.current=e}),[]),o=_o((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,s,{sourceEvent:t});if(i){var o=t.touches[0],a={x:o.clientX,y:o.clientY};n.current(),d(i,a)}}}}}}),[e]),a=To((function(){n.current=Fo(window,[o],{capture:!0,passive:!1})}),[o]),s=To((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),i(su),n.current(),a())}),[a,i]),l=To((function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=To((function(){var e={capture:!0,passive:!1},t={cancel:l,completed:s,getPhase:r},i=Fo(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var i=e.touches[0],o={x:i.clientX,y:i.clientY};e.preventDefault(),n.actions.move(o)}else t()}},{eventName:"touchend",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&Vo(!1);var i=e.touches[0];if(i&&i.force>=.15){var o=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return o?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();o&&t()}}},{eventName:ru,fn:t}]}(t),e),o=Fo(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:ru,fn:t}]}(t),e);n.current=function(){i(),o()}}),[l,r,s]),f=To((function(){var e=r();"PENDING"!==e.type&&Vo(!1);var t=e.actions.fluidLift(e.point);i({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,i]),d=To((function(e,t){"IDLE"!==r().type&&Vo(!1);var n=setTimeout(f,120);i({type:"PENDING",point:t,actions:e,longPressTimerId:n}),c()}),[c,r,i,f]);zl((function(){return a(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),i(su))}}),[r,a,i]),zl((function(){return Fo(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function bu(e){var t=e.contextId,n=e.store,r=e.registry,i=e.customSensors,o=e.enableDefaultSensors,a=[].concat(o?yu:[],i||[]),s=(0,u.useState)((function(){return function(){var e=null;function t(){e||Vo(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Vo(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],l=To((function(e,t){e.isDragging&&!t.isDragging&&s.tryAbandon()}),[s]);zl((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();l(e,t),e=t}))}),[s,n,l]),zl((function(){return s.tryAbandon}),[s.tryAbandon]);for(var c=To((function(e){return gu({lockAPI:s,registry:r,store:n,draggableId:e})}),[s,r,n]),f=To((function(e,i,o){return function(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,o=e.draggableId,a=e.forceSensorStop,s=e.sourceEvent;if(!gu({lockAPI:t,store:r,registry:i,draggableId:o}))return null;var l=i.draggable.getById(o),u=function(e,t){var n="["+Ml.contextId+'="'+e+'"]',r=ma(va(document.querySelectorAll(n)),(function(e){return e.getAttribute(Ml.id)===t}));return r&&Hl(r)?r:null}(n,l.descriptor.id);if(!u)return null;if(s&&!l.options.canDragInteractiveElements&&cu(u,s))return null;var c=t.claim(a||Bo),f="PRE_DRAG";function d(){return l.options.shouldRespectForcePress}function p(){return t.isActive(c)}var h=function(e,t){vu({expected:e,phase:f,isLockActive:p,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function m(e){function n(){t.release(),f="COMPLETED"}function i(t,i){if(void 0===i&&(i={shouldBlockNextClick:!1}),e.cleanup(),i.shouldBlockNextClick){var o=Fo(window,[{eventName:"click",fn:mu,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(o)}n(),r.dispatch(Ls({reason:t}))}return"PRE_DRAG"!==f&&(n(),"PRE_DRAG"!==f&&Vo(!1)),r.dispatch(Es(e.liftActionArgs)),f="DRAGGING",(0,k.A)({isActive:function(){return vu({expected:"DRAGGING",phase:f,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:d,drop:function(e){return i("DROP",e)},cancel:function(e){return i("CANCEL",e)}},e.actions)}var v={isActive:function(){return vu({expected:"PRE_DRAG",phase:f,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:d,fluidLift:function(e){var t=Lo((function(e){h((function(){return Ps({client:e})}))})),n=m({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}});return(0,k.A)({},n,{move:t})},snapLift:function(){var e={moveUp:function(){return h(ks)},moveRight:function(){return h(Is)},moveDown:function(){return h(Rs)},moveLeft:function(){return h(Ms)}};return m({liftActionArgs:{id:o,clientSelection:fu(u),movementMode:"SNAP"},cleanup:Bo,actions:e})},abort:function(){vu({expected:"PRE_DRAG",phase:f,isLockActive:p,shouldWarn:!0})&&t.release()}};return v}({lockAPI:s,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:i,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})}),[t,s,r,n]),d=To((function(e){return function(e,t){var n=function(e,t){var n,r=t.target;if(!((n=r)instanceof Wl(n).Element))return null;var i=function(e){return"["+Il.contextId+'="'+e+'"]'}(e),o=hu(r,i);return o&&Hl(o)?o:null}(e,t);return n?n.getAttribute(Il.draggableId):null}(t,e)}),[t]),p=To((function(e){var t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),h=To((function(){s.isClaimed()&&(s.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch(Ds()))}),[s,n]),m=To(s.isClaimed,[s]),v=_o((function(){return{canGetLock:c,tryGetLock:f,findClosestDraggableId:d,findOptionsForDraggable:p,tryReleaseLock:h,isLockClaimed:m}}),[c,f,d,p,h,m]),g=0;g<a.length;g++)a[g](v)}var wu=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function xu(e){return e.current||Vo(!1),e.current}function Su(e){var t=e.contextId,n=e.setCallbacks,o=e.sensors,a=e.nonce,s=e.dragHandleUsageInstructions,l=(0,u.useRef)(null),c=Jl(e),f=To((function(){return wu(c.current)}),[c]),d=function(e){var t=_o((function(){return Xl(e)}),[e]),n=(0,u.useRef)(null);return(0,u.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),(0,k.A)(e.style,ql),Gl().appendChild(e),function(){setTimeout((function(){var t=Gl();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),To((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(t),p=function(e){var t=e.contextId,n=e.text,r=Yl("hidden-text",{separator:"-"}),i=_o((function(){return function(e){return"rbd-hidden-text-"+e.contextId+"-"+e.uniqueId}({contextId:t,uniqueId:r})}),[r,t]);return(0,u.useEffect)((function(){var e=document.createElement("div");return e.id=i,e.textContent=n,e.style.display="none",Gl().appendChild(e),function(){var t=Gl();t.contains(e)&&t.removeChild(e)}}),[i,n]),i}({contextId:t,text:s}),h=function(e,t){var n=_o((function(){return Nl(e)}),[e]),r=(0,u.useRef)(null),i=(0,u.useRef)(null),o=To(j((function(e){var t=i.current;t||Vo(!1),t.textContent=e})),[]),a=To((function(e){var t=r.current;t||Vo(!1),t.textContent=e}),[]);zl((function(){(r.current||i.current)&&Vo(!1);var s=Fl(t),l=Fl(t);return r.current=s,i.current=l,s.setAttribute(Rl+"-always",e),l.setAttribute(Rl+"-dynamic",e),Bl().appendChild(s),Bl().appendChild(l),a(n.always),o(n.resting),function(){var e=function(e){var t=e.current;t||Vo(!1),Bl().removeChild(t),e.current=null};e(r),e(i)}}),[t,a,o,n.always,n.resting,e]);var s=To((function(){return o(n.dragging)}),[o,n.dragging]),l=To((function(e){o("DROP"!==e?n.userCancel:n.dropAnimating)}),[o,n.dropAnimating,n.userCancel]),c=To((function(){i.current&&o(n.resting)}),[o,n.resting]);return _o((function(){return{dragging:s,dropping:l,resting:c}}),[s,l,c])}(t,a),m=To((function(e){xu(l).dispatch(e)}),[]),v=_o((function(){return(0,r.zH)({publishWhileDragging:_s,updateDroppableScroll:Os,updateDroppableIsEnabled:As,updateDroppableIsCombineEnabled:Cs,collectionStarting:Ts},m)}),[m]),g=function(){var e=_o(Ul,[]);return(0,u.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),y=_o((function(){return fl(g,v)}),[g,v]),b=_o((function(){return kl((0,k.A)({scrollWindow:pl,scrollDroppable:y.scrollDroppable},(0,r.zH)({move:Ps},m)))}),[y.scrollDroppable,m]),w=function(e){var t=(0,u.useRef)({}),n=(0,u.useRef)(null),r=(0,u.useRef)(null),i=(0,u.useRef)(!1),o=To((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),a=To((function(t){var n=function(e,t){var n="["+Il.contextId+'="'+e+'"]',r=va(document.querySelectorAll(n));if(!r.length)return null;var i=ma(r,(function(e){return e.getAttribute(Il.draggableId)===t}));return i&&Hl(i)?i:null}(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),s=To((function(e,t){n.current===e&&(n.current=t)}),[]),l=To((function(){r.current||i.current&&(r.current=requestAnimationFrame((function(){r.current=null;var e=n.current;e&&a(e)})))}),[a]),c=To((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(Il.draggableId)===e&&(n.current=e)}),[]);return zl((function(){return i.current=!0,function(){i.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}}),[]),_o((function(){return{register:o,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:s}}),[o,c,l,s])}(t),x=_o((function(){return il({announce:d,autoScroller:b,dimensionMarshal:y,focusMarshal:w,getResponders:f,styleMarshal:h})}),[d,b,y,w,f,h]);l.current=x;var S=To((function(){var e=xu(l);"IDLE"!==e.getState().phase&&e.dispatch(Ds())}),[]),E=To((function(){var e=xu(l).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(_o((function(){return{isDragging:E,tryAbort:S}}),[E,S]));var _=To((function(e){return dl(xu(l).getState(),e)}),[]),T=To((function(){return ss(xu(l).getState())}),[]),O=_o((function(){return{marshal:y,focus:w,contextId:t,canLift:_,isMovementAllowed:T,dragHandleUsageInstructionsId:p,registry:g}}),[t,y,p,w,_,T,g]);return bu({contextId:t,store:x,registry:g,customSensors:o,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,u.useEffect)((function(){return S}),[S]),u.createElement(Kl.Provider,{value:O},u.createElement(i.Kq,{context:Vl,store:x},e.children))}var Eu=0;function _u(e){var t=_o((function(){return""+Eu++}),[]),n=e.dragHandleUsageInstructions||"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n";return u.createElement(Go,null,(function(r){return u.createElement(Su,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var Tu=function(e){return function(t){return e===t}},Ou=Tu("scroll"),Au=Tu("auto"),Cu=(Tu("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),Pu=function e(t){return null==t||t===document.body||t===document.documentElement?null:function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Cu(n,Ou)||Cu(n,Au)}(t)?t:e(t.parentElement)},ku=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Ru=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},Iu={passive:!1},Mu={passive:!0},Du=function(e){return e.shouldPublishImmediately?Iu:Mu};function ju(e){var t=(0,u.useContext)(e);return t||Vo(!1),t}var Lu=function(e){return e&&e.env.closestScrollable||null};function Nu(){}var zu={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}};function Bu(e){var t=(0,u.useRef)(null),n=To((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),r=e.animate,i=e.onTransitionEnd,o=e.onClose,a=e.contextId,s=(0,u.useState)("open"===e.animate),l=s[0],c=s[1];(0,u.useEffect)((function(){return l?"open"!==r?(n(),c(!1),Nu):t.current?Nu:(t.current=setTimeout((function(){t.current=null,c(!1)})),n):Nu}),[r,l,n]);var f=To((function(e){"height"===e.propertyName&&(i(),"close"===r&&o())}),[r,o,i]),d=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,i=function(e){var t=e.placeholder;return e.isAnimatingOpenOnMount||"close"===e.animate?zu:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Hs.placeholder:null}}({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return u.createElement(e.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":a,onTransitionEnd:f,ref:e.innerRef})}var Fu=u.memo(Bu),Wu=u.createContext(null),Hu=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return(0,I.A)(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(u.PureComponent),Uu=5e3,Vu=4500,Gu=function(e,t){return t?Hs.drop(t.duration):e?Hs.snap:Hs.fluid},qu=function(e,t){return e?t?zs:Bs:null};function Xu(e){e.preventDefault()}var Zu=function(e,t){return e===t},$u=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function Yu(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Ku={mapped:{type:"SECONDARY",offset:Qo,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Yu(null)}},Ju={dropAnimationFinished:function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}}},Qu=(0,i.Ng)((function(){var e,t,n,r=(e=j((function(e,t){return{x:e,y:t}})),t=j((function(e,t,n,r,i){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=j((function(e,n,r,i,o,a,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,i,o,a,null)}}})),function(r,i){if(r.isDragging){if(r.critical.draggable.id!==i.draggableId)return null;var o=r.current.client.offset,a=r.dimensions.draggables[i.draggableId],s=os(r.impact),l=(c=r.impact).at&&"COMBINE"===c.at.type?c.at.combine.draggableId:null,u=r.forceShouldAnimate;return n(e(o.x,o.y),r.movementMode,a,i.isClone,s,l,u)}var c;if("DROP_ANIMATING"===r.phase){var f=r.completed;if(f.result.draggableId!==i.draggableId)return null;var d=i.isClone,p=r.dimensions.draggables[i.draggableId],h=f.result,m=h.mode,v=$u(h),g=function(e){return e.combine?e.combine.draggableId:null}(h),y={duration:r.dropDuration,curve:Ns,moveTo:r.newHomeClientOffset,opacity:g?zs:null,scale:g?Fs:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:p,dropping:y,draggingOver:v,combineWith:g,mode:m,forceShouldAnimate:null,snapshot:t(m,d,v,g,y)}}}return null}),i=function(){var e=j((function(e,t){return{x:e,y:t}})),t=j(Yu),n=j((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(Qo,e,!0):null},i=function(t,i,o,a){var s=o.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),u=Ea(o),c=u&&u.draggableId===t?i:null;if(!s){if(!l)return r(c);if(o.displaced.invisible[t])return null;var f=ra(a.displacedBy.point),d=e(f.x,f.y);return n(d,c,!0)}if(l)return r(c);var p=o.displacedBy.point,h=e(p.x,p.y);return n(h,c,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:i(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(e,t){return r(e,t)||i(e,t)||Ku}}),Ju,null,{context:Vl,pure:!0,areStatePropsEqual:Zu})((function(e){var t=(0,u.useRef)(null),n=To((function(e){t.current=e}),[]),r=To((function(){return t.current}),[]),i=ju(Kl),o=i.contextId,a=i.dragHandleUsageInstructionsId,s=i.registry,l=ju(Wu),c=l.type,f=l.droppableId,d=_o((function(){return{id:e.draggableId,index:e.index,type:c,droppableId:f}}),[e.draggableId,e.index,c,f]),p=e.children,h=e.draggableId,m=e.isEnabled,v=e.shouldRespectForcePress,g=e.canDragInteractiveElements,y=e.isClone,b=e.mapped,w=e.dropAnimationFinished;y||function(e){var t=Yl("draggable"),n=e.descriptor,r=e.registry,i=e.getDraggableRef,o=e.canDragInteractiveElements,a=e.shouldRespectForcePress,s=e.isEnabled,l=_o((function(){return{canDragInteractiveElements:o,shouldRespectForcePress:a,isEnabled:s}}),[o,s,a]),c=To((function(e){var t=i();return t||Vo(!1),function(e,t,n){void 0===n&&(n=Qo);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=Do(i,r),a=Mo(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:a}}(n,t,e)}),[n,i]),f=_o((function(){return{uniqueId:t,descriptor:n,options:l,getDimension:c}}),[n,c,l,t]),d=(0,u.useRef)(f),p=(0,u.useRef)(!0);zl((function(){return r.draggable.register(d.current),function(){return r.draggable.unregister(d.current)}}),[r.draggable]),zl((function(){if(p.current)p.current=!1;else{var e=d.current;d.current=f,r.draggable.update(f,e)}}),[f,r.draggable])}(_o((function(){return{descriptor:d,registry:s,getDraggableRef:r,canDragInteractiveElements:g,shouldRespectForcePress:v,isEnabled:m}}),[d,s,r,g,v,m]));var x=_o((function(){return m?{tabIndex:0,role:"button","aria-describedby":a,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:Xu}:null}),[o,a,h,m]),S=To((function(e){"DRAGGING"===b.type&&b.dropping&&"transform"===e.propertyName&&w()}),[w,b]),E=_o((function(){var e=function(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,i=e.dropping,o=Boolean(r),a=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),s=Boolean(i),l=s?Gs(n,o):Vs(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:Gu(a,i),transform:l,opacity:qu(o,s),zIndex:s?Vu:Uu,pointerEvents:"none"}}(e):{transform:Vs((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}(b),t="DRAGGING"===b.type&&b.dropping?S:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:x}}),[o,x,h,b,S,n]),_=_o((function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}}),[d.droppableId,d.id,d.index,d.type]);return p(E,b.snapshot,_)}));function ec(e){return ju(Wu).isUsingCloneFor!==e.draggableId||e.isClone?u.createElement(Qu,e):null}function tc(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return u.createElement(ec,(0,k.A)({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var nc=function(e,t){return e===t.droppable.type},rc=function(e,t){return t.draggables[e.draggable.id]},ic={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Vo(!1),document.body}},oc=(0,i.Ng)((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=(0,k.A)({},e,{shouldAnimatePlaceholder:!1}),n=j((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=j((function(r,i,o,a,s,l){var u=s.descriptor.id;if(s.descriptor.droppableId===r){var c=l?{render:l,dragging:n(s.descriptor)}:null,f={isDraggingOver:o,draggingOverWith:o?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:f,useClone:c}}if(!i)return t;if(!a)return e;var d={isDraggingOver:o,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:d,useClone:null}}));return function(n,i){var o=i.droppableId,a=i.type,s=!i.isDropDisabled,l=i.renderClone;if(n.isDragging){var u=n.critical;if(!nc(a,u))return t;var c=rc(u,n.dimensions),f=os(n.impact)===o;return r(o,s,f,f,c,l)}if("DROP_ANIMATING"===n.phase){var d=n.completed;if(!nc(a,d.critical))return t;var p=rc(d.critical,n.dimensions);return r(o,s,$u(d.result)===o,os(d.impact)===o,p,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var h=n.completed;if(!nc(a,h.critical))return t;var m=os(h.impact)===o,v=Boolean(h.impact.at&&"COMBINE"===h.impact.at.type),g=h.critical.droppable.id===o;return m?v?e:t:g?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:Vl,pure:!0,areStatePropsEqual:Zu})((function(e){var t=(0,u.useContext)(Kl);t||Vo(!1);var n=t.contextId,r=t.isMovementAllowed,i=(0,u.useRef)(null),o=(0,u.useRef)(null),a=e.children,s=e.droppableId,l=e.type,c=e.mode,f=e.direction,d=e.ignoreContainerClipping,p=e.isDropDisabled,h=e.isCombineEnabled,m=e.snapshot,v=e.useClone,g=e.updateViewportMaxScroll,y=e.getContainerForClone,b=To((function(){return i.current}),[]),w=To((function(e){i.current=e}),[]),x=(To((function(){return o.current}),[]),To((function(e){o.current=e}),[])),S=To((function(){r()&&g({maxScroll:sl()})}),[r,g]);!function(e){var t=(0,u.useRef)(null),n=ju(Kl),r=Yl("droppable"),i=n.registry,o=n.marshal,a=Jl(e),s=_o((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),l=(0,u.useRef)(s),c=_o((function(){return j((function(e,n){t.current||Vo(!1);var r={x:e,y:n};o.updateDroppableScroll(s.id,r)}))}),[s.id,o]),f=To((function(){var e=t.current;return e&&e.env.closestScrollable?ku(e.env.closestScrollable):Qo}),[]),d=To((function(){var e=f();c(e.x,e.y)}),[f,c]),p=_o((function(){return Lo(d)}),[d]),h=To((function(){var e=t.current,n=Lu(e);e&&n||Vo(!1),e.scrollOptions.shouldPublishImmediately?d():p()}),[p,d]),m=To((function(e,r){t.current&&Vo(!1);var i=a.current,o=i.getDroppableRef();o||Vo(!1);var l=function(e){return{closestScrollable:Pu(e),isFixedOnPage:Ru(e)}}(o),u={ref:o,descriptor:s,env:l,scrollOptions:r};t.current=u;var c=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,o=e.direction,a=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,u=r.closestScrollable,c=function(e,t){var n=jo(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,a=i+t.scrollWidth,s=Ao({top:r,right:a,bottom:o,left:i},n.border);return ko({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(t,u),f=Mo(c,i),d=function(){if(!u)return null;var e=jo(u),t={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:e,page:Mo(e,i),scroll:ku(u),scrollSize:t,shouldClipSubject:l}}(),p=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,o=e.direction,a=e.client,s=e.page,l=e.closest,u=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=ol({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:Qo,displacement:Qo}}}}(),c="vertical"===o?Ia:Ma;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:c,isEnabled:n,client:a,page:s,frame:u,subject:fa({page:s,withPlaceholder:null,axis:c,frame:u})}}({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:o,client:c,page:f,closest:d});return p}({ref:o,descriptor:s,env:l,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),f=l.closestScrollable;return f&&(f.setAttribute(jl.contextId,n.contextId),f.addEventListener("scroll",h,Du(u.scrollOptions))),c}),[n.contextId,s,h,a]),v=To((function(){var e=t.current,n=Lu(e);return e&&n||Vo(!1),ku(n)}),[]),g=To((function(){var e=t.current;e||Vo(!1);var n=Lu(e);t.current=null,n&&(p.cancel(),n.removeAttribute(jl.contextId),n.removeEventListener("scroll",h,Du(e.scrollOptions)))}),[h,p]),y=To((function(e){var n=t.current;n||Vo(!1);var r=Lu(n);r||Vo(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),b=_o((function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:v,dragStopped:g,scroll:y}}),[g,m,v,y]),w=_o((function(){return{uniqueId:r,descriptor:s,callbacks:b}}),[b,s,r]);zl((function(){return l.current=w.descriptor,i.droppable.register(w),function(){t.current&&g(),i.droppable.unregister(w)}}),[b,s,g,w,o,i.droppable]),zl((function(){t.current&&o.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)}),[e.isDropDisabled,o]),zl((function(){t.current&&o.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,o])}({droppableId:s,type:l,mode:c,direction:f,isDropDisabled:p,isCombineEnabled:h,ignoreContainerClipping:d,getDroppableRef:b});var E=u.createElement(Hu,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,r=e.data,i=e.animate;return u.createElement(Fu,{placeholder:r,onClose:t,innerRef:x,animate:i,contextId:n,onTransitionEnd:S})})),_=_o((function(){return{innerRef:w,placeholder:E,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":n}}}),[n,s,E,w]),T=v?v.dragging.draggableId:null,O=_o((function(){return{droppableId:s,type:l,isUsingCloneFor:T}}),[s,T,l]);return u.createElement(Wu.Provider,{value:O},a(_,m),function(){if(!v)return null;var e=v.dragging,t=v.render,n=u.createElement(ec,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return No.createPortal(n,y())}())}));function ac(e){return ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(e)}function sc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cc(e,t){return cc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cc(e,t)}function fc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dc(e){return dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dc(e)}function pc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}oc.defaultProps=ic;var hc=function(e,t,n){var r,i,o=Array.from(e),a=(r=o.splice(t,1),i=1,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(r,i)||function(e,t){if(e){if("string"==typeof e)return pc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pc(e,t):void 0}}(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return o.splice(n,0,a),o},mc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cc(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=dc(i);if(o){var n=dc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ac(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fc(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).droppableId=(0,ho.A)(),t.onDragEnd=t.onDragEnd.bind(fc(t)),t.handleOpacityChange=t.handleOpacityChange.bind(fc(t)),t.setLayerVisibility=t.setLayerVisibility.bind(fc(t)),t.moveToTop=t.moveToTop.bind(fc(t)),t}return t=s,n=[{key:"handleOpacityChange",value:function(e,t){var n=this.props,r=n.canvasId;(0,n.updateLayers)(n.windowId,r,lc({},e,{opacity:t/100}))}},{key:"onDragEnd",value:function(e){var t=this.props,n=t.canvasId,r=t.layers,i=t.updateLayers,o=t.windowId;if(e.destination&&e.destination.droppableId===this.droppableId&&e.source.droppableId===this.droppableId){var a=hc(r.map((function(e){return e.id})),e.source.index,e.destination.index);i(o,n,r.reduce((function(e,t){return e[t.id]={index:a.indexOf(t.id)},e}),{}))}}},{key:"setLayerVisibility",value:function(e,t){var n=this.props,r=n.canvasId;(0,n.updateLayers)(n.windowId,r,lc({},e,{visibility:t}))}},{key:"moveToTop",value:function(e){var t=this.props,n=t.canvasId,r=t.layers,i=t.updateLayers,o=t.windowId,a=hc(r.map((function(e){return e.id})),r.findIndex((function(t){return t.id===e})),0);i(o,n,r.reduce((function(e,t){return e[t.id]={index:a.indexOf(t.id)},e}),{}))}},{key:"renderLayer",value:function(e,t){var n=this,r=this.props,i=r.classes,o=r.layerMetadata,a=r.t,l=50,c=void 0,f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sc(Object(n),!0).forEach((function(t){lc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({opacity:1,visibility:!0},(o||{})[e.id]);return u.createElement("div",{style:{flex:1}},u.createElement("div",{style:{alignItems:"flex-start",display:"flex"}},u.createElement(te.A,{maxHeight:c,maxWidth:l,resource:e,classes:{image:i.image,root:i.thumbnail}}),u.createElement(Ce.A,{className:i.label,component:"div",variant:"body1"},s.getUseableLabel(e,t),u.createElement("div",null,u.createElement(Ie.A,{"aria-label":a(f.visibility?"layer_hide":"layer_show"),edge:"start",size:"small",onClick:function(){n.setLayerVisibility(e.id,!f.visibility)}},f.visibility?u.createElement(ke.A,null):u.createElement(Re.A,null)),0!==f.index&&u.createElement(Ie.A,{"aria-label":a("layer_moveToTop"),size:"small",onClick:function(){n.moveToTop(e.id)}},u.createElement(xo.A,null))))),u.createElement("div",{style:{alignItems:"center",display:"flex"}},u.createElement(fn.Ay,{title:a("layer_opacity")},u.createElement(So.A,{className:i.opacityIcon,color:f.visibility?"inherit":"disabled",fontSize:"small"})),u.createElement(mo.A,{classes:{input:i.opacityInput},disabled:!f.visibility,value:Math.round(100*f.opacity),type:"number",min:0,max:100,onChange:function(t){return n.handleOpacityChange(e.id,t.target.value)},endAdornment:u.createElement(yo,{disableTypography:!0,position:"end"},u.createElement(Ce.A,{variant:"caption"},"%")),inputProps:{"aria-label":a("layer_opacity")}}),u.createElement(bo.A,{className:i.slider,disabled:!f.visibility,value:100*f.opacity,onChange:function(t,r){return n.handleOpacityChange(e.id,r)}})))}},{key:"renderDraggableLayer",value:function(e,t){var n=this,r=this.props,i=r.classes,o=r.t;return u.createElement(tc,{key:e.id,draggableId:e.id,index:t},(function(r,a){return u.createElement(Pi.A,Object.assign({ref:r.innerRef},r.draggableProps,{component:"li",className:(0,Fe.default)(i.listItem,lc({},i.dragging,a.isDragging)),disableGutters:!0,key:e.id}),u.createElement("div",Object.assign({},r.dragHandleProps,{className:i.dragHandle}),u.createElement(fn.Ay,{title:o("layer_move")},u.createElement(wo.A,null))),n.renderLayer(e,t))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.index,i=t.label,o=t.layers,a=t.t,s=t.totalSize;return u.createElement(u.Fragment,null,s>1&&u.createElement(Ce.A,{className:n.sectionHeading,variant:"overline"},a("annotationCanvasLabel",{context:"".concat(r+1,"/").concat(s),label:i})),u.createElement(_u,{onDragEnd:this.onDragEnd},u.createElement(oc,{droppableId:this.droppableId},(function(t,r){return u.createElement(Oi.A,Object.assign({className:n.list},t.droppableProps,{ref:t.innerRef}),o&&o.map((function(t,n){return e.renderDraggableLayer(t,n)})),t.placeholder)}))))}}],r=[{key:"getUseableLabel",value:function(e,t){return e&&e.getLabel&&e.getLabel().length>0?e.getLabel().getValue():String(t+1)}}],n&&uc(t.prototype,n),r&&uc(t,r),s}(u.Component);function vc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vc(Object(n),!0).forEach((function(t){yc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}mc.defaultProps={classes:{},layerMetadata:void 0};var bc={updateLayers:fo.o},wc=(0,r.Zz)((0,o.C)(),(0,a.A)((function(e){return{dragging:{},dragHandle:{alignItems:"center",borderRight:"0.5px solid ".concat(e.palette.divider),display:"flex",flex:1,flexDirection:"row",marginBottom:-1*e.spacing(2)+.5,marginRight:e.spacing(1),marginTop:-1*e.spacing(2),maxWidth:e.spacing(3),width:e.spacing(3)},image:{borderBottom:"1px solid ".concat(e.palette.divider)},label:{paddingLeft:e.spacing(1)},list:{paddingTop:0},listItem:{"& $dragHandle":{"&:hover":{backgroundColor:e.palette.action.hover},backgroundColor:e.palette.shades.light},"&$dragging":{"& $dragHandle, & $dragHandle:hover":{backgroundColor:e.palette.action.selected},backgroundColor:e.palette.action.hover},alignItems:"stretch",borderBottom:"0.5px solid ".concat(e.palette.divider),cursor:"pointer",paddingBottom:e.spacing(2),paddingRight:e.spacing(1),paddingTop:e.spacing(2)},opacityIcon:{marginRight:e.spacing(.5)},opacityInput:gc(gc({},e.typography.caption),{},{"&::-webkit-outer-spin-button,&::-webkit-inner-spin-button":{"-webkit-appearance":"none",margin:0},"-moz-appearance":"textfield",textAlign:"right",width:"3ch"}),sectionHeading:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1),paddingTop:e.spacing(2)},slider:{marginLeft:e.spacing(2),marginRight:e.spacing(2),maxWidth:150},thumbnail:{minWidth:50}}})),(0,i.Ng)((function(e,t){var n=t.canvasId,r=t.windowId;return{label:(0,ee.T2)(e,{canvasId:n,windowId:r}),layerMetadata:(0,po.bB)(e,{canvasId:n,windowId:r}),layers:(0,po.yK)(e,{canvasId:n,windowId:r})}}),bc));const xc=wc(mc);function Sc(e){return Sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(e)}function Ec(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _c(e,t){return _c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_c(e,t)}function Tc(e){return Tc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tc(e)}var Oc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_c(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Tc(r);if(i){var n=Tc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Sc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.canvasIds,n=e.id,r=e.t,i=e.windowId;return u.createElement(at.A,{title:r("layers"),id:n,windowId:i},t.map((function(e,n){return u.createElement(xc,{canvasId:e,index:n,key:e,totalSize:t.length,windowId:i})})))}}])&&Ec(t.prototype,n),a}(u.Component);Oc.defaultProps={canvasIds:[]};var Ac=(0,r.Zz)((0,o.C)(),(0,a.A)((function(e){return{}})),(0,i.Ng)((function(e,t){t.id;var n=t.windowId;return{canvasIds:(0,ee.tv)(e,{windowId:n})}})),(0,s.h)("LayersPanel"));const Cc=Ac(Oc);function Pc(e){return Pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(e)}function kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rc(e,t){return Rc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Rc(e,t)}function Ic(e){return Ic=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ic(e)}var Mc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rc(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ic(r);if(i){var n=Ic(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Pc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.children,r=e.t,i=e.title,o=e.windowId;return u.createElement(at.A,{title:r(i),id:t,windowId:o},n)}}])&&kc(t.prototype,n),a}(u.Component);Mc.defaultProps={children:null};var Dc=(0,r.Zz)((0,o.C)(),(0,a.A)((function(e){return{}})),(0,i.Ng)((function(e,t){return t.id,t.windowId,{}})),(0,s.h)("CustomPanel"));const jc=Dc(Mc);var Lc=n(35143),Nc=n(53655);function zc(e){return zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(e)}var Bc=["manifest"];function Fc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hc(e,t){return Hc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Hc(e,t)}function Uc(e){return Uc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Uc(e)}var Vc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hc(e,t)}(s,e);var t,n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Uc(i);if(o){var n=Uc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===zc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return t=s,n=[{key:"isMultipart",value:function(){var e=this.props.collection;if(!e)return!1;var t=e.getProperty("behavior");return Array.isArray(t)?e.includes("multi-part"):"multi-part"===t}},{key:"render",value:function(){var e=this.props,t=e.canvasNavigation,n=e.classes,r=e.collectionPath,i=e.collection,o=e.id,a=e.isFetching,l=e.manifestId,c=e.parentCollection,f=e.updateCompanionWindow,d=e.updateWindow,p=e.t,h=e.variant,m=e.windowId,v=function(e){var r=e.manifest,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Bc);return u.createElement(Ue.A,Object.assign({className:n.menuItem,alignItems:"flex-start",button:!0,component:"li",selected:l===r.id},i),"thumbnail"===h&&u.createElement(Lc.A,null,u.createElement(te.A,{resource:r,maxHeight:t.height,maxWidth:t.width})),u.createElement(Ve.A,null,s.getUseableLabel(r)))};return u.createElement(at.A,{title:p(this.isMultipart()?"multipartCollection":"collection"),windowId:m,id:o,titleControls:u.createElement(u.Fragment,null,c&&u.createElement(Oi.A,null,u.createElement(Pi.A,{button:!0,onClick:function(){return f({collectionPath:r.slice(0,-1)})}},u.createElement(Lc.A,null,u.createElement(Nc.A,null)),u.createElement(Ve.A,{primaryTypographyProps:{variant:"body1"}},s.getUseableLabel(c)))),u.createElement(Ce.A,{variant:"h6"},i&&s.getUseableLabel(i),a&&u.createElement(yr.A,{className:n.placeholder,variant:"text"})))},u.createElement(He.A,null,a&&u.createElement(Ue.A,null,u.createElement(Ve.A,null,u.createElement(yr.A,{className:n.placeholder,variant:"text"}),u.createElement(yr.A,{className:n.placeholder,variant:"text"}),u.createElement(yr.A,{className:n.placeholder,variant:"text"}))),i&&i.getCollections().map((function(e){return u.createElement(v,{key:e.id,onClick:function(){var t;f({collectionPath:[].concat((t=r,function(e){if(Array.isArray(e))return Fc(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return Fc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fc(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[e.id])})},manifest:e})})),i&&i.getManifests().map((function(e){return u.createElement(v,{key:e.id,onClick:function(){d({canvasId:null,collectionPath:r,manifestId:e.id}),f({multipart:!1})},manifest:e})}))))}}],r=[{key:"getUseableLabel",value:function(e,t){return e&&e.getLabel&&e.getLabel().length>0?e.getLabel().getValue():e.id}}],n&&Wc(t.prototype,n),r&&Wc(t,r),s}(u.Component);Vc.defaultProps={collection:null,collectionPath:[],error:null,isFetching:!1,parentCollection:null,ready:!1,t:function(e){return e},variant:null};var Gc=(0,r.Zz)((0,a.A)((function(e){return{label:{paddingLeft:e.spacing(1)},menuItem:{borderBottom:"0.5px solid ".concat(e.palette.divider),paddingRight:e.spacing(1),whiteSpace:"normal"}}})),(0,o.C)(),(0,i.Ng)((function(e,t){var n=t.id,r=t.windowId,i=(0,Se.zk)(e,{windowId:r}),o=(0,xe.DS)(e,{companionWindowId:n}),a=o.collectionPath||i.collectionPath,s=a&&a[a.length-1],l=a&&a[a.length-2],u=s&&(0,Se.c2)(e,{manifestId:s}),c=l&&(0,Se.c2)(e,{manifestId:l}),f=(0,Se.c2)(e,{windowId:r});return{canvasNavigation:e.config.canvasNavigation,collection:u&&(0,mt.SG)(e,{manifestId:u.id}),collectionId:s,collectionPath:a,error:u&&u.error,isFetching:u&&u.isFetching,manifestId:f&&f.id,parentCollection:c&&(0,mt.SG)(e,{manifestId:c.id}),ready:u&&!!u.json,variant:o.variant||(0,sr.bT)(e,{windowId:r})}}),(function(e,t){var n=t.id,r=t.windowId;return{updateCompanionWindow:function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e(ht.u3.apply(Q,[r,n].concat(i)))},updateWindow:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e(jt.uE.apply(Q,[r].concat(n)))}}})),(0,s.h)("WindowSideBarCollectionPanel"));const qc={annotations:pt,attribution:Or,canvas:gr,collection:Gc(Vc),custom:jc,info:ln,layers:Cc,search:co,thumbnailNavigation:Oe}},66785:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(94881),i=n.n(r),o=n(98027),a=n.n(o),s=n(33415);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=t}var t,n;return t=e,(n=[{key:"id",get:function(){return this.canvas.id}},{key:"getWidth",value:function(){return this.canvas.getWidth()}},{key:"getHeight",value:function(){return this.canvas.getHeight()}},{key:"aspectRatio",get:function(){return this.canvas.getWidth()/this.canvas.getHeight()}},{key:"annotationListUris",get:function(){return i()(new Array(this.canvas.__jsonld.otherContent)).filter((function(e){return e&&("string"==typeof e||"sc:AnnotationList"===e["@type"])})).map((function(e){return"string"==typeof e?e:e["@id"]}))}},{key:"canvasAnnotationPages",get:function(){return i()(new Array(this.canvas.__jsonld.annotations)).filter((function(e){return e&&"AnnotationPage"===e.type}))}},{key:"imageResource",get:function(){return this.imageResources[0]}},{key:"imageResources",get:function(){var e=this,t=a()([this.canvas.getImages().map((function(e){return e.getResource()})),this.canvas.getContent().map((function(e){return e.getBody()}))]);return i()(t.map((function(t){return"oa:Choice"===t.getProperty("type")?new s.Canvas({images:i()([t.getProperty("default"),t.getProperty("item")]).map((function(e){return{resource:e}}))},e.canvas.options).getImages().map((function(e){return e.getResource()})):t})))}},{key:"videoResources",get:function(){var e=a()([this.canvas.getContent().map((function(e){return e.getBody()}))]);return i()(e.filter((function(e){return"Video"===e.getProperty("type")})))}},{key:"audioResources",get:function(){var e=a()([this.canvas.getContent().map((function(e){return e.getBody()}))]);return i()(e.filter((function(e){return"Sound"===e.getProperty("type")})))}},{key:"vttContent",get:function(){var e=a()([this.canvas.getContent().map((function(e){return e.getBody()}))]);return i()(e.filter((function(e){return"text/vtt"===e.getProperty("format")})))}},{key:"resourceAnnotations",get:function(){return a()([this.canvas.getImages(),this.canvas.getContent()])}},{key:"resourceAnnotation",value:function(e){return this.resourceAnnotations.find((function(t){return t.getResource().id===e||i()(new Array(t.getBody())).some((function(t){return t.id===e}))}))}},{key:"onFragment",value:function(e){var t=this.resourceAnnotation(e);if(t){var n=t.getProperty("on"),r=t.getProperty("target"),i=(n||r).match(/xywh=(.*)$/);if(i)return i[1].split(",").map((function(e){return parseInt(e,10)}))}}},{key:"iiifImageResources",get:function(){return this.imageResources.filter((function(e){return e&&e.getServices()[0]&&e.getServices()[0].id}))}},{key:"imageServiceIds",get:function(){return this.iiifImageResources.map((function(e){return e.getServices()[0].id}))}},{key:"service",get:function(){return this.canvas.__jsonld.service}},{key:"getLabel",value:function(){return this.canvas.getLabel().length>0?this.canvas.getLabel().getValue():String(this.canvas.index+1)}}])&&l(t.prototype,n),e}()},94800:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{A:()=>i});var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.manifest=t}var t,n;return t=e,(n=[{key:"startCanvas",get:function(){var e,t=this.manifest.getSequences()[0];if(t){if(!(e=t.getProperty("startCanvas"))){var n=this.manifest.getProperty("start")||t.getProperty("start");e=n&&(n.id||n.source)}return e&&t.getCanvasById(e)||void 0}}},{key:"canvasAt",value:function(e){var t=this.manifest.getSequences()[0],n=t&&t.getCanvases();return n&&n[e]}}])&&r(t.prototype,n),e}()},70599:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(33415),i=n(94800),o=n(66785),a=n(87048);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){var t=e&&e.getServices().find((function(e){return function(e){var t=e.getProperty("type")||[];return(0,a.A)(t).some((function(e){return e.startsWith("ImageService")}))}(e)||r.Utils.isImageProfile(e.getProfile())}));if(t)return t}var u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resource=t,this.iiifOpts=n}var t,n,u;return t=e,u=[{key:"staticImageUrl",value:function(e){return{height:e.getProperty("height"),url:e.id,width:e.getProperty("width")}}},{key:"getPreferredImage",value:function(e){var t=new o.A(e);return t.iiifImageResources[0]||t.imageResource}},{key:"selectBestImageSize",value:function(e,t){var n=(0,a.A)(e.getProperty("sizes")),r={default:!0,height:e.getProperty("height")||Number.MAX_SAFE_INTEGER,width:e.getProperty("width")||Number.MAX_SAFE_INTEGER},i=function(e){return e.width*e.height-t};if((r=n.reduce((function(e,t){var n=i(t);return n<0?e:Math.abs(n)<Math.abs(i(e))?t:e}),r)).width*r.height>6*t&&(r=n.reduce((function(e,t){return Math.abs(i(t))<Math.abs(i(e))?t:e}),r)),!r.default)return r}}],(n=[{key:"iiifThumbnailUrl",value:function(t){var n,i,o,a=120,s=a,u=a,c=this.iiifOpts,f=c.maxHeight,d=c.maxWidth;f&&(s=Math.max(f,a)),d&&(u=Math.max(d,a));var p=l(t);if(!p)return e.staticImageUrl(t);var h=t.getWidth()&&t.getHeight()&&t.getWidth()/t.getHeight(),m=d&&f?d*f:s*u,v=e.selectBestImageSize(p,m);if(v)i=v.width,o=v.height,n="".concat(i,",").concat(o);else if(function(e){var t=e.getProfile();return!t.endsWith("#level1")&&!t.endsWith("#level2")&&("level0"===t||r.Utils.isLevel0ImageProfile(t))}(p)){if(!p.getProperty("height")&&!p.getProperty("width"))return e.staticImageUrl(t)}else f&&d?function(e){var t=e.getProfile();return!t.endsWith("#level0")&&!t.endsWith("#level1")&&("level2"===t||r.Utils.isLevel2ImageProfile(t))}(p)?(n="!".concat(u,",").concat(s),i=u,o=s,h&&h>1&&(o=Math.round(u/h)),h&&h<1&&(i=Math.round(s*h))):u/s<h?(n="".concat(u,","),i=u,h&&(o=Math.round(u/h))):(n=",".concat(s),o=s,h&&(i=Math.round(s*h))):f&&!d?(n=",".concat(s),o=s,h&&(i=Math.round(s*h))):!f&&d?(n="".concat(u,","),i=u,h&&(o=Math.round(u/h))):(n=",".concat(a),o=a,h&&(i=Math.round(o*h)));var g=r.Utils.getImageQuality(p.getProfile()),y=p.id.replace(/\/+$/,""),b=this.getFormat(p);return{height:o,url:[y,"full",n,0,"".concat(g,".").concat(b)].join("/"),width:i}}},{key:"getFormat",value:function(e){var t=this.iiifOpts.preferredFormats,n=void 0===t?[]:t,r=e.getProperty("preferredFormats");if(!r)return"jpg";var i=r.filter((function(e){return n.includes(e)}));return i[0]?i[0]:!r.includes("jpg")&&n.includes("jpg")?"jpg":r[0]?r[0]:"jpg"}},{key:"getSourceContentResource",value:function(t){var n=t.getThumbnail();if(n)return"string"==typeof n.__jsonld?n.__jsonld:t.isCollection()||t.isManifest()||t.isCanvas()||"image"!==t.getType()||!l(t)||l(n)?n:t;if(t.isCollection()){var r=t.getManifests()[0];return r?this.getSourceContentResource(r):void 0}if(t.isManifest()){var o=new i.A(t),a=o.startCanvas||o.canvasAt(0);return a?this.getSourceContentResource(a):void 0}if(t.isCanvas()){var s=e.getPreferredImage(t);return s?this.getSourceContentResource(s):void 0}return"image"===t.getType()?t:void 0}},{key:"get",value:function(){if(this.resource){var e=this.getSourceContentResource(this.resource);if(e)return"string"==typeof e?{url:e}:this.iiifThumbnailUrl(e)}}}])&&s(t.prototype,n),u&&s(t,u),e}();function c(e,t){return new u(e,t).get()}},87048:(e,t,n)=>{"use strict";function r(e){return void 0===e?[]:Array.isArray(e)?e:[e]}n.d(t,{A:()=>r})},64581:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={ADD_COMPANION_WINDOW:"mirador/ADD_COMPANION_WINDOW",UPDATE_COMPANION_WINDOW:"mirador/UPDATE_COMPANION_WINDOW",REMOVE_COMPANION_WINDOW:"mirador/REMOVE_COMPANION_WINDOW",TOGGLE_TOC_NODE:"mirador/TOGGLE_TOC_NODE",UPDATE_WINDOW:"mirador/UPDATE_WINDOW",REQUEST_CANVAS_ANNOTATIONS:"mirador/REQUEST_CANVAS_ANNOTATIONS",HOVER_ANNOTATION:"mirador/HOVER_ANNOTATION",REQUEST_ANNOTATION:"mirador/REQUEST_ANNOTATION",RECEIVE_ANNOTATION:"mirador/RECEIVE_ANNOTATION",RECEIVE_ANNOTATION_FAILURE:"mirador/RECEIVE_ANNOTATION_FAILURE",DESELECT_ANNOTATION:"mirador/DESELECT_ANNOTATION",SELECT_ANNOTATION:"mirador/SELECT_ANNOTATION",TOGGLE_ANNOTATION_DISPLAY:"mirador/TOGGLE_ANNOTATION_DISPLAY",FOCUS_WINDOW:"mirador/FOCUS_WINDOW",SET_WORKSPACE_FULLSCREEN:"mirador/SET_WORKSPACE_FULLSCREEN",SET_WORKSPACE_VIEWPORT_POSITION:"mirador/SET_WORKSPACE_VIEWPORT_POSITION",ADD_MANIFEST:"mirador/ADD_MANIFEST",ADD_WINDOW:"mirador/ADD_WINDOW",ADD_ERROR:"mirador/ADD_ERROR",IMPORT_CONFIG:"mirador/IMPORT_CONFIG",IMPORT_MIRADOR_STATE:"mirador/IMPORT_MIRADOR_STATE",SET_CANVAS:"mirador/SET_CANVAS",MAXIMIZE_WINDOW:"mirador/MAXIMIZE_WINDOW",MINIMIZE_WINDOW:"mirador/MINIMIZE_WINDOW",UPDATE_WINDOW_POSITION:"mirador/UPDATE_WINDOW_POSITION",SET_WINDOW_SIZE:"mirador/SET_WINDOW_SIZE",REMOVE_WINDOW:"mirador/REMOVE_WINDOW",PICK_WINDOWING_SYSTEM:"mirador/PICK_WINDOWING_SYSTEM",REQUEST_MANIFEST:"mirador/REQUEST_MANIFEST",RECEIVE_MANIFEST:"mirador/RECEIVE_MANIFEST",RECEIVE_MANIFEST_FAILURE:"mirador/RECEIVE_MANIFEST_FAILURE",REMOVE_ERROR:"mirador/REMOVE_ERROR",SET_CONFIG:"mirador/SET_CONFIG",UPDATE_WORKSPACE:"mirador/UPDATE_WORKSPACE",SET_WINDOW_THUMBNAIL_POSITION:"mirador/SET_WINDOW_THUMBNAIL_POSITION",SET_WINDOW_VIEW_TYPE:"mirador/SET_WINDOW_VIEW_TYPE",SET_WORKSPACE_ADD_VISIBILITY:"mirador/SET_WORKSPACE_ADD_VISIBILITY",TOGGLE_WINDOW_SIDE_BAR:"mirador/TOGGLE_WINDOW_SIDE_BAR",TOGGLE_DRAGGING:"mirador/TOGGLE_DRAGGING",TOGGLE_ZOOM_CONTROLS:"mirador/TOGGLE_ZOOM_CONTROLS",UPDATE_CONFIG:"mirador/UPDATE_CONFIG",REMOVE_MANIFEST:"mirador/REMOVE_MANIFEST",REQUEST_INFO_RESPONSE:"mirador/REQUEST_INFO_RESPONSE",RECEIVE_INFO_RESPONSE:"mirador/RECEIVE_INFO_RESPONSE",RECEIVE_DEGRADED_INFO_RESPONSE:"mirador/RECEIVE_DEGRADED_INFO_RESPONSE",RECEIVE_INFO_RESPONSE_FAILURE:"mirador/RECEIVE_INFO_RESPONSE_FAILURE",REMOVE_INFO_RESPONSE:"mirador/REMOVE_INFO_RESPONSE",UPDATE_WORKSPACE_MOSAIC_LAYOUT:"mirador/UPDATE_WORKSPACE_MOSAIC_LAYOUT",UPDATE_VIEWPORT:"mirador/UPDATE_VIEWPORT",UPDATE_ELASTIC_WINDOW_LAYOUT:"mirador/UPDATE_ELASTIC_WINDOW_LAYOUT",ADD_AUTHENTICATION_REQUEST:"mirador/ADD_AUTHENTICATION_REQUEST",RESOLVE_AUTHENTICATION_REQUEST:"mirador/RESOLVE_AUTHENTICATION_REQUEST",REQUEST_ACCESS_TOKEN:"mirador/REQUEST_ACCESS_TOKEN",RECEIVE_ACCESS_TOKEN:"mirador/RECEIVE_ACCESS_TOKEN",RECEIVE_ACCESS_TOKEN_FAILURE:"mirador/RECEIVE_ACCESS_TOKEN_FAILURE",RESET_AUTHENTICATION_STATE:"mirador/RESET_AUTHENTICATION_STATE",CLEAR_ACCESS_TOKEN_QUEUE:"mirador/CLEAR_ACCESS_TOKEN_QUEUE",REQUEST_SEARCH:"mirador/REQUEST_SEARCH",RECEIVE_SEARCH:"mirador/RECEIVE_SEARCH",RECEIVE_SEARCH_FAILURE:"mirador/RECEIVE_SEARCH_FAILURE",REMOVE_SEARCH:"mirador/REMOVE_SEARCH",SET_CONTENT_SEARCH_CURRENT_ANNOTATIONS:"mirador/SET_CONTENT_SEARCH_CURRENT_ANNOTATIONS",UPDATE_LAYERS:"mirador/UPDATE_LAYERS",ADD_RESOURCE:"mirador/ADD_RESOURCE",REMOVE_RESOURCE:"mirador/REMOVE_RESOURCE",SHOW_COLLECTION_DIALOG:"mirador/SHOW_COLLECTION_DIALOG",HIDE_COLLECTION_DIALOG:"mirador/HIDE_COLLECTION_DIALOG"}},82486:(e,t,n)=>{"use strict";n.d(t,{GW:()=>f,PW:()=>u,aw:()=>i,gN:()=>l,n_:()=>a,ow:()=>c,pJ:()=>o,tf:()=>s});var r=n(64581);function i(e,t){return{canvasId:t,type:r.A.REQUEST_CANVAS_ANNOTATIONS,windowId:e}}function o(e,t){return{annotationId:t,targetId:e,type:r.A.REQUEST_ANNOTATION}}function a(e,t,n){return{annotationId:t,annotationJson:n,targetId:e,type:r.A.RECEIVE_ANNOTATION}}function s(e,t,n){return{annotationId:t,error:n,targetId:e,type:r.A.RECEIVE_ANNOTATION_FAILURE}}function l(e,t){return{annotationId:t,type:r.A.SELECT_ANNOTATION,windowId:e}}function u(e,t){return{annotationId:t,type:r.A.DESELECT_ANNOTATION,windowId:e}}function c(e){return{type:r.A.TOGGLE_ANNOTATION_DISPLAY,windowId:e}}function f(e,t){return{annotationIds:t,type:r.A.HOVER_ANNOTATION,windowId:e}}},45377:(e,t,n)=>{"use strict";n.d(t,{B0:()=>l,B2:()=>c,Bq:()=>a,HN:()=>d,_U:()=>s,fw:()=>f,h6:()=>u});var r=n(64581);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return{id:t,profile:arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,type:r.A.ADD_AUTHENTICATION_REQUEST,windowId:e}}function s(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:e,tokenServiceId:t,type:r.A.RESOLVE_AUTHENTICATION_REQUEST},n)}function l(e,t){return{authId:t,serviceId:e,type:r.A.REQUEST_ACCESS_TOKEN}}function u(e,t,n){return{authId:e,json:n,serviceId:t,type:r.A.RECEIVE_ACCESS_TOKEN}}function c(e,t,n){return{authId:e,error:n,serviceId:t,type:r.A.RECEIVE_ACCESS_TOKEN_FAILURE}}function f(e,t,n){return n.accessToken?u(e,t,n):c(e,t,n)}function d(e){return{id:e.authServiceId,tokenServiceId:e.tokenServiceId,type:r.A.RESET_AUTHENTICATION_STATE}}},83131:(e,t,n)=>{"use strict";n.d(t,{Kh:()=>c,OZ:()=>u,h5:()=>l,yR:()=>f});var r=n(64581),i=n(93368);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(s,l){var u=l(),c=n;c||(c=((0,i.O$)(u,{canvasId:t,windowId:e})||[]).map((function(e){return e.id}))),s(a(a({},o),{},{canvasId:t,type:r.A.SET_CANVAS,visibleCanvases:c,windowId:e}))}}function u(e){return function(t,n){var r=n(),o=(0,i.BL)(r,{windowId:e}),a=(o||[]).map((function(e){return e.id}));o&&t(l(e,a[0],a))}}function c(e){return function(t,n){var r=n(),o=(0,i.Nj)(r,{windowId:e}),a=(o||[]).map((function(e){return e.id}));o&&t(l(e,a[0],a))}}function f(e,t){return{payload:t,type:r.A.UPDATE_VIEWPORT,windowId:e}}},7276:(e,t,n)=>{"use strict";n.d(t,{M:()=>i,l:()=>o});var r=n(64581);function i(e){return{manifestId:e,manifestJson:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,payload:arguments.length>2?arguments[2]:void 0,type:r.A.ADD_RESOURCE}}function o(e){return{manifestId:e,type:r.A.REMOVE_RESOURCE}}},91769:(e,t,n)=>{"use strict";n.d(t,{A_:()=>f,TN:()=>m,Yy:()=>d,l2:()=>h,u3:()=>p});var r=n(13443),i=n(64581),o=n(47031),a=n(49842);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={content:null,position:null};function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,o="cw-".concat((0,r.A)());return{id:o,payload:l(l(l({},n),t),{},{id:o,windowId:e}),type:i.A.ADD_COMPANION_WINDOW,windowId:e}}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;return function(r,i){var a=i(),s=t.position,l="left"===s&&(0,o.bN)(a,{position:s,windowId:e})[0];r(l?p(e,l,t):f(e,t,n))}}function p(e,t,n){return{id:t,payload:n,type:i.A.UPDATE_COMPANION_WINDOW,windowId:e}}function h(e,t){return{id:t,type:i.A.REMOVE_COMPANION_WINDOW,windowId:e}}function m(e,t,n){return function(r,o){var s=o(),l=(0,a.tv)(s,{companionWindowId:t},!1),c=(0,a.tv)(s,{companionWindowId:t},!0),f=(0,a.BB)(s,{id:t,windowId:e}),d=-1!==l.indexOf(n)||-1===c.indexOf(n)&&-1===f.indexOf(n);return r({id:t,payload:u({},n,{expanded:d}),type:i.A.TOGGLE_TOC_NODE,windowId:e})}}},84065:(e,t,n)=>{"use strict";n.d(t,{Jk:()=>f,KZ:()=>l,Nk:()=>u,_R:()=>c});var r=n(13443),i=n(64581);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return{config:e,type:i.A.IMPORT_CONFIG}}function u(e){return{config:e,type:i.A.SET_CONFIG}}function c(e){return{config:e,type:i.A.UPDATE_CONFIG}}function f(e){return{state:a(a({},e),{},{workspace:a(a({},e.workspace),{},{id:(0,r.A)()})}),type:i.A.IMPORT_MIRADOR_STATE}}},94698:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});var r=n(64581);function i(e,t){return{payload:t,type:r.A.UPDATE_ELASTIC_WINDOW_LAYOUT,windowId:e}}},72324:(e,t,n)=>{"use strict";n.d(t,{$:()=>a,C:()=>o});var r=n(13443),i=n(64581);function o(e){return{id:"error-".concat((0,r.A)()),message:e,type:i.A.ADD_ERROR}}function a(e){return{id:e,type:i.A.REMOVE_ERROR}}},63403:(e,t,n)=>{"use strict";n.r(t),n.d(t,{addAuthenticationRequest:()=>d.Bq,addCompanionWindow:()=>r.A_,addError:()=>o.C,addOrUpdateCompanionWindow:()=>r.Yy,addResource:()=>v.M,addWindow:()=>a._U,deselectAnnotation:()=>f.PW,fetchInfoResponse:()=>l.E9,fetchManifest:()=>s.Cj,fetchSearch:()=>h.$Q,focusWindow:()=>a.hN,hideCollectionDialog:()=>a.Th,hoverAnnotation:()=>f.GW,importConfig:()=>i.KZ,importMiradorState:()=>i.Jk,maximizeWindow:()=>a.Ff,minimizeWindow:()=>a.ds,receiveAccessToken:()=>d.h6,receiveAccessTokenFailure:()=>d.B2,receiveAnnotation:()=>f.n_,receiveAnnotationFailure:()=>f.tf,receiveDegradedInfoResponse:()=>l.dv,receiveInfoResponse:()=>l.xO,receiveInfoResponseFailure:()=>l.P7,receiveManifest:()=>s.Dc,receiveManifestFailure:()=>s.ns,receiveSearch:()=>h.md,receiveSearchFailure:()=>h.ae,removeCompanionWindow:()=>r.l2,removeError:()=>o.$,removeInfoResponse:()=>l.UE,removeManifest:()=>s.ei,removeResource:()=>v.l,removeSearch:()=>h.Vw,removeWindow:()=>a.lM,requestAccessToken:()=>d.B0,requestAnnotation:()=>f.pJ,requestCanvasAnnotations:()=>f.aw,requestInfoResponse:()=>l.vZ,requestManifest:()=>s.dX,requestSearch:()=>h.ib,resetAuthenticationState:()=>d.HN,resolveAccessTokenRequest:()=>d.fw,resolveAuthenticationRequest:()=>d._U,selectAnnotation:()=>f.gN,setCanvas:()=>u.h5,setCompanionAreaOpen:()=>a.Aq,setConfig:()=>i.Nk,setContentSearchCurrentAnnotation:()=>h.q,setNextCanvas:()=>u.OZ,setPreviousCanvas:()=>u.Kh,setWindowThumbnailPosition:()=>a.GR,setWindowViewType:()=>a.QO,setWorkspaceAddVisibility:()=>c.DW,setWorkspaceFullscreen:()=>c.Vs,setWorkspaceViewportDimensions:()=>c.Pi,setWorkspaceViewportPosition:()=>c.Dl,showCollectionDialog:()=>a.Az,toggleAnnotationDisplay:()=>f.ow,toggleDraggingEnabled:()=>c.Zw,toggleNode:()=>r.TN,toggleWindowSideBar:()=>a.F9,toggleZoomControls:()=>c.WU,updateCompanionWindow:()=>r.u3,updateConfig:()=>i._R,updateElasticWindowLayout:()=>p.D,updateLayers:()=>m.o,updateViewport:()=>u.yR,updateWindow:()=>a.uE,updateWorkspace:()=>c.tO,updateWorkspaceMosaicLayout:()=>c.ZV});var r=n(91769),i=n(84065),o=n(72324),a=n(18595),s=n(99254),l=n(95120),u=n(83131),c=n(65030),f=n(82486),d=n(45377),p=n(94698),h=n(7171),m=n(44269),v=n(7276)},95120:(e,t,n)=>{"use strict";n.d(t,{E9:()=>l,P7:()=>s,UE:()=>u,dv:()=>a,vZ:()=>i,xO:()=>o});var r=n(64581);function i(e,t,n){return{imageResource:t,infoId:e,type:r.A.REQUEST_INFO_RESPONSE,windowId:n}}function o(e,t,n,i){return{infoId:e,infoJson:t,ok:n,tokenServiceId:i,type:r.A.RECEIVE_INFO_RESPONSE}}function a(e,t,n,i,o){return{infoId:e,infoJson:t,ok:n,tokenServiceId:i,type:r.A.RECEIVE_DEGRADED_INFO_RESPONSE,windowId:o}}function s(e,t,n){return{error:t,infoId:e,tokenServiceId:n,type:r.A.RECEIVE_INFO_RESPONSE_FAILURE}}function l(e){var t=e.imageId,n=e.imageResource,r=e.windowId,o=n&&n.getServices()[0];return i(t||o.id,o,r)}function u(e){return{infoId:e,type:r.A.REMOVE_INFO_RESPONSE}}},44269:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(64581);function i(e,t,n){return{canvasId:t,payload:n,type:r.A.UPDATE_LAYERS,windowId:e}}},99254:(e,t,n)=>{"use strict";n.d(t,{Cj:()=>c,Dc:()=>l,dX:()=>s,ei:()=>f,ns:()=>u});var r=n(64581);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return{manifestId:e,properties:t,type:r.A.REQUEST_MANIFEST}}function l(e,t){return{manifestId:e,manifestJson:t,type:r.A.RECEIVE_MANIFEST}}function u(e,t){return{error:t,manifestId:e,type:r.A.RECEIVE_MANIFEST_FAILURE}}function c(e,t){return s(e,o(o({},t),{},{isFetching:!0}))}function f(e){return{manifestId:e,type:r.A.REMOVE_MANIFEST}}},7171:(e,t,n)=>{"use strict";n.d(t,{$Q:()=>l,Vw:()=>s,ae:()=>a,ib:()=>i,md:()=>o,q:()=>u});var r=n(64581);function i(e,t,n,i){return{companionWindowId:t,query:i,searchId:n,type:r.A.REQUEST_SEARCH,windowId:e}}function o(e,t,n,i){return{companionWindowId:t,searchId:n,searchJson:i,type:r.A.RECEIVE_SEARCH,windowId:e}}function a(e,t,n,i){return{companionWindowId:t,error:i,searchId:n,type:r.A.RECEIVE_SEARCH_FAILURE,windowId:e}}function s(e,t){return{companionWindowId:t,type:r.A.REMOVE_SEARCH,windowId:e}}function l(e,t,n,r){return i(e,t,n,r)}function u(e,t,n){return{annotationIds:n,companionWindowId:t,type:r.A.SET_CONTENT_SEARCH_CURRENT_ANNOTATIONS,windowId:e}}},18595:(e,t,n)=>{"use strict";n.d(t,{Aq:()=>v,Az:()=>x,F9:()=>y,Ff:()=>h,GR:()=>b,QO:()=>w,Th:()=>S,_U:()=>d,ds:()=>m,hN:()=>f,lM:()=>g,uE:()=>p});var r=n(13443),i=n(64581),o=n(87827),a=["companionWindows","manifest"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){return{pan:arguments.length>1&&void 0!==arguments[1]&&arguments[1],type:i.A.FOCUS_WINDOW,windowId:e}}function d(e){var t=e.companionWindows,n=e.manifest,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,a);return function(e,a){var u,f=(0,o.t)(a()),d=f.config,p=f.workspace.windowIds,h=(void 0===p?[]:p).length,m=s.id||"window-".concat((0,r.A)()),v="cw-".concat((0,r.A)()),g=[{content:"thumbnailNavigation",default:!0,id:v,position:s.thumbnailNavigationPosition||d.thumbnailNavigation.defaultPosition,windowId:m}].concat(function(e){if(Array.isArray(e))return c(e)}(u=(t||[]).map((function(e,t){return l(l({},e),{},{id:"cw-".concat((0,r.A)())})})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(u)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());(s.sideBarPanel||d.window.defaultSideBarPanel||d.window.sideBarPanel)&&g.unshift({content:s.sideBarPanel||s.defaultSearchQuery&&"search"||d.window.defaultSideBarPanel||d.window.sideBarPanel,default:!0,id:"cw-".concat((0,r.A)()),position:"left",windowId:m});var y={canvasId:void 0,collectionIndex:0,companionAreaOpen:!0,companionWindowIds:g.map((function(e){return e.id})),draggingEnabled:!0,highlightAllAnnotations:d.window.highlightAllAnnotations||!1,id:m,manifestId:null,maximized:!1,rangeId:null,rotation:null,selectedAnnotations:{},sideBarOpen:void 0!==d.window.sideBarOpenByDefault?d.window.sideBarOpenByDefault||!!s.defaultSearchQuery:d.window.sideBarOpen||!!s.defaultSearchQuery,sideBarPanel:s.sideBarPanel||d.window.defaultSideBarPanel||d.window.sideBarPanel,thumbnailNavigationId:v};e({companionWindows:g,elasticLayout:l(l({},d.window.elastic||{height:400,width:480}),{},{x:50*Math.floor(h/10)+30*h%300+200,y:200+50*h%300}),manifest:n,type:i.A.ADD_WINDOW,window:l(l({},y),s)})}}function p(e,t){return{id:e,payload:t,type:i.A.UPDATE_WINDOW}}function h(e,t){return{type:i.A.MAXIMIZE_WINDOW,windowId:e}}function m(e){return{type:i.A.MINIMIZE_WINDOW,windowId:e}}function v(e,t){return{id:e,payload:{companionAreaOpen:t},type:i.A.UPDATE_WINDOW}}function g(e){return{type:i.A.REMOVE_WINDOW,windowId:e}}function y(e){return{type:i.A.TOGGLE_WINDOW_SIDE_BAR,windowId:e}}function b(e,t){return function(n,r){n({id:r().windows[e].thumbnailNavigationId,payload:{position:t},type:i.A.UPDATE_COMPANION_WINDOW})}}function w(e,t){return{type:i.A.SET_WINDOW_VIEW_TYPE,viewType:t,windowId:e}}function x(e){var t=arguments.length>2?arguments[2]:void 0;return{collectionPath:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],manifestId:e,type:i.A.SHOW_COLLECTION_DIALOG,windowId:t}}function S(e){return{type:i.A.HIDE_COLLECTION_DIALOG,windowId:e}}},65030:(e,t,n)=>{"use strict";n.d(t,{DW:()=>l,Dl:()=>u,Pi:()=>c,Vs:()=>o,WU:()=>a,ZV:()=>s,Zw:()=>f,tO:()=>i});var r=n(64581);function i(e){return{config:e,type:r.A.UPDATE_WORKSPACE}}function o(e){return{isFullscreenEnabled:e,type:r.A.SET_WORKSPACE_FULLSCREEN}}function a(e){return{showZoomControls:e,type:r.A.TOGGLE_ZOOM_CONTROLS}}function s(e){return{layout:e,type:r.A.UPDATE_WORKSPACE_MOSAIC_LAYOUT}}function l(e){return{isWorkspaceAddVisible:e,type:r.A.SET_WORKSPACE_ADD_VISIBILITY}}function u(e){return{payload:{position:{x:e.x,y:e.y}},type:r.A.SET_WORKSPACE_VIEWPORT_POSITION}}function c(e){var t=e.width;return{payload:{position:{height:e.height,width:t}},type:r.A.SET_WORKSPACE_VIEWPORT_POSITION}}function f(){return{type:r.A.TOGGLE_DRAGGING}}},91663:(e,t,n)=>{"use strict";n.d(t,{Y2:()=>R,Ni:()=>k,Rh:()=>_,Su:()=>P,e3:()=>I,Z_:()=>M});var r=n(1401),i=n(18653),o=n.n(i),a=n(94881),s=n.n(a),l=n(95800),u=n(36286),c=n.n(u),f=n(13443);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resource=t}var t,n;return t=e,(n=[{key:"isOnlyTag",value:function(){return 1===this.motivations.length&&"tagging"===this.motivations[0]}},{key:"id",get:function(){return this._id=this._id||this.resource.id||(0,f.A)(),this._id}},{key:"targetId",get:function(){var e=this.target[0];switch(d(e)){case"string":return e.replace(/#?xywh=(.*)$/,"");case"object":return e.source&&e.source.id||e.source||e.id;default:return null}}},{key:"motivations",get:function(){return s()(c()(new Array(this.resource.motivation)))}},{key:"body",get:function(){return s()(c()(new Array(this.resource.body)))}},{key:"resources",get:function(){return this.body}},{key:"tags",get:function(){return this.isOnlyTag()?this.body.map((function(e){return e.value})):this.body.filter((function(e){return"tagging"===e.purpose})).map((function(e){return e.value}))}},{key:"target",get:function(){return s()(c()(new Array(this.resource.target)))}},{key:"chars",get:function(){return this.isOnlyTag()?null:this.body.filter((function(e){return"tagging"!==e.purpose})).map((function(e){return e.value})).join(" ")}},{key:"selector",get:function(){var e=this.target[0];switch(d(e)){case"string":return e;case"object":return s()(c()(new Array(e.selector)));default:return null}}},{key:"svgSelector",get:function(){var e=this.selector;switch(d(e)){case"string":default:return null;case"object":return e.find((function(e){return e.type&&"SvgSelector"===e.type}))}}},{key:"fragmentSelector",get:function(){var e,t,n=this.selector;switch(d(n)){case"string":e=n.match(/xywh=(.*)$/);break;case"object":e=(t=n.find((function(e){return e.type&&"FragmentSelector"===e.type})))&&t.value.match(/xywh=(.*)$/);break;default:return null}return e&&e[1].split(",").map((function(e){return parseInt(e,10)}))}}])&&p(t.prototype,n),e}();function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.json=t,this.target=n}var t,n;return t=e,(n=[{key:"id",get:function(){return this.json.id}},{key:"present",value:function(){return this.items&&this.items.length>0}},{key:"items",get:function(){var e=this;return this._items=this._items||(e.json&&e.json.items?s()([e.json.items]).map((function(e){return new h(e)})):[]),this._items}},{key:"resources",get:function(){return this.items}}])&&m(t.prototype,n),e}();function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"determineAnnotation",value:function(e,t){return e?"AnnotationPage"===e.type?new v(e,t):new l.A(e,t):null}}],null&&g(t.prototype,null),n&&g(t,n),e}(),b=n(87827),w=n(93368),x=n(37466),S=n(71450),E=["canvasId"];var _=function(e){return(0,b.t)(e).annotations},T=(0,r.createSelector)([x.zj,function(e,t){return t.motivations}],(function(e,t){return t||e.annotations.filteredMotivations})),O=(0,r.createSelector)([w.dX,_],(function(e,t){return t&&e&&t[e.id]?s()(Object.values(t[e.id])):[]})),A=(0,r.createSelector)([O],(function(e){return o()(Object.values(e).map((function(e){return e&&y.determineAnnotation(e.json)})),(function(e){return e&&e.present()}))})),C=(0,r.createSelector)([function(e,t){var n=t.canvasId,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,E);return n?[n]:(0,w.tv)(e,r)},_],(function(e,t){return t&&0!==e.length?s()(e.map((function(e){return t[e]&&Object.values(t[e])}))):[]})),P=(0,r.createSelector)([C],(function(e){return o()(Object.values(e).map((function(e){return e&&y.determineAnnotation(e.json)})),(function(e){return e&&e.present()}))})),k=(0,r.createSelector)([A,T],(function(e,t){return o()(s()(e.map((function(e){return e.resources}))),(function(e){return e.motivations.some((function(e){return t.includes(e)}))}))})),R=(0,r.createSelector)([P,T],(function(e,t){return o()(s()(e.map((function(e){return e.resources}))),(function(e){return e.motivations.some((function(e){return t.includes(e)}))}))})),I=(0,r.createSelector)([S.zk],(function(e){return e.selectedAnnotationId})),M=(0,r.createSelector)([P,I],(function(e,t){return e.map((function(e){return{id:e["@id"]||e.id,resources:e.resources.filter((function(e){return t===e.id}))}})).filter((function(e){return e.resources.length>0}))}))},46878:(e,t,n)=>{"use strict";n.d(t,{Rf:()=>g,X8:()=>y,wd:()=>w,xI:()=>b});var r=n(1401),i=n(33415),o=n(94881),a=n.n(o),s=n(66785),l=n(87827),u=n(37466),c=n(93368);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=(0,r.createSelector)([u.zj],(function(e){var t=e.auth,n=(t=void 0===t?{}:t).serviceProfiles;return void 0===n?[]:n})),y=function(e){return(0,l.t)(e).accessTokens||{}},b=function(e){return(0,l.t)(e).auth||{}},w=(0,r.createSelector)([c.Mg,c.dN,g,b,function(e,t){return t.iiifResources}],(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(!o&&e&&(o=a()(e.map((function(e){return new s.A(e).iiifImageResources.map((function(e){var n=e.getServices()[0],r=t[n.id];return r&&r.json?m(m({},r.json),{},{options:{}}):n}))})))),!o)return[];if(0===o.length)return[];var l=o.map((function(e){var t,o,a=i.Utils.getServices(e),s=d(n);try{var l=function(){var e,n=o.value,i=d(a.filter((function(e){return n.profile===e.getProfile()})));try{for(i.s();!(e=i.n()).done;){var s=e.value;if(t=s,!r[s.id]||r[s.id].isFetching||r[s.id].ok)return{v:s}}}catch(e){i.e(e)}finally{i.f()}};for(s.s();!(o=s.n()).done;){var u=l();if("object"===f(u))return u.v}}catch(e){s.e(e)}finally{s.f()}return t}));return Object.values(l.reduce((function(e,t){return t&&!e[t.id]&&(e[t.id]=t),e}),{}))}))},93368:(e,t,n)=>{"use strict";n.d(t,{dX:()=>m,HU:()=>_,O$:()=>w,tV:()=>b,T2:()=>E,P:()=>h,kR:()=>v,BL:()=>x,Nj:()=>S,_K:()=>C,mK:()=>A,tv:()=>g,RP:()=>T,HS:()=>O,Mg:()=>y,E_:()=>P,dN:()=>p});var r=n(1401),i=n(94881),o=n.n(i);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"single";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvases=t,this.viewType=n,this._groupings=null}var t,n;return t=e,(n=[{key:"getCanvases",value:function(e){return"book"===this.viewType?this.groupings()[Math.ceil(e/2)]:this.groupings()[e]}},{key:"groupings",value:function(){if(this._groupings)return this._groupings;if("scroll"===this.viewType)return[this.canvases];if("book"!==this.viewType)return this.canvases.map((function(e){return[e]}));var e=[];return this.canvases.forEach((function(t,n){0!==n?n%2!=0?e.push([t]):e[Math.ceil(n/2)].push(t):e.push([t])})),this._groupings=e,e}}])&&a(t.prototype,n),e}(),l=n(66785),u=n(87827),c=n(71450),f=n(16344),d=n(67671),p=function(e){return(0,u.t)(e).infoResponses},h=(0,r.createSelector)([f.eb],(function(e){return e&&e.getCanvases()||[]})),m=(0,r.createSelector)([f.eb,function(e,t){return t.canvasId}],(function(e,t){if(e&&t)return e.getCanvasById(t)})),v=(0,r.createSelector)([f.eb,c.zk],(function(e,t){if(e&&t)return t.canvasId?e.getCanvasById(t.canvasId):e.getCanvasByIndex(0)})),g=(0,r.createSelector)([c.zk],(function(e){return e&&(e.visibleCanvases||e.canvasId&&[e.canvasId])||[]})),y=(0,r.createSelector)([g,h],(function(e,t){return(t||[]).filter((function(t){return e.includes(t.id)}))})),b=(0,r.createSelector)([h,d.i9],(function(e,t){return e&&new s(e,t).groupings()})),w=(0,r.createSelector)([b,function(e,t){return t.canvasId}],(function(e,t){return e&&e.find((function(e){return e.some((function(e){return e.id===t}))}))||[]})),x=(0,r.createSelector)([b,v],(function(e,t,n){if(e&&t){var r=e.findIndex((function(e){return e.some((function(e){return e.id===t.id}))}));if(!(r<0||r+1>=e.length))return e[r+1]}})),S=(0,r.createSelector)([b,v],(function(e,t,n){if(e&&t){var r=e.findIndex((function(e){return e.some((function(e){return e.id===t.id}))}));if(!(r<1))return e[r-1]}})),E=(0,r.createSelector)([m],(function(e){return e&&(e.getLabel().length>0?e.getLabel().getValue():String(e.index+1))})),_=(0,r.createSelector)([m],(function(e){return e&&e.getProperty("description")})),T=(0,r.createSelector)([y],(function(e){return o()(e.map((function(e){return new l.A(e).imageResources}))).filter((function(e){return e.getServices().length<1}))})),O=(0,r.createSelector)([y],(function(e){return o()(e.map((function(e){return new l.A(e).videoResources})))})),A=(0,r.createSelector)([y],(function(e){return o()(e.map((function(e){return new l.A(e).vttContent})))})),C=(0,r.createSelector)([y],(function(e){return o()(e.map((function(e){return new l.A(e).audioResources})))})),P=(0,r.createSelector)([function(e,t){return t.infoId},m,p],(function(e,t,n){var r=e;if(!e){if(!t)return;var i=new l.A(t).iiifImageResources[0];r=i&&i.getServices()[0].id}return r&&n[r]&&!n[r].isFetching&&n[r]}))},47031:(e,t,n)=>{"use strict";n.d(t,{DS:()=>h,Ih:()=>x,Ir:()=>m,a4:()=>T,aE:()=>p,ar:()=>_,bN:()=>E,kH:()=>w});var r=n(1401),i=n(55409),o=n.n(i),a=n(87827),s=n(71450);function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return(0,a.t)(e).companionWindows||{}}var h=(0,r.createSelector)([p,function(e,t){return t.companionWindowId}],(function(e,t){return t&&e[t]})),m=(0,r.createSelector)([s.zk,p],(function(e,t){return e&&t[e.thumbnailNavigationId]&&t[e.thumbnailNavigationId].position})),v=(0,r.createSelector)([s.sl,p],(function(e,t){return(Object.keys(e)||[]).reduce((function(n,r){return f(f({},n),{},d({},r,o()(e[r].companionWindowIds,(function(e){return t[e]&&t[e].position}))))}),{})})),g=(0,r.createSelector)([s.sl,p],(function(e,t){return(Object.keys(e)||[]).reduce((function(n,r){return f(f({},n),{},d({},r,o()(e[r].companionWindowIds.map((function(e){return t[e]})),(function(e){return e.position}))))}),{})})),y=(0,r.createSelector)([function(e,t){return t.windowId},g],(function(e,t){return t[e]||{}})),b=(0,r.createSelector)([function(e,t){return t.windowId},v],(function(e,t){return t[e]||{}})),w=(0,r.createSelector)([y,function(e,t){return{position:t.position}}],(function(e,t){return e[t.position]||S})),x=(0,r.createSelector)([y,function(e,t){return{content:t.content}}],(function(e,t){var n,r=t.content;return(n=[]).concat.apply(n,l(Object.values(e))).filter((function(e){return e.content===r}))})),S=[],E=(0,r.createSelector)([b,function(e,t){return{position:t.position}}],(function(e,t){return e[t.position]||S})),_=(0,r.createSelector)([function(e,t){return t.position},s.zk],(function(e,t){if(!t)return!1;var n=t.companionAreaOpen,r=t.sideBarOpen;return"left"!==e||!(!n||!r)})),T=(0,r.createSelector)([y],(function(e){var t,n=0,r=0;return(t=[]).concat.apply(t,l(Object.values(e))).forEach((function(e){e.position.match(/right/)&&(n+=235),e.position.match(/bottom/)&&(r+=201)})),{height:r,width:n}}))},37466:(e,t,n)=>{"use strict";n.d(t,{Gt:()=>f,O4:()=>h,Qc:()=>m,TW:()=>v,X3:()=>p,b3:()=>g,lT:()=>y,x2:()=>d,zj:()=>c});var r=n(1401),i=n(75735),o=n.n(i),a=n(87827),s=n(71450);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){return(0,a.t)(e||{}).config||{}}function f(e){var t=c(e).export;return Object.entries(t).reduce((function(t,n){var r=l(n,2),i=r[0],o=r[1];return!0===o?t[i]=e[i]:o.filter&&(t[i]=Object.entries(e[i]).filter(o.filter).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})),t}),{})}var d=(0,r.createSelector)([c],(function(e){var t=e.availableLanguages,n=e.language;return Object.keys(t).map((function(e){return{current:e===n,label:t[e],locale:e}}))})),p=(0,r.createSelector)([s.K4,c],(function(e,t){return void 0===e.showZoomControls?t.workspace.showZoomControls:e.showZoomControls})),h=(0,r.createSelector)([c],(function(e){var t=e.theme,n=e.themes,r=e.selectedTheme;return o()(t,n[r]||{})})),m=(0,r.createSelector)([c],(function(e){var t=e.themes;return Object.keys(t)})),v=(0,r.createSelector)([c],(function(e){return e.id})),g=(0,r.createSelector)([c],(function(e){return e.theme.direction||"ltr"})),y=(0,r.createSelector)([c],(function(e){return e.requests||{}}))},71450:(e,t,n)=>{"use strict";n.d(t,{K4:()=>u,O5:()=>p,Rv:()=>f,c2:()=>d,p3:()=>o,rG:()=>c,sl:()=>a,tk:()=>l,zk:()=>s});var r=n(1401),i=n(87827);function o(e){return Object.values((0,i.t)(e).windows).map((function(e){return e.manifestId}))}function a(e){return(0,i.t)(e).windows||{}}function s(e,t){var n=t.windowId;return a(e)[n]}var l=(0,r.createSelector)([function(e){return(0,i.t)(e).viewers},function(e,t){return t.windowId}],(function(e,t){return e[t]}));function u(e){return(0,i.t)(e).workspace}var c=(0,r.createSelector)([u],(function(e){return e.windowIds||[]}));function f(e){return(0,i.t)(e).manifests||{}}function d(e,t){var n=t.manifestId,r=t.windowId,i=f(e);return i&&i[n||r&&(s(e,{windowId:r})||{}).manifestId]}function p(e){return(0,i.t)(e).catalog||{}}},33342:(e,t,n)=>{"use strict";n.d(t,{MS:()=>c,bB:()=>l,p8:()=>s,yK:()=>u});var r=n(1401),i=n(66785),o=n(93368),a=n(87827),s=(0,r.createSelector)([o.dX],(function(e){return e?new i.A(e).imageResources:[]})),l=(0,r.createSelector)([function(e){return(0,a.t)(e).layers||{}},function(e,t){return t.windowId},function(e,t){return t.canvasId}],(function(e,t,n){return(e[t]||{})[n]})),u=(0,r.createSelector)([s,l],(function(e,t){return t?e.sort((function(e,n){return t[e.id]&&void 0!==t[e.id].index&&t[n.id]&&void 0!==t[n.id].index?t[e.id].index-t[n.id].index:t[e.id]&&void 0!==t[e.id].index?-1:t[n.id]&&void 0!==t[n.id].index?1:0})):e})),c=(0,r.createSelector)([o.tv,function(e,t){var n=t.windowId;return function(t){return l(e,{canvasId:t,windowId:n})}}],(function(e,t){return e.reduce((function(e,n){return e[n]=t(n),e}),{})}))},35004:(e,t,n)=>{"use strict";n.d(t,{B8:()=>N,CG:()=>R,J4:()=>z,SG:()=>b,U1:()=>w,WA:()=>g,X6:()=>E,YR:()=>v,_6:()=>C,_l:()=>O,aY:()=>k,cm:()=>_,dB:()=>D,dn:()=>T,hp:()=>I,lj:()=>A,nB:()=>S,t_:()=>L,uh:()=>M,yj:()=>P});var r=n(1401),i=n(15288),o=n.n(i),a=n(33415),s=n(70599),l=n(87048),u=n(47031),c=n(71450),f=n(37466);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(e){var n=a.Utils.parseManifest(e,t?{locale:t}:void 0);return"function"!=typeof n.getSequences&&(n.getSequences=function(){return[]}),n}}var m=(0,r.createSelector)([u.DS,f.zj],(function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).locale||e.language})),v=(0,r.createSelector)([c.c2],(function(e){return e||{missing:!0}})),g=(0,r.createSelector)([c.c2],(function(e){return e&&e.error})),y=o()(c.c2,m,(function(e,t){return e&&h(e.json,t)}))((function(e,t){var n=t.companionWindowId;return[t.manifestId,t.windowId,m(e,{companionWindowId:n})].join(" - ")})),b=(0,r.createSelector)(y,(function(e,t){return t.json}),m,(function(e,t,n){return t&&h(t,n)||e})),w=(0,r.createSelector)([b],(function(e){return e&&e.options&&e.options.locale&&e.options.locale.replace(/-.*$/,"")}));function x(e){return(0,r.createSelector)([b],(function(t){return t&&t.getProperty(e)}))}var S=(0,r.createSelector)([b],(function(e){return e&&e.getLogo()})),E=(0,r.createSelector)([x("provider"),w],(function(e,t){return e&&e[0].label&&a.PropertyValue.parse(e[0].label,t).getValue()})),_=(0,r.createSelector)([x("homepage"),w],(function(e,t){return e&&(0,l.A)(e).map((function(e){return{label:a.PropertyValue.parse(e.label,t).getValue(),value:e.id||e["@id"]}}))})),T=(0,r.createSelector)([b],(function(e){return e&&e.getRenderings().map((function(e){return{label:e.getLabel().getValue(),value:e.id}}))})),O=(0,r.createSelector)([x("seeAlso"),w],(function(e,t){return e&&(0,l.A)(e).map((function(e){return{format:e.format,label:a.PropertyValue.parse(e.label,t).getValue(),value:e.id||e["@id"]}}))})),A=(0,r.createSelector)([b],(function(e){return e&&(0,l.A)(e.getRequiredStatement()).filter((function(e){return e.getValues().some((function(e){return e}))})).map((function(e){return{label:e.label&&e.label.getValue()||null,values:e.getValues()}}))})),C=(0,r.createSelector)([x("rights"),x("license"),w],(function(e,t,n){var r=e||t;return(0,l.A)(a.PropertyValue.parse(r,n).getValues())}));function P(e,t){var n=b(e,t),r=(0,f.zj)(e).thumbnails,i=void 0===r?{}:r;if(n){var o=(0,s.A)(n,{maxHeight:80,maxWidth:120,preferredFormats:i.preferredFormats});return o&&o.url}}var k=(0,r.createSelector)([b],(function(e){return e&&e.getLabel().getValue()})),R=(0,r.createSelector)([b],(function(e){return e&&e.getDescription().getValue()})),I=(0,r.createSelector)([b],(function(e){return e&&e.id}));function M(e){return e&&e.getMetadata().map((function(e){return{label:e.getLabel(),values:e.getValues()}}))}var D=(0,r.createSelector)([b],(function(e){return e&&M(e)}));function j(e){var t,n=[];return Array.isArray(e)?n.push.apply(n,function(e){if(Array.isArray(e))return p(e)}(t=e.filter((function(e){return"object"===d(e)&&e["@language"]})).map((function(e){return e["@language"]})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):e&&"object"===d(e)&&e["@language"]&&n.push(e["@language"]),n}var L=(0,r.createSelector)([b],(function(e){return function(e){if(!e)return[];for(var t=e.getProperty("metadata")||[],n={},r=0;r<t.length;r+=1){var i=t[r];j(i.label).forEach((function(e){n[e]=!0})),j(i.value).forEach((function(e){n[e]=!0}))}return Object.keys(n)}(e)})),N=(0,r.createSelector)([b],(function(e){return e&&(e.getService("http://iiif.io/api/search/0/search")||e.getService("http://iiif.io/api/search/1/search"))||null})),z=(0,r.createSelector)([N],(function(e){var t=e&&(e.getService("http://iiif.io/api/search/0/autocomplete")||e.getService("http://iiif.io/api/search/1/autocomplete"));return t&&t}))},49842:(e,t,n)=>{"use strict";n.d(t,{BB:()=>w,S:()=>_,bT:()=>O,rK:()=>T,tv:()=>E});var r=n(1401),i=n(80852),o=n.n(i),a=n(77179),s=n.n(a),l=n(33415),u=n(93368),c=n(47031),f=n(16344);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function m(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){return void 0===e.parentNode?[]:void 0===e.parentNode.parentNode?[e.parentNode.id]:[].concat(m(g(e.parentNode)),[e.parentNode.id])}function y(e,t){return e.reduce((function(e,n){var r=[];r.push.apply(r,m(e));var i=t.reduce((function(e,t){return e||function(e,t){for(var n=e.getCanvasIds(),r=0;r<n.length;r+=1)if(l.Utils.normalisedUrlsMatch(n[r],t))return!0;return!1}(n.data,t)}),!1),o=n.nodes.length>0?y(n.nodes,t):[];return r.push.apply(r,m(o)),(i||o.length>0)&&r.push({containsVisibleCanvas:i,descendantsContainVisibleCanvas:o.length>0,id:n.id,leaf:0===n.nodes.length,parentIds:g(n)}),r}),[])}var b=(0,r.createSelector)([f.P8,u.tv],(function(e,t){return 0!==t.length&&e?y(e.nodes,t):[]})),w=(0,r.createSelector)([b],(function(e){return e.map((function(e){return e.id}))})),x=(0,r.createSelector)([b],(function(e){return e.reduce((function(e,t){return t.leaf||!t.descendantsContainVisibleCanvas?e:[].concat(m(e),[t.id])}),[])})),S=(0,r.createSelector)([b],(function(e){return e.reduce((function(e,t){return t.containsVisibleCanvas?[].concat(m(e),[t]):e}),[])}));function E(e,t,n){var r=t.companionWindowId,i=(0,c.DS)(e,{companionWindowId:r});return i.tocNodes?Object.keys(i.tocNodes).reduce((function(e,t){return i.tocNodes[t].expanded===n?[].concat(m(e),[t]):e}),[]):[]}function _(e,t){var n=t.companionWindowId,r=t.windowId,i=x(e,{companionWindowId:n,windowId:r}),a=E(e,{companionWindowId:n},!0),l=E(e,{companionWindowId:n},!1);return s().apply(void 0,[o()(a,i)].concat(m(l)))}function T(e,t){var n=h({},t),r=S(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n)),i=E(e,n,!1);if(r&&r.length>0){for(var o=0;o<r[0].parentIds.length;o+=1)if(-1!==i.indexOf(r[0].parentIds[o]))return r[0].parentIds[o];return r[0].id}return null}var O=(0,r.createSelector)([f.P8],(function(e){return e&&e.nodes&&e.nodes.length>0?"tableOfContents":"item"}))},64640:(e,t,n)=>{"use strict";n.d(t,{KB:()=>A,LR:()=>g,SU:()=>O,TA:()=>_,TU:()=>y,V8:()=>m,WF:()=>d,XK:()=>w,bg:()=>k,bq:()=>v,gD:()=>E,sC:()=>T,wt:()=>C,yy:()=>S});var r=n(1401),i=n(33415),o=n(94881),a=n.n(o),s=n(95800),l=n(93368),u=n(71450),c=n(35004),f=n(87827),d=(0,r.createSelector)([function(e,t){return t.windowId},function(e){return(0,f.t)(e).searches}],(function(e,t){return e&&t?t[e]:{}})),p=(0,r.createSelector)([d,function(e,t){return t.companionWindowId}],(function(e,t){if(e&&t)return e[t]})),h=(0,r.createSelector)([p],(function(e){return e?Object.values(e.data):[]})),m=(0,r.createSelector)([p],(function(e){return e&&e.query})),v=(0,r.createSelector)([h],(function(e){return e.some((function(e){return e.isFetching}))})),g=(0,r.createSelector)([p],(function(e){var t,n;if(e&&e.data){var r=Object.values(e.data).find((function(e){return!e.isFetching&&e.json&&e.json.within}));return null==r||null===(t=r.json)||void 0===t||null===(n=t.within)||void 0===n?void 0:n.total}})),y=(0,r.createSelector)([p],(function(e){if(e&&e.data){var t=Object.values(e.data).find((function(t){return!t.isFetching&&t.json&&t.json.next&&!e.data[t.json.next]}));return t&&t.json&&t.json.next}})),b=(0,r.createSelector)([h],(function(e){return a()(e.map((function(e){return e&&e.json&&!e.isFetching&&e.json.hits?e.json.hits:[]})))})),w=(0,r.createSelector)([b,l.P,function(e,t){var n=t.companionWindowId,r=t.windowId;return function(t){return A(e,{annotationUri:t,companionWindowId:n,windowId:r})}}],(function(e,t,n){if(!t||0===t.length)return[];if(!e||0===e.length)return[];var r=t.map((function(e){return e.id}));return[].concat(e).sort((function(e,t){var i=n(e.annotations[0]),o=n(t.annotations[0]);return r.indexOf(i.targetId)-r.indexOf(o.targetId)}))})),x=function(e){var t=e.map((function(e){if(e&&e.json&&!e.isFetching&&e.json.resources){var t=new s.A(e.json);return{id:t.id,resources:t.resources}}})).filter(Boolean);return{id:(t.find((function(e){return e.id}))||{}).id,resources:a()(t.map((function(e){return e.resources})))}},S=(0,r.createSelector)([h],(function(e){return e&&x(e)}));function E(e,t){if(!e||!e.resources||0===e.length)return[];if(!t||0===t.length)return[];var n=t.map((function(e){return e.id}));return[].concat(e.resources).sort((function(e,t){return n.indexOf(e.targetId)-n.indexOf(t.targetId)}))}var _=(0,r.createSelector)([S,l.P],(function(e,t){return E(e,t)})),T=(0,r.createSelector)([d],(function(e){return e?Object.values(e).map((function(e){return Object.values(e.data)})).map((function(e){return x(e)})).filter((function(e){return e.resources.length>0})):[]})),O=(0,r.createSelector)([u.zk,p],(function(e,t){return t&&t.selectedContentSearchAnnotationIds||[]})),A=(0,r.createSelector)([S,function(e,t){return t.annotationUri}],(function(e,t){return e.resources.find((function(e){return e.id===t}))})),C=(0,r.createSelector)([A,c.U1],(function(e,t){return e&&e.resource&&e.resource.label?i.PropertyValue.parse(e.resource.label,t).getValues():[]})),P=(0,r.createSelector)([T,function(e,t){return t.annotationId}],(function(e,t){return a()(e.map((function(e){return e.resources}))).find((function(e){return e.id===t}))})),k=(0,r.createSelector)([P,function(e,t){var n=t.windowId;return function(t){return(0,l.dX)(e,{canvasId:t,windowId:n})}}],(function(e,t){var n=e&&e.targetId;return n&&t(n)}))},16344:(e,t,n)=>{"use strict";n.d(t,{Kb:()=>f,P8:()=>p,PB:()=>u,eb:()=>l,fO:()=>s,pw:()=>d,sR:()=>c});var r=n(1401),i=n(33415),o=n(35004),a=n(71450),s=(0,r.createSelector)([o.SG],(function(e){if(!e||!e.getTopRanges)return null;var t=e.getTopRanges(),n=[];return 0===t.filter((function(e){return"top"===e.getProperty("viewingHint")})).length&&1===t.length&&(n=t[0].getRanges().filter((function(e){return"sequence"===e.getBehavior()}))),[].concat(e.getSequences(),n)})),l=(0,r.createSelector)([s,a.zk,function(e,t){return t.sequenceId}],(function(e,t,n){if(!e)return null;if(n||t&&t.sequenceId){var r=e.find((function(e){return e.id===(n||t.sequenceId)}));if(r)return r}return e[0]})),u=(0,r.createSelector)([a.zk,l],(function(e,t){return(t&&e&&e.canvasId&&t.getCanvasById(e.canvasId)||{}).index||0})),c=(0,r.createSelector)([l,o.SG],(function(e,t){return t&&(e&&e.getViewingHint()||t.getViewingHint())||null})),f=(0,r.createSelector)([a.zk,l,o.SG],(function(e,t,n){return e&&e.viewingDirection||t&&t.getViewingDirection()||n&&n.getViewingDirection()||null})),d=(0,r.createSelector)([l,o.SG],(function(e,t){if(!t||!e)return[];var n=e&&e.getProperty("behavior");if(n)return Array.isArray(n)?n:[n];var r=t.getProperty("behavior");return r?Array.isArray(r)?r:[r]:[]})),p=(0,r.createSelector)([l,o.SG],(function(e,t){return e&&e.getProperty("type")&&e.isRange()?e.getTree(new i.TreeNode("root")):t&&t.getDefaultTree()}))},87827:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});var r=n(59975);function i(e){return r.A.state.slice?e[r.A.state.slice]:e}},51338:(e,t,n)=>{"use strict";n.d(t,{k:()=>l});var r=n(1401),i=n(59745),o=n(93368),a=n(33342),s=n(16344),l=(0,r.createSelector)(o.Mg,a.MS,s.Kb,(function(e,t,n){return new i.A(e,t,n)}))},67671:(e,t,n)=>{"use strict";n.d(t,{B2:()=>v,Eu:()=>h,R2:()=>d,i9:()=>m,kt:()=>g,wb:()=>p});var r=n(1401),i=n(35004),o=n(37466),a=n(71450),s=n(31415),l=n(16344);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=(0,r.createSelector)([o.zj,a.zk],(function(e){var t=e.window,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c(c({},t),n)}));function p(e){var t={};return Object.keys((0,a.sl)(e)).forEach((function(n){t[n]=(0,i.aY)(e,{windowId:n})})),t}var h=(0,r.createSelector)([a.sl],(function(e){return Object.values(e).filter((function(e){return!0===e.maximized})).map((function(e){return e.id}))})),m=(0,r.createSelector)([a.zk,d,l.sR,l.pw],(function(e,t,n,r){var i=t.views,o=void 0===i?[]:i,a=t.defaultView;if(e&&e.view)return e.view;var s=(o||[]).find((function(e){return e.behaviors&&e.behaviors.some((function(e){return n===e||r.includes(e)}))}));return s&&s.key||a})),v=(0,r.createSelector)([l.sR,l.pw,d],(function(e,t,n){var r=n.views,i=void 0===r?[]:r,o=n.defaultView;return(i||[]).reduce((function(n,r){return r.key!==o&&r.behaviors&&!r.behaviors.some((function(n){return e===n||t.includes(n)}))||n.push(r.key),n}),[])})),g=(0,r.createSelector)([s.I3,a.zk,function(e){return(0,a.rG)(e).length>1}],(function(e,t,n){return"elastic"===e||n&&t&&!1===t.maximized}))},31415:(e,t,n)=>{"use strict";n.d(t,{H:()=>l,I3:()=>c,Q9:()=>s,ar:()=>d,g:()=>u});var r=n(1401),i=n(71450),o=n(87827);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return(0,o.t)(e).elasticLayout}var l=(0,r.createSelector)([i.K4],(function(e){return e.isFullscreenEnabled}));function u(e){var t,n,r=(t=(0,o.t)(e).errors.items,n=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return(0,o.t)(e).errors[r]}var c=(0,r.createSelector)([i.K4],(function(e){return e.type})),f=(0,r.createSelector)([i.K4],(function(e){return e.focusedWindowId})),d=function(e,t){var n=t.windowId;return f(e)===n}},2913:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){var i;return i=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==r(i)?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u="undefined"==typeof URL?n(23842).URL:URL,c=function(e,t){return t.some((function(t){return t instanceof RegExp?t.test(e):t===e}))},f=function(e,t){if(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0},t),Reflect.has(t,"normalizeHttps"))throw new Error("options.normalizeHttps is renamed to options.forceHttp");if(Reflect.has(t,"normalizeHttp"))throw new Error("options.normalizeHttp is renamed to options.forceHttps");if(Reflect.has(t,"stripFragment"))throw new Error("options.stripFragment is renamed to options.stripHash");if(e=e.trim(),/^data:/i.test(e))return function(e,t){var n=t.stripHash,r=e.match(/^data:([^,]*?),([^#]*?)(?:#(.*))?$/);if(!r)throw new Error("Invalid URL: ".concat(e));var i=r[1].split(";"),o=r[2],l=n?"":r[3],u=!1;"base64"===i[i.length-1]&&(i.pop(),u=!0);var c=(i.shift()||"").toLowerCase(),f=a(i.map((function(e){var t,n,r=(t=e.split("=").map((function(e){return e.trim()})),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,n)||s(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],o=r[1],a=void 0===o?"":o;return"charset"===i&&"us-ascii"===(a=a.toLowerCase())?"":"".concat(i).concat(a?"=".concat(a):"")})).filter(Boolean));return u&&f.push("base64"),(0!==f.length||c&&"text/plain"!==c)&&f.unshift(c),"data:".concat(f.join(";"),",").concat(u?o.trim():o).concat(l?"#".concat(l):"")}(e,t);var n=e.startsWith("//");!n&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));var r=new u(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&"https:"===r.protocol&&(r.protocol="http:"),t.forceHttps&&"http:"===r.protocol&&(r.protocol="https:"),t.stripAuthentication&&(r.username="",r.password=""),t.stripHash&&(r.hash=""),r.pathname&&(r.pathname=r.pathname.replace(/((?!:).|^)\/{2,}/g,(function(e,t){return/^(?!\/)/g.test(t)?"".concat(t,"/"):"/"}))),r.pathname&&(r.pathname=decodeURI(r.pathname)),!0===t.removeDirectoryIndex&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){var l=r.pathname.split("/"),f=l[l.length-1];c(f,t.removeDirectoryIndex)&&(l=l.slice(0,l.length-1),r.pathname=l.slice(1).join("/")+"/")}if(r.hostname&&(r.hostname=r.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.([a-z\-\d]{2,63})\.([a-z.]{2,5})$/.test(r.hostname)&&(r.hostname=r.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(var d=0,p=a(r.searchParams.keys());d<p.length;d++){var h=p[d];c(h,t.removeQueryParameters)&&r.searchParams.delete(h)}return t.sortQueryParameters&&r.searchParams.sort(),t.removeTrailingSlash&&(r.pathname=r.pathname.replace(/\/$/,"")),e=r.toString(),!t.removeTrailingSlash&&"/"!==r.pathname||""!==r.hash||(e=e.replace(/\/$/,"")),n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e};e.exports=f,e.exports.default=f},63865:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var o,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in o=Object(arguments[l]))n.call(o,u)&&(s[u]=o[u]);if(t){a=t(o);for(var c=0;c<a.length;c++)r.call(o,a[c])&&(s[a[c]]=o[a[c]])}}return s}},4356:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,a=i&&o&&"function"==typeof o.get?o.get:null,s=i&&Map.prototype.forEach,l="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&l?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=l&&u&&"function"==typeof u.get?u.get:null,f=l&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,m=Boolean.prototype.valueOf,v=Object.prototype.toString,g=Function.prototype.toString,y=String.prototype.match,b=String.prototype.slice,w=String.prototype.replace,x=String.prototype.toUpperCase,S=String.prototype.toLowerCase,E=RegExp.prototype.test,_=Array.prototype.concat,T=Array.prototype.join,O=Array.prototype.slice,A=Math.floor,C="function"==typeof BigInt?BigInt.prototype.valueOf:null,P=Object.getOwnPropertySymbols,k="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?Symbol.prototype.toString:null,R="function"==typeof Symbol&&"object"===r(Symbol.iterator),I="function"==typeof Symbol&&Symbol.toStringTag&&(r(Symbol.toStringTag),1)?Symbol.toStringTag:null,M=Object.prototype.propertyIsEnumerable,D=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function j(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||E.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-A(-e):A(e);if(r!==e){var i=String(r),o=b.call(t,i.length+1);return w.call(i,n,"$&_")+"."+w.call(w.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return w.call(t,n,"$&_")}var L=n(42634),N=L.custom,z=U(N)?N:null;function B(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function F(e){return w.call(String(e),/"/g,"&quot;")}function W(e){return!("[object Array]"!==q(e)||I&&"object"===r(e)&&I in e)}function H(e){return!("[object RegExp]"!==q(e)||I&&"object"===r(e)&&I in e)}function U(e){if(R)return e&&"object"===r(e)&&e instanceof Symbol;if("symbol"===r(e))return!0;if(!e||"object"!==r(e)||!k)return!1;try{return k.call(e),!0}catch(e){}return!1}e.exports=function e(t,i,o,l){var u=i||{};if(G(u,"quoteStyle")&&"single"!==u.quoteStyle&&"double"!==u.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(G(u,"maxStringLength")&&("number"==typeof u.maxStringLength?u.maxStringLength<0&&u.maxStringLength!==1/0:null!==u.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var v=!G(u,"customInspect")||u.customInspect;if("boolean"!=typeof v&&"symbol"!==v)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(G(u,"indent")&&null!==u.indent&&"\t"!==u.indent&&!(parseInt(u.indent,10)===u.indent&&u.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(G(u,"numericSeparator")&&"boolean"!=typeof u.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var x=u.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return Z(t,u);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var E=String(t);return x?j(t,E):E}if("bigint"==typeof t){var A=String(t)+"n";return x?j(t,A):A}var P=void 0===u.depth?5:u.depth;if(void 0===o&&(o=0),o>=P&&P>0&&"object"===r(t))return W(t)?"[Array]":"[Object]";var N,V=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=T.call(Array(e.indent+1)," ")}return{base:n,prev:T.call(Array(t+1),n)}}(u,o);if(void 0===l)l=[];else if(X(l,t)>=0)return"[Circular]";function $(t,n,r){if(n&&(l=O.call(l)).push(n),r){var i={depth:u.depth};return G(u,"quoteStyle")&&(i.quoteStyle=u.quoteStyle),e(t,i,o+1,l)}return e(t,u,o+1,l)}if("function"==typeof t&&!H(t)){var te=function(e){if(e.name)return e.name;var t=y.call(g.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),ne=ee(t,$);return"[Function"+(te?": "+te:" (anonymous)")+"]"+(ne.length>0?" { "+T.call(ne,", ")+" }":"")}if(U(t)){var re=R?w.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):k.call(t);return"object"!==r(t)||R?re:Y(re)}if((N=t)&&"object"===r(N)&&("undefined"!=typeof HTMLElement&&N instanceof HTMLElement||"string"==typeof N.nodeName&&"function"==typeof N.getAttribute)){for(var ie="<"+S.call(String(t.nodeName)),oe=t.attributes||[],ae=0;ae<oe.length;ae++)ie+=" "+oe[ae].name+"="+B(F(oe[ae].value),"double",u);return ie+=">",t.childNodes&&t.childNodes.length&&(ie+="..."),ie+"</"+S.call(String(t.nodeName))+">"}if(W(t)){if(0===t.length)return"[]";var se=ee(t,$);return V&&!function(e){for(var t=0;t<e.length;t++)if(X(e[t],"\n")>=0)return!1;return!0}(se)?"["+Q(se,V)+"]":"[ "+T.call(se,", ")+" ]"}if(function(e){return!("[object Error]"!==q(e)||I&&"object"===r(e)&&I in e)}(t)){var le=ee(t,$);return"cause"in Error.prototype||!("cause"in t)||M.call(t,"cause")?0===le.length?"["+String(t)+"]":"{ ["+String(t)+"] "+T.call(le,", ")+" }":"{ ["+String(t)+"] "+T.call(_.call("[cause]: "+$(t.cause),le),", ")+" }"}if("object"===r(t)&&v){if(z&&"function"==typeof t[z]&&L)return L(t,{depth:P-o});if("symbol"!==v&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!a||!e||"object"!==r(e))return!1;try{a.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ue=[];return s&&s.call(t,(function(e,n){ue.push($(n,t,!0)+" => "+$(e,t))})),J("Map",a.call(t),ue,V)}if(function(e){if(!c||!e||"object"!==r(e))return!1;try{c.call(e);try{a.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var ce=[];return f&&f.call(t,(function(e){ce.push($(e,t))})),J("Set",c.call(t),ce,V)}if(function(e){if(!d||!e||"object"!==r(e))return!1;try{d.call(e,d);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return K("WeakMap");if(function(e){if(!p||!e||"object"!==r(e))return!1;try{p.call(e,p);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return K("WeakSet");if(function(e){if(!h||!e||"object"!==r(e))return!1;try{return h.call(e),!0}catch(e){}return!1}(t))return K("WeakRef");if(function(e){return!("[object Number]"!==q(e)||I&&"object"===r(e)&&I in e)}(t))return Y($(Number(t)));if(function(e){if(!e||"object"!==r(e)||!C)return!1;try{return C.call(e),!0}catch(e){}return!1}(t))return Y($(C.call(t)));if(function(e){return!("[object Boolean]"!==q(e)||I&&"object"===r(e)&&I in e)}(t))return Y(m.call(t));if(function(e){return!("[object String]"!==q(e)||I&&"object"===r(e)&&I in e)}(t))return Y($(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if(t===n.g)return"{ [object globalThis] }";if(!function(e){return!("[object Date]"!==q(e)||I&&"object"===r(e)&&I in e)}(t)&&!H(t)){var fe=ee(t,$),de=D?D(t)===Object.prototype:t instanceof Object||t.constructor===Object,pe=t instanceof Object?"":"null prototype",he=!de&&I&&Object(t)===t&&I in t?b.call(q(t),8,-1):pe?"Object":"",me=(de||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(he||pe?"["+T.call(_.call([],he||[],pe||[]),": ")+"] ":"");return 0===fe.length?me+"{}":V?me+"{"+Q(fe,V)+"}":me+"{ "+T.call(fe,", ")+" }"}return String(t)};var V=Object.prototype.hasOwnProperty||function(e){return e in this};function G(e,t){return V.call(e,t)}function q(e){return v.call(e)}function X(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function Z(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return Z(b.call(e,0,t.maxStringLength),t)+r}return B(w.call(w.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,$),"single",t)}function $(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+x.call(t.toString(16))}function Y(e){return"Object("+e+")"}function K(e){return e+" { ? }"}function J(e,t,n,r){return e+" ("+t+") {"+(r?Q(n,r):T.call(n,", "))+"}"}function Q(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+T.call(e,","+n)+"\n"+t.prev}function ee(e,t){var n=W(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=G(e,i)?t(e[i],e):""}var o,a="function"==typeof P?P(e):[];if(R){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var l in e)G(e,l)&&(n&&String(Number(l))===l&&l<e.length||R&&o["$"+l]instanceof Symbol||(E.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if("function"==typeof P)for(var u=0;u<a.length;u++)M.call(e,a[u])&&r.push("["+t(a[u])+"]: "+t(e[a[u]],e));return r}},64756:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,n){return 0===e&&0===n?1/e==1/n:e===n||!(!t(e)||!t(n))}},22064:(e,t,n)=>{"use strict";var r=n(32273),i=n(29122),o=n(64756),a=n(32481),s=n(99247),l=i(a(),Object);r(l,{getPolyfill:a,implementation:o,shim:s}),e.exports=l},32481:(e,t,n)=>{"use strict";var r=n(64756);e.exports=function(){return"function"==typeof Object.is?Object.is:r}},99247:(e,t,n)=>{"use strict";var r=n(32481),i=n(32273);e.exports=function(){var e=r();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},76544:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i;if(!Object.keys){var o=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=n(6312),l=Object.prototype.propertyIsEnumerable,u=!l.call({toString:null},"toString"),c=l.call((function(){}),"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"===r(window[e]))try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();i=function(e){var t=null!==e&&"object"===r(e),n="[object Function]"===a.call(e),i=s(e),l=t&&"[object String]"===a.call(e),p=[];if(!t&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var m=c&&n;if(l&&e.length>0&&!o.call(e,0))for(var v=0;v<e.length;++v)p.push(String(v));if(i&&e.length>0)for(var g=0;g<e.length;++g)p.push(String(g));else for(var y in e)m&&"prototype"===y||!o.call(e,y)||p.push(String(y));if(u)for(var b=function(e){if("undefined"==typeof window||!h)return d(e);try{return d(e)}catch(e){return!1}}(e),w=0;w<f.length;++w)b&&"constructor"===f[w]||!o.call(e,f[w])||p.push(f[w]);return p}}e.exports=i},80668:(e,t,n)=>{"use strict";var r=Array.prototype.slice,i=n(6312),o=Object.keys,a=o?function(e){return o(e)}:n(76544),s=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?s(r.call(e)):s(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},6312:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var n=Object.prototype.toString;e.exports=function(e){var r=n.call(e),i="[object Arguments]"===r;return i||(i="[object Array]"!==r&&null!==e&&"object"===t(e)&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),i}},13468:(e,t,n)=>{"use strict";var r=n(80668),i=n(45484)(),o=n(29466),a=Object,s=o("Array.prototype.push"),l=o("Object.prototype.propertyIsEnumerable"),u=i?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(null==e)throw new TypeError("target must be an object");var n=a(e);if(1===arguments.length)return n;for(var o=1;o<arguments.length;++o){var c=a(arguments[o]),f=r(c),d=i&&(Object.getOwnPropertySymbols||u);if(d)for(var p=d(c),h=0;h<p.length;++h){var m=p[h];l(c,m)&&s(f,m)}for(var v=0;v<f.length;++v){var g=f[v];if(l(c,g)){var y=c[g];n[g]=y}}}return n}},14377:(e,t,n)=>{"use strict";var r=n(13468);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},r=0;r<t.length;++r)n[t[r]]=t[r];var i=Object.assign({},n),o="";for(var a in i)o+=a;return e!==o}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?r:Object.assign:r}},99982:function(e,t,n){var r,i,o,a,s=n(3324);function l(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t,n){return t=d(t),function(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,f()?Reflect.construct(t,n||[],d(e).constructor):t.apply(e,n))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=v(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function v(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}function w(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==S(t)?t:String(t)}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function E(e){return new E.Viewer(e)}!function(e){e.version={versionStr:"5.0.0",major:parseInt("5",10),minor:parseInt("0",10),revision:parseInt("0",10)};var t,n={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object AsyncFunction]":"function","[object Promise]":"promise","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},r=Object.prototype.toString,i=Object.prototype.hasOwnProperty;e.isFunction=function(t){return"function"===e.type(t)},e.isArray=Array.isArray||function(t){return"array"===e.type(t)},e.isWindow=function(e){return e&&"object"===S(e)&&"setInterval"in e},e.type=function(e){return null==e?String(e):n[r.call(e)]||"object"},e.isPlainObject=function(t){if(!t||"object"!==E.type(t)||t.nodeType||e.isWindow(t))return!1;if(t.constructor&&!i.call(t,"constructor")&&!i.call(t.constructor.prototype,"isPrototypeOf"))return!1;var n;for(var r in t)n=r;return void 0===n||i.call(t,n)},e.isEmptyObject=function(e){for(var t in e)return!1;return!0},e.freezeObject=function(t){return Object.freeze?e.freezeObject=Object.freeze:e.freezeObject=function(e){return e},e.freezeObject(t)},e.supportsCanvas=(t=document.createElement("canvas"),!(!e.isFunction(t.getContext)||!t.getContext("2d"))),e.isCanvasTainted=function(e){var t=!1;try{e.getContext("2d").getImageData(0,0,1,1)}catch(e){t=!0}return t},e.supportsAddEventListener=!(!document.documentElement.addEventListener||!document.addEventListener),e.supportsRemoveEventListener=!(!document.documentElement.removeEventListener||!document.removeEventListener),e.supportsEventListenerOptions=function(){var t=0;if(e.supportsAddEventListener)try{var n={get capture(){return t++,!1},get once(){return t++,!1},get passive(){return t++,!1}};window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch(e){t=0}return t>=3}(),e.getCurrentPixelDensityRatio=function(){if(e.supportsCanvas){var t=document.createElement("canvas").getContext("2d"),n=window.devicePixelRatio||1,r=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return Math.max(n,1)/r}return 1},e.pixelDensityRatio=e.getCurrentPixelDensityRatio()}(E),function(e){e.extend=function(){var t,n,r,i,o,a,s=arguments[0]||{},l=arguments.length,u=!1,c=1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},c=2),"object"===S(s)||E.isFunction(s)||(s={}),l===c&&(s=this,--c);c<l;c++)if(null!==(t=arguments[c])||void 0!==t)for(n in t){var f=Object.getOwnPropertyDescriptor(t,n);void 0!==f?f.get||f.set?Object.defineProperty(s,n,f):s!==(i=f.value)&&(u&&i&&(E.isPlainObject(i)||(o=E.isArray(i)))?(r=s[n],o?(o=!1,a=r&&E.isArray(r)?r:[]):a=r&&E.isPlainObject(r)?r:{},s[n]=E.extend(u,a,i)):void 0!==i&&(s[n]=i)):e.console.warn('Could not copy inherited property "'+n+'".')}return s},e.extend(e,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:function(){if("object"!==("undefined"==typeof navigator?"undefined":S(navigator)))return!1;var e=navigator.userAgent;return"string"==typeof e&&(-1!==e.indexOf("iPhone")||-1!==e.indexOf("iPad")||-1!==e.indexOf("iPod"))}(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,maxTilesPerFrame:1,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,overlayPreserveContentDirection:!0,opacity:1,compositeOperation:null,drawer:["webgl","canvas","html"],drawerOptions:{webgl:{},canvas:{},html:{},custom:{}},preload:!1,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,tileRetryMax:0,tileRetryDelay:2500,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},delegate:function(e,t){return function(){var n=arguments;return void 0===n&&(n=[]),t.apply(e,n)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(t){return e._viewers.get(this.getElement(t))},getElement:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e},getElementPosition:function(t){var n,r,o=new e.Point;for(r=i(t=e.getElement(t),n="fixed"===e.getElementStyle(t).position);r;)o.x+=t.offsetLeft,o.y+=t.offsetTop,n&&(o=o.plus(e.getPageScroll())),r=i(t=r,n="fixed"===e.getElementStyle(t).position);return o},getElementOffset:function(t){var n,r,i=(t=e.getElement(t))&&t.ownerDocument,o={top:0,left:0};return i?(n=i.documentElement,"undefined"!==S(t.getBoundingClientRect)&&(o=t.getBoundingClientRect()),r=i===i.window?i:9===i.nodeType&&(i.defaultView||i.parentWindow),new e.Point(o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0),o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0))):new e.Point},getElementSize:function(t){return t=e.getElement(t),new e.Point(t.clientWidth,t.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(t){return(t=e.getElement(t)).currentStyle}:function(t){return t=e.getElement(t),window.getComputedStyle(t,"")},getCssPropertyWithVendorPrefix:function(t){var n={};return e.getCssPropertyWithVendorPrefix=function(t){if(void 0!==n[t])return n[t];var r=document.createElement("div").style,i=null;if(void 0!==r[t])i=t;else for(var o=["Webkit","Moz","MS","O","webkit","moz","ms","o"],a=e.capitalizeFirstLetter(t),s=0;s<o.length;s++){var l=o[s]+a;if(void 0!==r[l]){i=l;break}}return n[t]=i,i},e.getCssPropertyWithVendorPrefix(t)},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},positiveModulo:function(e,t){var n=e%t;return n<0&&(n+=t),n},pointInElement:function(t,n){t=e.getElement(t);var r=e.getElementOffset(t),i=e.getElementSize(t);return n.x>=r.x&&n.x<r.x+i.x&&n.y<r.y+i.y&&n.y>=r.y},getMousePosition:function(t){if("number"==typeof t.pageX)e.getMousePosition=function(t){var n=new e.Point;return n.x=t.pageX,n.y=t.pageY,n};else{if("number"!=typeof t.clientX)throw new Error("Unknown event mouse position, no known technique.");e.getMousePosition=function(t){var n=new e.Point;return n.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop,n}}return e.getMousePosition(t)},getPageScroll:function(){var t=document.documentElement||{},n=document.body||{};if("number"==typeof window.pageXOffset)e.getPageScroll=function(){return new e.Point(window.pageXOffset,window.pageYOffset)};else if(n.scrollLeft||n.scrollTop)e.getPageScroll=function(){return new e.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!t.scrollLeft&&!t.scrollTop)return new e.Point(0,0);e.getPageScroll=function(){return new e.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return e.getPageScroll()},setPageScroll:function(t){if(void 0!==window.scrollTo)e.setPageScroll=function(e){window.scrollTo(e.x,e.y)};else{var n=e.getPageScroll();if(n.x===t.x&&n.y===t.y)return;document.body.scrollLeft=t.x,document.body.scrollTop=t.y;var r=e.getPageScroll();if(r.x!==n.x&&r.y!==n.y)return void(e.setPageScroll=function(e){document.body.scrollLeft=e.x,document.body.scrollTop=e.y});if(document.documentElement.scrollLeft=t.x,document.documentElement.scrollTop=t.y,(r=e.getPageScroll()).x!==n.x&&r.y!==n.y)return void(e.setPageScroll=function(e){document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y});e.setPageScroll=function(e){}}e.setPageScroll(t)},getWindowSize:function(){var t=document.documentElement||{},n=document.body||{};if("number"==typeof window.innerWidth)e.getWindowSize=function(){return new e.Point(window.innerWidth,window.innerHeight)};else if(t.clientWidth||t.clientHeight)e.getWindowSize=function(){return new e.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!n.clientWidth&&!n.clientHeight)throw new Error("Unknown window size, no known technique.");e.getWindowSize=function(){return new e.Point(document.body.clientWidth,document.body.clientHeight)}}return e.getWindowSize()},makeCenteredNode:function(t){t=e.getElement(t);var n=[e.makeNeutralElement("div"),e.makeNeutralElement("div"),e.makeNeutralElement("div")];return e.extend(n[0].style,{display:"table",height:"100%",width:"100%"}),e.extend(n[1].style,{display:"table-row"}),e.extend(n[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),n[0].appendChild(n[1]),n[1].appendChild(n[2]),n[2].appendChild(t),n[0]},makeNeutralElement:function(e){var t=document.createElement(e),n=t.style;return n.background="transparent none",n.border="none",n.margin="0px",n.padding="0px",n.position="static",t},now:function(){return Date.now?e.now=Date.now:e.now=function(){return(new Date).getTime()},e.now()},makeTransparentImage:function(t){var n=e.makeNeutralElement("img");return n.src=t,n},setElementOpacity:function(t,n,r){var i;t=e.getElement(t),r&&!e.Browser.alpha&&(n=Math.round(n)),e.Browser.opacity?t.style.opacity=n<1?n:"":n<1?(i="alpha(opacity="+Math.round(100*n)+")",t.style.filter=i):t.style.filter=""},setElementTouchActionNone:function(t){void 0!==(t=e.getElement(t)).style.touchAction?t.style.touchAction="none":void 0!==t.style.msTouchAction&&(t.style.msTouchAction="none")},setElementPointerEvents:function(t,n){void 0!==(t=e.getElement(t)).style&&void 0!==t.style.pointerEvents&&(t.style.pointerEvents=n)},setElementPointerEventsNone:function(t){e.setElementPointerEvents(t,"none")},addClass:function(t,n){(t=e.getElement(t)).className?-1===(" "+t.className+" ").indexOf(" "+n+" ")&&(t.className+=" "+n):t.className=n},indexOf:function(e,t,n){return Array.prototype.indexOf?this.indexOf=function(e,t,n){return e.indexOf(t,n)}:this.indexOf=function(e,t,n){var r,i,o=n||0;if(!e)throw new TypeError;if(0===(i=e.length)||o>=i)return-1;for(o<0&&(o=i-Math.abs(o)),r=o;r<i;r++)if(e[r]===t)return r;return-1},this.indexOf(e,t,n)},removeClass:function(t,n){var r,i,o=[];for(r=(t=e.getElement(t)).className.split(/\s+/),i=0;i<r.length;i++)r[i]&&r[i]!==n&&o.push(r[i]);t.className=o.join(" ")},normalizeEventListenerOptions:function(t){return void 0!==t?"boolean"==typeof t?e.supportsEventListenerOptions?{capture:t}:t:e.supportsEventListenerOptions?t:void 0!==t.capture&&t.capture:!!e.supportsEventListenerOptions&&{capture:!1}},addEvent:function(){if(e.supportsAddEventListener)return function(t,n,r,i){i=e.normalizeEventListenerOptions(i),(t=e.getElement(t)).addEventListener(n,r,i)};if(document.documentElement.attachEvent&&document.attachEvent)return function(t,n,r){(t=e.getElement(t)).attachEvent("on"+n,r)};throw new Error("No known event model.")}(),removeEvent:function(){if(e.supportsRemoveEventListener)return function(t,n,r,i){i=e.normalizeEventListenerOptions(i),(t=e.getElement(t)).removeEventListener(n,r,i)};if(document.documentElement.detachEvent&&document.detachEvent)return function(t,n,r){(t=e.getElement(t)).detachEvent("on"+n,r)};throw new Error("No known event model.")}(),cancelEvent:function(e){e.preventDefault()},eventIsCanceled:function(e){return e.defaultPrevented},stopEvent:function(e){e.stopPropagation()},createCallback:function(e,t){s.error("The createCallback function is deprecated and will be removed in future versions. Please use alternativeFunction instead.");var n,r=[];for(n=2;n<arguments.length;n++)r.push(arguments[n]);return function(){var n,i=r.concat([]);for(n=0;n<arguments.length;n++)i.push(arguments[n]);return t.apply(e,i)}},getUrlParameter:function(e){return r[e]||null},getUrlProtocol:function(e){var t=e.match(/^([a-z]+:)\/\//i);return null===t?window.location.protocol:t[1].toLowerCase()},createAjaxRequest:function(){if(window.XMLHttpRequest)return e.createAjaxRequest=function(){return new XMLHttpRequest},new XMLHttpRequest;throw new Error("Browser doesn't support XMLHttpRequest.")},makeAjaxRequest:function(t,n,r){var i,o,a,s;e.isPlainObject(t)&&(n=t.success,r=t.error,i=t.withCredentials,o=t.headers,a=t.responseType||null,s=t.postData||null,t=t.url);var l=e.getUrlProtocol(t),u=e.createAjaxRequest();if(!e.isFunction(n))throw new Error("makeAjaxRequest requires a success callback");u.onreadystatechange=function(){4===u.readyState&&(u.onreadystatechange=function(){},u.status>=200&&u.status<300||0===u.status&&"http:"!==l&&"https:"!==l?n(u):e.isFunction(r)?r(u):e.console.error("AJAX request returned %d: %s",u.status,t))};var c=s?"POST":"GET";try{if(u.open(c,t,!0),a&&(u.responseType=a),o)for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&o[f]&&u.setRequestHeader(f,o[f]);i&&(u.withCredentials=!0),u.send(s)}catch(t){e.console.error("%s while making AJAX request: %s",t.name,t.message),u.onreadystatechange=function(){},e.isFunction(r)&&r(u,t)}return u},jsonp:function(t){var n,r=t.url,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement,o=t.callbackName||"openseadragon"+e.now(),a=window[o],s="$1"+o+"$2",l=t.param||"callback",u=t.callback;r=r.replace(/(=)\?(&|$)|\?\?/i,s),r+=(/\?/.test(r)?"&":"?")+l+"="+o,window[o]=function(t){if(a)window[o]=a;else try{delete window[o]}catch(e){}u&&e.isFunction(u)&&u(t)},n=document.createElement("script"),void 0===t.async&&!1===t.async||(n.async="async"),t.scriptCharset&&(n.charset=t.scriptCharset),n.src=r,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=void 0)},i.insertBefore(n,i.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(t){if(!window.DOMParser)throw new Error("Browser doesn't support XML DOM.");return e.parseXml=function(e){return(new DOMParser).parseFromString(e,"text/xml")},e.parseXml(t)},parseJSON:function(t){return e.parseJSON=window.JSON.parse,e.parseJSON(t)},imageFormatSupported:function(e){return!!n[(e=e||"").toLowerCase()]},setImageFormatsSupported:function(t){e.extend(n,t)}});var t=function(e){};e.console=window.console||{log:t,debug:t,info:t,warn:t,error:t,assert:t},e.Browser={vendor:e.BROWSERS.UNKNOWN,version:0,alpha:!0};var n={avif:!0,bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1,webp:!0},r={};function i(e,t){return t&&e!==document.body?document.body:e.offsetParent}!function(){var t=navigator.appVersion,n=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(e.Browser.vendor=e.BROWSERS.IE,e.Browser.version=parseFloat(n.substring(n.indexOf("MSIE")+5,n.indexOf(";",n.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(n.indexOf("Edge")>=0?(e.Browser.vendor=e.BROWSERS.EDGE,e.Browser.version=parseFloat(n.substring(n.indexOf("Edge")+5))):n.indexOf("Edg")>=0?(e.Browser.vendor=e.BROWSERS.CHROMEEDGE,e.Browser.version=parseFloat(n.substring(n.indexOf("Edg")+4))):n.indexOf("Firefox")>=0?(e.Browser.vendor=e.BROWSERS.FIREFOX,e.Browser.version=parseFloat(n.substring(n.indexOf("Firefox")+8))):n.indexOf("Safari")>=0?(e.Browser.vendor=n.indexOf("Chrome")>=0?e.BROWSERS.CHROME:e.BROWSERS.SAFARI,e.Browser.version=parseFloat(n.substring(n.substring(0,n.indexOf("Safari")).lastIndexOf("/")+1,n.indexOf("Safari")))):null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(n)&&(e.Browser.vendor=e.BROWSERS.IE,e.Browser.version=parseFloat(RegExp.$1)));break;case"Opera":e.Browser.vendor=e.BROWSERS.OPERA,e.Browser.version=parseFloat(t)}var i,o,a,s=window.location.search.substring(1).split("&");for(a=0;a<s.length;a++)if((o=(i=s[a]).indexOf("="))>0){var l=i.substring(0,o),u=i.substring(o+1);try{r[l]=decodeURIComponent(u)}catch(t){e.console.error("Ignoring malformed URL parameter: %s=%s",l,u)}}e.Browser.alpha=!(e.Browser.vendor===e.BROWSERS.CHROME&&e.Browser.version<2),e.Browser.opacity=!0,e.Browser.vendor===e.BROWSERS.IE&&e.console.error("Internet Explorer is not supported by OpenSeadragon")}(),function(t){var n=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame,r=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.msCancelAnimationFrame;if(n&&r)e.requestAnimationFrame=function(){return n.apply(t,arguments)},e.cancelAnimationFrame=function(){return r.apply(t,arguments)};else{var i,o=[],a=[],s=0;e.requestAnimationFrame=function(t){return o.push([++s,t]),i||(i=setInterval((function(){if(o.length){var t=e.now(),n=a;for(a=o,o=n;a.length;)a.shift()[1](t)}else clearInterval(i),i=void 0}),20)),s},e.cancelAnimationFrame=function(e){var t,n;for(t=0,n=o.length;t<n;t+=1)if(o[t][0]===e)return void o.splice(t,1);for(t=0,n=a.length;t<n;t+=1)if(a[t][0]===e)return void a.splice(t,1)}}}(window)}(E),void 0===(i="function"==typeof(r=function(){return E})?r.apply(t,[]):r)||(e.exports=i),o=E,a=function(){function e(t){y(this,e),t||(t=[0,0,0,0,0,0,0,0,0]),this.values=t}return w(e,[{key:"multiply",value:function(t){var n=this.values,r=t.values,i=n[0],o=n[1],a=n[2],s=n[3],l=n[4],u=n[5],c=n[6],f=n[7],d=n[8],p=r[0],h=r[1],m=r[2],v=r[3],g=r[4],y=r[5],b=r[6],w=r[7],x=r[8];return new e([p*i+h*s+m*c,p*o+h*l+m*f,p*a+h*u+m*d,v*i+g*s+y*c,v*o+g*l+y*f,v*a+g*u+y*d,b*i+w*s+x*c,b*o+w*l+x*f,b*a+w*u+x*d])}}],[{key:"makeIdentity",value:function(){return new e([1,0,0,0,1,0,0,0,1])}},{key:"makeTranslation",value:function(t,n){return new e([1,0,0,0,1,0,t,n,1])}},{key:"makeRotation",value:function(t){var n=Math.cos(t),r=Math.sin(t);return new e([n,-r,0,r,n,0,0,0,1])}},{key:"makeScaling",value:function(t,n){return new e([t,0,0,0,n,0,0,0,1])}}]),e}(),o.Mat3=a,function(e){var t={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.fullscreenElement},t.requestFullScreen=function(t){return t.requestFullscreen().catch((function(t){e.console.error("Fullscreen request failed: ",t)}))},t.exitFullScreen=function(){document.exitFullscreen().catch((function(t){e.console.error("Error while exiting fullscreen: ",t)}))},t.fullScreenEventName="fullscreenchange",t.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.msFullscreenElement},t.requestFullScreen=function(e){return e.msRequestFullscreen()},t.exitFullScreen=function(){document.msExitFullscreen()},t.fullScreenEventName="MSFullscreenChange",t.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.webkitFullscreenElement},t.requestFullScreen=function(e){return e.webkitRequestFullscreen()},t.exitFullScreen=function(){document.webkitExitFullscreen()},t.fullScreenEventName="webkitfullscreenchange",t.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},t.requestFullScreen=function(e){return e.webkitRequestFullScreen()},t.exitFullScreen=function(){document.webkitCancelFullScreen()},t.fullScreenEventName="webkitfullscreenchange",t.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.mozFullScreenElement},t.requestFullScreen=function(e){return e.mozRequestFullScreen()},t.exitFullScreen=function(){document.mozCancelFullScreen()},t.fullScreenEventName="mozfullscreenchange",t.fullScreenErrorEventName="mozfullscreenerror"),t.isFullScreen=function(){return null!==t.getFullScreenElement()},t.cancelFullScreen=function(){e.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),t.exitFullScreen()},e.extend(e,t)}(E),function(e){e.EventSource=function(){this.events={},this._rejectedEventList={}},e.EventSource.prototype={addOnceHandler:function(e,t,n,r,i){var o=this;r=r||1;var a=0;return this.addHandler(e,(function n(i){return++a===r&&o.removeHandler(e,n),t(i)}),n,i)},addHandler:function(t,n,r,i){if(Object.prototype.hasOwnProperty.call(this._rejectedEventList,t))return e.console.error("Error adding handler for ".concat(t,". ").concat(this._rejectedEventList[t])),!1;var o=this.events[t];if(o||(this.events[t]=o=[]),n&&e.isFunction(n)){var a=o.length,s={handler:n,userData:r||null,priority:i||0};for(o[a]=s;a>0&&o[a-1].priority<o[a].priority;)o[a]=o[a-1],o[a-1]=s,a--}return!0},removeHandler:function(t,n){var r,i=this.events[t],o=[];if(i&&e.isArray(i)){for(r=0;r<i.length;r++)i[r].handler!==n&&o.push(i[r]);this.events[t]=o}},numberOfHandlers:function(e){var t=this.events[e];return t?t.length:0},removeAllHandlers:function(e){if(e)this.events[e]=[];else for(var t in this.events)this.events[t]=[]},getHandler:function(e){var t=this.events[e];return t&&t.length?(t=1===t.length?[t[0]]:Array.apply(null,t),function(e,n){var r,i=t.length;for(r=0;r<i;r++)t[r]&&(n.eventSource=e,n.userData=t[r].userData,t[r].handler(n))}):null},raiseEvent:function(t,n){if(Object.prototype.hasOwnProperty.call(this._rejectedEventList,t))return e.console.error("Error adding handler for ".concat(t,". ").concat(this._rejectedEventList[t])),!1;var r=this.getHandler(t);return r&&r(this,n||{}),!0},rejectEventHandler:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._rejectedEventList[e]=t},allowEventHandler:function(e){delete this._rejectedEventList[e]}}}(E),function(e){var t=[],n={};e.MouseTracker=function(r){t.push(this);var i=arguments;e.isPlainObject(r)||(r={element:i[0],clickTimeThreshold:i[1],clickDistThreshold:i[2]}),this.hash=Math.random(),this.element=e.getElement(r.element),this.clickTimeThreshold=r.clickTimeThreshold||e.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=r.clickDistThreshold||e.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=r.dblClickTimeThreshold||e.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=r.dblClickDistThreshold||e.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=r.userData||null,this.stopDelay=r.stopDelay||50,this.preProcessEventHandler=r.preProcessEventHandler||null,this.contextMenuHandler=r.contextMenuHandler||null,this.enterHandler=r.enterHandler||null,this.leaveHandler=r.leaveHandler||null,this.exitHandler=r.exitHandler||null,this.overHandler=r.overHandler||null,this.outHandler=r.outHandler||null,this.pressHandler=r.pressHandler||null,this.nonPrimaryPressHandler=r.nonPrimaryPressHandler||null,this.releaseHandler=r.releaseHandler||null,this.nonPrimaryReleaseHandler=r.nonPrimaryReleaseHandler||null,this.moveHandler=r.moveHandler||null,this.scrollHandler=r.scrollHandler||null,this.clickHandler=r.clickHandler||null,this.dblClickHandler=r.dblClickHandler||null,this.dragHandler=r.dragHandler||null,this.dragEndHandler=r.dragEndHandler||null,this.pinchHandler=r.pinchHandler||null,this.stopHandler=r.stopHandler||null,this.keyDownHandler=r.keyDownHandler||null,this.keyUpHandler=r.keyUpHandler||null,this.keyHandler=r.keyHandler||null,this.focusHandler=r.focusHandler||null,this.blurHandler=r.blurHandler||null;var o=this;n[this.hash]={click:function(t){!function(t,n){var r={originalEvent:n,eventType:"click",pointerType:"mouse",isEmulated:!1};j(t,r),r.preventDefault&&!r.defaultPrevented&&e.cancelEvent(n),r.stopPropagation&&e.stopEvent(n)}(o,t)},dblclick:function(t){!function(t,n){var r={originalEvent:n,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};j(t,r),r.preventDefault&&!r.defaultPrevented&&e.cancelEvent(n),r.stopPropagation&&e.stopEvent(n)}(o,t)},keydown:function(t){!function(t,n){var r=null,i={originalEvent:n,eventType:"keydown",pointerType:"",isEmulated:!1};j(t,i),!t.keyDownHandler||i.preventGesture||i.defaultPrevented||(r={eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefault:i.preventDefault||i.defaultPrevented,userData:t.userData},t.keyDownHandler(r)),(r&&r.preventDefault||i.preventDefault&&!i.defaultPrevented)&&e.cancelEvent(n),i.stopPropagation&&e.stopEvent(n)}(o,t)},keyup:function(t){!function(t,n){var r=null,i={originalEvent:n,eventType:"keyup",pointerType:"",isEmulated:!1};j(t,i),!t.keyUpHandler||i.preventGesture||i.defaultPrevented||(r={eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefault:i.preventDefault||i.defaultPrevented,userData:t.userData},t.keyUpHandler(r)),(r&&r.preventDefault||i.preventDefault&&!i.defaultPrevented)&&e.cancelEvent(n),i.stopPropagation&&e.stopEvent(n)}(o,t)},keypress:function(t){!function(t,n){var r=null,i={originalEvent:n,eventType:"keypress",pointerType:"",isEmulated:!1};j(t,i),!t.keyHandler||i.preventGesture||i.defaultPrevented||(r={eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefault:i.preventDefault||i.defaultPrevented,userData:t.userData},t.keyHandler(r)),(r&&r.preventDefault||i.preventDefault&&!i.defaultPrevented)&&e.cancelEvent(n),i.stopPropagation&&e.stopEvent(n)}(o,t)},focus:function(e){!function(e,t){var n={originalEvent:t,eventType:"focus",pointerType:"",isEmulated:!1};j(e,n),e.focusHandler&&!n.preventGesture&&e.focusHandler({eventSource:e,originalEvent:t,userData:e.userData})}(o,e)},blur:function(e){!function(e,t){var n={originalEvent:t,eventType:"blur",pointerType:"",isEmulated:!1};j(e,n),e.blurHandler&&!n.preventGesture&&e.blurHandler({eventSource:e,originalEvent:t,userData:e.userData})}(o,e)},contextmenu:function(t){!function(t,n){var r=null,i={originalEvent:n,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};j(t,i),!t.contextMenuHandler||i.preventGesture||i.defaultPrevented||(r={eventSource:t,position:w(y(n),t.element),originalEvent:i.originalEvent,preventDefault:i.preventDefault||i.defaultPrevented,userData:t.userData},t.contextMenuHandler(r)),(r&&r.preventDefault||i.preventDefault&&!i.defaultPrevented)&&e.cancelEvent(n),i.stopPropagation&&e.stopEvent(n)}(o,t)},wheel:function(e){!function(e,t){E(e,t,t)}(o,e)},mousewheel:function(e){S(o,e)},DOMMouseScroll:function(e){S(o,e)},MozMousePixelScroll:function(e){S(o,e)},losecapture:function(t){!function(t,n){var r={id:e.MouseTracker.mousePointerId,type:"mouse"},i={originalEvent:n,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};j(t,i),n.target===t.element&&L(t,r,!1),i.stopPropagation&&e.stopEvent(n)}(o,t)},mouseenter:function(e){_(o,e)},mouseleave:function(e){T(o,e)},mouseover:function(e){O(o,e)},mouseout:function(e){A(o,e)},mousedown:function(e){C(o,e)},mouseup:function(e){P(o,e)},mousemove:function(e){R(o,e)},touchstart:function(t){!function(t,n){var r,i,o,a=n.changedTouches.length,s=t.getActivePointersListByType("touch");r=e.now(),s.getLength()>n.touches.length-a&&e.console.warn("Tracked touch contact count doesn't match event.touches.length");var l={originalEvent:n,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(j(t,l),i=0;i<a;i++)N(t,l,o={id:n.changedTouches[i].identifier,type:"touch",isPrimary:0===s.getLength(),currentPos:y(n.changedTouches[i]),currentTime:r}),B(t,l,o,0),L(t,o,!0);l.preventDefault&&!l.defaultPrevented&&e.cancelEvent(n),l.stopPropagation&&e.stopEvent(n)}(o,t)},touchend:function(t){!function(t,n){var r,i,o,a=n.changedTouches.length;r=e.now();var s={originalEvent:n,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(j(t,s),i=0;i<a;i++)F(t,s,o={id:n.changedTouches[i].identifier,type:"touch",currentPos:y(n.changedTouches[i]),currentTime:r},0),L(t,o,!1),z(t,s,o);s.preventDefault&&!s.defaultPrevented&&e.cancelEvent(n),s.stopPropagation&&e.stopEvent(n)}(o,t)},touchmove:function(t){!function(t,n){var r,i,o=n.changedTouches.length;r=e.now();var a={originalEvent:n,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(j(t,a),i=0;i<o;i++)W(t,a,{id:n.changedTouches[i].identifier,type:"touch",currentPos:y(n.changedTouches[i]),currentTime:r});a.preventDefault&&!a.defaultPrevented&&e.cancelEvent(n),a.stopPropagation&&e.stopEvent(n)}(o,t)},touchcancel:function(t){!function(t,n){var r,i=n.changedTouches.length,o={originalEvent:n,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(j(t,o),r=0;r<i;r++)H(t,0,{id:n.changedTouches[r].identifier,type:"touch"});o.stopPropagation&&e.stopEvent(n)}(o,t)},gesturestart:function(t){!function(t,n){e.eventIsCanceled(n)||n.preventDefault()}(0,t)},gesturechange:function(t){!function(t,n){e.eventIsCanceled(n)||n.preventDefault()}(0,t)},gotpointercapture:function(t){!function(t,n){var r={originalEvent:n,eventType:"gotpointercapture",pointerType:v(n),isEmulated:!1};j(t,r),n.target===t.element&&L(t,{id:n.pointerId,type:v(n)},!0),r.stopPropagation&&e.stopEvent(n)}(o,t)},lostpointercapture:function(t){!function(t,n){var r={originalEvent:n,eventType:"lostpointercapture",pointerType:v(n),isEmulated:!1};j(t,r),n.target===t.element&&L(t,{id:n.pointerId,type:v(n)},!1),r.stopPropagation&&e.stopEvent(n)}(o,t)},pointerenter:function(e){_(o,e)},pointerleave:function(e){T(o,e)},pointerover:function(e){O(o,e)},pointerout:function(e){A(o,e)},pointerdown:function(e){C(o,e)},pointerup:function(e){P(o,e)},pointermove:function(e){R(o,e)},pointercancel:function(t){!function(t,n){var r={id:n.pointerId,type:v(n)},i={originalEvent:n,eventType:"pointercancel",pointerType:r.type,isEmulated:!1};j(t,i),H(t,0,r),i.stopPropagation&&e.stopEvent(n)}(o,t)},pointerupcaptured:function(t){!function(t,n){t.getActivePointersListByType(v(n)).getById(n.pointerId)&&k(t,n),e.stopEvent(n)}(o,t)},pointermovecaptured:function(t){!function(t,n){t.getActivePointersListByType(v(n)).getById(n.pointerId)&&I(t,n),e.stopEvent(n)}(o,t)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,e.MouseTracker.havePointerEvents&&e.setElementPointerEvents(this.element,"auto"),this.exitHandler&&e.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),r.startDisabled||this.setTracking(!0)},e.MouseTracker.prototype={destroy:function(){var e;for(d(this),this.element=null,e=0;e<t.length;e++)if(t[e]===this){t.splice(e,1);break}n[this.hash]=null,delete n[this.hash]},isTracking:function(){return n[this.hash].tracking},setTracking:function(t){return t?function(t){var r,i,o=n[t.hash];if(!o.tracking){for(i=0;i<e.MouseTracker.subscribeEvents.length;i++)r=e.MouseTracker.subscribeEvents[i],e.addEvent(t.element,r,o[r],r===e.MouseTracker.wheelEventName&&{passive:!1,capture:!1});f(t),o.tracking=!0}}(this):d(this),this},getActivePointersListByType:function(t){var r,i,o=n[this.hash],a=o?o.activePointersLists.length:0;for(r=0;r<a;r++)if(o.activePointersLists[r].type===t)return o.activePointersLists[r];return i=new e.MouseTracker.GesturePointList(t),o&&o.activePointersLists.push(i),i},getActivePointerCount:function(){var e,t=n[this.hash],r=t.activePointersLists.length,i=0;for(e=0;e<r;e++)i+=t.activePointersLists[e].getLength();return i},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var r,i,o,a,s,l,u=function(){try{return window.self!==window.top}catch(e){return!0}}();function c(e){try{return e.addEventListener&&e.removeEventListener}catch(e){return!1}}function f(e){var t,r,i,o,a,s=n[e.hash],l=s.activePointersLists.length;for(t=0;t<l;t++)if((i=s.activePointersLists[t]).getLength()>0){for(a=[],o=i.asArray(),r=0;r<o.length;r++)a.push(o[r]);for(r=0;r<a.length;r++)D(e,i,a[r])}for(t=0;t<l;t++)s.activePointersLists.pop();s.sentDragEvent=!1}function d(t){var r,i,o=n[t.hash];if(o.tracking){for(i=0;i<e.MouseTracker.subscribeEvents.length;i++)r=e.MouseTracker.subscribeEvents[i],e.removeEvent(t.element,r,o[r],!1);f(t),o.tracking=!1}}function p(e,t){var r=n[e.hash];if("pointerevent"===t)return{upName:"pointerup",upHandler:r.pointerupcaptured,moveName:"pointermove",moveHandler:r.pointermovecaptured};if("mouse"===t)return{upName:"pointerup",upHandler:r.pointerupcaptured,moveName:"pointermove",moveHandler:r.pointermovecaptured};if("touch"===t)return{upName:"touchend",upHandler:r.touchendcaptured,moveName:"touchmove",moveHandler:r.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function h(t,n){var r,i;if(e.MouseTracker.havePointerCapture)if(e.MouseTracker.havePointerEvents){if(!(i=t.getActivePointersListByType(n.type).getById(n.id))||!i.captured)return;try{t.element.releasePointerCapture(n.id)}catch(e){}}else t.element.releaseCapture();else r=p(t,e.MouseTracker.havePointerEvents?"pointerevent":n.type),u&&c(window.top)&&e.removeEvent(window.top,r.upName,r.upHandler,!0),e.removeEvent(e.MouseTracker.captureElement,r.moveName,r.moveHandler,!0),e.removeEvent(e.MouseTracker.captureElement,r.upName,r.upHandler,!0);L(t,n,!1)}function m(t){return e.MouseTracker.havePointerEvents?t.pointerId:e.MouseTracker.mousePointerId}function v(t){return e.MouseTracker.havePointerEvents&&t.pointerType?t.pointerType:"mouse"}function g(t){return!e.MouseTracker.havePointerEvents||t.isPrimary}function y(t){return e.getMousePosition(t)}function b(e,t){return w(y(e),t)}function w(t,n){var r=e.getElementOffset(n);return t.minus(r)}function x(t,n){return new e.Point((t.x+n.x)/2,(t.y+n.y)/2)}function S(t,n){var r={target:n.target||n.srcElement,type:"wheel",shiftKey:n.shiftKey||!1,clientX:n.clientX,clientY:n.clientY,pageX:n.pageX?n.pageX:n.clientX,pageY:n.pageY?n.pageY:n.clientY,deltaMode:"MozMousePixelScroll"===n.type?0:1,deltaX:0,deltaZ:0};"mousewheel"===e.MouseTracker.wheelEventName?r.deltaY=-n.wheelDelta/e.DEFAULT_SETTINGS.pixelsPerWheelLine:r.deltaY=n.detail,E(t,r,n)}function E(t,n,r){var i,o,a=null;i=n.deltaY?n.deltaY<0?1:-1:0,j(t,o={originalEvent:n,eventType:"wheel",pointerType:"mouse",isEmulated:n!==r}),!t.scrollHandler||o.preventGesture||o.defaultPrevented||(a={eventSource:t,pointerType:"mouse",position:b(n,t.element),scroll:i,shift:n.shiftKey,isTouchEvent:!1,originalEvent:r,preventDefault:o.preventDefault||o.defaultPrevented,userData:t.userData},t.scrollHandler(a)),o.stopPropagation&&e.stopEvent(r),(a&&a.preventDefault||o.preventDefault&&!o.defaultPrevented)&&e.cancelEvent(r)}function _(t,n){var r={id:m(n),type:v(n),isPrimary:g(n),currentPos:y(n),currentTime:e.now()},i={originalEvent:n,eventType:"pointerenter",pointerType:r.type,isEmulated:!1};j(t,i),N(t,i,r)}function T(t,n){var r={id:m(n),type:v(n),isPrimary:g(n),currentPos:y(n),currentTime:e.now()},i={originalEvent:n,eventType:"pointerleave",pointerType:r.type,isEmulated:!1};j(t,i),z(t,i,r)}function O(t,n){var r={id:m(n),type:v(n),isPrimary:g(n),currentPos:y(n),currentTime:e.now()},i={originalEvent:n,eventType:"pointerover",pointerType:r.type,isEmulated:!1};j(t,i),function(e,t,n){var r,i;(i=(r=e.getActivePointersListByType(n.type)).getById(n.id))?n=i:(n.captured=!1,n.insideElementPressed=!1),e.overHandler&&e.overHandler({eventSource:e,pointerType:n.type,position:w(n.currentPos,e.element),buttons:r.buttons,pointers:e.getActivePointerCount(),insideElementPressed:n.insideElementPressed,buttonDownAny:0!==r.buttons,isTouchEvent:"touch"===n.type,originalEvent:t.originalEvent,userData:e.userData})}(t,i,r),i.preventDefault&&!i.defaultPrevented&&e.cancelEvent(n),i.stopPropagation&&e.stopEvent(n)}function A(t,n){var r={id:m(n),type:v(n),isPrimary:g(n),currentPos:y(n),currentTime:e.now()},i={originalEvent:n,eventType:"pointerout",pointerType:r.type,isEmulated:!1};j(t,i),function(e,t,n){var r,i;(i=(r=e.getActivePointersListByType(n.type)).getById(n.id))?n=i:(n.captured=!1,n.insideElementPressed=!1),e.outHandler&&e.outHandler({eventSource:e,pointerType:n.type,position:n.currentPos&&w(n.currentPos,e.element),buttons:r.buttons,pointers:e.getActivePointerCount(),insideElementPressed:n.insideElementPressed,buttonDownAny:0!==r.buttons,isTouchEvent:"touch"===n.type,originalEvent:t.originalEvent,userData:e.userData})}(t,i,r),i.preventDefault&&!i.defaultPrevented&&e.cancelEvent(n),i.stopPropagation&&e.stopEvent(n)}function C(t,n){var r={id:m(n),type:v(n),isPrimary:g(n),currentPos:y(n),currentTime:e.now()},i=e.MouseTracker.havePointerEvents&&"touch"===r.type,o={originalEvent:n,eventType:"pointerdown",pointerType:r.type,isEmulated:!1};j(t,o),B(t,o,r,n.button),o.preventDefault&&!o.defaultPrevented&&e.cancelEvent(n),o.stopPropagation&&e.stopEvent(n),o.shouldCapture&&(i?L(t,r,!0):function(t,n){var r;if(e.MouseTracker.havePointerCapture)if(e.MouseTracker.havePointerEvents)try{t.element.setPointerCapture(n.id)}catch(t){return void e.console.warn("setPointerCapture() called on invalid pointer ID")}else t.element.setCapture(!0);else r=p(t,e.MouseTracker.havePointerEvents?"pointerevent":n.type),u&&c(window.top)&&e.addEvent(window.top,r.upName,r.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,r.upName,r.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,r.moveName,r.moveHandler,!0);L(t,n,!0)}(t,r))}function P(e,t){k(e,t)}function k(t,n){var r,i={originalEvent:n,eventType:"pointerup",pointerType:(r={id:m(n),type:v(n),isPrimary:g(n),currentPos:y(n),currentTime:e.now()}).type,isEmulated:!1};j(t,i),F(t,i,r,n.button),i.preventDefault&&!i.defaultPrevented&&e.cancelEvent(n),i.stopPropagation&&e.stopEvent(n),i.shouldReleaseCapture&&(n.target===t.element?h(t,r):L(t,r,!1))}function R(e,t){I(e,t)}function I(t,n){var r={id:m(n),type:v(n),isPrimary:g(n),currentPos:y(n),currentTime:e.now()},i={originalEvent:n,eventType:"pointermove",pointerType:r.type,isEmulated:!1};j(t,i),W(t,i,r),i.preventDefault&&!i.defaultPrevented&&e.cancelEvent(n),i.stopPropagation&&e.stopEvent(n)}function M(e,t){return t.speed=0,t.direction=0,t.contactPos=t.currentPos,t.contactTime=t.currentTime,t.lastPos=t.currentPos,t.lastTime=t.currentTime,e.add(t)}function D(t,n,r){var i,o=n.getById(r.id);return o?(o.captured&&(e.console.warn("stopTrackingPointer() called on captured pointer"),h(t,o)),n.removeContact(),i=n.removeById(r.id)):i=n.getLength(),i}function j(t,n){n.eventSource=t,n.eventPhase=n.originalEvent&&void 0!==n.originalEvent.eventPhase?n.originalEvent.eventPhase:0,n.defaultPrevented=e.eventIsCanceled(n.originalEvent),n.shouldCapture=!1,n.shouldReleaseCapture=!1,n.userData=t.userData,function(e,t){switch(t.eventType){case"pointermove":case"pointerdown":case"pointerup":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!e.hasGestureHandlers,t.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!1,t.stopPropagation=!1;break;case"wheel":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!e.hasScrollHandler,t.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":t.isStoppable=!0,t.isCancelable=!1,t.preventDefault=!1,t.preventGesture=!1,t.stopPropagation=!1;break;case"click":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!!e.clickHandler,t.preventGesture=!1,t.stopPropagation=!1;break;case"dblclick":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!!e.dblClickHandler,t.preventGesture=!1,t.stopPropagation=!1;break;default:t.isStoppable=!1,t.isCancelable=!1,t.preventDefault=!1,t.preventGesture=!1,t.stopPropagation=!1}}(t,n),t.preProcessEventHandler&&t.preProcessEventHandler(n)}function L(t,n,r){var i=t.getActivePointersListByType(n.type),o=i.getById(n.id);o?r&&!o.captured?(o.captured=!0,i.captureCount++):!r&&o.captured&&(o.captured=!1,i.captureCount--,i.captureCount<0&&(i.captureCount=0,e.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):e.console.warn("updatePointerCaptured() called on untracked pointer")}function N(e,t,n){var r,i=e.getActivePointersListByType(n.type);(r=i.getById(n.id))?(r.insideElement=!0,r.lastPos=r.currentPos,r.lastTime=r.currentTime,r.currentPos=n.currentPos,r.currentTime=n.currentTime,n=r):(n.captured=!1,n.insideElementPressed=!1,n.insideElement=!0,M(i,n)),e.enterHandler&&e.enterHandler({eventSource:e,pointerType:n.type,position:w(n.currentPos,e.element),buttons:i.buttons,pointers:e.getActivePointerCount(),insideElementPressed:n.insideElementPressed,buttonDownAny:0!==i.buttons,isTouchEvent:"touch"===n.type,originalEvent:t.originalEvent,userData:e.userData})}function z(e,t,n){var r,i,o=e.getActivePointersListByType(n.type);(r=o.getById(n.id))?(r.captured?(r.insideElement=!1,r.lastPos=r.currentPos,r.lastTime=r.currentTime,r.currentPos=n.currentPos,r.currentTime=n.currentTime):D(e,o,r),n=r):(n.captured=!1,n.insideElementPressed=!1),(e.leaveHandler||e.exitHandler)&&(i={eventSource:e,pointerType:n.type,position:n.currentPos&&w(n.currentPos,e.element),buttons:o.buttons,pointers:e.getActivePointerCount(),insideElementPressed:n.insideElementPressed,buttonDownAny:0!==o.buttons,isTouchEvent:"touch"===n.type,originalEvent:t.originalEvent,userData:e.userData},e.leaveHandler&&e.leaveHandler(i),e.exitHandler&&e.exitHandler(i))}function B(t,r,i,o){var a,s=n[t.hash],l=t.getActivePointersListByType(i.type);if(void 0!==r.originalEvent.buttons?l.buttons=r.originalEvent.buttons:0===o?l.buttons|=1:1===o?l.buttons|=4:2===o?l.buttons|=2:3===o?l.buttons|=8:4===o?l.buttons|=16:5===o&&(l.buttons|=32),0!==o)return r.shouldCapture=!1,r.shouldReleaseCapture=!1,void(!t.nonPrimaryPressHandler||r.preventGesture||r.defaultPrevented||(r.preventDefault=!0,t.nonPrimaryPressHandler({eventSource:t,pointerType:i.type,position:w(i.currentPos,t.element),button:o,buttons:l.buttons,isTouchEvent:"touch"===i.type,originalEvent:r.originalEvent,userData:t.userData})));(a=l.getById(i.id))?(a.insideElementPressed=!0,a.insideElement=!0,a.originalTarget=r.originalEvent.target,a.contactPos=i.currentPos,a.contactTime=i.currentTime,a.lastPos=a.currentPos,a.lastTime=a.currentTime,a.currentPos=i.currentPos,a.currentTime=i.currentTime,i=a):(i.captured=!1,i.insideElementPressed=!0,i.insideElement=!0,i.originalTarget=r.originalEvent.target,M(l,i)),l.addContact(),r.preventGesture||r.defaultPrevented?(r.shouldCapture=!1,r.shouldReleaseCapture=!1):(r.shouldCapture=!0,r.shouldReleaseCapture=!1,r.preventDefault=!0,(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.addPoint(t,i),1===l.contacts?t.pressHandler&&!r.preventGesture&&t.pressHandler({eventSource:t,pointerType:i.type,position:w(i.contactPos,t.element),buttons:l.buttons,isTouchEvent:"touch"===i.type,originalEvent:r.originalEvent,userData:t.userData}):2===l.contacts&&t.pinchHandler&&"touch"===i.type&&(s.pinchGPoints=l.asArray(),s.lastPinchDist=s.currentPinchDist=s.pinchGPoints[0].currentPos.distanceTo(s.pinchGPoints[1].currentPos),s.lastPinchCenter=s.currentPinchCenter=x(s.pinchGPoints[0].currentPos,s.pinchGPoints[1].currentPos)))}function F(t,r,i,o){var a,s,l,u,c=n[t.hash],f=t.getActivePointersListByType(i.type),d=!1;if(void 0!==r.originalEvent.buttons?f.buttons=r.originalEvent.buttons:0===o?f.buttons^=-2:1===o?f.buttons^=-5:2===o?f.buttons^=-3:3===o?f.buttons^=-9:4===o?f.buttons^=-17:5===o&&(f.buttons^=-33),r.shouldCapture=!1,0!==o)return r.shouldReleaseCapture=!1,void(!t.nonPrimaryReleaseHandler||r.preventGesture||r.defaultPrevented||(r.preventDefault=!0,t.nonPrimaryReleaseHandler({eventSource:t,pointerType:i.type,position:w(i.currentPos,t.element),button:o,buttons:f.buttons,isTouchEvent:"touch"===i.type,originalEvent:r.originalEvent,userData:t.userData})));(l=f.getById(i.id))?(f.removeContact(),l.captured&&(d=!0),l.lastPos=l.currentPos,l.lastTime=l.currentTime,l.currentPos=i.currentPos,l.currentTime=i.currentTime,l.insideElement||D(t,f,l),a=l.currentPos,s=l.currentTime):(i.captured=!1,i.insideElementPressed=!1,i.insideElement=!0,M(f,i),l=i),r.preventGesture||r.defaultPrevented||(d?(r.shouldReleaseCapture=!0,r.preventDefault=!0,(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.removePoint(t,l),0===f.contacts?(t.releaseHandler&&a&&t.releaseHandler({eventSource:t,pointerType:l.type,position:w(a,t.element),buttons:f.buttons,insideElementPressed:l.insideElementPressed,insideElementReleased:l.insideElement,isTouchEvent:"touch"===l.type,originalEvent:r.originalEvent,userData:t.userData}),t.dragEndHandler&&c.sentDragEvent&&t.dragEndHandler({eventSource:t,pointerType:l.type,position:w(l.currentPos,t.element),speed:l.speed,direction:l.direction,shift:r.originalEvent.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:r.originalEvent,userData:t.userData}),c.sentDragEvent=!1,(t.clickHandler||t.dblClickHandler)&&l.insideElement&&(u=s-l.contactTime<=t.clickTimeThreshold&&l.contactPos.distanceTo(a)<=t.clickDistThreshold,t.clickHandler&&t.clickHandler({eventSource:t,pointerType:l.type,position:w(l.currentPos,t.element),quick:u,shift:r.originalEvent.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:r.originalEvent,originalTarget:l.originalTarget,userData:t.userData}),t.dblClickHandler&&u&&(f.clicks++,1===f.clicks?(c.lastClickPos=a,c.dblClickTimeOut=setTimeout((function(){f.clicks=0}),t.dblClickTimeThreshold)):2===f.clicks&&(clearTimeout(c.dblClickTimeOut),f.clicks=0,c.lastClickPos.distanceTo(a)<=t.dblClickDistThreshold&&t.dblClickHandler({eventSource:t,pointerType:l.type,position:w(l.currentPos,t.element),shift:r.originalEvent.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:r.originalEvent,userData:t.userData}),c.lastClickPos=null)))):2===f.contacts&&t.pinchHandler&&"touch"===l.type&&(c.pinchGPoints=f.asArray(),c.lastPinchDist=c.currentPinchDist=c.pinchGPoints[0].currentPos.distanceTo(c.pinchGPoints[1].currentPos),c.lastPinchCenter=c.currentPinchCenter=x(c.pinchGPoints[0].currentPos,c.pinchGPoints[1].currentPos))):(r.shouldReleaseCapture=!1,t.releaseHandler&&a&&(t.releaseHandler({eventSource:t,pointerType:l.type,position:w(a,t.element),buttons:f.buttons,insideElementPressed:l.insideElementPressed,insideElementReleased:l.insideElement,isTouchEvent:"touch"===l.type,originalEvent:r.originalEvent,userData:t.userData}),r.preventDefault=!0)))}function W(e,t,r){var i,o,a,s=n[e.hash],l=e.getActivePointersListByType(r.type);void 0!==t.originalEvent.buttons&&(l.buttons=t.originalEvent.buttons),(i=l.getById(r.id))&&(i.lastPos=i.currentPos,i.lastTime=i.currentTime,i.currentPos=r.currentPos,i.currentTime=r.currentTime,t.shouldCapture=!1,t.shouldReleaseCapture=!1,e.stopHandler&&"mouse"===r.type&&(clearTimeout(e.stopTimeOut),e.stopTimeOut=setTimeout((function(){!function(e,t,n){e.stopHandler&&e.stopHandler({eventSource:e,pointerType:n,position:b(t,e.element),buttons:e.getActivePointersListByType(n).buttons,isTouchEvent:"touch"===n,originalEvent:t,userData:e.userData})}(e,t.originalEvent,r.type)}),e.stopDelay)),0===l.contacts?e.moveHandler&&e.moveHandler({eventSource:e,pointerType:r.type,position:w(r.currentPos,e.element),buttons:l.buttons,isTouchEvent:"touch"===r.type,originalEvent:t.originalEvent,userData:e.userData}):1===l.contacts?(e.moveHandler&&(i=l.asArray()[0],e.moveHandler({eventSource:e,pointerType:i.type,position:w(i.currentPos,e.element),buttons:l.buttons,isTouchEvent:"touch"===i.type,originalEvent:t.originalEvent,userData:e.userData})),!e.dragHandler||t.preventGesture||t.defaultPrevented||(a=(i=l.asArray()[0]).currentPos.minus(i.lastPos),e.dragHandler({eventSource:e,pointerType:i.type,position:w(i.currentPos,e.element),buttons:l.buttons,delta:a,speed:i.speed,direction:i.direction,shift:t.originalEvent.shiftKey,isTouchEvent:"touch"===i.type,originalEvent:t.originalEvent,userData:e.userData}),t.preventDefault=!0,s.sentDragEvent=!0)):2===l.contacts&&(e.moveHandler&&(o=l.asArray(),e.moveHandler({eventSource:e,pointerType:o[0].type,position:w(x(o[0].currentPos,o[1].currentPos),e.element),buttons:l.buttons,isTouchEvent:"touch"===o[0].type,originalEvent:t.originalEvent,userData:e.userData})),!e.pinchHandler||"touch"!==r.type||t.preventGesture||t.defaultPrevented||(a=s.pinchGPoints[0].currentPos.distanceTo(s.pinchGPoints[1].currentPos))!==s.currentPinchDist&&(s.lastPinchDist=s.currentPinchDist,s.currentPinchDist=a,s.lastPinchCenter=s.currentPinchCenter,s.currentPinchCenter=x(s.pinchGPoints[0].currentPos,s.pinchGPoints[1].currentPos),e.pinchHandler({eventSource:e,pointerType:"touch",gesturePoints:s.pinchGPoints,lastCenter:w(s.lastPinchCenter,e.element),center:w(s.currentPinchCenter,e.element),lastDistance:s.lastPinchDist,distance:s.currentPinchDist,shift:t.originalEvent.shiftKey,originalEvent:t.originalEvent,userData:e.userData}),t.preventDefault=!0)))}function H(e,t,n){var r,i=e.getActivePointersListByType(n.type);(r=i.getById(n.id))&&D(e,i,r)}e.MouseTracker.gesturePointVelocityTracker=(r=[],i=0,o=0,a=function(e,t){return e.hash.toString()+t.type+t.id.toString()},s=function(){var t,n,i,a,s,l,u=r.length,c=e.now();for(a=c-o,o=c,t=0;t<u;t++)(i=(n=r[t]).gPoint).direction=Math.atan2(i.currentPos.y-n.lastPos.y,i.currentPos.x-n.lastPos.x),s=n.lastPos.distanceTo(i.currentPos),n.lastPos=i.currentPos,l=1e3*s/(a+1),i.speed=.75*l+.25*i.speed},{addPoint:function(t,n){var l=a(t,n);r.push({guid:l,gPoint:n,lastPos:n.currentPos}),1===r.length&&(o=e.now(),i=window.setInterval(s,50))},removePoint:function(e,t){var n,o=a(e,t),s=r.length;for(n=0;n<s;n++)if(r[n].guid===o){r.splice(n,1),0==--s&&window.clearInterval(i);break}}}),e.MouseTracker.captureElement=document,e.MouseTracker.wheelEventName="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",e.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",e.MouseTracker.wheelEventName],"DOMMouseScroll"===e.MouseTracker.wheelEventName&&e.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),e.MouseTracker.havePointerCapture=(l=document.createElement("div"),e.isFunction(l.setPointerCapture)&&e.isFunction(l.releasePointerCapture)),e.MouseTracker.havePointerCapture&&e.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(e.MouseTracker.havePointerEvents=!1,e.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),e.MouseTracker.mousePointerId="legacy-mouse",e.MouseTracker.havePointerCapture=function(){var t=document.createElement("div");return e.isFunction(t.setCapture)&&e.isFunction(t.releaseCapture)}(),e.MouseTracker.havePointerCapture&&e.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&e.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&e.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),e.MouseTracker.GesturePointList=function(e){this._gPoints=[],this.type=e,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},e.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(e){return this._gPoints.push(e)},removeById:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].id===e){this._gPoints.splice(t,1);break}return this._gPoints.length},getByIndex:function(e){return e<this._gPoints.length?this._gPoints[e]:null},getById:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].id===e)return this._gPoints[t];return null},getPrimary:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].isPrimary)return this._gPoints[t];return null},addContact:function(){++this.contacts,this.contacts>1&&("mouse"===this.type||"pen"===this.type)&&(e.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}}}(E),function(e){e.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},e.Control=function(t,n,r){var i=t.parentNode;"number"==typeof n&&(e.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),n={anchor:n}),n.attachToViewer=void 0===n.attachToViewer||n.attachToViewer,this.autoFade=void 0===n.autoFade||n.autoFade,this.element=t,this.anchor=n.anchor,this.container=r,this.anchor===e.ControlAnchor.ABSOLUTE?(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"==typeof n.top?n.top+"px":n.top,this.wrapper.style.left="number"==typeof n.left?n.left+"px":n.left,this.wrapper.style.height="number"==typeof n.height?n.height+"px":n.height,this.wrapper.style.width="number"==typeof n.width?n.width+"px":n.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===e.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),n.attachToViewer?this.anchor===e.ControlAnchor.TOP_RIGHT||this.anchor===e.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):i.appendChild(this.wrapper)},e.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==e.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!==this.wrapper.style.display},setVisible:function(t){this.wrapper.style.display=t?this.anchor===e.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(t){e.setElementOpacity(this.wrapper,t,!0)}}}(E),function(e){function t(e,t){var n,r=e.controls;for(n=r.length-1;n>=0;n--)if(r[n].element===t)return n;return-1}e.ControlDock=function(t){var n,r,i=["topleft","topright","bottomright","bottomleft"];for(e.extend(!0,this,{id:"controldock-"+e.now()+"-"+Math.floor(1e6*Math.random()),container:e.makeNeutralElement("div"),controls:[]},t),this.container.onsubmit=function(){return!1},this.element&&(this.element=e.getElement(this.element),this.element.appendChild(this.container),"static"===e.getElementStyle(this.element).position&&(this.element.style.position="relative"),this.container.style.width="100%",this.container.style.height="100%"),r=0;r<i.length;r++)n=i[r],this.controls[n]=e.makeNeutralElement("div"),this.controls[n].style.position="absolute",n.match("left")&&(this.controls[n].style.left="0px"),n.match("right")&&(this.controls[n].style.right="0px"),n.match("top")&&(this.controls[n].style.top="0px"),n.match("bottom")&&(this.controls[n].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},e.ControlDock.prototype={addControl:function(n,r){var i=null;if(!(t(this,n=e.getElement(n))>=0)){switch(r.anchor){case e.ControlAnchor.TOP_RIGHT:i=this.controls.topright,n.style.position="relative",n.style.paddingRight="0px",n.style.paddingTop="0px";break;case e.ControlAnchor.BOTTOM_RIGHT:i=this.controls.bottomright,n.style.position="relative",n.style.paddingRight="0px",n.style.paddingBottom="0px";break;case e.ControlAnchor.BOTTOM_LEFT:i=this.controls.bottomleft,n.style.position="relative",n.style.paddingLeft="0px",n.style.paddingBottom="0px";break;case e.ControlAnchor.TOP_LEFT:i=this.controls.topleft,n.style.position="relative",n.style.paddingLeft="0px",n.style.paddingTop="0px";break;case e.ControlAnchor.ABSOLUTE:default:case e.ControlAnchor.NONE:i=this.container,n.style.margin="0px",n.style.padding="0px"}this.controls.push(new e.Control(n,r,i)),n.style.display="inline-block"}},removeControl:function(n){var r=t(this,n=e.getElement(n));return r>=0&&(this.controls[r].destroy(),this.controls.splice(r,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var e;for(e=this.controls.length-1;e>=0;e--)if(this.controls[e].isVisible())return!0;return!1},setControlsEnabled:function(e){var t;for(t=this.controls.length-1;t>=0;t--)this.controls[t].setVisible(e);return this}}}(E),function(e){e.Placement=e.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(E),function(e){var t={},n=1;function r(t){return t=e.getElement(t),new e.Point(0===t.clientWidth?1:t.clientWidth,0===t.clientHeight?1:t.clientHeight)}function i(t,n){if(n instanceof e.Overlay)return n;var r=null;if(n.element)r=e.getElement(n.element);else{var i=n.id?n.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());(r=e.getElement(n.id))||((r=document.createElement("a")).href="#/overlay/"+i),r.id=i,e.addClass(r,n.className?n.className:"openseadragon-overlay")}var o=n.location,a=n.width,s=n.height;if(!o){var l=n.x,u=n.y;if(void 0!==n.px){var c=t.viewport.imageToViewportRectangle(new e.Rect(n.px,n.py,a||0,s||0));l=c.x,u=c.y,a=void 0!==a?c.width:void 0,s=void 0!==s?c.height:void 0}o=new e.Point(l,u)}var f=n.placement;return f&&"string"===e.type(f)&&(f=e.Placement[n.placement.toUpperCase()]),new e.Overlay({element:r,location:o,placement:f,onDraw:n.onDraw,checkResize:n.checkResize,width:a,height:s,rotationMode:n.rotationMode})}function o(e,t){var n;for(n=e.length-1;n>=0;n--)if(e[n].element===t)return n;return-1}function a(t,n){return e.requestAnimationFrame((function(){n(t)}))}function l(t){e.requestAnimationFrame((function(){!function(t){var n,r;if(t.controlsShouldFade){for(n=1-(e.now()-t.controlsFadeBeginTime)/t.controlsFadeLength,n=Math.min(1,n),n=Math.max(0,n),r=t.controls.length-1;r>=0;r--)t.controls[r].autoFade&&t.controls[r].setOpacity(n);n>0&&l(t)}}(t)}))}function u(t){t.autoHideControls&&(t.controlsShouldFade=!0,t.controlsFadeBeginTime=e.now()+t.controlsFadeDelay,window.setTimeout((function(){l(t)}),t.controlsFadeDelay))}function c(e){var t;for(e.controlsShouldFade=!1,t=e.controls.length-1;t>=0;t--)e.controls[t].setOpacity(1)}function f(){c(this)}function d(){u(this)}function p(e){var t={tracker:e.eventSource,position:e.position,originalEvent:e.originalEvent,preventDefault:e.preventDefault};this.raiseEvent("canvas-contextmenu",t),e.preventDefault=t.preventDefault}function h(t){var n={originalEvent:t.originalEvent,preventDefaultAction:!1,preventVerticalPan:t.preventVerticalPan||!this.panVertical,preventHorizontalPan:t.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",n),n.preventDefaultAction||t.ctrl||t.alt||t.meta)t.preventDefault=!1;else switch(t.keyCode){case 38:n.preventVerticalPan||(t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 40:n.preventVerticalPan||(t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 37:n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 39:n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 187:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 189:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 87:n.preventVerticalPan||(t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 83:n.preventVerticalPan||(t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 65:n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 68:n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 82:t.shift?this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 70:this.viewport.toggleFlip(),t.preventDefault=!0;break;case 74:this.goToPreviousPage();break;case 75:this.goToNextPage();break;default:t.preventDefault=!1}}function v(e){var t={originalEvent:e.originalEvent};this.raiseEvent("canvas-key-press",t)}function g(n){var r;document.activeElement===this.canvas||this.canvas.focus(),this.viewport.flipped&&(n.position.x=this.viewport.getContainerSize().x-n.position.x);var i={tracker:n.eventSource,position:n.position,quick:n.quick,shift:n.shift,originalEvent:n.originalEvent,originalTarget:n.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",i),!i.preventDefaultAction&&this.viewport&&n.quick&&(!0===(r=this.gestureSettingsByDeviceType(n.pointerType)).clickToZoom&&(this.viewport.zoomBy(n.shift?1/this.zoomPerClick:this.zoomPerClick,r.zoomToRefPoint?this.viewport.pointFromPixel(n.position,!0):null),this.viewport.applyConstraints()),r.dblClickDragToZoom&&(!0===t[this.hash].draggingToZoom?(t[this.hash].lastClickTime=null,t[this.hash].draggingToZoom=!1):t[this.hash].lastClickTime=e.now()))}function y(e){var t,n={tracker:e.eventSource,position:e.position,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",n),!n.preventDefaultAction&&this.viewport&&(t=this.gestureSettingsByDeviceType(e.pointerType)).dblClickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,t.zoomToRefPoint?this.viewport.pointFromPixel(e.position,!0):null),this.viewport.applyConstraints())}function b(e){var n,r={tracker:e.eventSource,pointerType:e.pointerType,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",r),n=this.gestureSettingsByDeviceType(e.pointerType),!r.preventDefaultAction&&this.viewport)if(n.dblClickDragToZoom&&t[this.hash].draggingToZoom){var i=Math.pow(this.zoomPerDblClickDrag,e.delta.y/50);this.viewport.zoomBy(i)}else if(n.dragToPan&&!t[this.hash].draggingToZoom){if(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewport.flipped&&(e.delta.x=-e.delta.x),this.constrainDuringPan){var o=this.viewport.deltaPointsFromPixels(e.delta.negate());this.viewport.centerSpringX.target.value+=o.x,this.viewport.centerSpringY.target.value+=o.y;var a=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=o.x,this.viewport.centerSpringY.target.value-=o.y,a.xConstrained&&(e.delta.x=0),a.yConstrained&&(e.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta.negate()),n.flickEnabled&&!this.constrainDuringPan)}}function w(n){var r,i={tracker:n.eventSource,pointerType:n.pointerType,position:n.position,speed:n.speed,direction:n.direction,shift:n.shift,originalEvent:n.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",i),r=this.gestureSettingsByDeviceType(n.pointerType),!i.preventDefaultAction&&this.viewport){if(!t[this.hash].draggingToZoom&&r.dragToPan&&r.flickEnabled&&n.speed>=r.flickMinSpeed){var o=0;this.panHorizontal&&(o=r.flickMomentum*n.speed*Math.cos(n.direction));var a=0;this.panVertical&&(a=r.flickMomentum*n.speed*Math.sin(n.direction));var s=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),l=this.viewport.pointFromPixel(new e.Point(s.x-o,s.y-a));this.viewport.panTo(l,!1)}this.viewport.applyConstraints()}r.dblClickDragToZoom&&!0===t[this.hash].draggingToZoom&&(t[this.hash].draggingToZoom=!1)}function x(e){this.raiseEvent("canvas-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function S(e){this.raiseEvent("canvas-exit",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function _(n){if(this.raiseEvent("canvas-press",{tracker:n.eventSource,pointerType:n.pointerType,position:n.position,insideElementPressed:n.insideElementPressed,insideElementReleased:n.insideElementReleased,originalEvent:n.originalEvent}),this.gestureSettingsByDeviceType(n.pointerType).dblClickDragToZoom){var r=t[this.hash].lastClickTime,i=e.now();if(null===r)return;i-r<this.dblClickTimeThreshold&&(t[this.hash].draggingToZoom=!0),t[this.hash].lastClickTime=null}}function T(e){this.raiseEvent("canvas-release",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function O(e){this.raiseEvent("canvas-nonprimary-press",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function A(e){this.raiseEvent("canvas-nonprimary-release",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function C(e){var t,n,r,i={tracker:e.eventSource,pointerType:e.pointerType,gesturePoints:e.gesturePoints,lastCenter:e.lastCenter,center:e.center,lastDistance:e.lastDistance,distance:e.distance,shift:e.shift,originalEvent:e.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",i),this.viewport&&(!(t=this.gestureSettingsByDeviceType(e.pointerType)).pinchToZoom||i.preventDefaultPanAction&&i.preventDefaultZoomAction||(n=this.viewport.pointFromPixel(e.center,!0),t.zoomToRefPoint&&!i.preventDefaultPanAction&&(r=this.viewport.pointFromPixel(e.lastCenter,!0).minus(n),this.panHorizontal||(r.x=0),this.panVertical||(r.y=0),this.viewport.panBy(r,!0)),i.preventDefaultZoomAction||this.viewport.zoomBy(e.distance/e.lastDistance,n,!0),this.viewport.applyConstraints()),t.pinchRotate&&!i.preventDefaultRotateAction)){var o=Math.atan2(e.gesturePoints[0].currentPos.y-e.gesturePoints[1].currentPos.y,e.gesturePoints[0].currentPos.x-e.gesturePoints[1].currentPos.x),a=Math.atan2(e.gesturePoints[0].lastPos.y-e.gesturePoints[1].lastPos.y,e.gesturePoints[0].lastPos.x-e.gesturePoints[1].lastPos.x);n=this.viewport.pointFromPixel(e.center,!0),this.viewport.rotateTo(this.viewport.getRotation(!0)+(o-a)*(180/Math.PI),n,!0)}}function P(e){this.raiseEvent("canvas-focus",{tracker:e.eventSource,originalEvent:e.originalEvent})}function k(e){this.raiseEvent("canvas-blur",{tracker:e.eventSource,originalEvent:e.originalEvent})}function R(t){var n,r,i,o;(o=e.now())-this._lastScrollTime>this.minScrollDeltaTime?(this._lastScrollTime=o,n={tracker:t.eventSource,position:t.position,scroll:t.scroll,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",n),!n.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(t.position.x=this.viewport.getContainerSize().x-t.position.x),(r=this.gestureSettingsByDeviceType(t.pointerType)).scrollToZoom&&(i=Math.pow(this.zoomPerScroll,t.scroll),this.viewport.zoomBy(i,r.zoomToRefPoint?this.viewport.pointFromPixel(t.position,!0):null),this.viewport.applyConstraints())),t.preventDefault=n.preventDefault):t.preventDefault=!0}function I(e){t[this.hash].mouseInside=!0,c(this),this.raiseEvent("container-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function M(e){e.pointers<1&&(t[this.hash].mouseInside=!1,t[this.hash].animating||u(this)),this.raiseEvent("container-exit",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function D(n){!function(n){if(!n._opening&&t[n.hash]){if(n.autoResize||t[n.hash].forceResize){var i;if(n._autoResizePolling){i=r(n.container);var o=t[n.hash].prevContainerSize;i.equals(o)||(t[n.hash].needsResize=!0)}t[n.hash].needsResize&&function(n,r){var i,o=n.viewport,a=o.getZoom(),s=o.getCenter();if(o.resize(r,n.preserveImageSizeOnResize),o.panTo(s,!0),n.preserveImageSizeOnResize)i=t[n.hash].prevContainerSize.x/r.x;else{var l=new e.Point(0,0),u=new e.Point(t[n.hash].prevContainerSize.x,t[n.hash].prevContainerSize.y).distanceTo(l);i=new e.Point(r.x,r.y).distanceTo(l)/u*t[n.hash].prevContainerSize.x/r.x}o.zoomTo(a*i,null,!0),t[n.hash].prevContainerSize=r,t[n.hash].forceRedraw=!0,t[n.hash].needsResize=!1,t[n.hash].forceResize=!1}(n,i||r(n.container))}var a=n.viewport.update(),s=n.world.update(a)||a;a&&n.raiseEvent("viewport-change"),n.referenceStrip&&(s=n.referenceStrip.update(n.viewport)||s);var l=t[n.hash].animating;!l&&s&&(n.raiseEvent("animation-start"),c(n));var f=l&&!s;f&&(t[n.hash].animating=!1),(s||f||t[n.hash].forceRedraw||n.world.needsDraw())&&(function(e){e.imageLoader.clear(),e.world.draw(),e.raiseEvent("update-viewport",{})}(n),n._drawOverlays(),n.navigator&&n.navigator.update(n.viewport),t[n.hash].forceRedraw=!1,s&&n.raiseEvent("animation")),f&&(n.raiseEvent("animation-finish"),t[n.hash].mouseInside||u(n)),t[n.hash].animating=s}}(n),n.isOpen()?n._updateRequestId=a(n,D):n._updateRequestId=!1}function j(e,t){return e?e+t:t}function L(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=this.zoomPerSecond,t[this.hash].zooming=!0,B(this)}function N(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=1/this.zoomPerSecond,t[this.hash].zooming=!0,B(this)}function z(){t[this.hash].zooming=!1}function B(t){e.requestAnimationFrame(e.delegate(t,F))}function F(){var n,r,i;t[this.hash].zooming&&this.viewport&&(r=(n=e.now())-t[this.hash].lastZoomTime,i=Math.pow(t[this.hash].zoomFactor,r/1e3),this.viewport.zoomBy(i),this.viewport.applyConstraints(),t[this.hash].lastZoomTime=n,B(this))}function W(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function H(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function U(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function V(){this.viewport&&this.viewport.goHome()}function G(){this.isFullPage()&&!e.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function q(){if(this.viewport){var e=this.viewport.getRotation();this.viewport.flipped?e+=this.rotationIncrement:e-=this.rotationIncrement,this.viewport.setRotation(e)}}function X(){if(this.viewport){var e=this.viewport.getRotation();this.viewport.flipped?e-=this.rotationIncrement:e+=this.rotationIncrement,this.viewport.setRotation(e)}}function Z(){this.viewport.toggleFlip()}e.Viewer=function(i){var o,s,l=arguments,c=this;if(e.isPlainObject(i)||(i={id:l[0],xmlPath:l.length>1?l[1]:void 0,prefixUrl:l.length>2?l[2]:void 0,controls:l.length>3?l[3]:void 0,overlays:l.length>4?l[4]:void 0}),i.config&&(e.extend(!0,i,i.config),delete i.config),i.drawerOptions=Object.assign({},["useCanvas"].reduce((function(e,t){return e[t]=i[t],delete i[t],e}),{}),i.drawerOptions),e.extend(!0,this,{id:i.id,hash:i.hash||n++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},e.DEFAULT_SETTINGS,i),void 0===this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");void 0!==t[this.hash]&&e.console.warn("Hash "+this.hash+" has already been used."),t[this.hash]={fsBoundsDelta:new e.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=e.now(),e.EventSource.call(this),this.addHandler("open-failed",(function(t){var n=e.getString("Errors.OpenFailed",t.eventSource,t.message);c._showMessage(n)})),e.ControlDock.call(this,i),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=e.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",(s=this.canvas.style).width="100%",s.height="100%",s.overflow="hidden",s.position="absolute",s.top="0px",s.left="0px",e.setElementTouchActionNone(this.canvas),""!==i.tabIndex&&(this.canvas.tabIndex=void 0===i.tabIndex?0:i.tabIndex),this.container.className="openseadragon-container",function(e){e.width="100%",e.height="100%",e.position="relative",e.overflow="hidden",e.left="0px",e.top="0px",e.textAlign="left"}(this.container.style),e.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new e.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:e.delegate(this,p),keyDownHandler:e.delegate(this,h),keyHandler:e.delegate(this,v),clickHandler:e.delegate(this,g),dblClickHandler:e.delegate(this,y),dragHandler:e.delegate(this,b),dragEndHandler:e.delegate(this,w),enterHandler:e.delegate(this,x),leaveHandler:e.delegate(this,S),pressHandler:e.delegate(this,_),releaseHandler:e.delegate(this,T),nonPrimaryPressHandler:e.delegate(this,O),nonPrimaryReleaseHandler:e.delegate(this,A),scrollHandler:e.delegate(this,R),pinchHandler:e.delegate(this,C),focusHandler:e.delegate(this,P),blurHandler:e.delegate(this,k)}),this.outerTracker=new e.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:e.delegate(this,I),leaveHandler:e.delegate(this,M)}),this.toolbar&&(this.toolbar=new e.ControlDock({element:this.toolbar})),this.bindStandardControls(),t[this.hash].prevContainerSize=r(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver((function(){t[c.hash].needsResize=!0})),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new e.World({viewer:this}),this.world.addHandler("add-item",(function(e){c.source=c.world.getItemAt(0).source,t[c.hash].forceRedraw=!0,c._updateRequestId||(c._updateRequestId=a(c,D))})),this.world.addHandler("remove-item",(function(e){c.world.getItemCount()?c.source=c.world.getItemAt(0).source:c.source=null,t[c.hash].forceRedraw=!0})),this.world.addHandler("metrics-change",(function(e){c.viewport&&c.viewport._setContentBounds(c.world.getHomeBounds(),c.world.getContentFactor())})),this.world.addHandler("item-index-change",(function(e){c.source=c.world.getItemAt(0).source})),this.viewport=new e.Viewport({containerSize:t[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,overlayPreserveContentDirection:this.overlayPreserveContentDirection,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new e.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:i.timeout,tileRetryMax:this.tileRetryMax,tileRetryDelay:this.tileRetryDelay}),this.tileCache=new e.TileCache({maxImageCacheCount:this.maxImageCacheCount}),Object.prototype.hasOwnProperty.call(this.drawerOptions,"useCanvas")&&(e.console.error('useCanvas is deprecated, use the "drawer" option to indicate preferred drawer(s)'),this.drawerOptions.useCanvas||(this.drawer=e.HTMLDrawer),delete this.drawerOptions.useCanvas);var f=Array.isArray(this.drawer)?this.drawer:[this.drawer];0===f.length&&(f=[e.DEFAULT_SETTINGS.drawer].flat(),e.console.warn("No valid drawers were selected. Using the default value.")),this.drawer=null;var d,E=m(f);try{for(E.s();!(d=E.n()).done;){var j=d.value;if(this.requestDrawer(j,{mainDrawer:!0,redrawImmediately:!1}))break}}catch(e){E.e(e)}finally{E.f()}if(!this.drawer)throw e.console.error("No drawer could be created!"),"Error with creating the selected drawer(s)";for(this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),this.overlaysContainer=e.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(o=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(o,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(o=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(o,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new e.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime,drawer:this.drawer.getType(),loadTilesWithAjax:this.loadTilesWithAjax,ajaxHeaders:this.ajaxHeaders,ajaxWithCredentials:this.ajaxWithCredentials})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),o=0;o<this.customControls.length;o++)this.addControl(this.customControls[o].id,{anchor:this.customControls[o].anchor});e.requestAnimationFrame((function(){u(c)})),e._viewers.set(this.element,this)},e.extend(e.Viewer.prototype,e.EventSource.prototype,e.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(t){return e.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(t)},openTileSource:function(t){return e.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(t)},get buttons(){return e.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(t,n){var r=this;if(this.close(),!t)return this;if(this.sequenceMode&&e.isArray(t))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),void 0===n||isNaN(n)||(this.initialPage=n),this.tileSources=t,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(e.isArray(t)||(t=[t]),!t.length)return this;this._opening=!0;for(var o,a=t.length,s=0,l=0,u=function(){if(s+l===a)if(s){!r._firstOpen&&r.preserveViewport||(r.viewport.goHome(!0),r.viewport.update()),r._firstOpen=!1;var e=t[0];if(e.tileSource&&(e=e.tileSource),r.overlays&&!r.preserveOverlays)for(var n=0;n<r.overlays.length;n++)r.currentOverlays[n]=i(r,r.overlays[n]);r._drawOverlays(),r._opening=!1,r.raiseEvent("open",{source:e})}else r._opening=!1,r.raiseEvent("open-failed",o)},c=function(t){e.isPlainObject(t)&&t.tileSource||(t={tileSource:t}),void 0!==t.index&&(e.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete t.index),void 0===t.collectionImmediately&&(t.collectionImmediately=!0);var n=t.success;t.success=function(e){if(s++,t.tileSource.overlays)for(var i=0;i<t.tileSource.overlays.length;i++)r.addOverlay(t.tileSource.overlays[i]);n&&n(e),u()};var i=t.error;t.error=function(e){l++,o||(o=e),i&&i(e),u()},r.addTiledImage(t)},f=0;f<t.length;f++)c(t[f]);return this},close:function(){return t[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),t[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(t[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(e.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),t[this.navigator.hash]=null,delete t[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),t[this.hash]=null,delete t[this.hash],this.canvas=null,this.container=null,e._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},requestDrawer:function(t,n){var r=(n=e.extend(!0,{mainDrawer:!0,redrawImmediately:!0,drawerOptions:null},n)).mainDrawer,i=n.redrawImmediately,o=n.drawerOptions,a=this.drawer,s=null;if(t&&t.prototype instanceof e.DrawerBase?(s=t,t="custom"):"string"==typeof t&&(s=e.determineDrawer(t)),s||e.console.warn("Unsupported drawer! Drawer must be an existing string type, or a class that extends OpenSeadragon.DrawerBase."),s&&s.isSupported()){a&&r&&a.destroy();var l=new s({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor,options:o||this.drawerOptions[t]});return r&&(this.drawer=l,i&&this.forceRedraw()),l}return!1},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(e){return this.innerTracker.setTracking(e),this.outerTracker.setTracking(e),this.raiseEvent("mouse-enabled",{enabled:e}),this},areControlsEnabled:function(){var e,t=this.controls.length;for(e=0;e<this.controls.length;e++)t=t&&this.controls[e].isVisible();return t},setControlsEnabled:function(e){return e?c(this):u(this),this.raiseEvent("controls-enabled",{enabled:e}),this},setDebugMode:function(e){for(var t=0;t<this.world.getItemCount();t++)this.world.getItemAt(t).debugMode=e;this.debugMode=e,this.forceRedraw()},setAjaxHeaders:function(t,n){if(null===t&&(t={}),e.isPlainObject(t)){if(void 0===n&&(n=!0),this.ajaxHeaders=t,n){for(var r=0;r<this.world.getItemCount();r++)this.world.getItemAt(r)._updateAjaxHeaders(!0);if(this.navigator&&this.navigator.setAjaxHeaders(this.ajaxHeaders,!0),this.referenceStrip&&this.referenceStrip.miniViewers)for(var i in this.referenceStrip.miniViewers)this.referenceStrip.miniViewers[i].setAjaxHeaders(this.ajaxHeaders,!0)}}else s.error("[Viewer.setAjaxHeaders] Ignoring invalid headers, must be a plain object")},addButton:function(e){this.buttonGroup.addButton(e)},isFullPage:function(){return t[this.hash]&&t[this.hash].fullPage},setFullPage:function(n){var r,i,o=document.body,a=o.style,s=document.documentElement.style,l=this;if(n===this.isFullPage())return this;var u={fullPage:n,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",u),u.preventDefaultAction)return this;if(n&&this.element){for(this.elementSize=e.getElementSize(this.element),this.pageScroll=e.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=a.margin,this.docMargin=s.margin,a.margin="0",s.margin="0",this.bodyPadding=a.padding,this.docPadding=s.padding,a.padding="0",s.padding="0",this.bodyWidth=a.width,this.docWidth=s.width,a.width="100%",s.width="100%",this.bodyHeight=a.height,this.docHeight=s.height,a.height="100%",s.height="100%",this.bodyDisplay=a.display,a.display="block",this.previousBody=[],t[this.hash].prevElementParent=this.element.parentNode,t[this.hash].prevNextSibling=this.element.nextSibling,t[this.hash].prevElementWidth=this.element.style.width,t[this.hash].prevElementHeight=this.element.style.height,r=o.childNodes.length,i=0;i<r;i++)this.previousBody.push(o.childNodes[0]),o.removeChild(o.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,o.appendChild(this.toolbar.element),e.addClass(this.toolbar.element,"fullpage")),e.addClass(this.element,"fullpage"),o.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=e.getElementSize(this.element).y-e.getElementSize(this.toolbar.element).y+"px"),t[this.hash].fullPage=!0,e.delegate(this,I)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,a.margin=this.bodyMargin,s.margin=this.docMargin,a.padding=this.bodyPadding,s.padding=this.docPadding,a.width=this.bodyWidth,s.width=this.docWidth,a.height=this.bodyHeight,s.height=this.docHeight,a.display=this.bodyDisplay,o.removeChild(this.element),r=this.previousBody.length,i=0;i<r;i++)o.appendChild(this.previousBody.shift());e.removeClass(this.element,"fullpage"),t[this.hash].prevElementParent.insertBefore(this.element,t[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(o.removeChild(this.toolbar.element),e.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=t[this.hash].prevElementWidth,this.element.style.height=t[this.hash].prevElementHeight;var c=0;e.requestAnimationFrame((function t(){e.setPageScroll(l.pageScroll);var n=e.getPageScroll();++c<10&&(n.x!==l.pageScroll.x||n.y!==l.pageScroll.y)&&e.requestAnimationFrame(t)})),t[this.hash].fullPage=!1,e.delegate(this,M)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:n}),this},setFullScreen:function(t){var n=this;if(!e.supportsFullScreen)return this.setFullPage(t);if(e.isFullScreen()===t)return this;var r={fullScreen:t,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",r),r.preventDefaultAction)return this;if(t){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var i=function t(){var r=e.isFullScreen();r||(e.removeEvent(document,e.fullScreenEventName,t),e.removeEvent(document,e.fullScreenErrorEventName,t),n.setFullPage(!1),n.isFullPage()&&(n.element.style.width=n.fullPageStyleWidth,n.element.style.height=n.fullPageStyleHeight)),n.navigator&&n.viewport&&setTimeout((function(){n.navigator.update(n.viewport)})),n.raiseEvent("full-screen",{fullScreen:r})};e.addEvent(document,e.fullScreenEventName,i),e.addEvent(document,e.fullScreenErrorEventName,i),e.requestFullScreen(document.body)}else e.exitFullScreen();return this},isVisible:function(){return"hidden"!==this.container.style.visibility},isFullScreen:function(){return e.isFullScreen()&&this.isFullPage()},setVisible:function(e){return this.container.style.visibility=e?"":"hidden",this.raiseEvent("visible",{visible:e}),this},addTiledImage:function(t){e.console.assert(t,"[Viewer.addTiledImage] options is required"),e.console.assert(t.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),e.console.assert(!t.replace||t.index>-1&&t.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var n=this;t.replace&&(t.replaceItem=n.world.getItemAt(t.index)),this._hideMessage(),void 0===t.placeholderFillStyle&&(t.placeholderFillStyle=this.placeholderFillStyle),void 0===t.opacity&&(t.opacity=this.opacity),void 0===t.preload&&(t.preload=this.preload),void 0===t.compositeOperation&&(t.compositeOperation=this.compositeOperation),void 0===t.crossOriginPolicy&&(t.crossOriginPolicy=void 0!==t.tileSource.crossOriginPolicy?t.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===t.ajaxWithCredentials&&(t.ajaxWithCredentials=this.ajaxWithCredentials),void 0===t.loadTilesWithAjax&&(t.loadTilesWithAjax=this.loadTilesWithAjax),e.isPlainObject(t.ajaxHeaders)||(t.ajaxHeaders={});var r={options:t};function i(e){for(var i=0;i<n._loadQueue.length;i++)if(n._loadQueue[i]===r){n._loadQueue.splice(i,1);break}0===n._loadQueue.length&&o(r),n.raiseEvent("add-item-failed",e),t.error&&t.error(e)}function o(e){n.collectionMode&&(n.world.arrange({immediately:e.options.collectionImmediately,rows:n.collectionRows,columns:n.collectionColumns,layout:n.collectionLayout,tileSize:n.collectionTileSize,tileMargin:n.collectionTileMargin}),n.world.setAutoRefigureSizes(!0))}function a(){for(var t,r,i;n._loadQueue.length&&(t=n._loadQueue[0]).tileSource;){if(n._loadQueue.splice(0,1),t.options.replace){var a=n.world.getIndexOfItem(t.options.replaceItem);-1!==a&&(t.options.index=a),n.world.removeItem(t.options.replaceItem)}r=new e.TiledImage({viewer:n,source:t.tileSource,viewport:n.viewport,drawer:n.drawer,tileCache:n.tileCache,imageLoader:n.imageLoader,x:t.options.x,y:t.options.y,width:t.options.width,height:t.options.height,fitBounds:t.options.fitBounds,fitBoundsPlacement:t.options.fitBoundsPlacement,clip:t.options.clip,placeholderFillStyle:t.options.placeholderFillStyle,opacity:t.options.opacity,preload:t.options.preload,degrees:t.options.degrees,flipped:t.options.flipped,compositeOperation:t.options.compositeOperation,springStiffness:n.springStiffness,animationTime:n.animationTime,minZoomImageRatio:n.minZoomImageRatio,wrapHorizontal:n.wrapHorizontal,wrapVertical:n.wrapVertical,maxTilesPerFrame:n.maxTilesPerFrame,immediateRender:n.immediateRender,blendTime:n.blendTime,alwaysBlend:n.alwaysBlend,minPixelRatio:n.minPixelRatio,smoothTileEdgesMinZoom:n.smoothTileEdgesMinZoom,iOSDevice:n.iOSDevice,crossOriginPolicy:t.options.crossOriginPolicy,ajaxWithCredentials:t.options.ajaxWithCredentials,loadTilesWithAjax:t.options.loadTilesWithAjax,ajaxHeaders:t.options.ajaxHeaders,debugMode:n.debugMode,subPixelRoundingForTransparency:n.subPixelRoundingForTransparency}),n.collectionMode&&n.world.setAutoRefigureSizes(!1),n.navigator&&(i=e.extend({},t.options,{replace:!1,originalTiledImage:r,tileSource:t.tileSource}),n.navigator.addTiledImage(i)),n.world.addItem(r,{index:t.options.index}),0===n._loadQueue.length&&o(t),1!==n.world.getItemCount()||n.preserveViewport||n.viewport.goHome(!0),t.options.success&&t.options.success({item:r})}}e.isArray(t.tileSource)?setTimeout((function(){i({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:t.tileSource,options:t})})):(this._loadQueue.push(r),function(t,n,r,i,o){var a=t;if("string"===e.type(n))if(n.match(/^\s*<.*>\s*$/))n=e.parseXml(n);else if(n.match(/^\s*[{[].*[}\]]\s*$/))try{var s=e.parseJSON(n);n=s}catch(e){}function l(e,t){e.ready?i(e):(e.addHandler("ready",(function(){i(e)})),e.addHandler("open-failed",(function(e){o({message:e.message,source:t})})))}setTimeout((function(){if("string"===e.type(n))(n=new e.TileSource({url:n,crossOriginPolicy:void 0!==r.crossOriginPolicy?r.crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,ajaxHeaders:r.ajaxHeaders?r.ajaxHeaders:t.ajaxHeaders,splitHashDataForPost:t.splitHashDataForPost,success:function(e){i(e.tileSource)}})).addHandler("open-failed",(function(e){o(e)}));else if(e.isPlainObject(n)||n.nodeType)if(void 0!==n.crossOriginPolicy||void 0===r.crossOriginPolicy&&void 0===t.crossOriginPolicy||(n.crossOriginPolicy=void 0!==r.crossOriginPolicy?r.crossOriginPolicy:t.crossOriginPolicy),void 0===n.ajaxWithCredentials&&(n.ajaxWithCredentials=t.ajaxWithCredentials),e.isFunction(n.getTileUrl)){var s=new e.TileSource(n);s.getTileUrl=n.getTileUrl,i(s)}else{var u=e.TileSource.determineType(a,n);if(!u)return void o({message:"Unable to load TileSource",source:n});var c=u.prototype.configure.apply(a,[n]);l(new u(c),n)}else l(n,n)}))}(this,t.tileSource,t,(function(e){r.tileSource=e,a()}),(function(e){e.options=t,i(e),a()})))},addSimpleImage:function(t){e.console.assert(t,"[Viewer.addSimpleImage] options is required"),e.console.assert(t.url,"[Viewer.addSimpleImage] options.url is required");var n=e.extend({},t,{tileSource:{type:"image",url:t.url}});delete n.url,this.addTiledImage(n)},addLayer:function(t){var n=this;e.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var r=e.extend({},t,{success:function(e){n.raiseEvent("add-layer",{options:t,drawer:e.item})},error:function(e){n.raiseEvent("add-layer-failed",e)}});return this.addTiledImage(r),this},getLayerAtLevel:function(t){return e.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(t)},getLevelOfLayer:function(t){return e.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(t)},getLayersCount:function(){return e.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(t,n){return e.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(t,n)},removeLayer:function(t){return e.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(t)},forceRedraw:function(){return t[this.hash].forceRedraw=!0,this},forceResize:function(){t[this.hash].needsResize=!0,t[this.hash].forceResize=!0},bindSequenceControls:function(){var t=e.delegate(this,f),n=e.delegate(this,d),r=e.delegate(this,this.goToNextPage),i=e.delegate(this,this.goToPreviousPage),o=this.navImages,a=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(a=!1),this.previousButton=new e.Button({element:this.previousButton?e.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.PreviousPage"),srcRest:j(this.prefixUrl,o.previous.REST),srcGroup:j(this.prefixUrl,o.previous.GROUP),srcHover:j(this.prefixUrl,o.previous.HOVER),srcDown:j(this.prefixUrl,o.previous.DOWN),onRelease:i,onFocus:t,onBlur:n}),this.nextButton=new e.Button({element:this.nextButton?e.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.NextPage"),srcRest:j(this.prefixUrl,o.next.REST),srcGroup:j(this.prefixUrl,o.next.GROUP),srcHover:j(this.prefixUrl,o.next.HOVER),srcDown:j(this.prefixUrl,o.next.DOWN),onRelease:r,onFocus:t,onBlur:n}),this.navPrevNextWrap||this.previousButton.disable(),this.tileSources&&this.tileSources.length||this.nextButton.disable(),a&&(this.paging=new e.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:e.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var t=e.delegate(this,L),n=e.delegate(this,z),r=e.delegate(this,W),i=e.delegate(this,N),o=e.delegate(this,H),a=e.delegate(this,V),s=e.delegate(this,G),l=e.delegate(this,q),u=e.delegate(this,X),c=e.delegate(this,Z),p=e.delegate(this,f),h=e.delegate(this,d),m=this.navImages,v=[],g=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(g=!1),this.showZoomControl&&(v.push(this.zoomInButton=new e.Button({element:this.zoomInButton?e.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomIn"),srcRest:j(this.prefixUrl,m.zoomIn.REST),srcGroup:j(this.prefixUrl,m.zoomIn.GROUP),srcHover:j(this.prefixUrl,m.zoomIn.HOVER),srcDown:j(this.prefixUrl,m.zoomIn.DOWN),onPress:t,onRelease:n,onClick:r,onEnter:t,onExit:n,onFocus:p,onBlur:h})),v.push(this.zoomOutButton=new e.Button({element:this.zoomOutButton?e.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomOut"),srcRest:j(this.prefixUrl,m.zoomOut.REST),srcGroup:j(this.prefixUrl,m.zoomOut.GROUP),srcHover:j(this.prefixUrl,m.zoomOut.HOVER),srcDown:j(this.prefixUrl,m.zoomOut.DOWN),onPress:i,onRelease:n,onClick:o,onEnter:i,onExit:n,onFocus:p,onBlur:h}))),this.showHomeControl&&v.push(this.homeButton=new e.Button({element:this.homeButton?e.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Home"),srcRest:j(this.prefixUrl,m.home.REST),srcGroup:j(this.prefixUrl,m.home.GROUP),srcHover:j(this.prefixUrl,m.home.HOVER),srcDown:j(this.prefixUrl,m.home.DOWN),onRelease:a,onFocus:p,onBlur:h})),this.showFullPageControl&&v.push(this.fullPageButton=new e.Button({element:this.fullPageButton?e.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.FullPage"),srcRest:j(this.prefixUrl,m.fullpage.REST),srcGroup:j(this.prefixUrl,m.fullpage.GROUP),srcHover:j(this.prefixUrl,m.fullpage.HOVER),srcDown:j(this.prefixUrl,m.fullpage.DOWN),onRelease:s,onFocus:p,onBlur:h})),this.showRotationControl&&(v.push(this.rotateLeftButton=new e.Button({element:this.rotateLeftButton?e.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateLeft"),srcRest:j(this.prefixUrl,m.rotateleft.REST),srcGroup:j(this.prefixUrl,m.rotateleft.GROUP),srcHover:j(this.prefixUrl,m.rotateleft.HOVER),srcDown:j(this.prefixUrl,m.rotateleft.DOWN),onRelease:l,onFocus:p,onBlur:h})),v.push(this.rotateRightButton=new e.Button({element:this.rotateRightButton?e.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateRight"),srcRest:j(this.prefixUrl,m.rotateright.REST),srcGroup:j(this.prefixUrl,m.rotateright.GROUP),srcHover:j(this.prefixUrl,m.rotateright.HOVER),srcDown:j(this.prefixUrl,m.rotateright.DOWN),onRelease:u,onFocus:p,onBlur:h}))),this.showFlipControl&&v.push(this.flipButton=new e.Button({element:this.flipButton?e.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Flip"),srcRest:j(this.prefixUrl,m.flip.REST),srcGroup:j(this.prefixUrl,m.flip.GROUP),srcHover:j(this.prefixUrl,m.flip.HOVER),srcDown:j(this.prefixUrl,m.flip.DOWN),onRelease:c,onFocus:p,onBlur:h})),g?(this.buttonGroup=new e.ButtonGroup({buttons:v,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",e.delegate(this,U)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT})):this.customButtons=v),this},currentPage:function(){return this._sequenceIndex},goToPage:function(e){return this.tileSources&&e>=0&&e<this.tileSources.length&&(this._sequenceIndex=e,this._updateSequenceButtons(e),this.open(this.tileSources[e]),this.referenceStrip&&this.referenceStrip.setFocus(e),this.raiseEvent("page",{page:e})),this},addOverlay:function(t,n,r,a){var s;if(s=e.isPlainObject(t)?t:{element:t,location:n,placement:r,onDraw:a},t=e.getElement(s.element),o(this.currentOverlays,t)>=0)return this;var l=i(this,s);return this.currentOverlays.push(l),l.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:t,location:s.location,placement:s.placement}),this},updateOverlay:function(n,r,i){var a;return n=e.getElement(n),(a=o(this.currentOverlays,n))>=0&&(this.currentOverlays[a].update(r,i),t[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:n,location:r,placement:i})),this},removeOverlay:function(n){var r;return n=e.getElement(n),(r=o(this.currentOverlays,n))>=0&&(this.currentOverlays[r].destroy(),this.currentOverlays.splice(r,1),t[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:n})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return t[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(t){var n;return t=e.getElement(t),(n=o(this.currentOverlays,t))>=0?this.currentOverlays[n]:null},_updateSequenceButtons:function(e){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==e?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(e>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(t){this._hideMessage();var n=e.makeNeutralElement("div");n.appendChild(document.createTextNode(t)),this.messageDiv=e.makeCenteredNode(n),e.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var e=this.messageDiv;e&&(e.parentNode.removeChild(e),delete this.messageDiv)},gestureSettingsByDeviceType:function(e){switch(e){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var e,t=this.currentOverlays.length;for(e=0;e<t;e++)this.currentOverlays[e].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new e.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else e.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),e.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){e.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var t=e.pixelDensityRatio,n=e.getCurrentPixelDensityRatio();t!==n&&(e.pixelDensityRatio=n,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var e=this._sequenceIndex-1;this.navPrevNextWrap&&e<0&&(e+=this.tileSources.length),this.goToPage(e)},goToNextPage:function(){var e=this._sequenceIndex+1;this.navPrevNextWrap&&e>=this.tileSources.length&&(e=0),this.goToPage(e)},isAnimating:function(){return t[this.hash].animating}}),e.determineDrawer=function(t){for(var n in E){var r=E[n],i=r.prototype;if(i&&i instanceof E.DrawerBase&&e.isFunction(i.getType)&&i.getType.call(r)===t)return r}return null}}(E),function(e){function t(e){var t={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",t),!t.preventDefaultAction&&e.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(e.position.x=this.viewport.getContainerSize().x-e.position.x);var n=this.viewport.pointFromPixel(e.position);this.panVertical?this.panHorizontal||(n.x=this.viewer.viewport.getCenter(!0).x):n.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(n),this.viewer.viewport.applyConstraints()}}function n(e){var t={tracker:e.eventSource,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",t),!t.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewer.viewport.flipped&&(e.delta.x=-e.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function r(e){e.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function i(e){var t={tracker:e.eventSource,position:e.position,scroll:e.scroll,shift:e.shift,originalEvent:e.originalEvent,preventDefault:e.preventDefault};this.viewer.raiseEvent("navigator-scroll",t),e.preventDefault=t.preventDefault}function o(e,t){a(e,"rotate("+t+"deg)")}function a(e,t){e.style.webkitTransform=t,e.style.mozTransform=t,e.style.msTransform=t,e.style.oTransform=t,e.style.transform=t}e.Navigator=function(a){var s,l,u,c,f=a.viewer,d=this;function p(e,t){o(d.displayRegionContainer,e),o(d.displayRegion,-e),d.viewport.setRotation(e,t)}a.element||a.id?(a.element?(a.id&&e.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),a.element.id?a.id=a.element.id:a.id="navigator-"+e.now(),this.element=a.element):this.element=document.getElementById(a.id),a.controlOptions={anchor:e.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(a.id="navigator-"+e.now(),this.element=e.makeNeutralElement("div"),a.controlOptions={anchor:e.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:a.autoFade},a.position&&("BOTTOM_RIGHT"===a.position?a.controlOptions.anchor=e.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"===a.position?a.controlOptions.anchor=e.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"===a.position?a.controlOptions.anchor=e.ControlAnchor.TOP_RIGHT:"TOP_LEFT"===a.position?a.controlOptions.anchor=e.ControlAnchor.TOP_LEFT:"ABSOLUTE"===a.position&&(a.controlOptions.anchor=e.ControlAnchor.ABSOLUTE,a.controlOptions.top=a.top,a.controlOptions.left=a.left,a.controlOptions.height=a.height,a.controlOptions.width=a.width))),this.element.id=a.id,this.element.className+=" navigator",(a=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.navigatorSizeRatio},a,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:a.animationTime,autoResize:!1,minZoomImageRatio:1,background:a.background,opacity:a.opacity,borderColor:a.borderColor,displayRegionColor:a.displayRegionColor})).minPixelRatio=this.minPixelRatio=f.minPixelRatio,e.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new e.Point(1,1),this.totalBorderWidths=new e.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),a.controlOptions.anchor!==e.ControlAnchor.NONE&&(u=this.element.style,c=this.borderWidth,u.margin="0px",u.border=c+"px solid "+a.borderColor,u.padding="0px",u.background=a.background,u.opacity=a.opacity,u.overflow="hidden"),this.displayRegion=e.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(e,t){e.position="relative",e.top="0px",e.left="0px",e.fontSize="0px",e.overflow="hidden",e.border=t+"px solid "+a.displayRegionColor,e.margin="0px",e.padding="0px",e.background="transparent",e.float="left",e.cssFloat="left",e.zIndex=999999999,e.cursor="default",e.boxSizing="content-box"}(this.displayRegion.style,this.borderWidth),e.setElementPointerEventsNone(this.displayRegion),e.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=e.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",e.setElementPointerEventsNone(this.displayRegionContainer),e.setElementTouchActionNone(this.displayRegionContainer),f.addControl(this.element,a.controlOptions),this._resizeWithViewer=a.controlOptions.anchor!==e.ControlAnchor.ABSOLUTE&&a.controlOptions.anchor!==e.ControlAnchor.NONE,a.width&&a.height?(this.setWidth(a.width),this.setHeight(a.height)):this._resizeWithViewer&&(s=e.getElementSize(f.element),this.element.style.height=Math.round(s.y*a.sizeRatio)+"px",this.element.style.width=Math.round(s.x*a.sizeRatio)+"px",this.oldViewerSize=s,l=e.getElementSize(this.element),this.elementArea=l.x*l.y),this.oldContainerSize=new e.Point(0,0),e.Viewer.apply(this,[a]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),a.navigatorRotate&&(p(a.viewer.viewport?a.viewer.viewport.getRotation():a.viewer.degrees||0,!0),a.viewer.addHandler("rotate",(function(e){p(e.degrees,e.immediately)}))),this.innerTracker.destroy(),this.innerTracker=new e.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:e.delegate(this,n),clickHandler:e.delegate(this,t),releaseHandler:e.delegate(this,r),scrollHandler:e.delegate(this,i),preProcessEventHandler:function(e){"wheel"===e.eventType&&(e.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",e.setElementPointerEventsNone(this.canvas),e.setElementPointerEventsNone(this.container),this.addHandler("reset-size",(function(){d.viewport&&d.viewport.goHome(!0)})),f.world.addHandler("item-index-change",(function(e){window.setTimeout((function(){var t=d.world.getItemAt(e.previousIndex);d.world.setItemIndex(t,e.newIndex)}),1)})),f.world.addHandler("remove-item",(function(e){var t=e.item,n=d._getMatchingItem(t);n&&d.world.removeItem(n)})),this.update(f.viewport)},e.extend(e.Navigator.prototype,e.EventSource.prototype,e.Viewer.prototype,{updateSize:function(){if(this.viewport){var t=new e.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);t.equals(this.oldContainerSize)||(this.viewport.resize(t,!0),this.viewport.goHome(!0),this.oldContainerSize=t,this.world.update(),this.world.draw(),this.update(this.viewer.viewport))}},setWidth:function(e){this.width=e,this.element.style.width="number"==typeof e?e+"px":e,this._resizeWithViewer=!1,this.updateSize()},setHeight:function(e){this.height=e,this.element.style.height="number"==typeof e?e+"px":e,this._resizeWithViewer=!1,this.updateSize()},setFlip:function(e){return this.viewport.setFlip(e),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(e){a(this.displayRegion,e),a(this.canvas,e),a(this.element,e)},update:function(t){var n,r,i,a,s,l;if(t||(t=this.viewer.viewport),n=e.getElementSize(this.viewer.element),this._resizeWithViewer&&n.x&&n.y&&!n.equals(this.oldViewerSize)&&(this.oldViewerSize=n,this.maintainSizeRatio||!this.elementArea?(r=n.x*this.sizeRatio,i=n.y*this.sizeRatio):(r=Math.sqrt(this.elementArea*(n.x/n.y)),i=this.elementArea/r),this.element.style.width=Math.round(r)+"px",this.element.style.height=Math.round(i)+"px",this.elementArea||(this.elementArea=r*i),this.updateSize()),t&&this.viewport){if(a=t.getBoundsNoRotate(!0),s=this.viewport.pixelFromPointNoRotate(a.getTopLeft(),!1),l=this.viewport.pixelFromPointNoRotate(a.getBottomRight(),!1).minus(this.totalBorderWidths),!this.navigatorRotate){var u=t.getRotation(!0);o(this.displayRegion,-u)}var c=this.displayRegion.style;c.display=this.world.getItemCount()?"block":"none",c.top=s.y.toFixed(2)+"px",c.left=s.x.toFixed(2)+"px";var f=l.x-s.x,d=l.y-s.y;c.width=Math.round(Math.max(f,0))+"px",c.height=Math.round(Math.max(d,0))+"px"}},addTiledImage:function(t){var n=this,r=t.originalTiledImage;delete t.original;var i=e.extend({},t,{success:function(e){var t=e.item;function i(){n._matchBounds(t,r)}t._originalForNavigator=r,n._matchBounds(t,r,!0),n._matchOpacity(t,r),n._matchCompositeOperation(t,r),r.addHandler("bounds-change",i),r.addHandler("clip-change",i),r.addHandler("opacity-change",(function(){n._matchOpacity(t,r)})),r.addHandler("composite-operation-change",(function(){n._matchCompositeOperation(t,r)}))}});return e.Viewer.prototype.addTiledImage.apply(this,[i])},destroy:function(){return e.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(e){for(var t,n=this.world.getItemCount(),r=0;r<n;r++)if((t=this.world.getItemAt(r))._originalForNavigator===e)return t;return null},_matchBounds:function(e,t,n){var r=t.getBoundsNoRotate();e.setPosition(r.getTopLeft(),n),e.setWidth(r.width,n),e.setRotation(t.getRotation(),n),e.setClip(t.getClip()),e.setFlip(t.getFlip())},_matchOpacity:function(e,t){e.setOpacity(t.opacity)},_matchCompositeOperation:function(e,t){e.setCompositeOperation(t.compositeOperation)}})}(E),function(e){var t={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};e.extend(e,{getString:function(n){var r,i=n.split("."),o=null,a=arguments,s=t;for(r=0;r<i.length-1;r++)s=s[i[r]]||{};return"string"!=typeof(o=s[i[r]])&&(e.console.error("Untranslated source string:",n),o=""),o.replace(/\{\d+\}/g,(function(e){var t=parseInt(e.match(/\d+/),10)+1;return t<a.length?a[t]:""}))},setString:function(e,n){var r,i=e.split("."),o=t;for(r=0;r<i.length-1;r++)o[i[r]]||(o[i[r]]={}),o=o[i[r]];o[i[r]]=n}})}(E),function(e){e.Point=function(e,t){this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0},e.Point.prototype={clone:function(){return new e.Point(this.x,this.y)},plus:function(t){return new e.Point(this.x+t.x,this.y+t.y)},minus:function(t){return new e.Point(this.x-t.x,this.y-t.y)},times:function(t){return new e.Point(this.x*t,this.y*t)},divide:function(t){return new e.Point(this.x/t,this.y/t)},negate:function(){return new e.Point(-this.x,-this.y)},distanceTo:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},squaredDistanceTo:function(e){return Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2)},apply:function(t){return new e.Point(t(this.x),t(this.y))},equals:function(t){return t instanceof e.Point&&this.x===t.x&&this.y===t.y},rotate:function(t,n){var r,i;if(n=n||new e.Point(0,0),t%90==0)switch(e.positiveModulo(t,360)){case 0:r=1,i=0;break;case 90:r=0,i=1;break;case 180:r=-1,i=0;break;case 270:r=0,i=-1}else{var o=t*Math.PI/180;r=Math.cos(o),i=Math.sin(o)}var a=r*(this.x-n.x)-i*(this.y-n.y)+n.x,s=i*(this.x-n.x)+r*(this.y-n.y)+n.y;return new e.Point(a,s)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(E),function(e){e.TileSource=function(t,n,r,i,o,a){var s,l,u=this,c=arguments;if(s=e.isPlainObject(t)?t:{width:c[0],height:c[1],tileSize:c[2],tileOverlap:c[3],minLevel:c[4],maxLevel:c[5]},e.EventSource.call(this),e.extend(!0,this,s),!this.success)for(l=0;l<arguments.length;l++)if(e.isFunction(arguments[l])){this.success=arguments[l];break}this.success&&this.addHandler("ready",(function(e){u.success(e)})),"string"===e.type(arguments[0])&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new e.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=s.width&&s.height?s.width/s.height:1,this.dimensions=new e.Point(s.width,s.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=s.tileOverlap?s.tileOverlap:0,this.minLevel=s.minLevel?s.minLevel:0,this.maxLevel=void 0!==s.maxLevel&&null!==s.maxLevel?s.maxLevel:s.width&&s.height?Math.ceil(Math.log(Math.max(s.width,s.height))/Math.log(2)):0,this.success&&e.isFunction(this.success)&&this.success(this))},e.TileSource.prototype={getTileSize:function(t){return e.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(e){return this._tileWidth?this._tileWidth:this.getTileSize(e)},getTileHeight:function(e){return this._tileHeight?this._tileHeight:this.getTileSize(e)},setMaxLevel:function(e){this.maxLevel=e,this._memoizeLevelScale()},getLevelScale:function(e){return this._memoizeLevelScale(),this.getLevelScale(e)},_memoizeLevelScale:function(){var e,t={};for(e=0;e<=this.maxLevel;e++)t[e]=1/Math.pow(2,this.maxLevel-e);this.getLevelScale=function(e){return t[e]}},getNumTiles:function(t){var n=this.getLevelScale(t),r=Math.ceil(n*this.dimensions.x/this.getTileWidth(t)),i=Math.ceil(n*this.dimensions.y/this.getTileHeight(t));return new e.Point(r,i)},getPixelRatio:function(t){var n=this.dimensions.times(this.getLevelScale(t)),r=1/n.x*e.pixelDensityRatio,i=1/n.y*e.pixelDensityRatio;return new e.Point(r,i)},getClosestLevel:function(){var e,t;for(e=this.minLevel+1;e<=this.maxLevel&&!((t=this.getNumTiles(e)).x>1||t.y>1);e++);return e-1},getTileAtPoint:function(t,n){var r=n.x>=0&&n.x<=1&&n.y>=0&&n.y<=1/this.aspectRatio;e.console.assert(r,"[TileSource.getTileAtPoint] must be called with a valid point.");var i=this.dimensions.x*this.getLevelScale(t),o=n.x*i,a=n.y*i,s=Math.floor(o/this.getTileWidth(t)),l=Math.floor(a/this.getTileHeight(t));return n.x>=1&&(s=this.getNumTiles(t).x-1),n.y>=1/this.aspectRatio-1e-15&&(l=this.getNumTiles(t).y-1),new e.Point(s,l)},getTileBounds:function(t,n,r,i){var o=this.dimensions.times(this.getLevelScale(t)),a=this.getTileWidth(t),s=this.getTileHeight(t),l=0===n?0:a*n-this.tileOverlap,u=0===r?0:s*r-this.tileOverlap,c=a+(0===n?1:2)*this.tileOverlap,f=s+(0===r?1:2)*this.tileOverlap,d=1/o.x;return c=Math.min(c,o.x-l),f=Math.min(f,o.y-u),i?new e.Rect(0,0,c,f):new e.Rect(l*d,u*d,c*d,f*d)},getImageInfo:function(t){var n,r,i,o,a,s,l,u=this;t&&(l=(s=(a=t.split("/"))[a.length-1]).lastIndexOf("."))>-1&&(a[a.length-1]=s.slice(0,l));var c=null;if(this.splitHashDataForPost){var f=t.indexOf("#");-1!==f&&(c=t.substring(f+1),t=t.substr(0,f))}r=function(n){"string"==typeof n&&(n=e.parseXml(n));var r=e.TileSource.determineType(u,n,t);r?(void 0===(o=r.prototype.configure.apply(u,[n,t,c])).ajaxWithCredentials&&(o.ajaxWithCredentials=u.ajaxWithCredentials),i=new r(o),u.ready=!0,u.raiseEvent("ready",{tileSource:i})):u.raiseEvent("open-failed",{message:"Unable to load TileSource",source:t})},t.match(/\.js$/)?(n=t.split("/").pop().replace(".js",""),e.jsonp({url:t,async:!1,callbackName:n,callback:r})):e.makeAjaxRequest({url:t,postData:c,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(t){var n=function(t){var n,r,i=t.responseText,o=t.status;if(!t)throw new Error(e.getString("Errors.Security"));if(200!==t.status&&0!==t.status)throw n=404===(o=t.status)?"Not Found":t.statusText,new Error(e.getString("Errors.Status",o,n));if(i.match(/^\s*<.*/))try{r=t.responseXML&&t.responseXML.documentElement?t.responseXML:e.parseXml(i)}catch(e){r=t.responseText}else if(i.match(/\s*[{[].*/))try{r=e.parseJSON(i)}catch(e){r=i}else r=i;return r}(t);r(n)},error:function(n,r){var i;try{i="HTTP "+n.status+" attempting to load TileSource: "+t}catch(e){i=(void 0!==r&&r.toString?r.toString():"Unknown error")+" attempting to load TileSource: "+t}e.console.error(i),u.raiseEvent("open-failed",{message:i,source:t,postData:c})}})},supports:function(e,t){return!1},configure:function(e,t,n){throw new Error("Method not implemented.")},getTileUrl:function(e,t,n){throw new Error("Method not implemented.")},getTilePostData:function(e,t,n){return null},getTileAjaxHeaders:function(e,t,n){return{}},getTileHashKey:function(e,t,n,r,i,o){return a="string"!=typeof r?e+"/"+t+"_"+n:r,i?a+"+"+JSON.stringify(i):a;var a},tileExists:function(e,t,n){var r=this.getNumTiles(e);return e>=this.minLevel&&e<=this.maxLevel&&t>=0&&n>=0&&t<r.x&&n<r.y},hasTransparency:function(e,t,n,r){return!!e||t.match(".png")},downloadTileStart:function(t){var n=t.userData,r=new Image;n.image=r,n.request=null;var i=function(e){r?(r.onload=r.onerror=r.onabort=null,t.finish(e?null:r,n.request,e)):t.finish(null,n.request,"Image load failed: undefined Image instance.")};r.onload=function(){i()},r.onabort=r.onerror=function(){i("Image load aborted.")},t.loadWithAjax?n.request=e.makeAjaxRequest({url:t.src,withCredentials:t.ajaxWithCredentials,headers:t.ajaxHeaders,responseType:"arraybuffer",postData:t.postData,success:function(e){var t;try{t=new window.Blob([e.response])}catch(r){var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===r.name&&n){var o=new n;o.append(e.response),t=o.getBlob()}}0===t.size?i("Empty image response."):r.src=(window.URL||window.webkitURL).createObjectURL(t)},error:function(e){i("Image load aborted - XHR error")}}):(!1!==t.crossOriginPolicy&&(r.crossOrigin=t.crossOriginPolicy),r.src=t.src)},downloadTileAbort:function(e){e.userData.request&&e.userData.request.abort();var t=e.userData.image;e.userData.image&&(t.onload=t.onerror=t.onabort=null)},createTileCache:function(e,t,n){e._data=t},destroyTileCache:function(e){e._data=null,e._renderedContext=null},getTileCacheData:function(e){return e._data},getTileCacheDataAsImage:function(e){return e._data},getTileCacheDataAsContext2D:function(e){if(!e._renderedContext){var t=document.createElement("canvas");t.width=e._data.width,t.height=e._data.height,e._renderedContext=t.getContext("2d"),e._renderedContext.drawImage(e._data,0,0),e._data=null}return e._renderedContext}},e.extend(!0,e.TileSource.prototype,e.EventSource.prototype),e.TileSource.determineType=function(t,n,r){var i;for(i in E)if(i.match(/.+TileSource$/)&&e.isFunction(E[i])&&e.isFunction(E[i].prototype.supports)&&E[i].prototype.supports.call(t,n,r))return E[i];return e.console.error("No TileSource was able to open %s %s",r,n),null}}(E),function(e){function t(t,n){var r,i,o=n.Image,a=o.Url,s=o.Format,l=o.Size,u=o.DisplayRect||[],c=parseInt(l.Width,10),f=parseInt(l.Height,10),d=parseInt(o.TileSize,10),p=parseInt(o.Overlap,10),h=[];for(i=0;i<u.length;i++)r=u[i].Rect,h.push(new e.DisplayRect(parseInt(r.X,10),parseInt(r.Y,10),parseInt(r.Width,10),parseInt(r.Height,10),parseInt(r.MinLevel,10),parseInt(r.MaxLevel,10)));return e.extend(!0,{width:c,height:f,tileSize:d,tileOverlap:p,minLevel:null,maxLevel:null,tilesUrl:a,fileFormat:s,displayRects:h},n)}e.DziTileSource=function(t,n,r,i,o,a,s,l,u){var c,f,d,p;if(p=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=p.tilesUrl,this.fileFormat=p.fileFormat,this.displayRects=p.displayRects,this.displayRects)for(c=this.displayRects.length-1;c>=0;c--)for(d=(f=this.displayRects[c]).minLevel;d<=f.maxLevel;d++)this._levelRects[d]||(this._levelRects[d]=[]),this._levelRects[d].push(f);e.TileSource.apply(this,[p])},e.extend(e.DziTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){var n;return e.Image?n=e.Image.xmlns:e.documentElement&&("Image"!==e.documentElement.localName&&"Image"!==e.documentElement.tagName||(n=e.documentElement.namespaceURI)),-1!==(n=(n||"").toLowerCase()).indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==n.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(n,r,i){var o;return o=e.isPlainObject(n)?t(0,n):function(n,r){if(!r||!r.documentElement)throw new Error(e.getString("Errors.Xml"));var i,o,a,s,l,u=r.documentElement,c=u.localName||u.tagName,f=r.documentElement.namespaceURI,d=null,p=[];if("Image"===c)try{if(void 0===(s=u.getElementsByTagName("Size")[0])&&(s=u.getElementsByTagNameNS(f,"Size")[0]),d={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:u.getAttribute("Url"),Format:u.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(u.getAttribute("Overlap"),10),TileSize:parseInt(u.getAttribute("TileSize"),10),Size:{Height:parseInt(s.getAttribute("Height"),10),Width:parseInt(s.getAttribute("Width"),10)}}},!e.imageFormatSupported(d.Image.Format))throw new Error(e.getString("Errors.ImageFormat",d.Image.Format.toUpperCase()));for(void 0===(i=u.getElementsByTagName("DisplayRect"))&&(i=u.getElementsByTagNameNS(f,"DisplayRect")[0]),l=0;l<i.length;l++)void 0===(a=(o=i[l]).getElementsByTagName("Rect")[0])&&(a=o.getElementsByTagNameNS(f,"Rect")[0]),p.push({Rect:{X:parseInt(a.getAttribute("X"),10),Y:parseInt(a.getAttribute("Y"),10),Width:parseInt(a.getAttribute("Width"),10),Height:parseInt(a.getAttribute("Height"),10),MinLevel:parseInt(o.getAttribute("MinLevel"),10),MaxLevel:parseInt(o.getAttribute("MaxLevel"),10)}});return p.length&&(d.Image.DisplayRect=p),t(0,d)}catch(t){throw t instanceof Error?t:new Error(e.getString("Errors.Dzi"))}else{if("Collection"===c)throw new Error(e.getString("Errors.Dzc"));if("Error"===c){var h=u.getElementsByTagName("Message")[0].firstChild.nodeValue;throw new Error(h)}}throw new Error(e.getString("Errors.Dzi"))}(0,n),r&&!o.tilesUrl&&(o.tilesUrl=r.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),-1!==r.search(/\.(dzi|xml|js)\?/)?o.queryParams=r.match(/\?.*/):o.queryParams=""),o},getTileUrl:function(e,t,n){return[this.tilesUrl,e,"/",t,"_",n,".",this.fileFormat,this.queryParams].join("")},tileExists:function(e,t,n){var r,i,o,a,s,l,u,c=this._levelRects[e];if(this.minLevel&&e<this.minLevel||this.maxLevel&&e>this.maxLevel)return!1;if(!c||!c.length)return!0;for(u=c.length-1;u>=0;u--)if(!(e<(r=c[u]).minLevel||e>r.maxLevel)&&(i=this.getLevelScale(e),o=r.x*i,a=r.y*i,s=o+r.width*i,l=a+r.height*i,o=Math.floor(o/this._tileWidth),a=Math.floor(a/this._tileWidth),s=Math.ceil(s/this._tileWidth),l=Math.ceil(l/this._tileWidth),o<=t&&t<s&&a<=n&&n<l))return!0;return!1}})}(E),function(e){function t(e){var t=Array.isArray(e.profile)?e.profile[0]:e.profile,n=-1!==["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"].indexOf(t),r=!1;return 2===e.version&&e.profile.length>1&&e.profile[1].supports&&(r=-1!==e.profile[1].supports.indexOf("sizeByW")),3===e.version&&e.extraFeatures&&(r=-1!==e.extraFeatures.indexOf("sizeByWh")),!n||r}function n(e){for(var t=[],n=0;n<e.sizes.length;n++)t.push({url:e._id+"/full/"+e.sizes[n].width+","+(3===e.version?e.sizes[n].height:"")+"/0/default."+e.tileFormat,width:e.sizes[n].width,height:e.sizes[n].height});return t.sort((function(e,t){return e.width-t.width}))}function r(t,n,i){var o,a;if(3===t.nodeType&&i)(a=t.nodeValue.trim()).match(/^\d*$/)&&(a=Number(a)),n[i]?(e.isArray(n[i])||(n[i]=[n[i]]),n[i].push(a)):n[i]=a;else if(1===t.nodeType)for(o=0;o<t.childNodes.length;o++)r(t.childNodes[o],n,t.nodeName)}e.IIIFTileSource=function(r){if(e.extend(!0,this,r),this._id=this["@id"]||this.id||this.identifier||null,!(this.height&&this.width&&this._id))throw new Error("IIIF required parameters (width, height, or id) not provided.");if(r.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=r.version,this.tile_width&&this.tile_height)r.tileWidth=this.tile_width,r.tileHeight=this.tile_height;else if(this.tile_width)r.tileSize=this.tile_width;else if(this.tile_height)r.tileSize=this.tile_height;else if(this.tiles)if(1===this.tiles.length)r.tileWidth=this.tiles[0].width,r.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var i=0;i<this.tiles.length;i++)for(var o=0;o<this.tiles[i].scaleFactors.length;o++){var a=this.tiles[i].scaleFactors[o];this.scale_factors.push(a),r.tileSizePerScaleFactor[a]={width:this.tiles[i].width,height:this.tiles[i].height||this.tiles[i].width}}}else if(t(r)){for(var s=Math.min(this.height,this.width),l=[256,512,1024],u=[],c=0;c<l.length;c++)l[c]<=s&&u.push(l[c]);u.length>0?r.tileSize=Math.max.apply(null,u):r.tileSize=s}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,r.levels=n(this),e.extend(!0,r,{width:r.levels[r.levels.length-1].width,height:r.levels[r.levels.length-1].height,tileSize:Math.max(r.height,r.width),tileOverlap:0,minLevel:0,maxLevel:r.levels.length-1}),this.levels=r.levels):e.console.error("Nothing in the info.json to construct image pyramids from");if(!r.maxLevel&&!this.emulateLegacyImagePyramid)if(this.scale_factors){var f=Math.max.apply(null,this.scale_factors);r.maxLevel=Math.round(Math.log(f)*Math.LOG2E)}else r.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)));if(this.sizes){var d=this.sizes.length;d!==r.maxLevel&&d!==r.maxLevel+1||(this.levelSizes=this.sizes.slice().sort((function(e,t){return e.width-t.width})),d===r.maxLevel&&this.levelSizes.push({width:this.width,height:this.height}))}e.TileSource.apply(this,[r])},e.extend(e.IIIFTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return!!(e.protocol&&"http://iiif.io/api/image"===e.protocol||e["@context"]&&("http://library.stanford.edu/iiif/image-api/1.1/context.json"===e["@context"]||"http://iiif.io/api/image/1/context.json"===e["@context"])||e.profile&&0===e.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")||e.identifier&&e.width&&e.height||e.documentElement&&"info"===e.documentElement.tagName&&"http://library.stanford.edu/iiif/image-api/ns/"===e.documentElement.namespaceURI)},configure:function(t,n,i){if(e.isPlainObject(t)){if(t["@context"]){var o=t["@context"];if(Array.isArray(o))for(var a=0;a<o.length;a++)if("string"==typeof o[a]&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(o[a])||"http://library.stanford.edu/iiif/image-api/1.1/context.json"===o[a])){o=o[a];break}switch(o){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":t.version=1;break;case"http://iiif.io/api/image/2/context.json":t.version=2;break;case"http://iiif.io/api/image/3/context.json":t.version=3;break;default:e.console.error("Data has a @context property which contains no known IIIF context URI.")}}else t["@context"]="http://iiif.io/api/image/1.0/context.json",t["@id"]=n.replace("/info.json",""),t.version=1;if(t.preferredFormats)for(var s=0;s<t.preferredFormats.length;s++)if(E.imageFormatSupported(t.preferredFormats[s])){t.tileFormat=t.preferredFormats[s];break}return t}var l=function(t){if(!t||!t.documentElement)throw new Error(e.getString("Errors.Xml"));var n=t.documentElement,i=null;if("info"===n.tagName)try{return r(n,i={}),i}catch(t){throw t instanceof Error?t:new Error(e.getString("Errors.IIIF"))}throw new Error(e.getString("Errors.IIIF"))}(t);return l["@context"]="http://iiif.io/api/image/1.0/context.json",l["@id"]=n.replace("/info.xml",""),l.version=1,l},getTileWidth:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileWidth.call(this,t);var n=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].width:this._tileWidth},getTileHeight:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileHeight.call(this,t);var n=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].height:this._tileHeight},getLevelScale:function(t){if(this.emulateLegacyImagePyramid){var n=NaN;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(n=this.levels[t].width/this.levels[this.maxLevel].width),n}return e.TileSource.prototype.getLevelScale.call(this,t)},getNumTiles:function(t){if(this.emulateLegacyImagePyramid)return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0);if(this.levelSizes){var n=this.levelSizes[t],r=Math.ceil(n.width/this.getTileWidth(t)),i=Math.ceil(n.height/this.getTileHeight(t));return new e.Point(r,i)}return e.TileSource.prototype.getNumTiles.call(this,t)},getTileAtPoint:function(t,n){if(this.emulateLegacyImagePyramid)return new e.Point(0,0);if(this.levelSizes){var r=n.x>=0&&n.x<=1&&n.y>=0&&n.y<=1/this.aspectRatio;e.console.assert(r,"[TileSource.getTileAtPoint] must be called with a valid point.");var i=this.levelSizes[t].width,o=n.x*i,a=n.y*i,s=Math.floor(o/this.getTileWidth(t)),l=Math.floor(a/this.getTileHeight(t));return n.x>=1&&(s=this.getNumTiles(t).x-1),n.y>=1/this.aspectRatio-1e-15&&(l=this.getNumTiles(t).y-1),new e.Point(s,l)}return e.TileSource.prototype.getTileAtPoint.call(this,t,n)},getTileUrl:function(e,t,n){if(this.emulateLegacyImagePyramid){var r=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(r=this.levels[e].url),r}var i,o,a,s,l,u,c,f,d,p,h,m,v,g,y,b=Math.pow(.5,this.maxLevel-e);return this.levelSizes?(i=this.levelSizes[e].width,o=this.levelSizes[e].height):(i=Math.ceil(this.width*b),o=Math.ceil(this.height*b)),a=this.getTileWidth(e),s=this.getTileHeight(e),l=Math.round(a/b),u=Math.round(s/b),y=1===this.version?"native."+this.tileFormat:"default."+this.tileFormat,i<a&&o<s?(m=2===this.version&&i===this.width?"full":3===this.version&&i===this.width&&o===this.height?"max":3===this.version?i+","+o:i+",",c="full"):(f=t*l,d=n*u,p=Math.min(l,this.width-f),h=Math.min(u,this.height-d),c=0===t&&0===n&&p===this.width&&h===this.height?"full":[f,d,p,h].join(","),v=Math.min(a,i-t*a),g=Math.min(s,o-n*s),m=2===this.version&&v===this.width?"full":3===this.version&&v===this.width&&g===this.height?"max":3===this.version?v+","+g:v+","),[this._id,c,m,"0",y].join("/")},__testonly__:{canBeTiled:t,constructLevels:n}})}(E),function(e){e.OsmTileSource=function(t,n,r,i,o){var a;(a=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]}).width&&a.height||(a.width=65572864,a.height=65572864),a.tileSize||(a.tileSize=256,a.tileOverlap=0),a.tilesUrl||(a.tilesUrl="http://tile.openstreetmap.org/"),a.minLevel=8,e.TileSource.apply(this,[a])},e.extend(e.OsmTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"openstreetmaps"===e.type},configure:function(e,t,n){return e},getTileUrl:function(e,t,n){return this.tilesUrl+(e-8)+"/"+t+"/"+n+".png"}})}(E),function(e){e.TmsTileSource=function(t,n,r,i,o){var a;a=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var s,l=256*Math.ceil(a.width/256),u=256*Math.ceil(a.height/256);s=l>u?l/256:u/256,a.maxLevel=Math.ceil(Math.log(s)/Math.log(2))-1,a.tileSize=256,a.width=l,a.height=u,e.TileSource.apply(this,[a])},e.extend(e.TmsTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"tiledmapservice"===e.type},configure:function(e,t,n){return e},getTileUrl:function(e,t,n){var r=this.getNumTiles(e).y-1;return this.tilesUrl+e+"/"+t+"/"+(r-n)+".png"}})}(E),function(e){e.ZoomifyTileSource=function(e){void 0===e.tileSize&&(e.tileSize=256),void 0===e.fileFormat&&(e.fileFormat="jpg",this.fileFormat=e.fileFormat);var t={x:e.width,y:e.height};for(e.imageSizes=[{x:e.width,y:e.height}],e.gridSize=[this._getGridSize(e.width,e.height,e.tileSize)];parseInt(t.x,10)>e.tileSize||parseInt(t.y,10)>e.tileSize;)t.x=Math.floor(t.x/2),t.y=Math.floor(t.y/2),e.imageSizes.push({x:t.x,y:t.y}),e.gridSize.push(this._getGridSize(t.x,t.y,e.tileSize));e.imageSizes.reverse(),e.gridSize.reverse(),e.minLevel=0,e.maxLevel=e.gridSize.length-1,E.TileSource.apply(this,[e])},e.extend(e.ZoomifyTileSource.prototype,e.TileSource.prototype,{_getGridSize:function(e,t,n){return{x:Math.ceil(e/n),y:Math.ceil(t/n)}},_calculateAbsoluteTileNumber:function(e,t,n){for(var r=0,i={},o=0;o<e;o++)r+=(i=this.gridSize[o]).x*i.y;return r+((i=this.gridSize[e]).x*n+t)},supports:function(e,t){return e.type&&"zoomifytileservice"===e.type},configure:function(e,t,n){return e},getTileUrl:function(e,t,n){var r,i=this._calculateAbsoluteTileNumber(e,t,n);return r=Math.floor(i/256),this.tilesUrl+"TileGroup"+r+"/"+e+"-"+t+"-"+n+"."+this.fileFormat}})}(E),function(e){function t(e,t){return t.levels}e.LegacyTileSource=function(t){var n,r,i;e.isArray(t)&&(n={type:"legacy-image-pyramid",levels:t}),n.levels=function(t){var n,r,i=[];for(r=0;r<t.length;r++)(n=t[r]).height&&n.width&&n.url?i.push({url:n.url,width:Number(n.width),height:Number(n.height)}):e.console.error("Unsupported image format: %s",n.url?n.url:"<no URL>");return i.sort((function(e,t){return e.height-t.height}))}(n.levels),n.levels.length>0?(r=n.levels[n.levels.length-1].width,i=n.levels[n.levels.length-1].height):(r=0,i=0,e.console.error("No supported image formats found")),e.extend(!0,n,{width:r,height:i,tileSize:Math.max(i,r),tileOverlap:0,minLevel:0,maxLevel:n.levels.length>0?n.levels.length-1:0}),e.TileSource.apply(this,[n]),this.levels=n.levels},e.extend(e.LegacyTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"legacy-image-pyramid"===e.type||e.documentElement&&"legacy-image-pyramid"===e.documentElement.getAttribute("type")},configure:function(n,r,i){return e.isPlainObject(n)?t(0,n):function(n,r){if(!r||!r.documentElement)throw new Error(e.getString("Errors.Xml"));var i,o,a=r.documentElement,s=a.tagName,l=null,u=[];if("image"===s)try{for(l={type:a.getAttribute("type"),levels:[]},u=a.getElementsByTagName("level"),o=0;o<u.length;o++)i=u[o],l.levels.push({url:i.getAttribute("url"),width:parseInt(i.getAttribute("width"),10),height:parseInt(i.getAttribute("height"),10)});return t(0,l)}catch(e){throw e instanceof Error?e:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"===s)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"===s)throw new Error("Error: "+r)}throw new Error("Unknown element "+s)}(0,n)},getLevelScale:function(e){var t=NaN;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,n){var r=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(r=this.levels[e].url),r}})}(E),function(e){e.ImageTileSource=function(t){t=e.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1},t),e.TileSource.apply(this,[t])},e.extend(e.ImageTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"image"===e.type},configure:function(e,t,n){return e},getImageInfo:function(t){var n=this._image=new Image,r=this;this.crossOriginPolicy&&(n.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(n.useCredentials=this.ajaxWithCredentials),e.addEvent(n,"load",(function(){r.width=n.naturalWidth,r.height=n.naturalHeight,r.aspectRatio=r.width/r.height,r.dimensions=new e.Point(r.width,r.height),r._tileWidth=r.width,r._tileHeight=r.height,r.tileOverlap=0,r.minLevel=0,r.levels=r._buildLevels(),r.maxLevel=r.levels.length-1,r.ready=!0,r.raiseEvent("ready",{tileSource:r})})),e.addEvent(n,"error",(function(){r.raiseEvent("open-failed",{message:"Error loading image at "+t,source:t})})),n.src=t},getLevelScale:function(e){var t=NaN;return e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,n){var r=null;return e>=this.minLevel&&e<=this.maxLevel&&(r=this.levels[e].url),r},getContext2D:function(e,t,n){var r=null;return e>=this.minLevel&&e<=this.maxLevel&&(r=this.levels[e].context2D),r},destroy:function(e){this._freeupCanvasMemory(e)},_buildLevels:function(){var t=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!e.supportsCanvas)return delete this._image,t;var n=this._image.naturalWidth,r=this._image.naturalHeight,i=document.createElement("canvas"),o=i.getContext("2d");if(i.width=n,i.height=r,o.drawImage(this._image,0,0,n,r),t[0].context2D=o,delete this._image,e.isCanvasTainted(i))return t;for(;n>=2&&r>=2;){n=Math.floor(n/2),r=Math.floor(r/2);var a=document.createElement("canvas"),s=a.getContext("2d");a.width=n,a.height=r,s.drawImage(i,0,0,n,r),t.splice(0,0,{context2D:s,width:n,height:r}),i=a,o=s}return t},_freeupCanvasMemory:function(e){for(var t=0;t<this.levels.length;t++)this.levels[t].context2D&&(this.levels[t].context2D.canvas.height=0,this.levels[t].context2D.canvas.width=0,e&&e.raiseEvent("image-unloaded",{context2D:this.levels[t].context2D}))}})}(E),function(e){e.TileSourceCollection=function(t,n,r,i){e.console.error("TileSourceCollection is deprecated; use World instead")}}(E),function(e){function t(n){e.requestAnimationFrame((function(){!function(n){var r;n.shouldFade&&(r=1-(e.now()-n.fadeBeginTime)/n.fadeLength,r=Math.min(1,r),r=Math.max(0,r),n.imgGroup&&e.setElementOpacity(n.imgGroup,r,!0),r>0&&t(n))}(n)}))}function n(t,n){t.element.disabled||(n>=e.ButtonState.GROUP&&t.currentState===e.ButtonState.REST&&(function(t){t.shouldFade=!1,t.imgGroup&&e.setElementOpacity(t.imgGroup,1,!0)}(t),t.currentState=e.ButtonState.GROUP),n>=e.ButtonState.HOVER&&t.currentState===e.ButtonState.GROUP&&(t.imgHover&&(t.imgHover.style.visibility=""),t.currentState=e.ButtonState.HOVER),n>=e.ButtonState.DOWN&&t.currentState===e.ButtonState.HOVER&&(t.imgDown&&(t.imgDown.style.visibility=""),t.currentState=e.ButtonState.DOWN))}function r(n,r){n.element.disabled||(r<=e.ButtonState.HOVER&&n.currentState===e.ButtonState.DOWN&&(n.imgDown&&(n.imgDown.style.visibility="hidden"),n.currentState=e.ButtonState.HOVER),r<=e.ButtonState.GROUP&&n.currentState===e.ButtonState.HOVER&&(n.imgHover&&(n.imgHover.style.visibility="hidden"),n.currentState=e.ButtonState.GROUP),r<=e.ButtonState.REST&&n.currentState===e.ButtonState.GROUP&&(function(n){n.shouldFade=!0,n.fadeBeginTime=e.now()+n.fadeDelay,window.setTimeout((function(){t(n)}),n.fadeDelay)}(n),n.currentState=e.ButtonState.REST))}e.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},e.Button=function(t){var i=this;e.EventSource.call(this),e.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},t),this.element=t.element||e.makeNeutralElement("div"),t.element||(this.imgRest=e.makeTransparentImage(this.srcRest),this.imgGroup=e.makeTransparentImage(this.srcGroup),this.imgHover=e.makeTransparentImage(this.srcHover),this.imgDown=e.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,e.setElementPointerEventsNone(this.imgRest),e.setElementPointerEventsNone(this.imgGroup),e.setElementPointerEventsNone(this.imgHover),e.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",e.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=e.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new e.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(t){t.insideElementPressed?(n(i,e.ButtonState.DOWN),i.raiseEvent("enter",{originalEvent:t.originalEvent})):t.buttonDownAny||n(i,e.ButtonState.HOVER)},focusHandler:function(e){i.tracker.enterHandler(e),i.raiseEvent("focus",{originalEvent:e.originalEvent})},leaveHandler:function(t){r(i,e.ButtonState.GROUP),t.insideElementPressed&&i.raiseEvent("exit",{originalEvent:t.originalEvent})},blurHandler:function(e){i.tracker.leaveHandler(e),i.raiseEvent("blur",{originalEvent:e.originalEvent})},pressHandler:function(t){n(i,e.ButtonState.DOWN),i.raiseEvent("press",{originalEvent:t.originalEvent})},releaseHandler:function(t){t.insideElementPressed&&t.insideElementReleased?(r(i,e.ButtonState.HOVER),i.raiseEvent("release",{originalEvent:t.originalEvent})):t.insideElementPressed?r(i,e.ButtonState.GROUP):n(i,e.ButtonState.HOVER)},clickHandler:function(e){e.quick&&i.raiseEvent("click",{originalEvent:e.originalEvent})},keyHandler:function(e){13===e.keyCode?(i.raiseEvent("click",{originalEvent:e.originalEvent}),i.raiseEvent("release",{originalEvent:e.originalEvent}),e.preventDefault=!0):e.preventDefault=!1}}),r(this,e.ButtonState.REST)},e.extend(e.Button.prototype,e.EventSource.prototype,{notifyGroupEnter:function(){n(this,e.ButtonState.GROUP)},notifyGroupExit:function(){r(this,e.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),e.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),e.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}})}(E),function(e){e.ButtonGroup=function(t){e.extend(!0,this,{buttons:[],clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},t);var n,r=this.buttons.concat([]),i=this;if(this.element=t.element||e.makeNeutralElement("div"),!t.group)for(this.element.style.display="inline-block",n=0;n<r.length;n++)this.element.appendChild(r[n].element);e.setElementTouchActionNone(this.element),this.tracker=new e.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(e){var t;for(t=0;t<i.buttons.length;t++)i.buttons[t].notifyGroupEnter()},leaveHandler:function(e){var t;if(!e.insideElementPressed)for(t=0;t<i.buttons.length;t++)i.buttons[t].notifyGroupExit()}})},e.ButtonGroup.prototype={addButton:function(e){this.buttons.push(e),this.element.appendChild(e.element)},emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var e=this.buttons.pop();this.element.removeChild(e.element),e.destroy()}this.tracker.destroy(),this.element=null}}}(E),function(e){e.Rect=function(t,n,r,i,o){var a,s;this.x="number"==typeof t?t:0,this.y="number"==typeof n?n:0,this.width="number"==typeof r?r:0,this.height="number"==typeof i?i:0,this.degrees="number"==typeof o?o:0,this.degrees=e.positiveModulo(this.degrees,360),this.degrees>=270?(a=this.getTopRight(),this.x=a.x,this.y=a.y,s=this.height,this.height=this.width,this.width=s,this.degrees-=270):this.degrees>=180?(a=this.getBottomRight(),this.x=a.x,this.y=a.y,this.degrees-=180):this.degrees>=90&&(a=this.getBottomLeft(),this.x=a.x,this.y=a.y,s=this.height,this.height=this.width,this.width=s,this.degrees-=90)},e.Rect.fromSummits=function(t,n,r){var i=t.distanceTo(n),o=t.distanceTo(r),a=n.minus(t),s=Math.atan(a.y/a.x);return a.x<0?s+=Math.PI:a.y<0&&(s+=2*Math.PI),new e.Rect(t.x,t.y,i,o,s/Math.PI*180)},e.Rect.prototype={clone:function(){return new e.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new e.Point(this.x,this.y)},getBottomRight:function(){return new e.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new e.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new e.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new e.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new e.Point(this.width,this.height)},equals:function(t){return t instanceof e.Rect&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height&&this.degrees===t.degrees},times:function(t){return new e.Rect(this.x*t,this.y*t,this.width*t,this.height*t,this.degrees)},translate:function(t){return new e.Rect(this.x+t.x,this.y+t.y,this.width,this.height,this.degrees)},union:function(t){var n=this.getBoundingBox(),r=t.getBoundingBox(),i=Math.min(n.x,r.x),o=Math.min(n.y,r.y),a=Math.max(n.x+n.width,r.x+r.width),s=Math.max(n.y+n.height,r.y+r.height);return new e.Rect(i,o,a-i,s-o)},intersection:function(t){var n=1e-10,r=[],i=this.getTopLeft();t.containsPoint(i,n)&&r.push(i);var o=this.getTopRight();t.containsPoint(o,n)&&r.push(o);var a=this.getBottomLeft();t.containsPoint(a,n)&&r.push(a);var s=this.getBottomRight();t.containsPoint(s,n)&&r.push(s);var l=t.getTopLeft();this.containsPoint(l,n)&&r.push(l);var u=t.getTopRight();this.containsPoint(u,n)&&r.push(u);var c=t.getBottomLeft();this.containsPoint(c,n)&&r.push(c);var f=t.getBottomRight();this.containsPoint(f,n)&&r.push(f);for(var d=this._getSegments(),p=t._getSegments(),h=0;h<d.length;h++)for(var m=d[h],v=0;v<p.length;v++){var g=p[v],y=b(m[0],m[1],g[0],g[1]);y&&r.push(y)}function b(t,r,i,o){var a=r.minus(t),s=o.minus(i),l=-s.x*a.y+a.x*s.y;if(0===l)return null;var u=(a.x*(t.y-i.y)-a.y*(t.x-i.x))/l,c=(s.x*(t.y-i.y)-s.y*(t.x-i.x))/l;return-1e-10<=u&&u<=1-n&&-1e-10<=c&&c<=1-n?new e.Point(t.x+c*a.x,t.y+c*a.y):null}if(0===r.length)return null;for(var w=r[0].x,x=r[0].x,S=r[0].y,E=r[0].y,_=1;_<r.length;_++){var T=r[_];T.x<w&&(w=T.x),T.x>x&&(x=T.x),T.y<S&&(S=T.y),T.y>E&&(E=T.y)}return new e.Rect(w,S,x-w,E-S)},_getSegments:function(){var e=this.getTopLeft(),t=this.getTopRight(),n=this.getBottomLeft(),r=this.getBottomRight();return[[e,t],[t,r],[r,n],[n,e]]},rotate:function(t,n){if(0===(t=e.positiveModulo(t,360)))return this.clone();n=n||this.getCenter();var r=this.getTopLeft().rotate(t,n),i=this.getTopRight().rotate(t,n).minus(r);i=i.apply((function(e){return Math.abs(e)<1e-15?0:e}));var o=Math.atan(i.y/i.x);return i.x<0?o+=Math.PI:i.y<0&&(o+=2*Math.PI),new e.Rect(r.x,r.y,this.width,this.height,o/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var t=this.getTopLeft(),n=this.getTopRight(),r=this.getBottomLeft(),i=this.getBottomRight(),o=Math.min(t.x,n.x,r.x,i.x),a=Math.max(t.x,n.x,r.x,i.x),s=Math.min(t.y,n.y,r.y,i.y),l=Math.max(t.y,n.y,r.y,i.y);return new e.Rect(o,s,a-o,l-s)},getIntegerBoundingBox:function(){var t=this.getBoundingBox(),n=Math.floor(t.x),r=Math.floor(t.y),i=Math.ceil(t.width+t.x-n),o=Math.ceil(t.height+t.y-r);return new e.Rect(n,r,i,o)},containsPoint:function(e,t){t=t||0;var n=this.getTopLeft(),r=this.getTopRight(),i=this.getBottomLeft(),o=r.minus(n),a=i.minus(n);return(e.x-n.x)*o.x+(e.y-n.y)*o.y>=-t&&(e.x-r.x)*o.x+(e.y-r.y)*o.y<=t&&(e.x-n.x)*a.x+(e.y-n.y)*a.y>=-t&&(e.x-i.x)*a.x+(e.y-i.y)*a.y<=t},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(E),function(e){var t={};function n(e){var t;e.quick&&(t="horizontal"===this.scroll?Math.floor(e.position.x/(this.panelWidth+4)):Math.floor(e.position.y/this.panelHeight),this.viewer.goToPage(t)),this.element.focus()}function r(t){if(this.dragging=!0,this.element){var n=Number(this.element.style.marginLeft.replace("px","")),r=Number(this.element.style.marginTop.replace("px","")),i=Number(this.element.style.width.replace("px","")),a=Number(this.element.style.height.replace("px","")),s=e.getElementSize(this.viewer.canvas);"horizontal"===this.scroll?-t.delta.x>0?n>-(i-s.x)&&(this.element.style.marginLeft=n+2*t.delta.x+"px",o(this,s.x,n+2*t.delta.x)):-t.delta.x<0&&n<0&&(this.element.style.marginLeft=n+2*t.delta.x+"px",o(this,s.x,n+2*t.delta.x)):-t.delta.y>0?r>-(a-s.y)&&(this.element.style.marginTop=r+2*t.delta.y+"px",o(this,s.y,r+2*t.delta.y)):-t.delta.y<0&&r<0&&(this.element.style.marginTop=r+2*t.delta.y+"px",o(this,s.y,r+2*t.delta.y))}}function i(t){if(this.element){var n=Number(this.element.style.marginLeft.replace("px","")),r=Number(this.element.style.marginTop.replace("px","")),i=Number(this.element.style.width.replace("px","")),a=Number(this.element.style.height.replace("px","")),s=e.getElementSize(this.viewer.canvas);"horizontal"===this.scroll?t.scroll>0?n>-(i-s.x)&&(this.element.style.marginLeft=n-60*t.scroll+"px",o(this,s.x,n-60*t.scroll)):t.scroll<0&&n<0&&(this.element.style.marginLeft=n-60*t.scroll+"px",o(this,s.x,n-60*t.scroll)):t.scroll<0?r>s.y-a&&(this.element.style.marginTop=r+60*t.scroll+"px",o(this,s.y,r+60*t.scroll)):t.scroll>0&&r<0&&(this.element.style.marginTop=r+60*t.scroll+"px",o(this,s.y,r+60*t.scroll)),t.preventDefault=!0}}function o(t,n,r){var i,o,a,s,l,u;for(i="horizontal"===t.scroll?t.panelWidth:t.panelHeight,o=Math.ceil(n/i)+5,l=o=(o=(a=Math.ceil((Math.abs(r)+n)/i)+1)-o)<0?0:o;l<a&&l<t.panels.length;l++)if(!(u=t.panels[l]).activePanel){var c,f=t.viewer.tileSources[l];c=f.referenceStripThumbnailUrl?{type:"image",url:f.referenceStripThumbnailUrl}:f,s=new e.Viewer({id:u.id,tileSources:[c],element:u,navigatorSizeRatio:t.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:t.viewer.loadTilesWithAjax,ajaxHeaders:t.viewer.ajaxHeaders,drawer:"canvas"}),e.setElementPointerEventsNone(s.canvas),e.setElementPointerEventsNone(s.container),s.innerTracker.setTracking(!1),s.outerTracker.setTracking(!1),t.miniViewers[u.id]=s,u.activePanel=!0}}function a(e){var t=e.eventSource.element;"horizontal"===this.scroll?t.style.marginBottom="0px":t.style.marginLeft="0px"}function s(t){var n=t.eventSource.element;"horizontal"===this.scroll?n.style.marginBottom="-"+e.getElementSize(n).y/2+"px":n.style.marginLeft="-"+e.getElementSize(n).x/2+"px"}function l(e){if(e.ctrl||e.alt||e.meta)e.preventDefault=!1;else switch(e.keyCode){case 38:case 39:i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),e.preventDefault=!0;break;case 40:case 37:i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),e.preventDefault=!0;break;default:e.preventDefault=!1}}function u(e){if(e.ctrl||e.alt||e.meta)e.preventDefault=!1;else switch(e.keyCode){case 61:case 48:case 119:case 87:case 100:i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),e.preventDefault=!0;break;case 45:case 115:case 83:case 97:i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),e.preventDefault=!0;break;default:e.preventDefault=!1}}e.ReferenceStrip=function(c){var f,d,p,h=c.viewer,m=e.getElementSize(h.element);for(c.id||(c.id="referencestrip-"+e.now(),this.element=e.makeNeutralElement("div"),this.element.id=c.id,this.element.className="referencestrip"),c=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.referenceStripSizeRatio,position:e.DEFAULT_SETTINGS.referenceStripPosition,scroll:e.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold},c,{element:this.element}),e.extend(this,c),t[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,(d=this.element.style).marginTop="0px",d.marginRight="0px",d.marginBottom="0px",d.marginLeft="0px",d.left="0px",d.bottom="0px",d.border="0px",d.background="#000",d.position="relative",e.setElementTouchActionNone(this.element),e.setElementOpacity(this.element,.8),this.viewer=h,this.tracker=new e.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:e.delegate(this,n),dragHandler:e.delegate(this,r),scrollHandler:e.delegate(this,i),enterHandler:e.delegate(this,a),leaveHandler:e.delegate(this,s),keyDownHandler:e.delegate(this,l),keyHandler:e.delegate(this,u),preProcessEventHandler:function(e){"wheel"===e.eventType&&(e.preventDefault=!0)}}),c.width&&c.height?(this.element.style.width=c.width+"px",this.element.style.height=c.height+"px",h.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):"horizontal"===c.scroll?(this.element.style.width=m.x*c.sizeRatio*h.tileSources.length+12*h.tileSources.length+"px",this.element.style.height=m.y*c.sizeRatio+"px",h.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=m.y*c.sizeRatio*h.tileSources.length+12*h.tileSources.length+"px",this.element.style.width=m.x*c.sizeRatio+"px",h.addControl(this.element,{anchor:e.ControlAnchor.TOP_LEFT})),this.panelWidth=m.x*this.sizeRatio+8,this.panelHeight=m.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},p=0;p<h.tileSources.length;p++)(f=e.makeNeutralElement("div")).id=this.element.id+"-"+p,f.style.width=this.panelWidth+"px",f.style.height=this.panelHeight+"px",f.style.display="inline",f.style.float="left",f.style.cssFloat="left",f.style.padding="2px",e.setElementTouchActionNone(f),e.setElementPointerEventsNone(f),this.element.appendChild(f),f.activePanel=!1,this.panels.push(f);o(this,"vertical"===this.scroll?m.y:m.x,0),this.setFocus(0)},e.ReferenceStrip.prototype={setFocus:function(t){var n,r=this.element.querySelector("#"+this.element.id+"-"+t),i=e.getElementSize(this.viewer.canvas),s=Number(this.element.style.width.replace("px","")),l=Number(this.element.style.height.replace("px","")),u=-Number(this.element.style.marginLeft.replace("px","")),c=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==r&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=r,this.currentSelected.style.background="#999","horizontal"===this.scroll?(n=Number(t)*(this.panelWidth+3))>u+i.x-this.panelWidth?(n=Math.min(n,s-i.x),this.element.style.marginLeft=-n+"px",o(this,i.x,-n)):n<u&&(n=Math.max(0,n-i.x/2),this.element.style.marginLeft=-n+"px",o(this,i.x,-n)):(n=Number(t)*(this.panelHeight+3))>c+i.y-this.panelHeight?(n=Math.min(n,l-i.y),this.element.style.marginTop=-n+"px",o(this,i.y,-n)):n<c&&(n=Math.max(0,n-i.y/2),this.element.style.marginTop=-n+"px",o(this,i.y,-n)),this.currentPage=t,a.call(this,{eventSource:this.tracker}))},update:function(){return!!t[this.id].animating},destroy:function(){if(this.miniViewers)for(var e in this.miniViewers)this.miniViewers[e].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}}}(E),function(e){e.DisplayRect=function(t,n,r,i,o,a){e.Rect.apply(this,[t,n,r,i]),this.minLevel=o,this.maxLevel=a},e.extend(e.DisplayRect.prototype,e.Rect.prototype)}(E),function(e){e.Spring=function(t){var n=arguments;"object"!==S(t)&&(t={initial:n.length&&"number"==typeof n[0]?n[0]:void 0,springStiffness:n.length>1?n[1].springStiffness:5,animationTime:n.length>1?n[1].animationTime:1.5}),e.console.assert("number"==typeof t.springStiffness&&0!==t.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),e.console.assert("number"==typeof t.animationTime&&t.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),t.exponential&&(this._exponential=!0,delete t.exponential),e.extend(!0,this,t),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:e.now()},e.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},e.Spring.prototype={resetTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=t,this.start.time=this.target.time=this.current.time=e.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=t,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(t){this.start.value+=t,this.target.value+=t,this._exponential&&(e.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(t){this._exponential=t,this._exponential&&(e.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){var t,n,r,i;if(this.current.time=e.now(),this._exponential?(t=this.start._logValue,n=this.target._logValue):(t=this.start.value,n=this.target.value),this.current.time>=this.target.time)this.current.value=this.target.value;else{var o=t+(n-t)*(r=this.springStiffness,i=(this.current.time-this.start.time)/(this.target.time-this.start.time),(1-Math.exp(r*-i))/(1-Math.exp(-r)));this._exponential?this.current.value=Math.exp(o):this.current.value=o}return this.current.value!==this.target.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(E),function(e){e.ImageJob=function(t){e.extend(!0,this,{timeout:e.DEFAULT_SETTINGS.timeout,jobId:null,tries:0},t),this.data=null,this.userData={},this.errorMsg=null},e.ImageJob.prototype={start:function(){this.tries++;var e=this,t=this.abort;this.jobId=window.setTimeout((function(){e.finish(null,null,"Image load exceeded timeout ("+e.timeout+" ms)")}),this.timeout),this.abort=function(){e.source.downloadTileAbort(e),"function"==typeof t&&t()},this.source.downloadTileStart(this)},finish:function(e,t,n){this.data=e,this.request=t,this.errorMsg=n,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},e.ImageLoader=function(t){e.extend(!0,this,{jobLimit:e.DEFAULT_SETTINGS.imageLoaderLimit,timeout:e.DEFAULT_SETTINGS.timeout,jobQueue:[],failedTiles:[],jobsInProgress:0},t)},e.ImageLoader.prototype={addJob:function(t){if(!t.source){e.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var n=e.TileSource.prototype;t.source={downloadTileStart:n.downloadTileStart,downloadTileAbort:n.downloadTileAbort}}var r=this,i={src:t.src,tile:t.tile||{},source:t.source,loadWithAjax:t.loadWithAjax,ajaxHeaders:t.loadWithAjax?t.ajaxHeaders:null,crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,postData:t.postData,callback:function(e){!function(e,t,n){var r;""!==t.errorMsg&&(null===t.data||void 0===t.data)&&t.tries<1+e.tileRetryMax&&e.failedTiles.push(t),e.jobsInProgress--,(!e.jobLimit||e.jobsInProgress<e.jobLimit)&&e.jobQueue.length>0&&((r=e.jobQueue.shift()).start(),e.jobsInProgress++),e.tileRetryMax>0&&0===e.jobQueue.length&&(!e.jobLimit||e.jobsInProgress<e.jobLimit)&&e.failedTiles.length>0&&(r=e.failedTiles.shift(),setTimeout((function(){r.start()}),e.tileRetryDelay),e.jobsInProgress++),n(t.data,t.errorMsg,t.request)}(r,e,t.callback)},abort:t.abort,timeout:this.timeout},o=new e.ImageJob(i);!this.jobLimit||this.jobsInProgress<this.jobLimit?(o.start(),this.jobsInProgress++):this.jobQueue.push(o)},clear:function(){for(var e=0;e<this.jobQueue.length;e++){var t=this.jobQueue[e];"function"==typeof t.abort&&t.abort()}this.jobQueue=[]}}}(E),function(e){e.Tile=function(t,n,r,i,o,a,s,l,u,c,f,d){this.level=t,this.x=n,this.y=r,this.bounds=i,this.positionedBounds=new E.Rect(i.x,i.y,i.width,i.height),this.sourceBounds=c,this.exists=o,this._url=a,this.postData=f,this.context2D=s,this.loadWithAjax=l,this.ajaxHeaders=u,void 0===d&&(e.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),d=e.TileSource.prototype.getTileHashKey(t,n,r,a,u,f)),this.cacheKey=d,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},e.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return s.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},get image(){return e.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return e.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return"function"==typeof this._url?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord&&this.cacheImageRecord.getRenderedContext()},getScaleForEdgeSmoothing:function(){var t;if(this.cacheImageRecord)t=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return e.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;t=this.context2D}return t.canvas.width/(this.size.x*e.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(t,n,r){var i=Math.max(1,Math.ceil((r.x-n.x)/2)),o=Math.max(1,Math.ceil((r.y-n.y)/2));return new e.Point(i,o).minus(this.position.times(e.pixelDensityRatio).times(t||1).apply((function(e){return e%1})))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(E),function(e){e.OverlayPlacement=e.Placement,e.OverlayRotationMode=e.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),e.Overlay=function(t,n,r){var i;i=e.isPlainObject(t)?t:{element:t,location:n,placement:r},this.elementWrapper=document.createElement("div"),this.element=i.element,this.elementWrapper.appendChild(this.element),this.element.id?this.elementWrapper.id="overlay-wrapper-"+this.element.id:this.elementWrapper.id="overlay-wrapper",this.style=this.elementWrapper.style,this._init(i)},e.Overlay.prototype={_init:function(t){this.location=t.location,this.placement=void 0===t.placement?e.Placement.TOP_LEFT:t.placement,this.onDraw=t.onDraw,this.checkResize=void 0===t.checkResize||t.checkResize,this.width=void 0===t.width?null:t.width,this.height=void 0===t.height?null:t.height,this.rotationMode=t.rotationMode||e.OverlayRotationMode.EXACT,this.location instanceof e.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=e.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new e.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(t,n){var r=e.Placement.properties[this.placement];r&&(r.isHorizontallyCentered?t.x-=n.x/2:r.isRight&&(t.x-=n.x),r.isVerticallyCentered?t.y-=n.y/2:r.isBottom&&(t.y-=n.y))},destroy:function(){var t=this.elementWrapper,n=this.style;t.parentNode&&(t.parentNode.removeChild(t),t.prevElementParent&&(n.display="none",document.body.appendChild(t))),this.onDraw=null,n.top="",n.left="",n.position="",null!==this.width&&(n.width=""),null!==this.height&&(n.height="");var r=e.getCssPropertyWithVendorPrefix("transformOrigin"),i=e.getCssPropertyWithVendorPrefix("transform");r&&i&&(n[r]="",n[i]="")},drawHTML:function(t,n){var r=this.elementWrapper;r.parentNode!==t&&(r.prevElementParent=r.parentNode,r.prevNextSibling=r.nextSibling,t.appendChild(r),this.style.position="absolute",this.size=e.getElementSize(this.elementWrapper));var i=this._getOverlayPositionAndSize(n),o=i.position,a=this.size=i.size,s="";n.overlayPreserveContentDirection&&(s=n.flipped?" scaleX(-1)":" scaleX(1)");var l=n.flipped?-i.rotate:i.rotate,u=n.flipped?" scaleX(-1)":"";if(this.onDraw)this.onDraw(o,a,this.element);else{var c=this.style,f=this.element.style;f.display="block",c.left=o.x+"px",c.top=o.y+"px",null!==this.width&&(f.width=a.x+"px"),null!==this.height&&(f.height=a.y+"px");var d=e.getCssPropertyWithVendorPrefix("transformOrigin"),p=e.getCssPropertyWithVendorPrefix("transform");d&&p&&(l&&!n.flipped?(f[p]="",c[d]=this._getTransformOrigin(),c[p]="rotate("+l+"deg)"):!l&&n.flipped?(f[p]=s,c[d]=this._getTransformOrigin(),c[p]=u):l&&n.flipped?(f[p]=s,c[d]=this._getTransformOrigin(),c[p]="rotate("+l+"deg)"+u):(f[p]="",c[d]="",c[p]="")),c.display="flex"}},_getOverlayPositionAndSize:function(t){var n=t.pixelFromPoint(this.location,!0),r=this._getSizeInPixels(t);this.adjust(n,r);var i=0;if(t.getRotation(!0)&&this.rotationMode!==e.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var o=new e.Rect(n.x,n.y,r.x,r.y),a=this._getBoundingBox(o,t.getRotation(!0));n=a.getTopLeft(),r=a.getSize()}else i=t.getRotation(!0);return t.flipped&&(n.x=t.getContainerSize().x-n.x),{position:n,size:r,rotate:i}},_getSizeInPixels:function(t){var n=this.size.x,r=this.size.y;if(null!==this.width||null!==this.height){var i=t.deltaPixelsFromPointsNoRotate(new e.Point(this.width||0,this.height||0),!0);null!==this.width&&(n=i.x),null!==this.height&&(r=i.y)}if(this.checkResize&&(null===this.width||null===this.height)){var o=this.size=e.getElementSize(this.elementWrapper);null===this.width&&(n=o.x),null===this.height&&(r=o.y)}return new e.Point(n,r)},_getBoundingBox:function(e,t){var n=this._getPlacementPoint(e);return e.rotate(t,n).getBoundingBox()},_getPlacementPoint:function(t){var n=new e.Point(t.x,t.y),r=e.Placement.properties[this.placement];return r&&(r.isHorizontallyCentered?n.x+=t.width/2:r.isRight&&(n.x+=t.width),r.isVerticallyCentered?n.y+=t.height/2:r.isBottom&&(n.y+=t.height)),n},_getTransformOrigin:function(){var t="",n=e.Placement.properties[this.placement];return n?(n.isLeft?t="left":n.isRight&&(t="right"),n.isTop?t+=" top":n.isBottom&&(t+=" bottom"),t):t},update:function(t,n){var r=e.isPlainObject(t)?t:{location:t,placement:n};this._init({location:r.location||this.location,placement:void 0!==r.placement?r.placement:this.placement,onDraw:r.onDraw||this.onDraw,checkResize:r.checkResize||this.checkResize,width:void 0!==r.width?r.width:this.width,height:void 0!==r.height?r.height:this.height,rotationMode:r.rotationMode||this.rotationMode})},getBounds:function(t){e.console.assert(t,"A viewport must now be passed to Overlay.getBounds.");var n=this.width,r=this.height;if(null===n||null===r){var i=t.deltaPointsFromPixelsNoRotate(this.size,!0);null===n&&(n=i.x),null===r&&(r=i.y)}var o=this.location.clone();return this.adjust(o,new e.Point(n,r)),this._adjustBoundsForRotation(t,new e.Rect(o.x,o.y,n,r))},_adjustBoundsForRotation:function(t,n){if(!t||0===t.getRotation(!0)||this.rotationMode===e.OverlayRotationMode.EXACT)return n;if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return n;var r=this._getOverlayPositionAndSize(t);return t.viewerElementToViewportRectangle(new e.Rect(r.position.x,r.position.y,r.size.x,r.size.y))}return n.rotate(-t.getRotation(!0),this._getPlacementPoint(n))}}}(E),function(e){var t=e;t.DrawerBase=function(){function n(t){y(this,n),e.console.assert(t.viewer,"[Drawer] options.viewer is required"),e.console.assert(t.viewport,"[Drawer] options.viewport is required"),e.console.assert(t.element,"[Drawer] options.element is required"),this.viewer=t.viewer,this.viewport=t.viewport,this.debugGridColor="string"==typeof t.debugGridColor?[t.debugGridColor]:t.debugGridColor||e.DEFAULT_SETTINGS.debugGridColor,this.options=t.options||{},this.container=e.getElement(t.element),this._renderingTarget=this._createDrawingElement(),this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",this.canvas.style.left="0",e.setElementOpacity(this.canvas,this.viewer.opacity,!0),e.setElementPointerEventsNone(this.canvas),e.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._checkForAPIOverrides()}return w(n,[{key:"canvas",get:function(){return this._renderingTarget}},{key:"element",get:function(){return e.console.error("Drawer.element is deprecated. Use Drawer.container instead."),this.container}},{key:"getType",value:function(){e.console.error("Drawer.getType must be implemented by child class")}},{key:"_createDrawingElement",value:function(){return e.console.error("Drawer._createDrawingElement must be implemented by child class"),null}},{key:"draw",value:function(t){e.console.error("Drawer.draw must be implemented by child class")}},{key:"canRotate",value:function(){e.console.error("Drawer.canRotate must be implemented by child class")}},{key:"destroy",value:function(){e.console.error("Drawer.destroy must be implemented by child class")}},{key:"minimumOverlapRequired",value:function(e){return!1}},{key:"setImageSmoothingEnabled",value:function(t){e.console.error("Drawer.setImageSmoothingEnabled must be implemented by child class")}},{key:"drawDebuggingRect",value:function(t){e.console.warn("[drawer].drawDebuggingRect is not implemented by this drawer")}},{key:"clear",value:function(){e.console.warn("[drawer].clear() is deprecated. The drawer is responsible for clearing itself as needed before drawing tiles.")}},{key:"_checkForAPIOverrides",value:function(){if(this._createDrawingElement===e.DrawerBase.prototype._createDrawingElement)throw new Error("[drawer]._createDrawingElement must be implemented by child class");if(this.draw===e.DrawerBase.prototype.draw)throw new Error("[drawer].draw must be implemented by child class");if(this.canRotate===e.DrawerBase.prototype.canRotate)throw new Error("[drawer].canRotate must be implemented by child class");if(this.destroy===e.DrawerBase.prototype.destroy)throw new Error("[drawer].destroy must be implemented by child class");if(this.setImageSmoothingEnabled===e.DrawerBase.prototype.setImageSmoothingEnabled)throw new Error("[drawer].setImageSmoothingEnabled must be implemented by child class")}},{key:"viewportToDrawerRectangle",value:function(t){var n=this.viewport.pixelFromPointNoRotate(t.getTopLeft(),!0),r=this.viewport.deltaPixelsFromPointsNoRotate(t.getSize(),!0);return new e.Rect(n.x*e.pixelDensityRatio,n.y*e.pixelDensityRatio,r.x*e.pixelDensityRatio,r.y*e.pixelDensityRatio)}},{key:"viewportCoordToDrawerCoord",value:function(t){var n=this.viewport.pixelFromPointNoRotate(t,!0);return new e.Point(n.x*e.pixelDensityRatio,n.y*e.pixelDensityRatio)}},{key:"_calculateCanvasSize",value:function(){var n=e.pixelDensityRatio,r=this.viewport.getContainerSize();return new t.Point(Math.round(r.x*n),Math.round(r.y*n))}},{key:"_raiseTiledImageDrawnEvent",value:function(e,t){this.viewer&&this.viewer.raiseEvent("tiled-image-drawn",{tiledImage:e,tiles:t})}},{key:"_raiseDrawerErrorEvent",value:function(e,t){this.viewer&&this.viewer.raiseEvent("drawer-error",{tiledImage:e,drawer:this,error:t})}}],[{key:"isSupported",value:function(){e.console.error("Drawer.isSupported must be implemented by child class")}}]),n}()}(E),function(e){var t=function(t){function n(e){var t;return y(this,n),(t=c(this,n,[e])).viewer.rejectEventHandler("tile-drawing","The HTMLDrawer does not raise the tile-drawing event"),t.viewer.allowEventHandler("tile-drawn"),t}return p(n,t),w(n,[{key:"getType",value:function(){return"html"}},{key:"minimumOverlapRequired",value:function(e){return!0}},{key:"_createDrawingElement",value:function(){return e.makeNeutralElement("div")}},{key:"draw",value:function(e){var t=this;this._prepareNewFrame(),e.forEach((function(e){0!==e.opacity&&t._drawTiles(e)}))}},{key:"canRotate",value:function(){return!1}},{key:"destroy",value:function(){this.container.removeChild(this.canvas)}},{key:"setImageSmoothingEnabled",value:function(){}},{key:"_prepareNewFrame",value:function(){this.canvas.innerHTML=""}},{key:"_drawTiles",value:function(e){var t=e.getTilesToDraw().map((function(e){return e.tile}));if(0!==e.opacity&&(0!==t.length||e.placeholderFillStyle))for(var n=t.length-1;n>=0;n--){var r=t[n];this._drawTile(r),this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:e,tile:r})}}},{key:"_drawTile",value:function(t){e.console.assert(t,"[Drawer._drawTile] tile is required");var n=this.canvas;if(t.cacheImageRecord)if(t.loaded){if(!t.element){var r=t.getImage();if(!r)return;t.element=e.makeNeutralElement("div"),t.imgElement=r.cloneNode(),t.imgElement.style.msInterpolationMode="nearest-neighbor",t.imgElement.style.width="100%",t.imgElement.style.height="100%",t.style=t.element.style,t.style.position="absolute"}t.element.parentNode!==n&&n.appendChild(t.element),t.imgElement.parentNode!==t.element&&t.element.appendChild(t.imgElement),t.style.top=t.position.y+"px",t.style.left=t.position.x+"px",t.style.height=t.size.y+"px",t.style.width=t.size.x+"px",t.flipped&&(t.style.transform="scaleX(-1)"),e.setElementOpacity(t.element,t.opacity)}else e.console.warn("Attempting to draw tile %s when it's not yet loaded.",t.toString());else e.console.warn("[Drawer._drawTileToHTML] attempting to draw tile %s when it's not cached",t.toString())}}],[{key:"isSupported",value:function(){return!0}}]),n}(e.DrawerBase);e.HTMLDrawer=t}(E),function(e){var t=function(t){function o(e){var t;return y(this,o),(t=c(this,o,[e])).context=t.canvas.getContext("2d"),t.sketchCanvas=null,t.sketchContext=null,t._imageSmoothingEnabled=!0,t.viewer.allowEventHandler("tile-drawn"),t.viewer.allowEventHandler("tile-drawing"),t}return p(o,t),w(o,[{key:"getType",value:function(){return"canvas"}},{key:"_createDrawingElement",value:function(){var t=e.makeNeutralElement("canvas"),n=this._calculateCanvasSize();return t.width=n.x,t.height=n.y,t}},{key:"draw",value:function(e){this._prepareNewFrame(),this.viewer.viewport.getFlip()!==this._viewportFlipped&&this._flip();var t,n=m(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;0!==r.opacity&&this._drawTiles(r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"canRotate",value:function(){return!0}},{key:"destroy",value:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null,this.container.removeChild(this.canvas)}},{key:"minimumOverlapRequired",value:function(e){return!0}},{key:"setImageSmoothingEnabled",value:function(e){this._imageSmoothingEnabled=!!e,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw()}},{key:"drawDebuggingRect",value:function(t){var n=this.context;n.save(),n.lineWidth=2*e.pixelDensityRatio,n.strokeStyle=this.debugGridColor[0],n.fillStyle=this.debugGridColor[0],n.strokeRect(t.x*e.pixelDensityRatio,t.y*e.pixelDensityRatio,t.width*e.pixelDensityRatio,t.height*e.pixelDensityRatio),n.restore()}},{key:"_viewportFlipped",get:function(){return this.context.getTransform().a<0}},{key:"_raiseTileDrawingEvent",value:function(e,t,n,r){this.viewer.raiseEvent("tile-drawing",{tiledImage:e,context:t,tile:n,rendered:r})}},{key:"_prepareNewFrame",value:function(){var e=this._calculateCanvasSize();if((this.canvas.width!==e.x||this.canvas.height!==e.y)&&(this.canvas.width=e.x,this.canvas.height=e.y,this._updateImageSmoothingEnabled(this.context),null!==this.sketchCanvas)){var t=this._calculateSketchCanvasSize();this.sketchCanvas.width=t.x,this.sketchCanvas.height=t.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},{key:"_clear",value:function(e,t){var n=this._getContext(e);if(t)n.clearRect(t.x,t.y,t.width,t.height);else{var r=n.canvas;n.clearRect(0,0,r.width,r.height)}}},{key:"_drawTiles",value:function(t){var o=t.getTilesToDraw().map((function(e){return e.tile}));if(0!==t.opacity&&(0!==o.length||t.placeholderFillStyle)){var a,s,l,u=o[0];u&&(a=t.opacity<1||t.compositeOperation&&"source-over"!==t.compositeOperation||!t._isBottomItem()&&t.source.hasTransparency(u.context2D,u.getUrl(),u.ajaxHeaders,u.postData));var c,f=this.viewport.getZoom(!0),d=t.viewportToImageZoom(f);o.length>1&&d>t.smoothTileEdgesMinZoom&&!t.iOSDevice&&t.getRotation(!0)%360==0&&(a=!0,s=u.getScaleForEdgeSmoothing(),l=u.getTranslationForEdgeSmoothing(s,this._getCanvasSize(!1),this._getCanvasSize(!0))),a&&(s||(c=(c=this.viewport.viewportToViewerElementRectangle(t.getClippedBounds(!0)).getIntegerBoundingBox()).times(e.pixelDensityRatio)),this._clear(!0,c)),s||this._setRotations(t,a);var p=!1;if(t._clip){this._saveContext(a);var h=t.imageToViewportRectangle(t._clip,!0);h=h.rotate(-t.getRotation(!0),t._getRotationPoint(!0));var m=this.viewportToDrawerRectangle(h);s&&(m=m.times(s)),l&&(m=m.translate(l)),this._setClip(m,a),p=!0}if(t._croppingPolygons){var v=this;p||this._saveContext(a);try{var g=t._croppingPolygons.map((function(e){return e.map((function(e){var n=t.imageToViewportCoordinates(e.x,e.y,!0).rotate(-t.getRotation(!0),t._getRotationPoint(!0)),r=v.viewportCoordToDrawerCoord(n);return s&&(r=r.times(s)),l&&(r=r.plus(l)),r}))}));this._clipWithPolygons(g,a)}catch(t){e.console.error(t)}p=!0}if(t._hasOpaqueTile=!1,t.placeholderFillStyle&&!1===t._hasOpaqueTile){var y=this.viewportToDrawerRectangle(t.getBoundsNoRotate(!0));s&&(y=y.times(s)),l&&(y=y.translate(l));var b;b="function"==typeof t.placeholderFillStyle?t.placeholderFillStyle(t,this.context):t.placeholderFillStyle,this._drawRectangle(y,b,a)}var w=function(t){if("number"==typeof t)return i(t);if(!t||!e.Browser)return n;var o=t[e.Browser.vendor];return r(o)&&(o=t["*"]),i(o)}(t.subPixelRoundingForTransparency),x=!1;w===e.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS?x=!0:w===e.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&(x=!(this.viewer&&this.viewer.isAnimating()));for(var S=0;S<o.length;S++)u=o[S],this._drawTile(u,t,a,s,l,x,t.source),this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:t,tile:u});p&&this._restoreContext(a),s||(t.getRotation(!0)%360!=0&&this._restoreRotationChanges(a),this.viewport.getRotation(!0)%360!=0&&this._restoreRotationChanges(a)),a&&(s&&this._setRotations(t),this.blendSketch({opacity:t.opacity,scale:s,translate:l,compositeOperation:t.compositeOperation,bounds:c}),s&&(t.getRotation(!0)%360!=0&&this._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!=0&&this._restoreRotationChanges(!1))),this._drawDebugInfo(t,o),this._raiseTiledImageDrawnEvent(t,o)}}},{key:"_drawDebugInfo",value:function(t,n){if(t.debugMode)for(var r=n.length-1;r>=0;r--){var i=n[r];try{this._drawDebugInfoOnTile(i,n.length,r,t)}catch(t){e.console.error(t)}}}},{key:"_clipWithPolygons",value:function(e,t){var n=this._getContext(t);n.beginPath();var r,i=m(e);try{for(i.s();!(r=i.n()).done;){var o,a=m(r.value.entries());try{for(a.s();!(o=a.n()).done;){var s=u(o.value,2),l=s[0],c=s[1];n[0===l?"moveTo":"lineTo"](c.x,c.y)}}catch(e){a.e(e)}finally{a.f()}}}catch(e){i.e(e)}finally{i.f()}n.clip()}},{key:"_drawTile",value:function(t,n,r,i,o,a,s){e.console.assert(t,"[Drawer._drawTile] tile is required"),e.console.assert(n,"[Drawer._drawTile] drawingHandler is required");var l=this._getContext(r);i=i||1,this._drawTileToCanvas(t,l,n,i,o,a,s)}},{key:"_drawTileToCanvas",value:function(t,n,r,i,o,a,s){var l,u,c,f=t.position.times(e.pixelDensityRatio),d=t.size.times(e.pixelDensityRatio);t.context2D||t.cacheImageRecord?(l=t.getCanvasContext(),t.loaded&&l?(n.save(),"number"==typeof i&&1!==i&&(f=f.times(i),d=d.times(i)),o instanceof e.Point&&(f=f.plus(o)),1===n.globalAlpha&&t.hasTransparency&&(a&&(f.x=Math.round(f.x),f.y=Math.round(f.y),d.x=Math.round(d.x),d.y=Math.round(d.y)),n.clearRect(f.x,f.y,d.x,d.y)),this._raiseTileDrawingEvent(r,n,t,l),t.sourceBounds?(u=Math.min(t.sourceBounds.width,l.canvas.width),c=Math.min(t.sourceBounds.height,l.canvas.height)):(u=l.canvas.width,c=l.canvas.height),n.translate(f.x+d.x/2,0),t.flipped&&n.scale(-1,1),n.drawImage(l.canvas,0,0,u,c,-d.x/2,f.y,d.x,d.y),n.restore()):e.console.warn("Attempting to draw tile %s when it's not yet loaded.",t.toString())):e.console.warn("[Drawer._drawTileToCanvas] attempting to draw tile %s when it's not cached",t.toString())}},{key:"_getContext",value:function(e){var t=this.context;if(e){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var n=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=n.x,this.sketchCanvas.height=n.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var r=this;this.viewer.addHandler("rotate",(function e(){if(0!==r.viewport.getRotation()){r.viewer.removeHandler("rotate",e);var t=r._calculateSketchCanvasSize();r.sketchCanvas.width=t.x,r.sketchCanvas.height=t.y}}))}this._updateImageSmoothingEnabled(this.sketchContext)}t=this.sketchContext}return t}},{key:"_saveContext",value:function(e){this._getContext(e).save()}},{key:"_restoreContext",value:function(e){this._getContext(e).restore()}},{key:"_setClip",value:function(e,t){var n=this._getContext(t);n.beginPath(),n.rect(e.x,e.y,e.width,e.height),n.clip()}},{key:"_drawRectangle",value:function(e,t,n){var r=this._getContext(n);r.save(),r.fillStyle=t,r.fillRect(e.x,e.y,e.width,e.height),r.restore()}},{key:"blendSketch",value:function(t,n,r,i){var o=t;e.isPlainObject(o)||(o={opacity:t,scale:n,translate:r,compositeOperation:i}),t=o.opacity,i=o.compositeOperation;var a=o.bounds;if(this.context.save(),this.context.globalAlpha=t,i&&(this.context.globalCompositeOperation=i),a)a.x<0&&(a.width+=a.x,a.x=0),a.x+a.width>this.canvas.width&&(a.width=this.canvas.width-a.x),a.y<0&&(a.height+=a.y,a.y=0),a.y+a.height>this.canvas.height&&(a.height=this.canvas.height-a.y),this.context.drawImage(this.sketchCanvas,a.x,a.y,a.width,a.height,a.x,a.y,a.width,a.height);else{n=o.scale||1;var s=(r=o.translate)instanceof e.Point?r:new e.Point(0,0),l=0,u=0;if(r){var c=this.sketchCanvas.width-this.canvas.width,f=this.sketchCanvas.height-this.canvas.height;l=Math.round(c/2),u=Math.round(f/2)}this.context.drawImage(this.sketchCanvas,s.x-l*n,s.y-u*n,(this.canvas.width+2*l)*n,(this.canvas.height+2*u)*n,-l,-u,this.canvas.width+2*l,this.canvas.height+2*u)}this.context.restore()}},{key:"_drawDebugInfoOnTile",value:function(t,n,r,i){var o=this.viewer.world.getIndexOfItem(i)%this.debugGridColor.length,a=this.context;a.save(),a.lineWidth=2*e.pixelDensityRatio,a.font="small-caps bold "+13*e.pixelDensityRatio+"px arial",a.strokeStyle=this.debugGridColor[o],a.fillStyle=this.debugGridColor[o],this._setRotations(i),this._viewportFlipped&&this._flip({point:t.position.plus(t.size.divide(2))}),a.strokeRect(t.position.x*e.pixelDensityRatio,t.position.y*e.pixelDensityRatio,t.size.x*e.pixelDensityRatio,t.size.y*e.pixelDensityRatio);var s=(t.position.x+t.size.x/2)*e.pixelDensityRatio,l=(t.position.y+t.size.y/2)*e.pixelDensityRatio;a.translate(s,l);var u=this.viewport.getRotation(!0);a.rotate(Math.PI/180*-u),a.translate(-s,-l),0===t.x&&0===t.y&&(a.fillText("Zoom: "+this.viewport.getZoom(),t.position.x*e.pixelDensityRatio,(t.position.y-30)*e.pixelDensityRatio),a.fillText("Pan: "+this.viewport.getBounds().toString(),t.position.x*e.pixelDensityRatio,(t.position.y-20)*e.pixelDensityRatio)),a.fillText("Level: "+t.level,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+20)*e.pixelDensityRatio),a.fillText("Column: "+t.x,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+30)*e.pixelDensityRatio),a.fillText("Row: "+t.y,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+40)*e.pixelDensityRatio),a.fillText("Order: "+r+" of "+n,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+50)*e.pixelDensityRatio),a.fillText("Size: "+t.size.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+60)*e.pixelDensityRatio),a.fillText("Position: "+t.position.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+70)*e.pixelDensityRatio),this.viewport.getRotation(!0)%360!=0&&this._restoreRotationChanges(),i.getRotation(!0)%360!=0&&this._restoreRotationChanges(),a.restore()}},{key:"_updateImageSmoothingEnabled",value:function(e){e.msImageSmoothingEnabled=this._imageSmoothingEnabled,e.imageSmoothingEnabled=this._imageSmoothingEnabled}},{key:"_getCanvasSize",value:function(t){var n=this._getContext(t).canvas;return new e.Point(n.width,n.height)}},{key:"_getCanvasCenter",value:function(){return new e.Point(this.canvas.width/2,this.canvas.height/2)}},{key:"_setRotations",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;this.viewport.getRotation(!0)%360!=0&&(this._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:t,saveContext:n}),n=!1),e.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:e.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(e._getRotationPoint(!0),!0),useSketch:t,saveContext:n})}},{key:"_offsetForRotation",value:function(t){var n=t.point?t.point.times(e.pixelDensityRatio):this._getCanvasCenter(),r=this._getContext(t.useSketch);r.save(),r.translate(n.x,n.y),r.rotate(Math.PI/180*t.degrees),r.translate(-n.x,-n.y)}},{key:"_flip",value:function(t){var n=(t=t||{}).point?t.point.times(e.pixelDensityRatio):this._getCanvasCenter(),r=this._getContext(t.useSketch);r.translate(n.x,0),r.scale(-1,1),r.translate(-n.x,0)}},{key:"_restoreRotationChanges",value:function(e){this._getContext(e).restore()}},{key:"_calculateCanvasSize",value:function(){var t=e.pixelDensityRatio,n=this.viewport.getContainerSize();return{x:Math.round(n.x*t),y:Math.round(n.y*t)}}},{key:"_calculateSketchCanvasSize",value:function(){var e=this._calculateCanvasSize();if(0===this.viewport.getRotation())return e;var t=Math.ceil(Math.sqrt(e.x*e.x+e.y*e.y));return{x:t,y:t}}}],[{key:"isSupported",value:function(){return e.supportsCanvas}}]),o}(e.DrawerBase);e.CanvasDrawer=t;var n=e.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function r(t){return t!==e.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&t!==e.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&t!==e.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function i(e){return r(e)?n:e}}(E),function(e){var t=e;t.WebGLDrawer=function(t){function n(e){var t;return y(this,n),(t=c(this,n,[e]))._destroyed=!1,t._TextureMap=new Map,t._TileMap=new Map,t._gl=null,t._firstPass=null,t._secondPass=null,t._glFrameBuffer=null,t._renderToTexture=null,t._glFramebufferToCanvasTransform=null,t._outputCanvas=null,t._outputContext=null,t._clippingCanvas=null,t._clippingContext=null,t._renderingCanvas=null,t._backupCanvasDrawer=null,t._boundToTileReady=function(e){return t._tileReadyHandler(e)},t._boundToImageUnloaded=function(e){return t._imageUnloadedHandler(e)},t.viewer.addHandler("tile-ready",t._boundToTileReady),t.viewer.addHandler("image-unloaded",t._boundToImageUnloaded),t.viewer.rejectEventHandler("tile-drawn","The WebGLDrawer does not raise the tile-drawn event"),t.viewer.rejectEventHandler("tile-drawing","The WebGLDrawer does not raise the tile-drawing event"),t._setupCanvases(),t._setupRenderer(),t.context=t._outputContext,t}return p(n,t),w(n,[{key:"destroy",value:function(){var e=this;if(!this._destroyed){for(var t=this._gl,n=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),r=0;r<n;++r)t.activeTexture(t.TEXTURE0+r),t.bindTexture(t.TEXTURE_2D,null),t.bindTexture(t.TEXTURE_CUBE_MAP,null);t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),Array.from(this._TextureMap.keys()).forEach((function(t){e._cleanupImageData(t)})),t.deleteBuffer(this._secondPass.bufferOutputPosition),t.deleteFramebuffer(this._glFrameBuffer),this._renderingCanvas.width=this._renderingCanvas.height=1,this._clippingCanvas.width=this._clippingCanvas.height=1,this._outputCanvas.width=this._outputCanvas.height=1,this._renderingCanvas=null,this._clippingCanvas=this._clippingContext=null,this._outputCanvas=this._outputContext=null;var i=t.getExtension("WEBGL_lose_context");i&&i.loseContext(),this.viewer.removeHandler("tile-ready",this._boundToTileReady),this.viewer.removeHandler("image-unloaded",this._boundToImageUnloaded),this.viewer.removeHandler("resize",this._resizeHandler),this._gl=null,this._backupCanvasDrawer&&(this._backupCanvasDrawer.destroy(),this._backupCanvasDrawer=null),this.container.removeChild(this.canvas),this.viewer.drawer===this&&(this.viewer.drawer=null),this._destroyed=!0}}},{key:"canRotate",value:function(){return!0}},{key:"getType",value:function(){return"webgl"}},{key:"minimumOverlapRequired",value:function(e){return e.isTainted()}},{key:"_createDrawingElement",value:function(){var t=e.makeNeutralElement("canvas"),n=this._calculateCanvasSize();return t.width=n.x,t.height=n.y,t}},{key:"_getBackupCanvasDrawer",value:function(){return this._backupCanvasDrawer||(this._backupCanvasDrawer=this.viewer.requestDrawer("canvas",{mainDrawer:!1}),this._backupCanvasDrawer.canvas.style.setProperty("visibility","hidden")),this._backupCanvasDrawer}},{key:"draw",value:function(t){var n=this,r=this._gl,i=this.viewport.getBoundsNoRotate(!0),o=this.viewport.getCenter(!0),a=this.viewport.getRotation(!0)*Math.PI/180,s=this.viewport.flipped?-1:1,l=e.Mat3.makeTranslation(-o.x,-o.y),u=e.Mat3.makeScaling(2/i.width*s,-2/i.height),c=e.Mat3.makeRotation(-a),f=u.multiply(c).multiply(l);r.bindFramebuffer(r.FRAMEBUFFER,null),r.clear(r.COLOR_BUFFER_BIT),this._outputContext.clearRect(0,0,this._outputCanvas.width,this._outputCanvas.height);var d=!1;t.forEach((function(t,i){if(t.isTainted()){d&&(n._outputContext.drawImage(n._renderingCanvas,0,0),r.bindFramebuffer(r.FRAMEBUFFER,null),r.clear(r.COLOR_BUFFER_BIT),d=!1);var o=n._getBackupCanvasDrawer();o.draw([t]),n._outputContext.drawImage(o.canvas,0,0)}else{var a=t.getTilesToDraw();if(t.placeholderFillStyle&&!1===t._hasOpaqueTile&&n._drawPlaceholder(t),0===a.length||0===t.getOpacity())return;var s=a[0],l=t.compositeOperation||n.viewer.compositeOperation||t._clip||t._croppingPolygons||t.debugMode,u=l||t.opacity<1||s.hasTransparency;l&&(d&&n._outputContext.drawImage(n._renderingCanvas,0,0),r.bindFramebuffer(r.FRAMEBUFFER,null),r.clear(r.COLOR_BUFFER_BIT)),r.useProgram(n._firstPass.shaderProgram),u?(r.bindFramebuffer(r.FRAMEBUFFER,n._glFrameBuffer),r.clear(r.COLOR_BUFFER_BIT)):r.bindFramebuffer(r.FRAMEBUFFER,null);var c=f,p=t.getRotation(!0);if(p%360!=0){var h=e.Mat3.makeRotation(-p*Math.PI/180),m=t.getBoundsNoRotate(!0).getCenter(),v=e.Mat3.makeTranslation(m.x,m.y),g=e.Mat3.makeTranslation(-m.x,-m.y),y=v.multiply(h).multiply(g);c=f.multiply(y)}var b=n._gl.getParameter(n._gl.MAX_TEXTURE_IMAGE_UNITS);if(b<=0)throw new Error("WegGL error: bad value for gl parameter MAX_TEXTURE_IMAGE_UNITS (".concat(b,"). This could happen\n                        if too many contexts have been created and not released, or there is another problem with the graphics card."));for(var w=new Float32Array(12*b),x=new Array(b),S=new Array(b),E=new Array(b),_=0;_<a.length;_++){var T=a[_].tile,O=_%b,A=O+1,C=T.getCanvasContext(),P=C?n._TextureMap.get(C.canvas):null;if(P||(n._tileReadyHandler({tile:T,tiledImage:t}),P=C?n._TextureMap.get(C.canvas):null),P&&n._getTileData(T,t,P,c,O,w,x,S,E),A===b||_===a.length-1){for(var k=0;k<=A;k++)r.activeTexture(r.TEXTURE0+k),r.bindTexture(r.TEXTURE_2D,x[k]);r.bindBuffer(r.ARRAY_BUFFER,n._firstPass.bufferTexturePosition),r.bufferData(r.ARRAY_BUFFER,w,r.DYNAMIC_DRAW),S.forEach((function(e,t){r.uniformMatrix3fv(n._firstPass.uTransformMatrices[t],!1,e)})),r.uniform1fv(n._firstPass.uOpacities,new Float32Array(E)),r.bindBuffer(r.ARRAY_BUFFER,n._firstPass.bufferOutputPosition),r.vertexAttribPointer(n._firstPass.aOutputPosition,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,n._firstPass.bufferTexturePosition),r.vertexAttribPointer(n._firstPass.aTexturePosition,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,n._firstPass.bufferIndex),r.vertexAttribPointer(n._firstPass.aIndex,1,r.FLOAT,!1,0,0),r.drawArrays(r.TRIANGLES,0,6*A)}}u&&(r.useProgram(n._secondPass.shaderProgram),r.bindFramebuffer(r.FRAMEBUFFER,null),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,n._renderToTexture),n._gl.uniform1f(n._secondPass.uOpacityMultiplier,t.opacity),r.bindBuffer(r.ARRAY_BUFFER,n._secondPass.bufferTexturePosition),r.vertexAttribPointer(n._secondPass.aTexturePosition,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,n._secondPass.bufferOutputPosition),r.vertexAttribPointer(n._firstPass.aOutputPosition,2,r.FLOAT,!1,0,0),r.drawArrays(r.TRIANGLES,0,6)),d=!0,l&&(n._applyContext2dPipeline(t,a,i),d=!1,r.bindFramebuffer(r.FRAMEBUFFER,null),r.clear(r.COLOR_BUFFER_BIT)),0===i&&n._raiseTiledImageDrawnEvent(t,a.map((function(e){return e.tile})))}})),d&&this._outputContext.drawImage(this._renderingCanvas,0,0)}},{key:"setImageSmoothingEnabled",value:function(e){}},{key:"drawDebuggingRect",value:function(t){var n=this._outputContext;n.save(),n.lineWidth=2*e.pixelDensityRatio,n.strokeStyle=this.debugGridColor[0],n.fillStyle=this.debugGridColor[0],n.strokeRect(t.x*e.pixelDensityRatio,t.y*e.pixelDensityRatio,t.width*e.pixelDensityRatio,t.height*e.pixelDensityRatio),n.restore()}},{key:"_getTextureDataFromTile",value:function(e){return e.getCanvasContext().canvas}},{key:"_applyContext2dPipeline",value:function(e,t,n){if(this._outputContext.save(),this._outputContext.globalCompositeOperation=0===n?null:e.compositeOperation||this.viewer.compositeOperation,e._croppingPolygons||e._clip?(this._renderToClippingCanvas(e),this._outputContext.drawImage(this._clippingCanvas,0,0)):this._outputContext.drawImage(this._renderingCanvas,0,0),this._outputContext.restore(),e.debugMode){var r=this.viewer.viewport.getFlip();r&&this._flip(),this._drawDebugInfo(t,e,r),r&&this._flip()}}},{key:"_getTileData",value:function(t,n,r,i,o,a,s,l,u){var c=r.texture,f=r.position;a.set(f,12*o);var d=this._calculateOverlapFraction(t,n),p=t.positionedBounds.width*d.x,h=t.positionedBounds.height*d.y,m=t.positionedBounds.x+(0===t.x?0:p),v=t.positionedBounds.y+(0===t.y?0:h),g=t.positionedBounds.x+t.positionedBounds.width-(t.isRightMost?0:p)-m,y=t.positionedBounds.y+t.positionedBounds.height-(t.isBottomMost?0:h)-v,b=new e.Mat3([g,0,0,0,y,0,m,v,1]);if(t.flipped){var w=e.Mat3.makeTranslation(.5,0),x=e.Mat3.makeTranslation(-.5,0),S=w.multiply(e.Mat3.makeScaling(-1,1)).multiply(x);b=b.multiply(S)}var E=i.multiply(b);u[o]=t.opacity,s[o]=c,l[o]=E.values}},{key:"_setupRenderer",value:function(){var t=this._gl;t||e.console.error("_setupCanvases must be called before _setupRenderer"),this._unitQuad=this._makeQuadVertexBuffer(0,1,0,1),this._makeFirstPassShaderProgram(),this._makeSecondPassShaderProgram(),this._renderToTexture=t.createTexture(),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this._renderToTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this._renderingCanvas.width,this._renderingCanvas.height,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this._glFrameBuffer=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this._glFrameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this._renderToTexture,0),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA)}},{key:"_makeFirstPassShaderProgram",value:function(){var e=this._glNumTextures=this._gl.getParameter(this._gl.MAX_TEXTURE_IMAGE_UNITS),t="\n            attribute vec2 a_output_position;\n            attribute vec2 a_texture_position;\n            attribute float a_index;\n\n            ".concat(l(Array(e).keys()).map((function(e){return"uniform mat3 u_matrix_".concat(e,";")})).join("\n")," // create a uniform mat3 for each potential tile to draw\n\n            varying vec2 v_texture_position;\n            varying float v_image_index;\n\n            void main() {\n\n                mat3 transform_matrix; // value will be set by the if/elses in makeConditional()\n\n                ").concat(l(Array(e).keys()).map((function(e){return"".concat(e>0?"else ":"","if(int(a_index) == ").concat(e,") { transform_matrix = u_matrix_").concat(e,"; }")})).join("\n"),"\n\n                gl_Position = vec4(transform_matrix * vec3(a_output_position, 1), 1);\n\n                v_texture_position = a_texture_position;\n                v_image_index = a_index;\n            }\n            "),n="\n            precision mediump float;\n\n            // our textures\n            uniform sampler2D u_images[".concat(e,"];\n            // our opacities\n            uniform float u_opacities[").concat(e,"];\n\n            // the varyings passed in from the vertex shader.\n            varying vec2 v_texture_position;\n            varying float v_image_index;\n\n            void main() {\n                // can't index directly with a variable, need to use a loop iterator hack\n                for(int i = 0; i < ").concat(e,"; ++i){\n                    if(i == int(v_image_index)){\n                        gl_FragColor = texture2D(u_images[i], v_texture_position) * u_opacities[i];\n                    }\n                }\n            }\n            "),r=this._gl,i=this.constructor.initShaderProgram(r,t,n);r.useProgram(i),this._firstPass={shaderProgram:i,aOutputPosition:r.getAttribLocation(i,"a_output_position"),aTexturePosition:r.getAttribLocation(i,"a_texture_position"),aIndex:r.getAttribLocation(i,"a_index"),uTransformMatrices:l(Array(this._glNumTextures).keys()).map((function(e){return r.getUniformLocation(i,"u_matrix_".concat(e))})),uImages:r.getUniformLocation(i,"u_images"),uOpacities:r.getUniformLocation(i,"u_opacities"),bufferOutputPosition:r.createBuffer(),bufferTexturePosition:r.createBuffer(),bufferIndex:r.createBuffer()},r.uniform1iv(this._firstPass.uImages,l(Array(e).keys()));for(var o=new Float32Array(12*e),a=0;a<e;++a)o.set(Float32Array.from(this._unitQuad),12*a);r.bindBuffer(r.ARRAY_BUFFER,this._firstPass.bufferOutputPosition),r.bufferData(r.ARRAY_BUFFER,o,r.STATIC_DRAW),r.enableVertexAttribArray(this._firstPass.aOutputPosition),r.bindBuffer(r.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),r.enableVertexAttribArray(this._firstPass.aTexturePosition),r.bindBuffer(r.ARRAY_BUFFER,this._firstPass.bufferIndex);var s=l(Array(this._glNumTextures).keys()).map((function(e){return Array(6).fill(e)})).flat();r.bufferData(r.ARRAY_BUFFER,new Float32Array(s),r.STATIC_DRAW),r.enableVertexAttribArray(this._firstPass.aIndex)}},{key:"_makeSecondPassShaderProgram",value:function(){var t=this._gl,n=this.constructor.initShaderProgram(t,"\n            attribute vec2 a_output_position;\n            attribute vec2 a_texture_position;\n\n            uniform mat3 u_matrix;\n\n            varying vec2 v_texture_position;\n\n            void main() {\n                gl_Position = vec4(u_matrix * vec3(a_output_position, 1), 1);\n\n                v_texture_position = a_texture_position;\n            }\n            ","\n            precision mediump float;\n\n            // our texture\n            uniform sampler2D u_image;\n\n            // the texCoords passed in from the vertex shader.\n            varying vec2 v_texture_position;\n\n            // the opacity multiplier for the image\n            uniform float u_opacity_multiplier;\n\n            void main() {\n                gl_FragColor = texture2D(u_image, v_texture_position);\n                gl_FragColor *= u_opacity_multiplier;\n            }\n            ");t.useProgram(n),this._secondPass={shaderProgram:n,aOutputPosition:t.getAttribLocation(n,"a_output_position"),aTexturePosition:t.getAttribLocation(n,"a_texture_position"),uMatrix:t.getUniformLocation(n,"u_matrix"),uImage:t.getUniformLocation(n,"u_image"),uOpacityMultiplier:t.getUniformLocation(n,"u_opacity_multiplier"),bufferOutputPosition:t.createBuffer(),bufferTexturePosition:t.createBuffer()},t.bindBuffer(t.ARRAY_BUFFER,this._secondPass.bufferOutputPosition),t.bufferData(t.ARRAY_BUFFER,this._unitQuad,t.STATIC_DRAW),t.enableVertexAttribArray(this._secondPass.aOutputPosition),t.bindBuffer(t.ARRAY_BUFFER,this._secondPass.bufferTexturePosition),t.bufferData(t.ARRAY_BUFFER,this._unitQuad,t.DYNAMIC_DRAW),t.enableVertexAttribArray(this._secondPass.aTexturePosition);var r=e.Mat3.makeScaling(2,2).multiply(e.Mat3.makeTranslation(-.5,-.5));t.uniformMatrix3fv(this._secondPass.uMatrix,!1,r.values)}},{key:"_resizeRenderer",value:function(){var e=this._gl,t=this._renderingCanvas.width,n=this._renderingCanvas.height;e.viewport(0,0,t,n),e.deleteTexture(this._renderToTexture),this._renderToTexture=e.createTexture(),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this._renderToTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.bindFramebuffer(e.FRAMEBUFFER,this._glFrameBuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this._renderToTexture,0)}},{key:"_setupCanvases",value:function(){var e=this;this._outputCanvas=this.canvas,this._outputContext=this._outputCanvas.getContext("2d"),this._renderingCanvas=document.createElement("canvas"),this._clippingCanvas=document.createElement("canvas"),this._clippingContext=this._clippingCanvas.getContext("2d"),this._renderingCanvas.width=this._clippingCanvas.width=this._outputCanvas.width,this._renderingCanvas.height=this._clippingCanvas.height=this._outputCanvas.height,this._gl=this._renderingCanvas.getContext("webgl"),this._resizeHandler=function(){e._outputCanvas!==e.viewer.drawer.canvas&&(e._outputCanvas.style.width=e.viewer.drawer.canvas.clientWidth+"px",e._outputCanvas.style.height=e.viewer.drawer.canvas.clientHeight+"px");var t=e._calculateCanvasSize();e._outputCanvas.width===t.x&&e._outputCanvas.height===t.y||(e._outputCanvas.width=t.x,e._outputCanvas.height=t.y),e._renderingCanvas.style.width=e._outputCanvas.clientWidth+"px",e._renderingCanvas.style.height=e._outputCanvas.clientHeight+"px",e._renderingCanvas.width=e._clippingCanvas.width=e._outputCanvas.width,e._renderingCanvas.height=e._clippingCanvas.height=e._outputCanvas.height,e._resizeRenderer()},this.viewer.addHandler("resize",this._resizeHandler)}},{key:"_makeQuadVertexBuffer",value:function(e,t,n,r){return new Float32Array([e,r,t,r,e,n,e,n,t,r,t,n])}},{key:"_tileReadyHandler",value:function(t){var n=t.tile,r=t.tiledImage;if(!r.isTainted()){var i=n.getCanvasContext(),o=i&&i.canvas;if(o&&!e.isCanvasTainted(o)){if(!this._TextureMap.get(o)){var a,s,l,u=this._gl,c=u.createTexture(),f=r.source.tileOverlap;if(n.sourceBounds?(s=Math.min(n.sourceBounds.width,o.width)/o.width,l=Math.min(n.sourceBounds.height,o.height)/o.height):(s=1,l=1),f>0){var d=this._calculateOverlapFraction(n,r),p=(0===n.x?0:d.x)*s,h=(0===n.y?0:d.y)*l,m=(n.isRightMost?1:1-d.x)*s,v=(n.isBottomMost?1:1-d.y)*l;a=this._makeQuadVertexBuffer(p,m,h,v)}else a=1===s&&1===l?this._unitQuad:this._makeQuadVertexBuffer(0,s,0,l);var g={texture:c,position:a};this._TextureMap.set(o,g),u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,c),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.LINEAR),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.LINEAR),this._uploadImageData(i)}}else r.isTainted()||(r.setTainted(!0),e.console.warn("WebGL cannot be used to draw this TiledImage because it has tainted data. Does crossOriginPolicy need to be set?"),this._raiseDrawerErrorEvent(r,"Tainted data cannot be used by the WebGLDrawer. Falling back to CanvasDrawer for this TiledImage."))}}},{key:"_calculateOverlapFraction",value:function(e,t){var n=t.source.tileOverlap,r=e.sourceBounds.width,i=e.sourceBounds.height;return{x:n/(r+((0===e.x?0:n)+(e.isRightMost?0:n))),y:n/(i+((0===e.y?0:n)+(e.isBottomMost?0:n)))}}},{key:"_uploadImageData",value:function(t){var n=this._gl,r=t.canvas;try{if(!r)throw t;n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r)}catch(t){e.console.error("Error uploading image data to WebGL",t)}}},{key:"_imageUnloadedHandler",value:function(e){var t=e.context2D.canvas;this._cleanupImageData(t)}},{key:"_cleanupImageData",value:function(e){var t=this._TextureMap.get(e);this._TextureMap.delete(e),t&&this._gl.deleteTexture(t.texture)}},{key:"_setClip",value:function(){}},{key:"_renderToClippingCanvas",value:function(t){var n=this;if(this._clippingContext.clearRect(0,0,this._clippingCanvas.width,this._clippingCanvas.height),this._clippingContext.save(),this.viewer.viewport.getFlip()){var r=new e.Point(this.canvas.width/2,this.canvas.height/2);this._clippingContext.translate(r.x,0),this._clippingContext.scale(-1,1),this._clippingContext.translate(-r.x,0)}if(t._clip){var i=[{x:t._clip.x,y:t._clip.y},{x:t._clip.x+t._clip.width,y:t._clip.y},{x:t._clip.x+t._clip.width,y:t._clip.y+t._clip.height},{x:t._clip.x,y:t._clip.y+t._clip.height}].map((function(e){var r=t.imageToViewportCoordinates(e.x,e.y,!0).rotate(n.viewer.viewport.getRotation(!0),n.viewer.viewport.getCenter(!0));return n.viewportCoordToDrawerCoord(r)}));this._clippingContext.beginPath(),i.forEach((function(e,t){n._clippingContext[0===t?"moveTo":"lineTo"](e.x,e.y)})),this._clippingContext.clip(),this._setClip()}if(t._croppingPolygons){var o=t._croppingPolygons.map((function(e){return e.map((function(e){var r=t.imageToViewportCoordinates(e.x,e.y,!0).rotate(n.viewer.viewport.getRotation(!0),n.viewer.viewport.getCenter(!0));return n.viewportCoordToDrawerCoord(r)}))}));this._clippingContext.beginPath(),o.forEach((function(e){e.forEach((function(e,t){n._clippingContext[0===t?"moveTo":"lineTo"](e.x,e.y)}))})),this._clippingContext.clip()}if(this.viewer.viewport.getFlip()){var a=new e.Point(this.canvas.width/2,this.canvas.height/2);this._clippingContext.translate(a.x,0),this._clippingContext.scale(-1,1),this._clippingContext.translate(-a.x,0)}this._clippingContext.drawImage(this._renderingCanvas,0,0),this._clippingContext.restore()}},{key:"_setRotations",value:function(e){var t=!1;this.viewport.getRotation(!0)%360!=0&&(this._offsetForRotation({degrees:this.viewport.getRotation(!0),saveContext:t}),t=!1),e.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:e.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(e._getRotationPoint(!0),!0),saveContext:t})}},{key:"_offsetForRotation",value:function(t){var n=t.point?t.point.times(e.pixelDensityRatio):this._getCanvasCenter(),r=this._outputContext;r.save(),r.translate(n.x,n.y),r.rotate(Math.PI/180*t.degrees),r.translate(-n.x,-n.y)}},{key:"_flip",value:function(t){var n=(t=t||{}).point?t.point.times(e.pixelDensityRatio):this._getCanvasCenter(),r=this._outputContext;r.translate(n.x,0),r.scale(-1,1),r.translate(-n.x,0)}},{key:"_drawDebugInfo",value:function(t,n,r){for(var i=t.length-1;i>=0;i--){var o=t[i].tile;try{this._drawDebugInfoOnTile(o,t.length,i,n,r)}catch(t){e.console.error(t)}}}},{key:"_drawDebugInfoOnTile",value:function(t,n,r,i,o){var a=this.viewer.world.getIndexOfItem(i)%this.debugGridColor.length,s=this.context;s.save(),s.lineWidth=2*e.pixelDensityRatio,s.font="small-caps bold "+13*e.pixelDensityRatio+"px arial",s.strokeStyle=this.debugGridColor[a],s.fillStyle=this.debugGridColor[a],this._setRotations(i),o&&this._flip({point:t.position.plus(t.size.divide(2))}),s.strokeRect(t.position.x*e.pixelDensityRatio,t.position.y*e.pixelDensityRatio,t.size.x*e.pixelDensityRatio,t.size.y*e.pixelDensityRatio);var l=(t.position.x+t.size.x/2)*e.pixelDensityRatio,u=(t.position.y+t.size.y/2)*e.pixelDensityRatio;s.translate(l,u);var c=this.viewport.getRotation(!0);s.rotate(Math.PI/180*-c),s.translate(-l,-u),0===t.x&&0===t.y&&(s.fillText("Zoom: "+this.viewport.getZoom(),t.position.x*e.pixelDensityRatio,(t.position.y-30)*e.pixelDensityRatio),s.fillText("Pan: "+this.viewport.getBounds().toString(),t.position.x*e.pixelDensityRatio,(t.position.y-20)*e.pixelDensityRatio)),s.fillText("Level: "+t.level,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+20)*e.pixelDensityRatio),s.fillText("Column: "+t.x,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+30)*e.pixelDensityRatio),s.fillText("Row: "+t.y,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+40)*e.pixelDensityRatio),s.fillText("Order: "+r+" of "+n,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+50)*e.pixelDensityRatio),s.fillText("Size: "+t.size.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+60)*e.pixelDensityRatio),s.fillText("Position: "+t.position.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+70)*e.pixelDensityRatio),this.viewport.getRotation(!0)%360!=0&&this._restoreRotationChanges(),i.getRotation(!0)%360!=0&&this._restoreRotationChanges(),s.restore()}},{key:"_drawPlaceholder",value:function(e){var t,n=e.getBounds(!0),r=this.viewportToDrawerRectangle(e.getBounds(!0)),i=this._outputContext;t="function"==typeof e.placeholderFillStyle?e.placeholderFillStyle(e,i):e.placeholderFillStyle,this._offsetForRotation({degrees:this.viewer.viewport.getRotation(!0)}),i.fillStyle=t,i.translate(r.x,r.y),i.rotate(Math.PI/180*n.degrees),i.translate(-r.x,-r.y),i.fillRect(r.x,r.y,r.width,r.height),this._restoreRotationChanges()}},{key:"_getCanvasCenter",value:function(){return new e.Point(this.canvas.width/2,this.canvas.height/2)}},{key:"_restoreRotationChanges",value:function(){this._outputContext.restore()}}],[{key:"isSupported",value:function(){var t=document.createElement("canvas"),n=e.isFunction(t.getContext)&&t.getContext("webgl"),r=n&&n.getExtension("WEBGL_lose_context");return r&&r.loseContext(),!!n}},{key:"initShaderProgram",value:function(t,n,r){function i(t,n,r){var i=t.createShader(n);return t.shaderSource(i,r),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:(e.console.error("An error occurred compiling the shaders: ".concat(t.getShaderInfoLog(i))),t.deleteShader(i),null)}var o=i(t,t.VERTEX_SHADER,n),a=i(t,t.FRAGMENT_SHADER,r),s=t.createProgram();return t.attachShader(s,o),t.attachShader(s,a),t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)?s:(e.console.error("Unable to initialize the shader program: ".concat(t.getProgramInfoLog(s))),null)}}]),n}(t.DrawerBase)}(E),function(e){e.Viewport=function(t){var n=arguments;n.length&&n[0]instanceof e.Point&&(t={containerSize:n[0],contentSize:n[1],config:n[2]}),t.config&&(e.extend(!0,t,t.config),delete t.config),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t.margins||{}),delete t.margins,t.initialDegrees=t.degrees,delete t.degrees,e.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:e.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:e.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:e.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:e.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:e.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:e.DEFAULT_SETTINGS.degrees,flipped:e.DEFAULT_SETTINGS.flipped,homeFillsViewer:e.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:e.DEFAULT_SETTINGS.silenceMultiImageWarnings},t),this._updateContainerInnerSize(),this.centerSpringX=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new e.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new e.Spring({initial:t.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new e.Rect(0,0,1,1),1),this.goHome(!0),this.update()},e.Viewport.prototype={get degrees(){return e.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(t){e.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(t)},resetContentSize:function(t){return e.console.assert(t,"[Viewport.resetContentSize] contentSize is required"),e.console.assert(t instanceof e.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),e.console.assert(t.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),e.console.assert(t.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new e.Rect(0,0,1,t.y/t.x),t.x),this},setHomeBounds:function(t,n){e.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(t,n)},_setContentBounds:function(t,n){e.console.assert(t,"[Viewport._setContentBounds] bounds is required"),e.console.assert(t instanceof e.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),e.console.assert(t.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),e.console.assert(t.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=t.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(n),this._contentBounds=t.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(n),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:n,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var e=this._contentAspectRatio/this.getAspectRatio();return(this.homeFillsViewer?e>=1?e:1:e>=1?1:e)/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var t=this._contentBounds.getCenter(),n=1/this.getHomeZoom(),r=n/this.getAspectRatio();return new e.Rect(t.x-n/2,t.y-r/2,n,r)},goHome:function(e){return this.viewer&&this.viewer.raiseEvent("home",{immediately:e}),this.fitBounds(this.getHomeBounds(),e)},getMinZoom:function(){var e=this.getHomeZoom();return this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*e},getMaxZoom:function(){var e=this.maxZoomLevel;return e||(e=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,e/=this._contentBounds.width),Math.max(e,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new e.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return e.extend({},this._margins)},setMargins:function(t){e.console.assert("object"===e.type(t),"[Viewport.setMargins] margins must be an object"),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(-this.getRotation(e))},getBoundsNoRotate:function(t){var n=this.getCenter(t),r=1/this.getZoom(t),i=r/this.getAspectRatio();return new e.Rect(n.x-r/2,n.y-i/2,r,i)},getBoundsWithMargins:function(e){return this.getBoundsNoRotateWithMargins(e).rotate(-this.getRotation(e),this.getCenter(e))},getBoundsNoRotateWithMargins:function(e){var t=this.getBoundsNoRotate(e),n=this._containerInnerSize.x*this.getZoom(e);return t.x-=this._margins.left/n,t.y-=this._margins.top/n,t.width+=(this._margins.left+this._margins.right)/n,t.height+=(this._margins.top+this._margins.bottom)/n,t},getCenter:function(t){var n,r,i,o,a,s,l=new e.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),u=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return t?l:this.zoomPoint?(n=this.pixelFromPoint(this.zoomPoint,!0),o=(i=1/(r=this.getZoom()))/this.getAspectRatio(),a=new e.Rect(l.x-i/2,l.y-o/2,i,o),s=this._pixelFromPoint(this.zoomPoint,a).minus(n).rotate(-this.getRotation(!0)).divide(this._containerInnerSize.x*r),u.plus(s)):u},getZoom:function(e){return e?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(e){return Math.max(Math.min(e,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(e){var t=this.viewportToViewerElementRectangle(e).getBoundingBox(),n=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),r=!1,i=!1;if(this.wrapHorizontal);else{var o,a,s,l=t.x+t.width,u=n.x+n.width;o=t.width>n.width?this.visibilityRatio*n.width:this.visibilityRatio*t.width,a=n.x-l+o,s=u-t.x-o,o>n.width?(t.x+=(a+s)/2,r=!0):s<0?(t.x+=s,r=!0):a>0&&(t.x+=a,r=!0)}if(this.wrapVertical);else{var c,f,d,p=t.y+t.height,h=n.y+n.height;c=t.height>n.height?this.visibilityRatio*n.height:this.visibilityRatio*t.height,f=n.y-p+c,d=h-t.y-c,c>n.height?(t.y+=(f+d)/2,i=!0):d<0?(t.y+=d,i=!0):f>0&&(t.y+=f,i=!0)}var m=r||i,v=m?this.viewerElementToViewportRectangle(t):e.clone();return v.xConstrained=r,v.yConstrained=i,v.constraintApplied=m,v},_raiseConstraintsEvent:function(e){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:e})},applyConstraints:function(e){var t=this.getZoom(),n=this._applyZoomConstraints(t);t!==n&&this.zoomTo(n,this.zoomPoint,e);var r=this.getConstrainedBounds(!1);return r.constraintApplied&&(this.fitBounds(r,e),this._raiseConstraintsEvent(e)),this},ensureVisible:function(e){return this.applyConstraints(e)},_fitBounds:function(t,n){var r=(n=n||{}).immediately||!1,i=n.constraints||!1,o=this.getAspectRatio(),a=t.getCenter(),s=new e.Rect(t.x,t.y,t.width,t.height,t.degrees+this.getRotation()).getBoundingBox();s.getAspectRatio()>=o?s.height=s.width/o:s.width=s.height*o,s.x=a.x-s.width/2,s.y=a.y-s.height/2;var l=1/s.width;if(r)return this.panTo(a,!0),this.zoomTo(l,null,!0),i&&this.applyConstraints(!0),this;var u=this.getCenter(!0),c=this.getZoom(!0);this.panTo(u,!0),this.zoomTo(c,null,!0);var f=this.getBounds(),d=this.getZoom();if(0===d||Math.abs(l/d-1)<1e-8)return this.zoomTo(l,null,!0),this.panTo(a,r),i&&this.applyConstraints(!1),this;if(i){this.panTo(a,!1),l=this._applyZoomConstraints(l),this.zoomTo(l,null,!1);var p=this.getConstrainedBounds();this.panTo(u,!0),this.zoomTo(c,null,!0),this.fitBounds(p)}else{var h=s.rotate(-this.getRotation()).getTopLeft().times(l).minus(f.getTopLeft().times(d)).divide(l-d);this.zoomTo(l,h,r)}return this},fitBounds:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!1})},fitBoundsWithConstraints:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!0})},fitVertically:function(t){var n=new e.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(n,t)},fitHorizontally:function(t){var n=new e.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(n,t)},getConstrainedBounds:function(e){var t;return t=this.getBounds(e),this._applyBoundaryConstraints(t)},panBy:function(t,n){var r=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(r.plus(t),n)},panTo:function(e,t){return t?(this.centerSpringX.resetTo(e.x),this.centerSpringY.resetTo(e.y)):(this.centerSpringX.springTo(e.x),this.centerSpringY.springTo(e.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:e,immediately:t}),this},zoomBy:function(e,t,n){return this.zoomTo(this.zoomSpring.target.value*e,t,n)},zoomTo:function(t,n,r){var i=this;return this.zoomPoint=n instanceof e.Point&&!isNaN(n.x)&&!isNaN(n.y)?n:null,r?this._adjustCenterSpringsForZoomPoint((function(){i.zoomSpring.resetTo(t)})):this.zoomSpring.springTo(t),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:t,refPoint:n,immediately:r}),this},setRotation:function(e,t){return this.rotateTo(e,null,t)},getRotation:function(e){return e?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(e,t,n){return this.rotateTo(e,t,n)},rotateTo:function(t,n,r){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(this.degreesSpring.target.value===t&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=n instanceof e.Point&&!isNaN(n.x)&&!isNaN(n.y)?n:null,r)if(this.rotationPivot){if(!(t-this._oldDegrees))return this.rotationPivot=null,this;this._rotateAboutPivot(t)}else this.degreesSpring.resetTo(t);else{var i=e.positiveModulo(this.degreesSpring.current.value,360),o=e.positiveModulo(t,360),a=o-i;a>180?o-=360:a<-180&&(o+=360);var s=i-o;this.degreesSpring.resetTo(t+s),this.degreesSpring.springTo(t)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:t,immediately:!!r,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(e,t,n){return this.rotateTo(this.degreesSpring.target.value+e,t,n)},resize:function(e,t){var n,r=this.getBoundsNoRotate(),i=r;this.containerSize.x=e.x,this.containerSize.y=e.y,this._updateContainerInnerSize(),t&&(n=e.x/this.containerSize.x,i.width=r.width*n,i.height=i.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:e,maintain:t});var o=this.fitBounds(i,!0);return this.viewer&&this.viewer.raiseEvent("after-resize",{newContainerSize:e,maintain:t}),o},_updateContainerInnerSize:function(){this._containerInnerSize=new e.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var e=this;this._adjustCenterSpringsForZoomPoint((function(){e.zoomSpring.update()})),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var t=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,t||!this.zoomSpring.isAtTargetValue()||!this.centerSpringX.isAtTargetValue()||!this.centerSpringY.isAtTargetValue()||!this.degreesSpring.isAtTargetValue()},_rotateAboutPivot:function(e){var t=!0===e,n=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(n.x),this.centerSpringY.shiftBy(n.y),t?this.degreesSpring.update():this.degreesSpring.resetTo(e);var r=this.degreesSpring.current.value-this._oldDegrees,i=n.rotate(-1*r).times(-1);this.centerSpringX.shiftBy(i.x),this.centerSpringY.shiftBy(i.y)},_adjustCenterSpringsForZoomPoint:function(e){if(this.zoomPoint){var t=this.pixelFromPoint(this.zoomPoint,!0);e();var n=this.pixelFromPoint(this.zoomPoint,!0).minus(t),r=this.deltaPointsFromPixels(n,!0);this.centerSpringX.shiftBy(r.x),this.centerSpringY.shiftBy(r.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else e()},deltaPixelsFromPointsNoRotate:function(e,t){return e.times(this._containerInnerSize.x*this.getZoom(t))},deltaPixelsFromPoints:function(e,t){return this.deltaPixelsFromPointsNoRotate(e.rotate(this.getRotation(t)),t)},deltaPointsFromPixelsNoRotate:function(e,t){return e.divide(this._containerInnerSize.x*this.getZoom(t))},deltaPointsFromPixels:function(e,t){return this.deltaPointsFromPixelsNoRotate(e,t).rotate(-this.getRotation(t))},pixelFromPointNoRotate:function(e,t){return this._pixelFromPointNoRotate(e,this.getBoundsNoRotate(t))},pixelFromPoint:function(e,t){return this._pixelFromPoint(e,this.getBoundsNoRotate(t))},_pixelFromPointNoRotate:function(t,n){return t.minus(n.getTopLeft()).times(this._containerInnerSize.x/n.width).plus(new e.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(e,t){return this._pixelFromPointNoRotate(e.rotate(this.getRotation(!0),this.getCenter(!0)),t)},pointFromPixelNoRotate:function(t,n){var r=this.getBoundsNoRotate(n);return t.minus(new e.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/r.width).plus(r.getTopLeft())},pointFromPixel:function(e,t){return this.pointFromPixelNoRotate(e,t).rotate(-this.getRotation(t),this.getCenter(t))},_viewportToImageDelta:function(t,n){var r=this._contentBoundsNoRotate.width;return new e.Point(t*this._contentSizeNoRotate.x/r,n*this._contentSizeNoRotate.x/r)},viewportToImageCoordinates:function(t,n){if(t instanceof e.Point)return this.viewportToImageCoordinates(t.x,t.y);if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===r)return this.viewer.world.getItemAt(0).viewportToImageCoordinates(t,n,!0)}return this._viewportToImageDelta(t-this._contentBoundsNoRotate.x,n-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(t,n){var r=this._contentBoundsNoRotate.width;return new e.Point(t/this._contentSizeNoRotate.x*r,n/this._contentSizeNoRotate.x*r)},imageToViewportCoordinates:function(t,n){if(t instanceof e.Point)return this.imageToViewportCoordinates(t.x,t.y);if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===r)return this.viewer.world.getItemAt(0).imageToViewportCoordinates(t,n,!0)}var i=this._imageToViewportDelta(t,n);return i.x+=this._contentBoundsNoRotate.x,i.y+=this._contentBoundsNoRotate.y,i},imageToViewportRectangle:function(t,n,r,i){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,n,r,i)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===a)return this.viewer.world.getItemAt(0).imageToViewportRectangle(t,n,r,i,!0)}var s=this.imageToViewportCoordinates(o.x,o.y),l=this._imageToViewportDelta(o.width,o.height);return new e.Rect(s.x,s.y,l.x,l.y,o.degrees)},viewportToImageRectangle:function(t,n,r,i){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,n,r,i)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===a)return this.viewer.world.getItemAt(0).viewportToImageRectangle(t,n,r,i,!0)}var s=this.viewportToImageCoordinates(o.x,o.y),l=this._viewportToImageDelta(o.width,o.height);return new e.Rect(s.x,s.y,l.x,l.y,o.degrees)},viewerElementToImageCoordinates:function(e){var t=this.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.pixelFromPoint(t,!0)},windowToImageCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var n=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(n)},imageToWindowCoordinates:function(t){return e.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer."),this.imageToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(e){return this.pointFromPixel(e,!0)},viewportToViewerElementCoordinates:function(e){return this.pixelFromPoint(e,!0)},viewerElementToViewportRectangle:function(t){return e.Rect.fromSummits(this.pointFromPixel(t.getTopLeft(),!0),this.pointFromPixel(t.getTopRight(),!0),this.pointFromPixel(t.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(t){return e.Rect.fromSummits(this.pixelFromPoint(t.getTopLeft(),!0),this.pixelFromPoint(t.getTopRight(),!0),this.pixelFromPoint(t.getBottomLeft(),!0))},windowToViewportCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var n=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(n)},viewportToWindowCoordinates:function(t){return e.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer."),this.viewportToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewportToImageZoom:function(t){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===n)return this.viewer.world.getItemAt(0).viewportToImageZoom(t)}var r=this._contentSizeNoRotate.x;return t*(this._containerInnerSize.x/r*this._contentBoundsNoRotate.width)},imageToViewportZoom:function(t){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image. Instead, use [TiledImage.imageToViewportZoom] for the specific image of interest");else if(1===n)return this.viewer.world.getItemAt(0).imageToViewportZoom(t)}return t*(this._contentSizeNoRotate.x/this._containerInnerSize.x/this._contentBoundsNoRotate.width)},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(e){return this.flipped===e||(this.flipped=e,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:e})),this},getMaxZoomPixelRatio:function(){return this.maxZoomPixelRatio},setMaxZoomPixelRatio:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.console.assert(!isNaN(t),"[Viewport.setMaxZoomPixelRatio] ratio must be a number"),isNaN(t)||(this.maxZoomPixelRatio=t,n&&this.getZoom()>this.getMaxZoom()&&this.applyConstraints(r))}}}(E),function(e){e.TiledImage=function(t){this._initialized=!1,e.console.assert(t.tileCache,"[TiledImage] options.tileCache is required"),e.console.assert(t.drawer,"[TiledImage] options.drawer is required"),e.console.assert(t.viewer,"[TiledImage] options.viewer is required"),e.console.assert(t.imageLoader,"[TiledImage] options.imageLoader is required"),e.console.assert(t.source,"[TiledImage] options.source is required"),e.console.assert(!t.clip||t.clip instanceof e.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),e.EventSource.call(this),this._tileCache=t.tileCache,delete t.tileCache,this._drawer=t.drawer,delete t.drawer,this._imageLoader=t.imageLoader,delete t.imageLoader,t.clip instanceof e.Rect&&(this._clip=t.clip.clone()),delete t.clip;var n=t.x||0;delete t.x;var r=t.y||0;delete t.y,this.normHeight=t.source.dimensions.y/t.source.dimensions.x,this.contentAspectX=t.source.dimensions.x/t.source.dimensions.y;var i=1;t.width?(i=t.width,delete t.width,t.height&&(e.console.error("specifying both width and height to a tiledImage is not supported"),delete t.height)):t.height&&(i=t.height/this.normHeight,delete t.height);var o=t.fitBounds;delete t.fitBounds;var a=t.fitBoundsPlacement||E.Placement.CENTER;delete t.fitBoundsPlacement;var s=t.degrees||0;delete t.degrees;var l=t.ajaxHeaders;delete t.ajaxHeaders,e.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_needsDraw:!0,_needsUpdate:!0,_hasOpaqueTile:!1,_tilesLoading:0,_tilesToDraw:[],_lastDrawn:[],_isBlending:!1,_wasBlending:!1,_isTainted:!1,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,immediateRender:e.DEFAULT_SETTINGS.immediateRender,blendTime:e.DEFAULT_SETTINGS.blendTime,alwaysBlend:e.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:e.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:e.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:e.DEFAULT_SETTINGS.iOSDevice,debugMode:e.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:e.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:e.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:e.DEFAULT_SETTINGS.placeholderFillStyle,opacity:e.DEFAULT_SETTINGS.opacity,preload:e.DEFAULT_SETTINGS.preload,compositeOperation:e.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:e.DEFAULT_SETTINGS.subPixelRoundingForTransparency,maxTilesPerFrame:e.DEFAULT_SETTINGS.maxTilesPerFrame},t),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new e.Spring({initial:n,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new e.Spring({initial:r,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new e.Spring({initial:i,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new e.Spring({initial:s,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),o&&this.fitBounds(o,a,!0),this._ownAjaxHeaders={},this.setAjaxHeaders(l,!1),this._initialized=!0},e.extend(e.TiledImage.prototype,e.EventSource.prototype,{needsDraw:function(){return this._needsDraw},redraw:function(){this._needsDraw=!0},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(e){e!==this._fullyLoaded&&(this._fullyLoaded=e,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=e.now(),this._needsDraw=!0},update:function(e){var t=this._xSpring.update(),n=this._ySpring.update(),r=this._scaleSpring.update(),i=this._degreesSpring.update(),o=t||n||r||i||this._needsUpdate;if(o||e||!this._fullyLoaded){var a=this._updateLevelsForViewport();this._setFullyLoaded(a)}return this._needsUpdate=!1,!!o&&(this._updateForScale(),this._raiseBoundsChange(),this._needsDraw=!0,!0)},setDrawn:function(){return this._needsDraw=this._isBlending||this._wasBlending,this._needsDraw},setTainted:function(e){this._isTainted=e},isTainted:function(){return this._isTainted},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy(this.viewer)},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(this.getRotation(e),this._getRotationPoint(e))},getBoundsNoRotate:function(t){return t?new e.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new e.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return e.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(t){var n=this.getBoundsNoRotate(t);if(this._clip){var r=(t?this._worldWidthCurrent:this._worldWidthTarget)/this.source.dimensions.x,i=this._clip.times(r);n=new e.Rect(n.x+i.x,n.y+i.y,i.width,i.height)}return n.rotate(this.getRotation(t),this._getRotationPoint(t))},getTileBounds:function(e,t,n){var r=this.source.getNumTiles(e),i=(r.x+t%r.x)%r.x,o=(r.y+n%r.y)%r.y,a=this.source.getTileBounds(e,i,o);return this.getFlip()&&(a.x=Math.max(0,1-a.x-a.width)),a.x+=(t-i)/r.x,a.y+=this._worldHeightCurrent/this._worldWidthCurrent*((n-o)/r.y),a},getContentSize:function(){return new e.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var t=this.imageToWindowCoordinates(new e.Point(0,0)),n=this.imageToWindowCoordinates(this.getContentSize());return new e.Point(n.x-t.x,n.y-t.y)},_viewportToImageDelta:function(t,n,r){var i=r?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t*(this.source.dimensions.x/i),n*(this.source.dimensions.y*this.contentAspectX/i))},viewportToImageCoordinates:function(t,n,r){var i;return t instanceof e.Point?(r=n,i=t):i=new e.Point(t,n),i=i.rotate(-this.getRotation(r),this._getRotationPoint(r)),r?this._viewportToImageDelta(i.x-this._xSpring.current.value,i.y-this._ySpring.current.value):this._viewportToImageDelta(i.x-this._xSpring.target.value,i.y-this._ySpring.target.value)},_imageToViewportDelta:function(t,n,r){var i=r?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t/this.source.dimensions.x*i,n/this.source.dimensions.y/this.contentAspectX*i)},imageToViewportCoordinates:function(t,n,r){t instanceof e.Point&&(r=n,n=t.y,t=t.x);var i=this._imageToViewportDelta(t,n,r);return r?(i.x+=this._xSpring.current.value,i.y+=this._ySpring.current.value):(i.x+=this._xSpring.target.value,i.y+=this._ySpring.target.value),i.rotate(this.getRotation(r),this._getRotationPoint(r))},imageToViewportRectangle:function(t,n,r,i,o){var a=t;a instanceof e.Rect?o=n:a=new e.Rect(t,n,r,i);var s=this.imageToViewportCoordinates(a.getTopLeft(),o),l=this._imageToViewportDelta(a.width,a.height,o);return new e.Rect(s.x,s.y,l.x,l.y,a.degrees+this.getRotation(o))},viewportToImageRectangle:function(t,n,r,i,o){var a=t;t instanceof e.Rect?o=n:a=new e.Rect(t,n,r,i);var s=this.viewportToImageCoordinates(a.getTopLeft(),o),l=this._viewportToImageDelta(a.width,a.height,o);return new e.Rect(s.x,s.y,l.x,l.y,a.degrees-this.getRotation(o))},viewerElementToImageCoordinates:function(e){var t=this.viewport.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.viewport.pixelFromPoint(t,!0)},windowToImageCoordinates:function(e){var t=e.minus(E.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(t)},imageToWindowCoordinates:function(e){return this.imageToViewerElementCoordinates(e).plus(E.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(t){var n=this._scaleSpring.current.value;return t=t.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new e.Rect((t.x-this._xSpring.current.value)/n,(t.y-this._ySpring.current.value)/n,t.width/n,t.height/n,t.degrees)},viewportToImageZoom:function(e){return this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x*e},imageToViewportZoom:function(e){return e/(this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x)},setPosition:function(e,t){var n=this._xSpring.target.value===e.x&&this._ySpring.target.value===e.y;if(t){if(n&&this._xSpring.current.value===e.x&&this._ySpring.current.value===e.y)return;this._xSpring.resetTo(e.x),this._ySpring.resetTo(e.y),this._needsDraw=!0,this._needsUpdate=!0}else{if(n)return;this._xSpring.springTo(e.x),this._ySpring.springTo(e.y),this._needsDraw=!0,this._needsUpdate=!0}n||this._raiseBoundsChange()},setWidth:function(e,t){this._setScale(e,t)},setHeight:function(e,t){this._setScale(e/this.normHeight,t)},setCroppingPolygons:function(t){try{if(!e.isArray(t))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=t.map((function(t){return t.map((function(t){try{if(function(t){return t instanceof e.Point||"number"==typeof t.x&&"number"==typeof t.y}(t))return{x:t.x,y:t.y};throw new Error}catch(e){throw new Error("A Provided cropping polygon point is not supported")}}))})),this._needsDraw=!0}catch(t){e.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),e.console.error(t),this.resetCroppingPolygons()}},resetCroppingPolygons:function(){this._croppingPolygons=null,this._needsDraw=!0},fitBounds:function(t,n,r){n=n||e.Placement.CENTER;var i=e.Placement.properties[n],o=this.contentAspectX,a=0,s=0,l=1,u=1;if(this._clip&&(o=this._clip.getAspectRatio(),l=this._clip.width/this.source.dimensions.x,u=this._clip.height/this.source.dimensions.y,t.getAspectRatio()>o?(a=this._clip.x/this._clip.height*t.height,s=this._clip.y/this._clip.height*t.height):(a=this._clip.x/this._clip.width*t.width,s=this._clip.y/this._clip.width*t.width)),t.getAspectRatio()>o){var c=t.height/u,f=0;i.isHorizontallyCentered?f=(t.width-t.height*o)/2:i.isRight&&(f=t.width-t.height*o),this.setPosition(new e.Point(t.x-a+f,t.y-s),r),this.setHeight(c,r)}else{var d=t.width/l,p=0;i.isVerticallyCentered?p=(t.height-t.width/o)/2:i.isBottom&&(p=t.height-t.width/o),this.setPosition(new e.Point(t.x-a,t.y-s+p),r),this.setWidth(d,r)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(t){e.console.assert(!t||t instanceof e.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),t instanceof e.Rect?this._clip=t.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return this.flipped},setFlip:function(e){this.flipped=e},get flipped(){return this._flipped},set flipped(e){var t=this._flipped!==!!e;this._flipped=!!e,t&&(this.update(!0),this._needsDraw=!0,this._raiseBoundsChange())},get wrapHorizontal(){return this._wrapHorizontal},set wrapHorizontal(e){var t=this._wrapHorizontal!==!!e;this._wrapHorizontal=!!e,this._initialized&&t&&(this.update(!0),this._needsDraw=!0)},get wrapVertical(){return this._wrapVertical},set wrapVertical(e){var t=this._wrapVertical!==!!e;this._wrapVertical=!!e,this._initialized&&t&&(this.update(!0),this._needsDraw=!0)},get debugMode(){return this._debugMode},set debugMode(e){this._debugMode=!!e,this._needsDraw=!0},getOpacity:function(){return this.opacity},setOpacity:function(e){this.opacity=e},get opacity(){return this._opacity},set opacity(e){e!==this.opacity&&(this._opacity=e,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(e){this._preload=!!e,this._needsDraw=!0},getRotation:function(e){return e?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(e,t){this._degreesSpring.target.value===e&&this._degreesSpring.isAtTargetValue()||(t?this._degreesSpring.resetTo(e):this._degreesSpring.springTo(e),this._needsDraw=!0,this._needsUpdate=!0,this._raiseBoundsChange())},getDrawArea:function(){if(0===this._opacity&&!this._preload)return!1;var e=this._viewportToTiledImageRectangle(this.viewport.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var t=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));e=e.intersection(t)}return e},getTilesToDraw:function(){var e=this._tilesToDraw.flat();return this._updateTilesInViewport(e),(e=this._tilesToDraw.flat()).forEach((function(e){e.tile.beingDrawn=!0})),this._lastDrawn=e,e},_getRotationPoint:function(e){return this.getBoundsNoRotate(e).getCenter()},get compositeOperation(){return this._compositeOperation},set compositeOperation(e){e!==this._compositeOperation&&(this._compositeOperation=e,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this._compositeOperation}))},getCompositeOperation:function(){return this._compositeOperation},setCompositeOperation:function(e){this.compositeOperation=e},setAjaxHeaders:function(t,n){null===t&&(t={}),e.isPlainObject(t)?(this._ownAjaxHeaders=t,this._updateAjaxHeaders(n)):s.error("[TiledImage.setAjaxHeaders] Ignoring invalid headers, must be a plain object")},_updateAjaxHeaders:function(t){if(void 0===t&&(t=!0),e.isPlainObject(this.viewer.ajaxHeaders)?this.ajaxHeaders=e.extend({},this.viewer.ajaxHeaders,this._ownAjaxHeaders):this.ajaxHeaders=this._ownAjaxHeaders,t){var n,r,i,o;for(var a in this.tilesMatrix)for(var s in n=this.source.getNumTiles(a),this.tilesMatrix[a])for(var l in r=(n.x+s%n.x)%n.x,this.tilesMatrix[a][s])if(i=(n.y+l%n.y)%n.y,(o=this.tilesMatrix[a][s][l]).loadWithAjax=this.loadTilesWithAjax,o.loadWithAjax){var u=this.source.getTileAjaxHeaders(a,r,i);o.ajaxHeaders=e.extend({},this.ajaxHeaders,u)}else o.ajaxHeaders=null;for(var c=0;c<this._imageLoader.jobQueue.length;c++){var f=this._imageLoader.jobQueue[c];f.loadWithAjax=f.tile.loadWithAjax,f.ajaxHeaders=f.tile.loadWithAjax?f.tile.ajaxHeaders:null}}},_setScale:function(e,t){var n=this._scaleSpring.target.value===e;if(t){if(n&&this._scaleSpring.current.value===e)return;this._scaleSpring.resetTo(e),this._updateForScale(),this._needsDraw=!0,this._needsUpdate=!0}else{if(n)return;this._scaleSpring.springTo(e),this._updateForScale(),this._needsDraw=!0,this._needsUpdate=!0}n||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var e=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),t=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,n=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(t/this.minPixelRatio)/Math.log(2))));return n=Math.max(n,this.source.minLevel||0),{lowestLevel:e=Math.min(e,n),highestLevel:n}},_updateLevelsForViewport:function(){var t=this._getLevelsInterval(),n=t.lowestLevel,r=t.highestLevel,i=[],o=this.getDrawArea(),a=e.now();if(this._lastDrawn.forEach((function(e){e.tile.beingDrawn=!1})),this._tilesToDraw=[],this._tilesLoading=0,this.loadingCoverage={},!o)return this._needsDraw=!1,this._fullyLoaded;for(var s=new Array(r-n+1),l=0,u=r;u>=n;u--,l++)s[l]=u;for(var c=r+1;c<=this.source.maxLevel;c++){var f=this.tilesMatrix[c]&&this.tilesMatrix[c][0]&&this.tilesMatrix[c][0][0];if(f&&f.isBottomMost&&f.isRightMost&&f.loaded){s.push(c);break}}for(var d=!1,p=0;p<s.length;p++){var h=s[p],m=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(h),!0).x*this._scaleSpring.current.value;if(p===s.length-1||m>=this.minPixelRatio)d=!0;else if(!d)continue;var v=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(h),!1).x*this._scaleSpring.current.value,g=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,y=this.immediateRender?1:g,b=Math.min(1,(m-.5)/.5),w=y/Math.abs(y-v),x=this._updateLevel(h,b,w,o,a,i);i=x.bestTiles;var S=x.updatedTiles.filter((function(e){return e.loaded})),E=function(e,t,n){return function(r){return{tile:r,level:e,levelOpacity:t,currentTime:n}}}(h,b,a);if(this._tilesToDraw[h]=S.map(E),this._providesCoverage(this.coverage,h))break}return i&&i.length>0?(i.forEach((function(e){e&&!e.context2D&&this._loadTile(e,a)}),this),this._needsDraw=!0,!1):0===this._tilesLoading},_updateTilesInViewport:function(t){var n=e.now(),r=this;this._tilesLoading=0,this._wasBlending=this._isBlending,this._isBlending=!1,this.loadingCoverage={};var i=t.length?t[0].level:0;if(this.getDrawArea()){for(var o=0,a=0;a<t.length;a++){var s=t[a];u(s),this._providesCoverage(this.coverage,s.level)&&(o=Math.max(o,s.level))}if(o>0)for(var l in this._tilesToDraw)l<o&&delete this._tilesToDraw[l]}function u(e){var t=e.tile;if(t&&t.loaded){var o=r._blendTile(t,t.x,t.y,e.level,e.levelOpacity,n,i);r._isBlending=r._isBlending||o,r._needsDraw=r._needsDraw||o||r._wasBlending}}},_blendTile:function(e,t,n,r,i,o,a){var s,l,u=1e3*this.blendTime;return e.blendStart||(e.blendStart=o),s=o-e.blendStart,l=u?Math.min(1,s/u):1,r===a&&(l=1,s=u),this.alwaysBlend&&(l*=i),e.opacity=l,1===l&&(this._setCoverage(this.coverage,r,t,n,!0),this._hasOpaqueTile=!0),s<u},_updateLevel:function(e,t,n,r,i,o){var a=r.getBoundingBox().getTopLeft(),s=r.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:!0,level:e,opacity:t,visibility:n,drawArea:r,topleft:a,bottomright:s,currenttime:i,best:o}),this._resetCoverage(this.coverage,e),this._resetCoverage(this.loadingCoverage,e);var l=this._getCornerTiles(e,a,s),u=l.topLeft,c=l.bottomRight,f=this.source.getNumTiles(e),d=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(c.x+=1,this.wrapHorizontal||(c.x=Math.min(c.x,f.x-1)));for(var p=Math.max(0,(c.x-u.x)*(c.y-u.y)),h=new Array(p),m=0,v=u.x;v<=c.x;v++)for(var g=u.y;g<=c.y;g++){var y;if(this.getFlip()){var b=(f.x+v%f.x)%f.x;y=v+f.x-b-b-1}else y=v;if(null!==r.intersection(this.getTileBounds(e,y,g))){var w=this._updateTile(y,g,e,n,d,f,i,o);o=w.bestTiles,h[m]=w.tile,m+=1}}return{bestTiles:o,updatedTiles:h}},_positionTile:function(t,n,r,i,o){var a=t.bounds.getTopLeft();a.x*=this._scaleSpring.current.value,a.y*=this._scaleSpring.current.value,a.x+=this._xSpring.current.value,a.y+=this._ySpring.current.value;var s=t.bounds.getSize();s.x*=this._scaleSpring.current.value,s.y*=this._scaleSpring.current.value,t.positionedBounds.x=a.x,t.positionedBounds.y=a.y,t.positionedBounds.width=s.x,t.positionedBounds.height=s.y;var l=r.pixelFromPointNoRotate(a,!0),u=r.pixelFromPointNoRotate(a,!1),c=r.deltaPixelsFromPointsNoRotate(s,!0),f=r.deltaPixelsFromPointsNoRotate(s,!1),d=u.plus(f.divide(2)),p=i.squaredDistanceTo(d);this.viewer.drawer.minimumOverlapRequired(this)&&(n||(c=c.plus(new e.Point(1,1))),t.isRightMost&&this.wrapHorizontal&&(c.x+=.75),t.isBottomMost&&this.wrapVertical&&(c.y+=.75)),t.position=l,t.size=c,t.squaredDistance=p,t.visibility=o},_updateTile:function(e,t,n,r,i,o,a,s){var l=this._getTile(e,t,n,a,o);this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:l}),this._setCoverage(this.coverage,n,e,t,!1);var u=l.loaded||l.loading||this._isCovered(this.loadingCoverage,n,e,t);if(this._setCoverage(this.loadingCoverage,n,e,t,u),!l.exists)return{bestTiles:s,tile:l};if(l.loaded&&1===l.opacity&&this._setCoverage(this.coverage,n,e,t,!0),this._positionTile(l,this.source.tileOverlap,this.viewport,i,r),!l.loaded)if(l.context2D)this._setTileLoaded(l);else{var c=this._tileCache.getImageRecord(l.cacheKey);c&&this._setTileLoaded(l,c.getData())}return l.loading?this._tilesLoading++:u||(s=this._compareTiles(s,l,this.maxTilesPerFrame)),{bestTiles:s,tile:l}},_getCornerTiles:function(t,n,r){var i,o,a,s;this.wrapHorizontal?(i=e.positiveModulo(n.x,1),o=e.positiveModulo(r.x,1)):(i=Math.max(0,n.x),o=Math.min(1,r.x));var l=1/this.source.aspectRatio;this.wrapVertical?(a=e.positiveModulo(n.y,l),s=e.positiveModulo(r.y,l)):(a=Math.max(0,n.y),s=Math.min(l,r.y));var u=this.source.getTileAtPoint(t,new e.Point(i,a)),c=this.source.getTileAtPoint(t,new e.Point(o,s)),f=this.source.getNumTiles(t);return this.wrapHorizontal&&(u.x+=f.x*Math.floor(n.x),c.x+=f.x*Math.floor(r.x)),this.wrapVertical&&(u.y+=f.y*Math.floor(n.y/l),c.y+=f.y*Math.floor(r.y/l)),{topLeft:u,bottomRight:c}},_getTile:function(t,n,r,i,o){var a,s,l,u,c,f,d,p,h,m,v=this.tilesMatrix,g=this.source;return v[r]||(v[r]={}),v[r][t]||(v[r][t]={}),v[r][t][n]&&!v[r][t][n].flipped==!this.flipped||(a=(o.x+t%o.x)%o.x,s=(o.y+n%o.y)%o.y,l=this.getTileBounds(r,t,n),u=g.getTileBounds(r,a,s,!0),c=g.tileExists(r,a,s),f=g.getTileUrl(r,a,s),d=g.getTilePostData(r,a,s),this.loadTilesWithAjax?(p=g.getTileAjaxHeaders(r,a,s),e.isPlainObject(this.ajaxHeaders)&&(p=e.extend({},this.ajaxHeaders,p))):p=null,h=g.getContext2D?g.getContext2D(r,a,s):void 0,m=new e.Tile(r,t,n,l,c,f,h,this.loadTilesWithAjax,p,u,d,g.getTileHashKey(r,a,s,f,p,d)),this.getFlip()?0===a&&(m.isRightMost=!0):a===o.x-1&&(m.isRightMost=!0),s===o.y-1&&(m.isBottomMost=!0),m.flipped=this.flipped,v[r][t][n]=m),(m=v[r][t][n]).lastTouchTime=i,m},_loadTile:function(e,t){var n=this;e.loading=!0,this._imageLoader.addJob({src:e.getUrl(),tile:e,source:this.source,postData:e.postData,loadWithAjax:e.loadWithAjax,ajaxHeaders:e.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(r,i,o){n._onTileLoad(e,t,r,i,o)},abort:function(){e.loading=!1}})},_onTileLoad:function(t,n,r,i,o){if(!r)return e.console.error("Tile %s failed to load: %s - error: %s",t,t.getUrl(),i),this.viewer.raiseEvent("tile-load-failed",{tile:t,tiledImage:this,time:n,message:i,tileRequest:o}),t.loading=!1,void(t.exists=!1);if(t.exists=!0,n<this.lastResetTime)return e.console.warn("Ignoring tile %s loaded before reset: %s",t,t.getUrl()),void(t.loading=!1);var a;a=this.source.getClosestLevel(),this._setTileLoaded(t,r,a,o)},_setTileLoaded:function(t,n,r,i){var o=0,a=!1,s=this;function l(){return a&&e.console.error("Event 'tile-loaded' argument getCompletionCallback must be called synchronously. Its return value should be called asynchronously."),o++,u}function u(){0==--o&&(t.loading=!1,t.loaded=!0,t.hasTransparency=s.source.hasTransparency(t.context2D,t.getUrl(),t.ajaxHeaders,t.postData),t.context2D||s._tileCache.cacheTile({data:n,tile:t,cutoff:r,tiledImage:s}),s.viewer.raiseEvent("tile-ready",{tile:t,tiledImage:s,tileRequest:i}),s._needsDraw=!0)}var c=l();this.viewer.raiseEvent("tile-loaded",{tile:t,tiledImage:this,tileRequest:i,get image(){return e.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),n},data:n,getCompletionCallback:l}),a=!0,c()},_compareTiles:function(e,t,n){return e?(e.push(t),this._sortTiles(e),e.length>n&&e.pop(),e):[t]},_sortTiles:function(e){e.sort((function(e,t){return null===e?1:null===t?-1:e.visibility===t.visibility?e.squaredDistance-t.squaredDistance:t.visibility-e.visibility}))},_providesCoverage:function(e,t,n,r){var i,o,a,s;if(!e[t])return!1;if(void 0===n||void 0===r){for(a in i=e[t])if(Object.prototype.hasOwnProperty.call(i,a))for(s in o=i[a])if(Object.prototype.hasOwnProperty.call(o,s)&&!o[s])return!1;return!0}return void 0===e[t][n]||void 0===e[t][n][r]||!0===e[t][n][r]},_isCovered:function(e,t,n,r){return void 0===n||void 0===r?this._providesCoverage(e,t+1):this._providesCoverage(e,t+1,2*n,2*r)&&this._providesCoverage(e,t+1,2*n,2*r+1)&&this._providesCoverage(e,t+1,2*n+1,2*r)&&this._providesCoverage(e,t+1,2*n+1,2*r+1)},_setCoverage:function(t,n,r,i,o){t[n]?(t[n][r]||(t[n][r]={}),t[n][r][i]=o):e.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",n)},_resetCoverage:function(e,t){e[t]={}}})}(E),function(e){var t=function(t){e.console.assert(t,"[TileCache.cacheTile] options is required"),e.console.assert(t.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(t.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=t.tile,this.tiledImage=t.tiledImage},n=function(t){e.console.assert(t,"[ImageRecord] options is required"),e.console.assert(t.data,"[ImageRecord] options.data is required"),this._tiles=[],t.create.apply(null,[this,t.data,t.ownerTile]),this._destroyImplementation=t.destroy.bind(null,this),this.getImage=t.getImage.bind(null,this),this.getData=t.getData.bind(null,this),this.getRenderedContext=t.getRenderedContext.bind(null,this)};n.prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(t){e.console.assert(t,"[ImageRecord.addTile] tile is required"),this._tiles.push(t)},removeTile:function(t){for(var n=0;n<this._tiles.length;n++)if(this._tiles[n]===t)return void this._tiles.splice(n,1);e.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",t)},getTileCount:function(){return this._tiles.length}},e.TileCache=function(t){t=t||{},this._maxImageCacheCount=t.maxImageCacheCount||e.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},e.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(r){e.console.assert(r,"[TileCache.cacheTile] options is required"),e.console.assert(r.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(r.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),e.console.assert(r.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var i=r.cutoff||0,o=this._tilesLoaded.length,a=this._imagesLoaded[r.tile.cacheKey];if(a||(r.data||(e.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),r.data=r.image),e.console.assert(r.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),a=this._imagesLoaded[r.tile.cacheKey]=new n({data:r.data,ownerTile:r.tile,create:r.tiledImage.source.createTileCache,destroy:r.tiledImage.source.destroyTileCache,getImage:r.tiledImage.source.getTileCacheDataAsImage,getData:r.tiledImage.source.getTileCacheData,getRenderedContext:r.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),a.addTile(r.tile),r.tile.cacheImageRecord=a,this._imagesLoadedCount>this._maxImageCacheCount){for(var s,l,u,c,f,d,p=null,h=-1,m=null,v=this._tilesLoaded.length-1;v>=0;v--)(s=(d=this._tilesLoaded[v]).tile).level<=i||s.beingDrawn||(p?(c=s.lastTouchTime,l=p.lastTouchTime,f=s.level,u=p.level,(c<l||c===l&&f>u)&&(p=s,h=v,m=d)):(p=s,h=v,m=d));p&&h>=0&&(this._unloadTile(m),o=h)}this._tilesLoaded[o]=new t({tile:r.tile,tiledImage:r.tiledImage})},clearTilesFor:function(t){var n;e.console.assert(t,"[TileCache.clearTilesFor] tiledImage is required");for(var r=0;r<this._tilesLoaded.length;++r)(n=this._tilesLoaded[r]).tiledImage===t&&(this._unloadTile(n),this._tilesLoaded.splice(r,1),r--)},getImageRecord:function(t){return e.console.assert(t,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[t]},_unloadTile:function(t){e.console.assert(t,"[TileCache._unloadTile] tileRecord is required");var n=t.tile,r=t.tiledImage,i=n.getCanvasContext&&n.getCanvasContext();n.unload(),n.cacheImageRecord=null;var o=this._imagesLoaded[n.cacheKey];o&&(o.removeTile(n),o.getTileCount()||(o.destroy(),delete this._imagesLoaded[n.cacheKey],this._imagesLoadedCount--,i&&(i.canvas.width=0,i.canvas.height=0,r.viewer.raiseEvent("image-unloaded",{context2D:i,tile:n}))),r.viewer.raiseEvent("tile-unloaded",{tile:n,tiledImage:r}))}}}(E),function(e){e.World=function(t){var n=this;e.console.assert(t.viewer,"[World] options.viewer is required"),e.EventSource.call(this),this.viewer=t.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(e){n._autoRefigureSizes?n._figureSizes():n._needsSizesFigured=!0},this._figureSizes()},e.extend(e.World.prototype,e.EventSource.prototype,{addItem:function(t,n){if(e.console.assert(t,"[World.addItem] item is required"),e.console.assert(t instanceof e.TiledImage,"[World.addItem] only TiledImages supported at this time"),void 0!==(n=n||{}).index){var r=Math.max(0,Math.min(this._items.length,n.index));this._items.splice(r,0,t)}else this._items.push(t);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,t.addHandler("bounds-change",this._delegatedFigureSizes),t.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:t})},getItemAt:function(t){return e.console.assert(void 0!==t,"[World.getItemAt] index is required"),this._items[t]},getIndexOfItem:function(t){return e.console.assert(t,"[World.getIndexOfItem] item is required"),e.indexOf(this._items,t)},getItemCount:function(){return this._items.length},setItemIndex:function(t,n){e.console.assert(t,"[World.setItemIndex] item is required"),e.console.assert(void 0!==n,"[World.setItemIndex] index is required");var r=this.getIndexOfItem(t);if(n>=this._items.length)throw new Error("Index bigger than number of layers.");n!==r&&-1!==r&&(this._items.splice(r,1),this._items.splice(n,0,t),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:t,previousIndex:r,newIndex:n}))},removeItem:function(t){e.console.assert(t,"[World.removeItem] item is required");var n=e.indexOf(this._items,t);-1!==n&&(t.removeHandler("bounds-change",this._delegatedFigureSizes),t.removeHandler("clip-change",this._delegatedFigureSizes),t.destroy(),this._items.splice(n,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(t))},removeAll:function(){var e,t;for(this.viewer._cancelPendingImages(),t=0;t<this._items.length;t++)(e=this._items[t]).removeHandler("bounds-change",this._delegatedFigureSizes),e.removeHandler("clip-change",this._delegatedFigureSizes),e.destroy();var n=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,t=0;t<n.length;t++)e=n[t],this._raiseRemoveItem(e)},resetItems:function(){for(var e=0;e<this._items.length;e++)this._items[e].reset()},update:function(e){for(var t=!1,n=0;n<this._items.length;n++)t=this._items[n].update(e)||t;return t},draw:function(){var e=this;this.viewer.drawer.draw(this._items),this._needsDraw=!1,this._items.forEach((function(t){e._needsDraw=t.setDrawn()||e._needsDraw}))},needsDraw:function(){for(var e=0;e<this._items.length;e++)if(this._items[e].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(e){this._autoRefigureSizes=e,e&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(t){var n,r=(t=t||{}).immediately||!1,i=t.layout||e.DEFAULT_SETTINGS.collectionLayout,o=t.rows||e.DEFAULT_SETTINGS.collectionRows,a=t.columns||e.DEFAULT_SETTINGS.collectionColumns,s=t.tileSize||e.DEFAULT_SETTINGS.collectionTileSize,l=s+(t.tileMargin||e.DEFAULT_SETTINGS.collectionTileMargin);n=!t.rows&&a?a:Math.ceil(this._items.length/o);var u,c,f,d,p,h=0,m=0;this.setAutoRefigureSizes(!1);for(var v=0;v<this._items.length;v++)v&&v%n==0&&("horizontal"===i?(m+=l,h=0):(h+=l,m=0)),d=(f=(c=(u=this._items[v]).getBounds()).width>c.height?s:s*(c.width/c.height))*(c.height/c.width),p=new e.Point(h+(s-f)/2,m+(s-d)/2),u.setPosition(p,r),u.setWidth(f,r),"horizontal"===i?h+=l:m+=l;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var t=this._homeBounds?this._homeBounds.clone():null,n=this._contentSize?this._contentSize.clone():null,r=this._contentFactor||0;if(this._items.length){var i=this._items[0],o=i.getBounds();this._contentFactor=i.getContentSize().x/o.width;for(var a=i.getClippedBounds().getBoundingBox(),s=a.x,l=a.y,u=a.x+a.width,c=a.y+a.height,f=1;f<this._items.length;f++)o=(i=this._items[f]).getBounds(),this._contentFactor=Math.max(this._contentFactor,i.getContentSize().x/o.width),a=i.getClippedBounds().getBoundingBox(),s=Math.min(s,a.x),l=Math.min(l,a.y),u=Math.max(u,a.x+a.width),c=Math.max(c,a.y+a.height);this._homeBounds=new e.Rect(s,l,u-s,c-l),this._contentSize=new e.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new e.Rect(0,0,1,1),this._contentSize=new e.Point(1,1),this._contentFactor=1;this._contentFactor===r&&this._homeBounds.equals(t)&&this._contentSize.equals(n)||this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(e){this.raiseEvent("remove-item",{item:e})}})}(E)},94931:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s,l=[],u=!1,c=-1;function f(){u&&s&&(u=!1,s.length?l=s.concat(l):c=-1,l.length&&d())}function d(){if(!u){var e=a(f);u=!0;for(var t=l.length;t;){for(s=l,l=[];++c<t;)s&&s[c].run();c=-1,t=l.length}s=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||u||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},3223:(e,t,n)=>{"use strict";var r=n(67360);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},43979:(e,t,n)=>{e.exports=n(3223)()},67360:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},28022:e=>{"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC3986";e.exports={default:r,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:r}},9186:(e,t,n)=>{"use strict";var r=n(2143),i=n(39649),o=n(28022);e.exports={formats:o,parse:i,stringify:r}},39649:(e,t,n)=>{"use strict";var r=n(9379),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},l=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(o),u=s?o.slice(0,s.index):o,c=[];if(u){if(!n.plainObjects&&i.call(Object.prototype,u)&&!n.allowPrototypes)return;c.push(u)}for(var f=0;n.depth>0&&null!==(s=a.exec(o))&&f<n.depth;){if(f+=1,!n.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+o.slice(s.index)+"]"),function(e,t,n,r){for(var i=r?t:l(t,n),o=e.length-1;o>=0;--o){var a,s=e[o];if("[]"===s&&n.parseArrays)a=[].concat(i);else{a=n.plainObjects?Object.create(null):{};var u="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=parseInt(u,10);n.parseArrays||""!==u?!isNaN(c)&&s!==u&&String(c)===u&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(a=[])[c]=i:"__proto__"!==u&&(a[u]=i):a={0:i}}i=a}return i}(c,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset;return{allowDots:void 0===e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var c="string"==typeof e?function(e,t){var n,u={__proto__:null},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=t.parameterLimit===1/0?void 0:t.parameterLimit,d=c.split(t.delimiter,f),p=-1,h=t.charset;if(t.charsetSentinel)for(n=0;n<d.length;++n)0===d[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[n]?h="utf-8":"utf8=%26%2310003%3B"===d[n]&&(h="iso-8859-1"),p=n,n=d.length);for(n=0;n<d.length;++n)if(n!==p){var m,v,g=d[n],y=g.indexOf("]="),b=-1===y?g.indexOf("="):y+1;-1===b?(m=t.decoder(g,a.decoder,h,"key"),v=t.strictNullHandling?null:""):(m=t.decoder(g.slice(0,b),a.decoder,h,"key"),v=r.maybeMap(l(g.slice(b+1),t),(function(e){return t.decoder(e,a.decoder,h,"value")}))),v&&t.interpretNumericEntities&&"iso-8859-1"===h&&(v=s(v)),g.indexOf("[]=")>-1&&(v=o(v)?[v]:v),i.call(u,m)?u[m]=r.combine(u[m],v):u[m]=v}return u}(e,n):e,f=n.plainObjects?Object.create(null):{},d=Object.keys(c),p=0;p<d.length;++p){var h=d[p],m=u(h,c[h],n,"string"==typeof e);f=r.merge(f,m,n)}return!0===n.allowSparse?f:r.compact(f)}},2143:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=n(75415),o=n(9379),a=n(28022),s=Object.prototype.hasOwnProperty,l={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},u=Array.isArray,c=Array.prototype.push,f=function(e,t){c.apply(e,u(t)?t:[t])},d=Date.prototype.toISOString,p=a.default,h={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:p,formatter:a.formatters[p],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},m={},v=function e(t,n,a,s,l,c,d,p,v,g,y,b,w,x,S,E){for(var _,T=t,O=E,A=0,C=!1;void 0!==(O=O.get(m))&&!C;){var P=O.get(t);if(A+=1,void 0!==P){if(P===A)throw new RangeError("Cyclic object value");C=!0}void 0===O.get(m)&&(A=0)}if("function"==typeof p?T=p(n,T):T instanceof Date?T=y(T):"comma"===a&&u(T)&&(T=o.maybeMap(T,(function(e){return e instanceof Date?y(e):e}))),null===T){if(l)return d&&!x?d(n,h.encoder,S,"key",b):n;T=""}if("string"==typeof(_=T)||"number"==typeof _||"boolean"==typeof _||"symbol"===r(_)||"bigint"==typeof _||o.isBuffer(T))return d?[w(x?n:d(n,h.encoder,S,"key",b))+"="+w(d(T,h.encoder,S,"value",b))]:[w(n)+"="+w(String(T))];var k,R=[];if(void 0===T)return R;if("comma"===a&&u(T))x&&d&&(T=o.maybeMap(T,d)),k=[{value:T.length>0?T.join(",")||null:void 0}];else if(u(p))k=p;else{var I=Object.keys(T);k=v?I.sort(v):I}for(var M=s&&u(T)&&1===T.length?n+"[]":n,D=0;D<k.length;++D){var j=k[D],L="object"===r(j)&&void 0!==j.value?j.value:T[j];if(!c||null!==L){var N=u(T)?"function"==typeof a?a(M,j):M:M+(g?"."+j:"["+j+"]");E.set(t,A);var z=i();z.set(m,E),f(R,e(L,N,a,s,l,c,"comma"===a&&x&&u(T)?null:d,p,v,g,y,b,w,x,S,z))}}return R};e.exports=function(e,t){var n,o=e,c=function(e){if(!e)return h;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||h.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=a.default;if(void 0!==e.format){if(!s.call(a.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=a.formatters[n],i=h.filter;return("function"==typeof e.filter||u(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:h.addQueryPrefix,allowDots:void 0===e.allowDots?h.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:h.charsetSentinel,delimiter:void 0===e.delimiter?h.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:h.encode,encoder:"function"==typeof e.encoder?e.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:h.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:h.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:h.strictNullHandling}}(t);"function"==typeof c.filter?o=(0,c.filter)("",o):u(c.filter)&&(n=c.filter);var d,p=[];if("object"!==r(o)||null===o)return"";d=t&&t.arrayFormat in l?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var m=l[d];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var g="comma"===m&&t&&t.commaRoundTrip;n||(n=Object.keys(o)),c.sort&&n.sort(c.sort);for(var y=i(),b=0;b<n.length;++b){var w=n[b];c.skipNulls&&null===o[w]||f(p,v(o[w],w,m,g,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,y))}var x=p.join(c.delimiter),S=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?S+="utf8=%26%2310003%3B&":S+="utf8=%E2%9C%93&"),x.length>0?S+x:""}},9379:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=n(28022),o=Object.prototype.hasOwnProperty,a=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),l=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:l,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var o=t[i],s=o.obj[o.prop],l=Object.keys(s),u=0;u<l.length;++u){var c=l[u],f=s[c];"object"===r(f)&&null!==f&&-1===n.indexOf(f)&&(t.push({obj:s,prop:c}),n.push(f))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(a(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n,o,a){if(0===e.length)return e;var l=e;if("symbol"===r(e)?l=Symbol.prototype.toString.call(e):"string"!=typeof e&&(l=String(e)),"iso-8859-1"===n)return escape(l).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var u="",c=0;c<l.length;++c){var f=l.charCodeAt(c);45===f||46===f||95===f||126===f||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||a===i.RFC1738&&(40===f||41===f)?u+=l.charAt(c):f<128?u+=s[f]:f<2048?u+=s[192|f>>6]+s[128|63&f]:f<55296||f>=57344?u+=s[224|f>>12]+s[128|f>>6&63]+s[128|63&f]:(c+=1,f=65536+((1023&f)<<10|1023&l.charCodeAt(c)),u+=s[240|f>>18]+s[128|f>>12&63]+s[128|f>>6&63]+s[128|63&f])}return u},isBuffer:function(e){return!(!e||"object"!==r(e)||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(a(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,i){if(!n)return t;if("object"!==r(n)){if(a(t))t.push(n);else{if(!t||"object"!==r(t))return[t,n];(i&&(i.plainObjects||i.allowPrototypes)||!o.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==r(t))return[t].concat(n);var s=t;return a(t)&&!a(n)&&(s=l(t,i)),a(t)&&a(n)?(n.forEach((function(n,a){if(o.call(t,a)){var s=t[a];s&&"object"===r(s)&&n&&"object"===r(n)?t[a]=e(s,n,i):t.push(n)}else t[a]=n})),t):Object.keys(n).reduce((function(t,r){var a=n[r];return o.call(t,r)?t[r]=e(t[r],a,i):t[r]=a,t}),s)}}},15288:function(e,t,n){var r,i,o,a,s=n(3324);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}a=function(e,t){"use strict";function n(e){return"string"==typeof e||"number"==typeof e}var r=function(){function e(){this._cache={}}var t=e.prototype;return t.set=function(e,t){this._cache[e]=t},t.get=function(e){return this._cache[e]},t.remove=function(e){delete this._cache[e]},t.clear=function(){this._cache={}},t.isValidCacheKey=function(e){return n(e)},e}(),i=r,o=function(){return!0};function a(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(e,r){if(r)throw new Error('[re-reselect] "options" as second argument is not supported anymore. Please provide an option object as single argument.');var a="function"==typeof e?{keySelector:e}:Object.assign({},e),l=0,u=n.pop(),c=Array.isArray(n[0])?n[0]:[].concat(n);n.push((function(){return l++,u.apply(void 0,arguments)}));var f=a.cacheObject||new i,d=a.selectorCreator||t.createSelector,p=f.isValidCacheKey||o;a.keySelectorCreator&&(a.keySelector=a.keySelectorCreator({keySelector:a.keySelector,inputSelectors:c,resultFunc:u}));var h=function(){var e=a.keySelector.apply(a,arguments);if(p(e)){var t=f.get(e);return void 0===t&&(t=d.apply(void 0,n),f.set(e,t)),t.apply(void 0,arguments)}s.warn('[re-reselect] Invalid cache key "'+e+'" has been returned by keySelector function.')};return h.getMatchingSelector=function(){var e=a.keySelector.apply(a,arguments);return f.get(e)},h.removeMatchingSelector=function(){var e=a.keySelector.apply(a,arguments);f.remove(e)},h.clearCache=function(){f.clear()},h.resultFunc=u,h.dependencies=c,h.cache=f,h.recomputations=function(){return l},h.resetRecomputations=function(){return l=0},h.keySelector=a.keySelector,h}}function l(e){if(void 0===e)throw new Error('Missing the required property "cacheSize".');if(!Number.isInteger(e)||e<=0)throw new Error('The "cacheSize" property must be a positive integer value.')}var u=function(){function e(e){var t=(void 0===e?{}:e).cacheSize;l(t),this._cache={},this._cacheOrdering=[],this._cacheSize=t}var t=e.prototype;return t.set=function(e,t){if(this._cache[e]=t,this._cacheOrdering.push(e),this._cacheOrdering.length>this._cacheSize){var n=this._cacheOrdering[0];this.remove(n)}},t.get=function(e){return this._cache[e]},t.remove=function(e){var t=this._cacheOrdering.indexOf(e);t>-1&&this._cacheOrdering.splice(t,1),delete this._cache[e]},t.clear=function(){this._cache={},this._cacheOrdering=[]},t.isValidCacheKey=function(e){return n(e)},e}(),c=function(){function e(e){var t=(void 0===e?{}:e).cacheSize;l(t),this._cache={},this._cacheOrdering=[],this._cacheSize=t}var t=e.prototype;return t.set=function(e,t){if(this._cache[e]=t,this._registerCacheHit(e),this._cacheOrdering.length>this._cacheSize){var n=this._cacheOrdering[0];this.remove(n)}},t.get=function(e){return this._registerCacheHit(e),this._cache[e]},t.remove=function(e){this._deleteCacheHit(e),delete this._cache[e]},t.clear=function(){this._cache={},this._cacheOrdering=[]},t._registerCacheHit=function(e){this._deleteCacheHit(e),this._cacheOrdering.push(e)},t._deleteCacheHit=function(e){var t=this._cacheOrdering.indexOf(e);t>-1&&this._cacheOrdering.splice(t,1)},t.isValidCacheKey=function(e){return n(e)},e}(),f=function(){function e(){this._cache=new Map}var t=e.prototype;return t.set=function(e,t){this._cache.set(e,t)},t.get=function(e){return this._cache.get(e)},t.remove=function(e){this._cache.delete(e)},t.clear=function(){this._cache.clear()},e}(),d=function(){function e(e){var t=(void 0===e?{}:e).cacheSize;l(t),this._cache=new Map,this._cacheSize=t}var t=e.prototype;return t.set=function(e,t){if(this._cache.set(e,t),this._cache.size>this._cacheSize){var n=this._cache.keys().next().value;this.remove(n)}},t.get=function(e){return this._cache.get(e)},t.remove=function(e){this._cache.delete(e)},t.clear=function(){this._cache.clear()},e}(),p=function(){function e(e){var t=(void 0===e?{}:e).cacheSize;l(t),this._cache=new Map,this._cacheSize=t}var t=e.prototype;return t.set=function(e,t){if(this._cache.set(e,t),this._cache.size>this._cacheSize){var n=this._cache.keys().next().value;this.remove(n)}},t.get=function(e){var t=this._cache.get(e);return this._cache.has(e)&&(this.remove(e),this._cache.set(e,t)),t},t.remove=function(e){this._cache.delete(e)},t.clear=function(){this._cache.clear()},e}();e.FifoMapCache=d,e.FifoObjectCache=u,e.FlatMapCache=f,e.FlatObjectCache=r,e.LruMapCache=p,e.LruObjectCache=c,e.createCachedSelector=a,e.createStructuredCachedSelector=function(e){return t.createStructuredSelector(e,a)},e.default=a,Object.defineProperty(e,"__esModule",{value:!0})},"object"===l(t)?a(t,n(1401)):(i=[t,n(1401)],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o))},59410:(e,t,n)=>{"use strict";n.d(t,{Ai:()=>m,uj:()=>S});var r=n(78281),i=(n(43979),{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",whiteSpace:"nowrap",padding:0,width:"1px",position:"absolute"}),o=function(e){var t=e.message,n=e["aria-live"];return r.createElement("div",{style:i,role:"log","aria-live":n},t||"")};o.propTypes={};const a=o;function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==s(t)&&"function"!=typeof t?e:t}var u=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=l(this,e.call.apply(e,[this].concat(o))),r.state={assertiveMessage1:"",assertiveMessage2:"",politeMessage1:"",politeMessage2:"",oldPolitemessage:"",oldPoliteMessageId:"",oldAssertiveMessage:"",oldAssertiveMessageId:"",setAlternatePolite:!1,setAlternateAssertive:!1},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+s(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.oldPolitemessage,r=t.oldPoliteMessageId,i=t.oldAssertiveMessage,o=t.oldAssertiveMessageId,a=e.politeMessage,s=e.politeMessageId,l=e.assertiveMessage,u=e.assertiveMessageId;return n!==a||r!==s?{politeMessage1:t.setAlternatePolite?"":a,politeMessage2:t.setAlternatePolite?a:"",oldPolitemessage:a,oldPoliteMessageId:s,setAlternatePolite:!t.setAlternatePolite}:i!==l||o!==u?{assertiveMessage1:t.setAlternateAssertive?"":l,assertiveMessage2:t.setAlternateAssertive?l:"",oldAssertiveMessage:l,oldAssertiveMessageId:u,setAlternateAssertive:!t.setAlternateAssertive}:null},t.prototype.render=function(){var e=this.state,t=e.assertiveMessage1,n=e.assertiveMessage2,i=e.politeMessage1,o=e.politeMessage2;return r.createElement("div",null,r.createElement(a,{"aria-live":"assertive",message:t}),r.createElement(a,{"aria-live":"assertive",message:n}),r.createElement(a,{"aria-live":"polite",message:i}),r.createElement(a,{"aria-live":"polite",message:o}))},t}(r.Component);u.propTypes={};const c=u;var f=n(3324);function d(){f.warn("Announcement failed, LiveAnnouncer context is missing")}const p=r.createContext({announceAssertive:d,announcePolite:d});function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}const m=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==h(t)&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.announcePolite=function(e,t){r.setState({announcePoliteMessage:e,politeMessageId:t||""})},r.announceAssertive=function(e,t){r.setState({announceAssertiveMessage:e,assertiveMessageId:t||""})},r.state={announcePoliteMessage:"",politeMessageId:"",announceAssertiveMessage:"",assertiveMessageId:"",updateFunctions:{announcePolite:r.announcePolite,announceAssertive:r.announceAssertive}},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+h(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.state,t=e.announcePoliteMessage,n=e.politeMessageId,i=e.announceAssertiveMessage,o=e.assertiveMessageId,a=e.updateFunctions;return r.createElement(p.Provider,{value:a},this.props.children,r.createElement(c,{assertiveMessage:i,assertiveMessageId:o,politeMessage:t,politeMessageId:n}))},t}(r.Component);var v=n(91343),g=n.n(v);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==y(t)&&"function"!=typeof t?e:t}var w=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=b(this,e.call.apply(e,[this].concat(o))),r.announce=function(){var e=r.props,t=e.message,n=e["aria-live"],i=e.announceAssertive,o=e.announcePolite;"assertive"===n&&i(t||"",g()()),"polite"===n&&o(t||"",g()())},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+y(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.announce()},t.prototype.componentDidUpdate=function(e){this.props.message!==e.message&&this.announce()},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.clearOnUnmount,n=e.announceAssertive,r=e.announcePolite;!0!==t&&"true"!==t||(n(""),r(""))},t.prototype.render=function(){return null},t}(r.Component);w.propTypes={};Object.assign;var x=function(e){var t=e.children;return r.createElement(p.Consumer,null,(function(e){return t(e)}))};x.propTypes={};const S=x},43864:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},13821:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},91343:(e,t,n)=>{var r=n(13821),i=n(43864);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},56189:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var i=s(n(78281)),o=s(n(49304)),a=["text","onCopy","options","children"];function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(v,e);var t,n,s,l,m=(s=v,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(s);if(l){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}(this,e)});function v(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(d(e=m.call.apply(m,[this].concat(n))),"onClick",(function(t){var n=e.props,r=n.text,a=n.onCopy,s=n.children,l=n.options,u=i.default.Children.only(s),c=(0,o.default)(r,l);a&&a(r,c),u&&u.props&&"function"==typeof u.props.onClick&&u.props.onClick(t)})),e}return t=v,(n=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,a),r=i.default.Children.only(t);return i.default.cloneElement(r,u(u({},n),{},{onClick:this.onClick}))}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),v}(i.default.PureComponent);t.CopyToClipboard=m,h(m,"defaultProps",{onCopy:void 0,options:void 0})},15686:(e,t,n)=>{"use strict";var r=n(56189).CopyToClipboard;r.CopyToClipboard=r,e.exports=r},17667:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FILE:()=>r,TEXT:()=>o,URL:()=>i});var r="__NATIVE_FILE__",i="__NATIVE_URL__",o="__NATIVE_TEXT__"},37701:(e,t,n)=>{"use strict";function r(e){var t=null;return function(){return null==t&&(t=e()),t}}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,{NativeTypes:()=>h,default:()=>R,getEmptyImage:()=>k});var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entered=[],this.isNodeInDocument=t}var t,n;return t=e,(n=[{key:"enter",value:function(e){var t=this,n=this.entered.length;return this.entered=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var i=[];return n.forEach((function(e){return i.push(e)})),i}(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0}},{key:"leave",value:function(e){var t,n,r=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),n=e,t.filter((function(e){return e!==n}))),r>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}])&&i(t.prototype,n),e}(),a=r((function(){return/firefox/i.test(navigator.userAgent)})),s=r((function(){return Boolean(window.safari)}));function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=t.length,i=[],o=0;o<r;o++)i.push(o);i.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var a,s,l=[],u=[],c=[],f=0;f<r-1;f++)a=t[f+1]-t[f],s=n[f+1]-n[f],u.push(a),l.push(s),c.push(s/a);for(var d=[c[0]],p=0;p<u.length-1;p++){var h=c[p],m=c[p+1];if(h*m<=0)d.push(0);else{a=u[p];var v=u[p+1],g=a+v;d.push(3*g/((g+v)/h+(g+a)/m))}}d.push(c[c.length-1]);for(var y,b=[],w=[],x=0;x<d.length-1;x++){y=c[x];var S=d[x],E=1/u[x],_=S+d[x+1]-y-y;b.push((y-S-_)*E),w.push(_*E*E)}this.xs=t,this.ys=n,this.c1s=d,this.c2s=b,this.c3s=w}var t,n;return t=e,(n=[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,i=this.c2s,o=this.c3s,a=t.length-1;if(e===t[a])return n[a];for(var s,l=0,u=o.length-1;l<=u;){var c=t[s=Math.floor(.5*(l+u))];if(c<e)l=s+1;else{if(!(c>e))return n[s];u=s-1}}var f=e-t[a=Math.max(0,u)],d=f*f;return n[a]+r[a]*f+i[a]*d+o[a]*f*d}}])&&l(t.prototype,n),e}(),c=1;function f(e){var t=e.nodeType===c?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}function d(e){return{x:e.clientX,y:e.clientY}}var p,h=n(17667);function m(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=r?r:n}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=(v(p={},h.FILE,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),v(p,h.URL,{exposeProperties:{urls:function(e,t){return m(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]}),v(p,h.TEXT,{exposeProperties:{text:function(e,t){return m(e,t,"")}},matchesTypes:["Text","text/plain"]}),p),y=n(3324);function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.item={},this.initializeExposedProperties()}var t,n;return t=e,(n=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach((function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return y.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var n={};Object.keys(this.config.exposeProperties).forEach((function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes),configurable:!0,enumerable:!0}})),Object.defineProperties(this.item,n)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&b(t.prototype,n),e}();function x(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(g).filter((function(e){return g[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.globalContext=t}var t,n;return t=e,(n=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){if(this.window)return this.window.document}}])&&S(t.prototype,n),e}();function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C,P=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){return f(r.sourceNodes.get(e))},this.endDragNativeItem=function(){r.isDraggingNativeItem()&&(r.actions.endDrag(),r.registry.removeSource(r.currentNativeHandle),r.currentNativeHandle=null,r.currentNativeSource=null)},this.isNodeInDocument=function(e){return r.document&&r.document.body&&document.body.contains(e)},this.endDragIfSourceWasRemovedFromDOM=function(){var e=r.currentDragSourceNode;r.isNodeInDocument(e)||r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragStartCapture=function(){r.clearCurrentDragSourceNode(),r.dragStartSourceIds=[]},this.handleTopDragStart=function(e){if(!e.defaultPrevented){var t=r.dragStartSourceIds;r.dragStartSourceIds=null;var n=d(e);r.monitor.isDragging()&&r.actions.endDrag(),r.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:r.getSourceClientOffset,clientOffset:n});var i=e.dataTransfer,o=x(i);if(r.monitor.isDragging()){if(i&&"function"==typeof i.setDragImage){var l=r.monitor.getSourceId(),c=r.sourceNodes.get(l),p=r.sourcePreviewNodes.get(l)||c;if(p){var h=r.getCurrentSourcePreviewNodeOptions(),m=function(e,t,n,r,i){var o,l,c="IMG"===(o=t).nodeName&&(a()||!document.documentElement.contains(o)),d=f(c?e:t),p={x:n.x-d.x,y:n.y-d.y},h=e.offsetWidth,m=e.offsetHeight,v=r.anchorX,g=r.anchorY,y=function(e,t,n,r){var i=e?t.width:n,o=e?t.height:r;return s()&&e&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}(c,t,h,m),b=y.dragPreviewWidth,w=y.dragPreviewHeight,x=i.offsetX,S=i.offsetY,E=0===S||S;return{x:0===x||x?x:new u([0,.5,1],[p.x,p.x/h*b,p.x+b-h]).interpolate(v),y:E?S:(l=new u([0,.5,1],[p.y,p.y/m*w,p.y+w-m]).interpolate(g),s()&&c&&(l+=(window.devicePixelRatio-1)*w),l)}}(c,p,n,{anchorX:h.anchorX,anchorY:h.anchorY},{offsetX:h.offsetX,offsetY:h.offsetY});i.setDragImage(p,m.x,m.y)}}try{i.setData("application/json",{})}catch(e){}r.setCurrentDragSourceNode(e.target),r.getCurrentSourcePreviewNodeOptions().captureDraggingState?r.actions.publishDragSource():setTimeout((function(){return r.actions.publishDragSource()}),0)}else if(o)r.beginDragNativeItem(o);else{if(i&&!i.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}},this.handleTopDragEndCapture=function(){r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(r.dragEnterTargetIds=[],r.enterLeaveCounter.enter(e.target)&&!r.monitor.isDragging()){var t=e.dataTransfer,n=x(t);n&&r.beginDragNativeItem(n,t)}},this.handleTopDragEnter=function(e){var t=r.dragEnterTargetIds;r.dragEnterTargetIds=[],r.monitor.isDragging()&&(r.altKeyPressed=e.altKey,a()||r.actions.hover(t,{clientOffset:d(e)}),t.some((function(e){return r.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=r.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){r.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var t=r.dragOverTargetIds;if(r.dragOverTargetIds=[],!r.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));r.altKeyPressed=e.altKey,r.actions.hover(t||[],{clientOffset:d(e)}),(t||[]).some((function(e){return r.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=r.getCurrentDropEffect())):r.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){r.isDraggingNativeItem()&&e.preventDefault(),r.enterLeaveCounter.leave(e.target)&&r.isDraggingNativeItem()&&r.endDragNativeItem()},this.handleTopDropCapture=function(e){r.dropTargetIds=[],e.preventDefault(),r.isDraggingNativeItem()&&r.currentNativeSource.loadDataTransfer(e.dataTransfer),r.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var t=r.dropTargetIds;r.dropTargetIds=[],r.actions.hover(t,{clientOffset:d(e)}),r.actions.drop({dropEffect:r.getCurrentDropEffect()}),r.isDraggingNativeItem()?r.endDragNativeItem():r.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new E(n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new o(this.isNodeInDocument)}var t,n;return t=e,(n=[{key:"setup",value:function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var i=function(t){return r.handleDragStart(t,e)},o=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",i),t.addEventListener("selectstart",o),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",i),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},i=function(t){return n.handleDragOver(t,e)},o=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",i),t.addEventListener("drop",o),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",i),t.removeEventListener("drop",o)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return T({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return T({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(h).some((function(t){return h[t]===e}))}},{key:"beginDragNativeItem",value:function(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){var n=new w(g[e]);return n.loadDataTransfer(t),n}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}}])&&A(t.prototype,n),e}();function k(){return C||((C=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),C}const R=function(e,t){return new P(e,t)}},52301:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(37701)),i=a(n(62342)),o=n(68523);function a(e){return e&&e.__esModule?e:{default:e}}var s={backends:[{backend:r.default,transition:o.MouseTransition},{backend:i.default,options:{enableMouseEvents:!0},preview:!0,transition:o.TouchTransition}]};t.default=s},40474:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HTML5DragTransition:()=>r.HTML5DragTransition,MouseTransition:()=>r.MouseTransition,Preview:()=>p,TouchTransition:()=>r.TouchTransition,createTransition:()=>r.createTransition,default:()=>r.default});var r=n(68523),i=n(78281),o=n(43979),a=n.n(o),s=n(65360),l=i.createContext(),u=function(e){var t=(0,s.V)((function(e){return{currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging(),itemType:e.getItemType(),item:e.getItem()}}));if(!t.isDragging||null===t.currentOffset)return null;var n,r,o,a={itemType:t.itemType,item:t.item,style:(n=t.currentOffset,r="translate(".concat(n.x,"px, ").concat(n.y,"px)"),{pointerEvents:"none",position:"fixed",top:0,left:0,transform:r,WebkitTransform:r})};return o=e.children&&"function"==typeof e.children?e.children(a):e.children?e.children:e.generator(a),i.createElement(l.Provider,{value:a},o)};u.propTypes={generator:a().func,children:a().oneOfType([a().node,a().func])};const c=u;function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e){var t,n,o=(t=(0,i.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],s=o[1];return(0,i.useEffect)((function(){var e={backendChanged:function(e){s(e.previewEnabled())}};return r.PreviewManager.register(e),function(){r.PreviewManager.unregister(e)}})),a?i.createElement(c,e):null};d.Context=l,d.propTypes=c.propTypes;const p=d},62342:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r,i=n(5419);!function(e){e.mouse="mouse",e.touch="touch",e.keyboard="keyboard"}(r||(r={}));function o(e){return void 0===e.button||0===e.button}function a(e){return!!e.targetTouches}function s(e,t){return a(e)?function(e,t){return 1===e.targetTouches.length?s(e.targetTouches[0]):t&&1===e.touches.length&&e.touches[0].target===t.target?s(e.touches[0]):void 0}(e,t):{x:e.clientX,y:e.clientY}}const l=function(){var e=!1;try{addEventListener("test",(function(){}),Object.defineProperty({},"passive",{get:function(){return e=!0,!0}}))}catch(e){}return e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c,f=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.enableTouchEvents=!0,this.enableMouseEvents=!1,this.enableKeyboardEvents=!1,this.ignoreContextMenu=!1,this.enableHoverOutsideTarget=!1,this.touchSlop=0,this.scrollAngleRanges=void 0,this.context=n,this.delayTouchStart=t.delayTouchStart||t.delay||0,this.delayMouseStart=t.delayMouseStart||t.delay||0,Object.keys(t).forEach((function(e){null!=t[e]&&(r[e]=t[e])}))}var t,n;return t=e,(n=[{key:"window",get:function(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){if(this.window)return this.window.document}}])&&u(t.prototype,n),e}();function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=(p(c={},r.mouse,{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"}),p(c,r.touch,{start:"touchstart",move:"touchmove",end:"touchend"}),p(c,r.keyboard,{keydown:"keydown"}),c),m=function(){function e(t,n,i){var l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getSourceClientOffset=function(e){return function(e){var t=1===e.nodeType?e:e.parentElement;if(t){var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}}(l.sourceNodes[e])},this.handleTopMoveStartCapture=function(e){o(e)&&(l.moveStartSourceIds=[])},this.handleMoveStart=function(e){Array.isArray(l.moveStartSourceIds)&&l.moveStartSourceIds.unshift(e)},this.handleTopMoveStart=function(e){if(o(e)){var t=s(e);t&&(a(e)&&(l.lastTargetTouchFallback=e.targetTouches[0]),l._mouseClientOffset=t),l.waitingForDelay=!1}},this.handleTopMoveStartDelay=function(e){if(o(e)){var t=e.type===h.touch.start?l.options.delayTouchStart:l.options.delayMouseStart;l.timeout=setTimeout(l.handleTopMoveStart.bind(l,e),t),l.waitingForDelay=!0}},this.handleTopMoveCapture=function(){l.dragOverTargetIds=[]},this.handleMove=function(e,t){l.dragOverTargetIds&&l.dragOverTargetIds.unshift(t)},this.handleTopMove=function(e){if(l.timeout&&clearTimeout(l.timeout),l.document&&!l.waitingForDelay){var t,n,r,i,o=l.moveStartSourceIds,a=l.dragOverTargetIds,u=l.options.enableHoverOutsideTarget,c=s(e,l.lastTargetTouchFallback);if(c)if(l._isScrolling||!l.monitor.isDragging()&&function(e,t,n,r,i){if(!i)return!1;for(var o=180*Math.atan2(r-t,n-e)/Math.PI+180,a=0;a<i.length;++a)if((null==i[a].start||o>=i[a].start)&&(null==i[a].end||o<=i[a].end))return!0;return!1}(l._mouseClientOffset.x||0,l._mouseClientOffset.y||0,c.x,c.y,l.options.scrollAngleRanges))l._isScrolling=!0;else if(!l.monitor.isDragging()&&l._mouseClientOffset.hasOwnProperty("x")&&o&&(t=l._mouseClientOffset.x||0,n=l._mouseClientOffset.y||0,r=c.x,i=c.y,Math.sqrt(Math.pow(Math.abs(r-t),2)+Math.pow(Math.abs(i-n),2))>(l.options.touchSlop?l.options.touchSlop:0))&&(l.moveStartSourceIds=void 0,l.actions.beginDrag(o,{clientOffset:l._mouseClientOffset,getSourceClientOffset:l.getSourceClientOffset,publishSource:!1})),l.monitor.isDragging()){var f=l.sourceNodes[l.monitor.getSourceId()];l.installSourceNodeRemovalObserver(f),l.actions.publishDragSource(),e.preventDefault();var d=(a||[]).map((function(e){return l.targetNodes[e]})),p=l.options.getDropTargetElementsAtPoint?l.options.getDropTargetElementsAtPoint(c.x,c.y,d):l.document.elementsFromPoint(c.x,c.y),h=[];for(var m in p)if(p.hasOwnProperty(m)){var v=p[m];for(h.push(v);v;)v=v.parentElement,-1===h.indexOf(v)&&h.push(v)}var g=h.filter((function(e){return d.indexOf(e)>-1})).map((function(e){for(var t in l.targetNodes)if(e===l.targetNodes[t])return t})).filter((function(e){return!!e})).filter((function(e,t,n){return n.indexOf(e)===t}));if(u)for(var y in l.targetNodes)if(l.targetNodes[y]&&l.targetNodes[y].contains(f)&&-1===g.indexOf(y)){g.unshift(y);break}g.reverse(),l.actions.hover(g,{clientOffset:c})}}},this.handleTopMoveEndCapture=function(e){l._isScrolling=!1,l.lastTargetTouchFallback=void 0,function(e){return void 0===e.buttons||0==(1&e.buttons)}(e)&&(l.monitor.isDragging()&&!l.monitor.didDrop()?(e.preventDefault(),l._mouseClientOffset={},l.uninstallSourceNodeRemovalObserver(),l.actions.drop(),l.actions.endDrag()):l.moveStartSourceIds=void 0)},this.handleCancelOnEscape=function(e){"Escape"===e.key&&l.monitor.isDragging()&&(l._mouseClientOffset={},l.uninstallSourceNodeRemovalObserver(),l.actions.endDrag())},this.options=new f(i,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.sourceNodes={},this.sourcePreviewNodes={},this.sourcePreviewNodeOptions={},this.targetNodes={},this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(r.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(r.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(r.keyboard)}var t,n;return t=e,(n=[{key:"setup",value:function(){this.window&&((0,i.V)(!e.isSetUp,"Cannot have two Touch backends at the same time."),e.isSetUp=!0,this.addEventListener(this.window,"start",this.getTopMoveStartHandler()),this.addEventListener(this.window,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(this.window,"move",this.handleTopMove),this.addEventListener(this.window,"move",this.handleTopMoveCapture,!0),this.addEventListener(this.window,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(this.window,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(this.window,"keydown",this.handleCancelOnEscape,!0))}},{key:"teardown",value:function(){this.window&&(e.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(this.window,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(this.window,"start",this.handleTopMoveStart),this.removeEventListener(this.window,"move",this.handleTopMoveCapture,!0),this.removeEventListener(this.window,"move",this.handleTopMove),this.removeEventListener(this.window,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(this.window,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(this.window,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}},{key:"addEventListener",value:function(e,t,n,r){var i=l?{capture:r,passive:!1}:r;this.listenerTypes.forEach((function(r){var o=h[r][t];o&&e.addEventListener(o,n,i)}))}},{key:"removeEventListener",value:function(e,t,n,r){var i=l?{capture:r,passive:!1}:r;this.listenerTypes.forEach((function(r){var o=h[r][t];o&&e.removeEventListener(o,n,i)}))}},{key:"connectDragSource",value:function(e,t){var n=this,r=this.handleMoveStart.bind(this,e);return this.sourceNodes[e]=t,this.addEventListener(t,"start",r),function(){delete n.sourceNodes[e],n.removeEventListener(t,"start",r)}}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions[e]=n,this.sourcePreviewNodes[e]=t,function(){delete r.sourcePreviewNodes[e],delete r.sourcePreviewNodeOptions[e]}}},{key:"connectDropTarget",value:function(e,t){var n=this;if(!this.document)return function(){return null};var r=function(r){if(n.document&&n.monitor.isDragging()){var i;switch(r.type){case h.mouse.move:i={x:r.clientX,y:r.clientY};break;case h.touch.move:i={x:r.touches[0].clientX,y:r.touches[0].clientY}}var o=null!=i?n.document.elementFromPoint(i.x,i.y):void 0,a=o&&t.contains(o);return o===t||a?n.handleMove(r,e):void 0}};return this.addEventListener(this.document.body,"move",r),this.targetNodes[e]=t,function(){n.document&&(delete n.targetNodes[e],n.removeEventListener(n.document.body,"move",r))}}},{key:"getTopMoveStartHandler",value:function(){return this.options.delayTouchStart||this.options.delayMouseStart?this.handleTopMoveStartDelay:this.handleTopMoveStart}},{key:"installSourceNodeRemovalObserver",value:function(e){var t=this;this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver((function(){e&&!e.parentElement&&(t.resurrectSourceNode(),t.uninstallSourceNodeRemovalObserver())})),e&&e.parentElement&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}},{key:"resurrectSourceNode",value:function(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}},{key:"uninstallSourceNodeRemovalObserver",value:function(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){if(this.window)return this.window.document}}])&&d(t.prototype,n),e}();const v=function(e,t){return new m(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}},85112:(e,t,n)=>{"use strict";n.d(t,{M:()=>ge,s:()=>ye});var r=n(78281),i=n(69592),o="dnd-core/INIT_COORDS",a="dnd-core/BEGIN_DRAG",s="dnd-core/PUBLISH_DRAG_SOURCE",l="dnd-core/HOVER",u="dnd-core/DROP",c="dnd-core/END_DRAG",f=function(e,t){return e===t};function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function m(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,r=arguments.length>1?arguments[1]:void 0,i=r.payload;switch(r.type){case o:case a:return{initialSourceClientOffset:i.sourceClientOffset,initialClientOffset:i.clientOffset,clientOffset:i.clientOffset};case l:return e=n.clientOffset,t=i.clientOffset,!e&&!t||e&&t&&e.x===t.x&&e.y===t.y?n:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{clientOffset:i.clientOffset});case c:case u:return h;default:return n}}var v="dnd-core/ADD_SOURCE",g="dnd-core/ADD_TARGET",y="dnd-core/REMOVE_SOURCE",b="dnd-core/REMOVE_TARGET";function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function x(e){return x="function"==typeof Symbol&&"symbol"===w(Symbol.iterator)?function(e){return w(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":w(e)},x(e)}function S(e){return"object"===x(e)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function A(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,r=arguments.length>1?arguments[1]:void 0,i=r.payload;switch(r.type){case a:return _({},n,{itemType:i.itemType,item:i.item,sourceId:i.sourceId,isSourcePublic:i.isSourcePublic,dropResult:null,didDrop:!1});case s:return _({},n,{isSourcePublic:!0});case l:return _({},n,{targetIds:i.targetIds});case b:return-1===n.targetIds.indexOf(i.targetId)?n:_({},n,{targetIds:(e=n.targetIds,t=i.targetId,e.filter((function(e){return e!==t})))});case u:return _({},n,{dropResult:i.dropResult,didDrop:!0,targetIds:[]});case c:return _({},n,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return n}}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch((arguments.length>1?arguments[1]:void 0).type){case v:case g:return e+1;case y:case b:return e-1;default:return e}}var P=[],k=[];function R(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l:break;case v:case g:case b:case y:return P;default:return k}var t=e.payload,n=t.targetIds,r=void 0===n?[]:n,i=t.prevTargetIds,o=void 0===i?[]:i,a=function(e,t){var n=new Map,r=function(e){return n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var i=[];return n.forEach((function(e,t){1===e&&i.push(t)})),i}(r,o),s=a.length>0||!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}(r,o);if(!s)return P;var u=o[o.length-1],c=r[r.length-1];return u!==c&&(u&&a.push(u),c&&a.push(c)),a}function I(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+1}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:R(n.dirtyHandlerIds,{type:r.type,payload:D({},r.payload,{prevTargetIds:(e=n,"dragOperation.targetIds",t=[],"dragOperation.targetIds".split(".").reduce((function(e,n){return e&&e[n]?e[n]:t||null}),e))})}),dragOffset:m(n.dragOffset,r),refCount:C(n.refCount,r),dragOperation:A(n.dragOperation,r),stateId:I(n.stateId)}}P.__IS_NONE__=!0,k.__IS_ALL__=!0;var N=n(5419);function z(e,t){return{type:o,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}var B={type:o,payload:{clientOffset:null,sourceClientOffset:null}};function F(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=n.publishSource,i=void 0===r||r,o=n.clientOffset,s=n.getSourceClientOffset,l=e.getMonitor(),u=e.getRegistry();e.dispatch(z(o)),function(e,t,n){(0,N.V)(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){(0,N.V)(n.getSource(e),"Expected sourceIds to be registered.")}))}(t,l,u);var c=function(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}(t,l);if(null!==c){var f=null;o&&(function(e){(0,N.V)("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(s),f=s(c)),e.dispatch(z(o,f));var d=u.getSource(c).beginDrag(l,c);!function(e){(0,N.V)(S(e),"Item must be an object.")}(d),u.pinSource(c);var p=u.getSourceType(c);return{type:a,payload:{itemType:p,item:d,sourceId:c,clientOffset:o||null,sourceClientOffset:f||null,isSourcePublic:!!i}}}e.dispatch(B)}}function W(e){return function(){if(e.getMonitor().isDragging())return{type:s}}}function H(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function U(e){return function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).clientOffset;!function(e){(0,N.V)(Array.isArray(e),"Expected targetIds to be an array.")}(t);var r=t.slice(0),i=e.getMonitor(),o=e.getRegistry();return function(e,t,n){(0,N.V)(t.isDragging(),"Cannot call hover while not dragging."),(0,N.V)(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var i=e[r];(0,N.V)(e.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array.");var o=n.getTarget(i);(0,N.V)(o,"Expected targetIds to be registered.")}}(r,i,o),function(e,t,n){for(var r=e.length-1;r>=0;r--){var i=e[r];H(t.getTargetType(i),n)||e.splice(r,1)}}(r,o,i.getItemType()),function(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}(r,i,o),{type:l,payload:{targetIds:r,clientOffset:n||null}}}}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getMonitor(),r=e.getRegistry();!function(e){(0,N.V)(e.isDragging(),"Cannot call drop while not dragging."),(0,N.V)(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(n);var i=function(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(n);i.forEach((function(i,o){var a=function(e,t,n,r){var i=n.getTarget(e),o=i?i.drop(r,e):void 0;return function(e){(0,N.V)(void 0===e||S(e),"Drop result must either be an object or undefined.")}(o),void 0===o&&(o=0===t?{}:r.getDropResult()),o}(i,o,r,n),s={type:u,payload:{dropResult:G({},t,{},a)}};e.dispatch(s)}))}}function Z(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){(0,N.V)(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var r=t.getSourceId();return n.getSource(r,!0).endDrag(t,r),n.unpinSource(),{type:c}}}function $(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var K,J=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=n}var t,n;return t=e,n=[{key:"subscribeToStateChange",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0}).handlerIds;(0,N.V)("function"==typeof e,"listener must be a function."),(0,N.V)(void 0===n||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");var r=this.store.getState().stateId;return this.store.subscribe((function(){var i=t.store.getState(),o=i.stateId;try{var a=o===r||o===r+1&&!function(e,t){return e!==P&&(e===k||void 0===t||(n=e,t.filter((function(e){return n.indexOf(e)>-1}))).length>0);var n}(i.dirtyHandlerIds,n);a||e()}finally{r=o}}))}},{key:"subscribeToOffsetChange",value:function(e){var t=this;(0,N.V)("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return(0,N.V)(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return(0,N.V)(t,"Expected to find a valid target."),!(!this.isDragging()||this.didDrop())&&H(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return(0,N.V)(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){if(!e)return!1;var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1}).shallow;if(!this.isDragging())return!1;var n=this.registry.getTargetType(e),r=this.getItemType();if(r&&!H(n,r))return!1;var i=this.getTargetIds();if(!i.length)return!1;var o=i.indexOf(e);return t?o===i.length-1:o>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return r=(e=this.store.getState().dragOffset).clientOffset,i=e.initialClientOffset,o=e.initialSourceClientOffset,r&&i&&o?$((n=o,{x:(t=r).x+n.x,y:t.y+n.y}),i):null;var e,t,n,r,i,o}},{key:"getDifferenceFromInitialOffset",value:function(){return t=(e=this.store.getState().dragOffset).clientOffset,n=e.initialClientOffset,t&&n?$(t,n):null;var e,t,n}}],n&&Y(t.prototype,n),e}(),Q=0;function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e){return te="function"==typeof Symbol&&"symbol"===ee(Symbol.iterator)?function(e){return ee(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":ee(e)},te(e)}function ne(e,t){t&&Array.isArray(e)?e.forEach((function(e){return ne(e,!1)})):(0,N.V)("string"==typeof e||"symbol"===te(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(K||(K={}));const re="undefined"!=typeof global?global:self,ie=re.MutationObserver||re.WebKitMutationObserver;function oe(e){return function(){const t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}const ae="function"==typeof ie?function(e){let t=1;const n=new ie(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}:oe;class se{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const le=new class{enqueueTask(e){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,n=e.length-this.index;t<n;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=ae(this.flush),this.requestErrorThrow=oe((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},ue=new class{create(e){const t=this.freeTasks,n=t.length?t.pop():new se(this.onError,(e=>t[t.length]=e));return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}(le.registerPendingError);function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e){switch(e[0]){case"S":return K.SOURCE;case"T":return K.TARGET;default:(0,N.V)(!1,"Cannot parse handler ID: ".concat(e))}}function de(e,t){var n,r,i=e.entries(),o=!1;do{var a=i.next(),s=a.done;if((n=a.value,r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}())[1]===t)return!0;o=!!s}while(!o);return!1}var pe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}var t,n;return t=e,n=[{key:"addSource",value:function(e,t){ne(e),function(e){(0,N.V)("function"==typeof e.canDrag,"Expected canDrag to be a function."),(0,N.V)("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),(0,N.V)("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler(K.SOURCE,e,t);return this.store.dispatch(function(e){return{type:v,payload:{sourceId:e}}}(n)),n}},{key:"addTarget",value:function(e,t){ne(e,!0),function(e){(0,N.V)("function"==typeof e.canDrop,"Expected canDrop to be a function."),(0,N.V)("function"==typeof e.hover,"Expected hover to be a function."),(0,N.V)("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler(K.TARGET,e,t);return this.store.dispatch(function(e){return{type:g,payload:{targetId:e}}}(n)),n}},{key:"containsHandler",value:function(e){return de(this.dragSources,e)||de(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,N.V)(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}},{key:"getTarget",value:function(e){return(0,N.V)(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return(0,N.V)(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return(0,N.V)(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return fe(e)===K.SOURCE}},{key:"isTargetId",value:function(e){return fe(e)===K.TARGET}},{key:"removeSource",value:function(e){var t,n=this;(0,N.V)(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:y,payload:{sourceId:e}}}(e)),t=function(){n.dragSources.delete(e),n.types.delete(e)},le.enqueueTask(ue.create(t))}},{key:"removeTarget",value:function(e){(0,N.V)(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:b,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);(0,N.V)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){(0,N.V)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,n){var r=function(e){var t=(Q++).toString();switch(e){case K.SOURCE:return"S".concat(t);case K.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}(e);return this.types.set(r,t),e===K.SOURCE?this.dragSources.set(r,n):e===K.TARGET&&this.dropTargets.set(r,n),r}}],n&&ce(t.prototype,n),e}();function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var me=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var e=t.store.getState().refCount>0;t.backend&&(e&&!t.isSetUp?(t.backend.setup(),t.isSetUp=!0):!e&&t.isSetUp&&(t.backend.teardown(),t.isSetUp=!1))};var r=function(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return(0,i.y$)(L,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(n);this.store=r,this.monitor=new J(r,new pe(r)),r.subscribe(this.handleRefCountChange)}var t,n;return t=e,n=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,n=function(e){return{beginDrag:F(e),publishDragSource:W(e),hover:U(e),drop:X(e),endDrag:Z(e)}}(this);return Object.keys(n).reduce((function(r,i){var o,a=n[i];return r[i]=(o=a,function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=o.apply(e,r);void 0!==a&&t(a)}),r}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}],n&&he(t.prototype,n),e}();function ve(e,t,n,r){var i=new me(r),o=e(i,t,n);return i.receiveBackend(o),i}var ge=r.createContext({dragDropManager:void 0});function ye(e,t,n,r){return{dragDropManager:ve(e,t,n,r)}}},68762:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a});var r=n(78281),i=n(85112);var o=0,a=(0,r.memo)((function(e){var t,n,a=e.children,u=function(e){if("manager"in e)return[{dragDropManager:e.manager},!1];var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=t;return o[s]||(o[s]=(0,i.s)(e,t,n,r)),o[s]}(e.backend,e.context,e.options,e.debugMode);return[t,!e.context]}(function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["children"])),c=(n=2,function(e){if(Array.isArray(e))return e}(t=u)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),f=c[0],d=c[1];return r.useEffect((function(){return d&&o++,function(){d&&0==--o&&(l()[s]=null)}}),[]),r.createElement(i.M.Provider,{value:f},a)}));a.displayName="DndProvider";var s=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");function l(){return void 0!==n.g?n.g:window}},77561:(e,t,n)=>{"use strict";n.d(t,{b:()=>a});var r=n(5419);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=!1,a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.targetId=null,this.internalMonitor=t.getMonitor()}var t,n;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;(0,r.V)(!o,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return o=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{o=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&i(t.prototype,n),e}()},9477:(e,t,n)=>{"use strict";n.d(t,{P:()=>s});var r=n(38479),i=n(16354),o=n(62260);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=(0,i.A)({dropTarget:function(e,t){n.clearDropTarget(),n.dropTargetOptions=t,(0,o.i)(e)?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}var t,n;return t=e,(n=[{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!(0,r.b)(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}},{key:"connectTarget",get:function(){return this.dropTarget}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}}])&&a(t.prototype,n),e}()},24492:(e,t,n)=>{"use strict";function r(e,t,n){var r=n.getRegistry(),i=r.addTarget(e,t);return[i,function(){return r.removeTarget(i)}]}function i(e,t,n){var r=n.getRegistry(),i=r.addSource(e,t);return[i,function(){return r.removeSource(i)}]}n.d(t,{V:()=>i,l:()=>r})},16354:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(78281),i=n(5419);function o(e,t){"function"==typeof e?e(t):e.current=t}function a(e){var t={};return Object.keys(e).forEach((function(n){var a=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var s=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,r.isValidElement)(t)){var a=t;return e(a,n),a}var s=t;!function(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}(s);var l=n?function(t){return e(t,n)}:e;return function(e,t){var n=e.ref;return(0,i.V)("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),n?(0,r.cloneElement)(e,{ref:function(e){o(n,e),o(t,e)}}):(0,r.cloneElement)(e,{ref:t})}(s,l)}}(a);t[n]=function(){return s}}})),t}},28576:(e,t,n)=>{"use strict";n.d(t,{F:()=>a});var r=n(38479),i=n(78281),o=n(66561);function a(e,t,n){var a,s,l=(a=(0,i.useState)((function(){return t(e)})),s=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(a,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),u=l[0],c=l[1],f=(0,i.useCallback)((function(){var i=t(e);(0,r.b)(u,i)||(c(i),n&&n())}),[u,e,n]);return(0,o.E)(f,[]),[u,f]}},41101:(e,t,n)=>{"use strict";n.d(t,{u:()=>a});var r=n(78281),i=n(5419),o=n(85112);function a(){var e=(0,r.useContext)(o.M).dragDropManager;return(0,i.V)(null!=e,"Expected drag drop context"),e}},66561:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var r=n(78281),i="undefined"!=typeof window?r.useLayoutEffect:r.useEffect},61408:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});var r=n(66561),i=n(28576);function o(e,t,n){var o,a,s=(o=(0,i.F)(e,t,n),a=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(o,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),l=s[0],u=s[1];return(0,r.E)((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(u,{handlerIds:[t]})}),[e,u]),l}},65360:(e,t,n)=>{"use strict";n.d(t,{V:()=>a});var r=n(78281),i=n(41101),o=n(28576);function a(e){var t,n,a=(0,i.u)().getMonitor(),s=(t=(0,o.F)(a,e),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),l=s[0],u=s[1];return(0,r.useEffect)((function(){return a.subscribeToOffsetChange(u)})),(0,r.useEffect)((function(){return a.subscribeToStateChange(u)})),l}},13589:(e,t,n)=>{"use strict";n.d(t,{H:()=>f});var r=n(78281),i=n(5419),o=n(61408),a=n(66561),s=n(24492),l=n(41101),u=n(9477),c=n(77561);function f(e){var t=(0,r.useRef)(e);t.current=e,(0,i.V)(null!=e.accept,"accept must be defined");var n,f,d,p=(n=(0,l.u)(),f=[(0,r.useMemo)((function(){return new c.b(n)}),[n]),(0,r.useMemo)((function(){return new u.P(n.getBackend())}),[n])],d=2,function(e){if(Array.isArray(e))return e}(f)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(f,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),h=p[0],m=p[1];!function(e,t,n){var i=(0,l.u)(),o=(0,r.useMemo)((function(){return{canDrop:function(){var n=e.current.canDrop;return!n||n(t.getItem(),t)},hover:function(){var n=e.current.hover;n&&n(t.getItem(),t)},drop:function(){var n=e.current.drop;if(n)return n(t.getItem(),t)}}}),[t]);(0,a.E)((function(){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}((0,s.l)(e.current.accept,o,i),2),a=r[0],l=r[1];return t.receiveHandlerId(a),n.receiveHandlerId(a),l}),[t,n])}(t,h,m);var v=(0,o.F)(h,t.current.collect||function(){return{}},(function(){return m.reconnect()})),g=(0,r.useMemo)((function(){return m.hooks.dropTarget()}),[m]);return(0,a.E)((function(){m.dropTargetOptions=e.options||null,m.reconnect()}),[e.options]),[v,g]}},74145:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DndContext:()=>r.M,DndProvider:()=>i.Q,DragLayer:()=>de,DragPreviewImage:()=>a,DragSource:()=>ee,DropTarget:()=>ae,createDndContext:()=>r.s,useDrag:()=>E,useDragLayer:()=>T.V,useDrop:()=>_.H});var r=n(85112),i=n(68762),o=n(78281),a=o.memo((function(e){var t=e.connect,n=e.src;if("undefined"!=typeof Image){var r=new Image;r.src=n,r.onload=function(){return t(r)}}return null}));a.displayName="DragPreviewImage";var s=n(5419),l=n(61408),u=n(66561),c=n(24492),f=n(41101);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=!1,h=!1,m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourceId=null,this.internalMonitor=t.getMonitor()}var t,n;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){(0,s.V)(!p,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return p=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{p=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;(0,s.V)(!h,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return h=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{h=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&d(t.prototype,n),e}(),v=n(16354),g=n(62260),y=n(38479);function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=(0,v.A)({dragSource:function(e,t){n.clearDragSource(),n.dragSourceOptions=t||null,(0,g.i)(e)?n.dragSourceRef=e:n.dragSourceNode=e,n.reconnectDragSource()},dragPreview:function(e,t){n.clearDragPreview(),n.dragPreviewOptions=t||null,(0,g.i)(e)?n.dragPreviewRef=e:n.dragPreviewNode=e,n.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}var t,n;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e)}},{key:"reconnectDragPreview",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();this.handlerId?this.dragPreview&&t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.disconnectDragPreview(),this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.disconnectDragPreview()}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!(0,y.b)(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!(0,y.b)(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}}])&&b(t.prototype,n),e}();function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function S(e){return S="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(e){return x(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":x(e)},S(e)}function E(e){var t=(0,o.useRef)(e);t.current=e,(0,s.V)(null!=e.item,"item must be defined"),(0,s.V)(null!=e.item.type,"item type must be defined");var n,r,i,a=(n=(0,f.u)(),r=[(0,o.useMemo)((function(){return new m(n)}),[n]),(0,o.useMemo)((function(){return new w(n.getBackend())}),[n])],i=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),d=a[0],p=a[1];!function(e,t,n){var r=(0,f.u)(),i=(0,o.useMemo)((function(){return{beginDrag:function(){var n=e.current,r=n.begin,i=n.item;if(r){var o=r(t);return(0,s.V)(null==o||"object"===S(o),"dragSpec.begin() must either return an object, undefined, or null"),o||i||{}}return i||{}},canDrag:function(){return"boolean"==typeof e.current.canDrag?e.current.canDrag:"function"!=typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(n,r){var i=e.current.isDragging;return i?i(t):r===n.getSourceId()},endDrag:function(){var r=e.current.end;r&&r(t.getItem(),t),n.reconnect()}}}),[]);(0,u.E)((function(){var o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}((0,c.V)(e.current.item.type,i,r),2),a=o[0],s=o[1];return t.receiveHandlerId(a),n.receiveHandlerId(a),s}),[])}(t,d,p);var h=(0,l.F)(d,t.current.collect||function(){return{}},(function(){return p.reconnect()})),v=(0,o.useMemo)((function(){return p.hooks.dragSource()}),[p]),g=(0,o.useMemo)((function(){return p.hooks.dragPreview()}),[p]);return(0,u.E)((function(){p.dragSourceOptions=t.current.options||null,p.reconnect()}),[p]),(0,u.E)((function(){p.dragPreviewOptions=t.current.previewOptions||null,p.reconnect()}),[p]),[h,v,g]}var _=n(13589),T=n(65360);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function A(e){return A="function"==typeof Symbol&&"symbol"===O(Symbol.iterator)?function(e){return O(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":O(e)},A(e)}function C(e){return"function"==typeof e}function P(){}function k(e){if(!function(e){return"object"===A(e)&&null!==e}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function R(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}function I(e){return(t=e)&&t.prototype&&"function"==typeof t.prototype.render||function(e){return e&&e.$$typeof&&"Symbol(react.forward_ref)"===e.$$typeof.toString()}(e);var t}var M=n(24129),D=n.n(M);function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return t&&L(e.prototype,t),n&&L(e,n),e}var z=function(){function e(t){j(this,e),this.isDisposed=!1,this.action=C(t)?t:P}return N(e,[{key:"dispose",value:function(){this.isDisposed||(this.action(),this.isDisposed=!0)}}],[{key:"isDisposable",value:function(e){return e&&C(e.dispose)}},{key:"_fixup",value:function(t){return e.isDisposable(t)?t:e.empty}},{key:"create",value:function(t){return new e(t)}}]),e}();z.empty={dispose:P};var B=function(){function e(){j(this,e),this.isDisposed=!1;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.disposables=n}return N(e,[{key:"add",value:function(e){this.isDisposed?e.dispose():this.disposables.push(e)}},{key:"remove",value:function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),e.dispose())}return t}},{key:"clear",value:function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}}}]),e}(),F=function(){function e(){j(this,e),this.isDisposed=!1}return N(e,[{key:"getDisposable",value:function(){return this.current}},{key:"setDisposable",value:function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e,n&&n.dispose()}t&&e&&e.dispose()}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}}}]),e}();function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function H(e){return H="function"==typeof Symbol&&"symbol"===W(Symbol.iterator)?function(e){return W(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":W(e)},H(e)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}function G(e,t){return G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},G(e,t)}function q(e){var t=e.DecoratedComponent,n=e.createHandler,i=e.createMonitor,a=e.createConnector,l=e.registerHandler,u=e.containerDisplayName,c=e.getType,f=e.collect,d=e.options.arePropsEqual,p=void 0===d?y.b:d,h=t,m=t.displayName||t.name||"Component",v=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,V(t).call(this,e))).decoratedRef=o.createRef(),n.handleChange=function(){var e=n.getCurrentState();(0,y.b)(e,n.state)||n.setState(e)},n.disposable=new F,n.receiveProps(e),n.dispose(),n}var u,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,e),u=t,(d=[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return(0,s.V)(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current}},{key:"shouldComponentUpdate",value:function(e,t){return!p(e,this.props)||!(0,y.b)(t,this.state)}},{key:"componentDidMount",value:function(){this.disposable=new F,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()}},{key:"componentDidUpdate",value:function(e){p(this.props,e)||(this.receiveProps(this.props),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose()}},{key:"receiveProps",value:function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(c(e)))}},{key:"receiveType",value:function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=(o=l(e,this.handler,this.manager),a=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(o,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),n=t[0],r=t[1];this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var i=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new B(new z(i),new z(r)))}var o,a}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)}},{key:"getCurrentState",value:function(){return this.handlerConnector?f(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}}},{key:"render",value:function(){var e=this;return o.createElement(r.M.Consumer,null,(function(t){var n=t.dragDropManager;return e.receiveDragDropManager(n),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame((function(){return e.handlerConnector.reconnect()})),o.createElement(h,Object.assign({},e.props,e.getCurrentState(),{ref:I(h)?e.decoratedRef:null}))}))}},{key:"receiveDragDropManager",value:function(e){void 0===this.manager&&((0,s.V)(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",m,m),void 0!==e&&(this.manager=e,this.handlerMonitor=i(e),this.handlerConnector=a(e.getBackend()),this.handler=n(this.handlerMonitor,this.decoratedRef)))}}])&&U(u.prototype,d),t}(o.Component);return v.DecoratedComponent=t,v.displayName="".concat(u,"(").concat(m,")"),D()(v,t)}function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function Z(e){return Z="function"==typeof Symbol&&"symbol"===X(Symbol.iterator)?function(e){return X(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":X(e)},Z(e)}function $(e,t){return"string"==typeof e||"symbol"===Z(e)||!!t&&Array.isArray(e)&&e.every((function(e){return $(e,!1)}))}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var K=["canDrag","beginDrag","isDragging","endDrag"],J=["beginDrag"],Q=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=null,this.beginDrag=function(){if(i.props)return i.spec.beginDrag(i.props,i.monitor,i.ref.current)},this.spec=t,this.monitor=n,this.ref=r}var t,n;return t=e,(n=[{key:"receiveProps",value:function(e){this.props=e}},{key:"canDrag",value:function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))}},{key:"isDragging",value:function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())}},{key:"endDrag",value:function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,R(this.ref))}}])&&Y(t.prototype,n),e}();function ee(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e;"function"!=typeof e&&((0,s.V)($(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),i=function(){return e}),(0,s.V)(k(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var o=function(e){return Object.keys(e).forEach((function(t){(0,s.V)(K.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',K.join(", "),t),(0,s.V)("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),J.forEach((function(t){(0,s.V)("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),function(t,n){return new Q(e,t,n)}}(t);return(0,s.V)("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),(0,s.V)(k(r),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),function(e){return q({containerDisplayName:"DragSource",createHandler:o,registerHandler:c.V,createConnector:function(e){return new w(e)},createMonitor:function(e){return new m(e)},DecoratedComponent:e,getType:i,collect:n,options:r})}}var te=n(9477),ne=n(77561);function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ie=["canDrop","hover","drop"],oe=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=null,this.spec=t,this.monitor=n,this.ref=r}var t,n;return t=e,(n=[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveMonitor",value:function(e){this.monitor=e}},{key:"canDrop",value:function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){this.spec.hover&&this.spec.hover(this.props,this.monitor,R(this.ref))}},{key:"drop",value:function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)}}])&&re(t.prototype,n),e}();function ae(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e;"function"!=typeof e&&((0,s.V)($(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),i=function(){return e}),(0,s.V)(k(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var o=function(e){return Object.keys(e).forEach((function(t){(0,s.V)(ie.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',ie.join(", "),t),(0,s.V)("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])})),function(t,n){return new oe(e,t,n)}}(t);return(0,s.V)("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),(0,s.V)(k(r),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),function(e){return q({containerDisplayName:"DropTarget",createHandler:o,registerHandler:c.l,createMonitor:function(e){return new ne.b(e)},createConnector:function(e){return new te.P(e)},DecoratedComponent:e,getType:i,collect:n,options:r})}}function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function le(e){return le="function"==typeof Symbol&&"symbol"===se(Symbol.iterator)?function(e){return se(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":se(e)},le(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e){return ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ce(e)}function fe(e,t){return fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fe(e,t)}function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.V)("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer",e),(0,s.V)(k(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer',t),function(n){var i=n,a=t.arePropsEqual,l=void 0===a?y.b:a,u=i.displayName||i.name||"Component",c=function(t){function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,ce(n).apply(this,arguments))).isCurrentlyMounted=!1,e.ref=o.createRef(),e.handleChange=function(){if(e.isCurrentlyMounted){var t=e.getCurrentState();(0,y.b)(t,e.state)||e.setState(t)}},e}var a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(n,t),a=n,(c=[{key:"getDecoratedComponentInstance",value:function(){return(0,s.V)(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current}},{key:"shouldComponentUpdate",value:function(e,t){return!l(e,this.props)||!(0,y.b)(t,this.state)}},{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,this.handleChange()}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange&&(this.unsubscribeFromOffsetChange(),this.unsubscribeFromOffsetChange=void 0),this.unsubscribeFromStateChange&&(this.unsubscribeFromStateChange(),this.unsubscribeFromStateChange=void 0)}},{key:"render",value:function(){var e=this;return o.createElement(r.M.Consumer,null,(function(t){var n=t.dragDropManager;return void 0===n?null:(e.receiveDragDropManager(n),e.isCurrentlyMounted?o.createElement(i,Object.assign({},e.props,e.state,{ref:I(i)?e.ref:null})):null)}))}},{key:"receiveDragDropManager",value:function(e){if(void 0===this.manager){this.manager=e,(0,s.V)("object"===le(e),"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",u,u);var t=this.manager.getMonitor();this.unsubscribeFromOffsetChange=t.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=t.subscribeToStateChange(this.handleChange)}}},{key:"getCurrentState",value:function(){if(!this.manager)return{};var t=this.manager.getMonitor();return e(t,this.props)}}])&&ue(a.prototype,c),n}(o.Component);return c.displayName="DragLayer(".concat(u,")"),c.DecoratedComponent=n,D()(c,n)}}},62260:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return i="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},i(e)}function o(e){return null!==e&&"object"===i(e)&&e.hasOwnProperty("current")}n.d(t,{i:()=>o})},54392:(e,t,n)=>{"use strict";var r=n(3324);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var o=n(78281),a=n(63865),s=n(79551);function l(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!o)throw Error(l(227));function u(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var c=!1,f=null,d=!1,p=null,h={onError:function(e){c=!0,f=e}};function m(e,t,n,r,i,o,a,s,l){c=!1,f=null,u.apply(h,arguments)}var v=null,g=null,y=null;function b(e,t,n){var r=e.type||"unknown-event";e.currentTarget=y(n),function(e,t,n,r,i,o,a,s,u){if(m.apply(this,arguments),c){if(!c)throw Error(l(198));var h=f;c=!1,f=null,d||(d=!0,p=h)}}(r,t,void 0,e),e.currentTarget=null}var w=null,x={};function S(){if(w)for(var e in x){var t=x[e],n=w.indexOf(e);if(!(-1<n))throw Error(l(96,e));if(!_[n]){if(!t.extractEvents)throw Error(l(97,e));for(var r in _[n]=t,n=t.eventTypes){var i=void 0,o=n[r],a=t,s=r;if(T.hasOwnProperty(s))throw Error(l(99,s));T[s]=o;var u=o.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&E(u[i],a,s);i=!0}else o.registrationName?(E(o.registrationName,a,s),i=!0):i=!1;if(!i)throw Error(l(98,r,e))}}}}function E(e,t,n){if(O[e])throw Error(l(100,e));O[e]=t,A[e]=t.eventTypes[n].dependencies}var _=[],T={},O={},A={};function C(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!x.hasOwnProperty(t)||x[t]!==r){if(x[t])throw Error(l(102,t));x[t]=r,n=!0}}n&&S()}var P=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),k=null,R=null,I=null;function M(e){if(e=g(e)){if("function"!=typeof k)throw Error(l(280));var t=e.stateNode;t&&(t=v(t),k(e.stateNode,e.type,t))}}function D(e){R?I?I.push(e):I=[e]:R=e}function j(){if(R){var e=R,t=I;if(I=R=null,M(e),t)for(e=0;e<t.length;e++)M(t[e])}}function L(e,t){return e(t)}function N(e,t,n,r,i){return e(t,n,r,i)}function z(){}var B=L,F=!1,W=!1;function H(){null===R&&null===I||(z(),j())}function U(e,t,n){if(W)return e(t,n);W=!0;try{return B(e,t,n)}finally{W=!1,H()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G=Object.prototype.hasOwnProperty,q={},X={};function Z(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){$[e]=new Z(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];$[t]=new Z(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){$[e]=new Z(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){$[e]=new Z(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){$[e]=new Z(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){$[e]=new Z(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){$[e]=new Z(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){$[e]=new Z(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){$[e]=new Z(e,5,!1,e.toLowerCase(),null,!1)}));var Y=/[\-:]([a-z])/g;function K(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Y,K);$[t]=new Z(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Y,K);$[t]=new Z(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Y,K);$[t]=new Z(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){$[e]=new Z(e,1,!1,e.toLowerCase(),null,!1)})),$.xlinkHref=new Z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){$[e]=new Z(e,1,!1,e.toLowerCase(),null,!0)}));var J=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Q(e,t,n,r){var o=$.hasOwnProperty(t)?$[t]:null;(null!==o?0===o.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(i(t)){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!G.call(X,e)||!G.call(q,e)&&(V.test(e)?X[e]=!0:(q[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}J.hasOwnProperty("ReactCurrentDispatcher")||(J.ReactCurrentDispatcher={current:null}),J.hasOwnProperty("ReactCurrentBatchConfig")||(J.ReactCurrentBatchConfig={suspense:null});var ee=/^(.*)[\\\/]/,te="function"==typeof Symbol&&Symbol.for,ne=te?Symbol.for("react.element"):60103,re=te?Symbol.for("react.portal"):60106,ie=te?Symbol.for("react.fragment"):60107,oe=te?Symbol.for("react.strict_mode"):60108,ae=te?Symbol.for("react.profiler"):60114,se=te?Symbol.for("react.provider"):60109,le=te?Symbol.for("react.context"):60110,ue=te?Symbol.for("react.concurrent_mode"):60111,ce=te?Symbol.for("react.forward_ref"):60112,fe=te?Symbol.for("react.suspense"):60113,de=te?Symbol.for("react.suspense_list"):60120,pe=te?Symbol.for("react.memo"):60115,he=te?Symbol.for("react.lazy"):60116,me=te?Symbol.for("react.block"):60121,ve="function"==typeof Symbol&&Symbol.iterator;function ge(e){return null===e||"object"!==i(e)?null:"function"==typeof(e=ve&&e[ve]||e["@@iterator"])?e:null}function ye(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ie:return"Fragment";case re:return"Portal";case ae:return"Profiler";case oe:return"StrictMode";case fe:return"Suspense";case de:return"SuspenseList"}if("object"===i(e))switch(e.$$typeof){case le:return"Context.Consumer";case se:return"Context.Provider";case ce:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case pe:return ye(e.type);case me:return ye(e.render);case he:if(e=1===e._status?e._result:null)return ye(e)}return null}function be(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ye(e.type);n=null,r&&(n=ye(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(ee,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function we(e){switch(i(e)){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function xe(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Se(e){e._valueTracker||(e._valueTracker=function(e){var t=xe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ee(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xe(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function _e(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Te(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=we(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Oe(e,t){null!=(t=t.checked)&&Q(e,"checked",t,!1)}function Ae(e,t){Oe(e,t);var n=we(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Pe(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pe(e,t.type,we(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ce(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Pe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ke(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return o.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Re(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+we(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(l(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Me(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(l(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(l(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:we(n)}}function De(e,t){var n=we(t.value),r=we(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function je(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ne(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ze,Be,Fe=(Be=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ze=ze||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ze.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Be(e,t)}))}:Be);function We(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function He(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ue={animationend:He("Animation","AnimationEnd"),animationiteration:He("Animation","AnimationIteration"),animationstart:He("Animation","AnimationStart"),transitionend:He("Transition","TransitionEnd")},Ve={},Ge={};function qe(e){if(Ve[e])return Ve[e];if(!Ue[e])return e;var t,n=Ue[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ge)return Ve[e]=n[t];return e}P&&(Ge=document.createElement("div").style,"AnimationEvent"in window||(delete Ue.animationend.animation,delete Ue.animationiteration.animation,delete Ue.animationstart.animation),"TransitionEvent"in window||delete Ue.transitionend.transition);var Xe=qe("animationend"),Ze=qe("animationiteration"),$e=qe("animationstart"),Ye=qe("transitionend"),Ke="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"==typeof WeakMap?WeakMap:Map);function Qe(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(l(188))}function rt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(l(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return nt(i),e;if(o===r)return nt(i),t;o=o.sibling}throw Error(l(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(l(189))}}if(n.alternate!==r)throw Error(l(190))}if(3!==n.tag)throw Error(l(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(l(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ot(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var at=null;function st(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)b(e,t[r],n[r]);else t&&b(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function lt(e){if(null!==e&&(at=it(at,e)),e=at,at=null,e){if(ot(e,st),at)throw Error(l(95));if(d)throw e=p,d=!1,p=null,e}}function ut(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!P)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ft=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ft.length&&ft.push(e)}function pt(e,t,n,r){if(ft.length){var i=ft.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function ht(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Mn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ut(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<_.length;l++){var u=_[l];u&&(u=u.extractEvents(r,t,o,i,a))&&(s=it(s,u))}lt(s)}}function mt(e,t,n){if(!n.has(e)){switch(e){case"scroll":$t(t,"scroll",!0);break;case"focus":case"blur":$t(t,"focus",!0),$t(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&$t(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ke.indexOf(e)&&Zt(e,t)}n.set(e,null)}}var vt,gt,yt,bt=!1,wt=[],xt=null,St=null,Et=null,_t=new Map,Tt=new Map,Ot=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ct="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Pt(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function kt(e,t){switch(e){case"focus":case"blur":xt=null;break;case"dragenter":case"dragleave":St=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":_t.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Rt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Pt(t,n,r,i,o),null!==t&&null!==(t=Dn(t))&&gt(t),e):(e.eventSystemFlags|=r,e)}function It(e){var t=Mn(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void s.unstable_runWithPriority(e.priority,(function(){yt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Dn(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function Dt(e,t,n){Mt(e)&&n.delete(t)}function jt(){for(bt=!1;0<wt.length;){var e=wt[0];if(null!==e.blockedOn){null!==(e=Dn(e.blockedOn))&&vt(e);break}var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:wt.shift()}null!==xt&&Mt(xt)&&(xt=null),null!==St&&Mt(St)&&(St=null),null!==Et&&Mt(Et)&&(Et=null),_t.forEach(Dt),Tt.forEach(Dt)}function Lt(e,t){e.blockedOn===t&&(e.blockedOn=null,bt||(bt=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,jt)))}function Nt(e){function t(t){return Lt(t,e)}if(0<wt.length){Lt(wt[0],e);for(var n=1;n<wt.length;n++){var r=wt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&Lt(xt,e),null!==St&&Lt(St,e),null!==Et&&Lt(Et,e),_t.forEach(t),Tt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)It(n),null===n.blockedOn&&Ot.shift()}var zt={},Bt=new Map,Ft=new Map,Wt=["abort","abort",Xe,"animationEnd",Ze,"animationIteration",$e,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ye,"transitionEnd","waiting","waiting"];function Ht(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Ft.set(r,t),Bt.set(r,o),zt[i]=o}}Ht("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ht("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ht(Wt,2);for(var Ut="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Vt=0;Vt<Ut.length;Vt++)Ft.set(Ut[Vt],0);var Gt=s.unstable_UserBlockingPriority,qt=s.unstable_runWithPriority,Xt=!0;function Zt(e,t){$t(t,e,!1)}function $t(e,t,n){var r=Ft.get(t);switch(void 0===r?2:r){case 0:r=Yt.bind(null,t,1,e);break;case 1:r=Kt.bind(null,t,1,e);break;default:r=Jt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Yt(e,t,n,r){F||z();var i=Jt,o=F;F=!0;try{N(i,e,t,n,r)}finally{(F=o)||H()}}function Kt(e,t,n,r){qt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){if(Xt)if(0<wt.length&&-1<At.indexOf(e))e=Pt(null,e,t,n,r),wt.push(e);else{var i=Qt(e,t,n,r);if(null===i)kt(e,r);else if(-1<At.indexOf(e))e=Pt(i,e,t,n,r),wt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return xt=Rt(xt,e,t,n,r,i),!0;case"dragenter":return St=Rt(St,e,t,n,r,i),!0;case"mouseover":return Et=Rt(Et,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return _t.set(o,Rt(_t.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Tt.set(o,Rt(Tt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){kt(e,r),e=pt(e,r,null,t);try{U(ht,e)}finally{dt(e)}}}}function Qt(e,t,n,r){if(null!==(n=Mn(n=ut(r)))){var i=et(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=tt(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=pt(e,r,n,t);try{U(ht,e)}finally{dt(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var on=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function an(e,t){if(t){if(on[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(l(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(l(60));if("object"!==i(t.dangerouslySetInnerHTML)||!("__html"in t.dangerouslySetInnerHTML))throw Error(l(61))}if(null!=t.style&&"object"!==i(t.style))throw Error(l(62,""))}}function sn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ln="http://www.w3.org/1999/xhtml";function un(e,t){var n=Qe(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=A[t];for(var r=0;r<t.length;r++)mt(t[r],e,n)}function cn(){}function fn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pn(e,t){var n,r=dn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dn(r)}}function hn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mn(){for(var e=window,t=fn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=fn((e=t.contentWindow).document)}return t}function vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gn="$",yn="/$",bn="$?",wn="$!",xn=null,Sn=null;function En(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function _n(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"===i(t.dangerouslySetInnerHTML)&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Tn="function"==typeof setTimeout?setTimeout:void 0,On="function"==typeof clearTimeout?clearTimeout:void 0;function An(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Cn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===gn||n===wn||n===bn){if(0===t)return e;t--}else n===yn&&t++}e=e.previousSibling}return null}var Pn=Math.random().toString(36).slice(2),kn="__reactInternalInstance$"+Pn,Rn="__reactEventHandlers$"+Pn,In="__reactContainere$"+Pn;function Mn(e){var t=e[kn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[In]||n[kn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Cn(e);null!==e;){if(n=e[kn])return n;e=Cn(e)}return t}n=(e=n).parentNode}return null}function Dn(e){return!(e=e[kn]||e[In])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function jn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(l(33))}function Ln(e){return e[Rn]||null}function Nn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function zn(e,t){var n=e.stateNode;if(!n)return null;var r=v(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(l(231,t,i(n)));return n}function Bn(e,t,n){(t=zn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Fn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Nn(t);for(t=n.length;0<t--;)Bn(n[t],"captured",e);for(t=0;t<n.length;t++)Bn(n[t],"bubbled",e)}}function Wn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=zn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Hn(e){e&&e.dispatchConfig.registrationName&&Wn(e._targetInst,null,e)}function Un(e){ot(e,Fn)}var Vn=null,Gn=null,qn=null;function Xn(){if(qn)return qn;var e,t,n=Gn,r=n.length,i="value"in Vn?Vn.value:Vn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return qn=i.slice(e,1<t?1-t:void 0)}function Zn(){return!0}function $n(){return!1}function Yn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Zn:$n,this.isPropagationStopped=$n,this}function Kn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Jn(e){if(!(e instanceof this))throw Error(l(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Qn(e){e.eventPool=[],e.getPooled=Kn,e.release=Jn}a(Yn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){this.isPersistent=Zn},isPersistent:$n,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=$n,this._dispatchInstances=this._dispatchListeners=null}}),Yn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Yn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return a(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=a({},r.Interface,e),n.extend=r.extend,Qn(n),n},Qn(Yn);var er=Yn.extend({data:null}),tr=Yn.extend({data:null}),nr=[9,13,27,32],rr=P&&"CompositionEvent"in window,ir=null;P&&"documentMode"in document&&(ir=document.documentMode);var or=P&&"TextEvent"in window&&!ir,ar=P&&(!rr||ir&&8<ir&&11>=ir),sr=String.fromCharCode(32),lr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ur=!1;function cr(e,t){switch(e){case"keyup":return-1!==nr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function fr(e){return"object"===i(e=e.detail)&&"data"in e?e.data:null}var dr=!1,pr={eventTypes:lr,extractEvents:function(e,t,n,r){var i;if(rr)e:{switch(e){case"compositionstart":var o=lr.compositionStart;break e;case"compositionend":o=lr.compositionEnd;break e;case"compositionupdate":o=lr.compositionUpdate;break e}o=void 0}else dr?cr(e,n)&&(o=lr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=lr.compositionStart);return o?(ar&&"ko"!==n.locale&&(dr||o!==lr.compositionStart?o===lr.compositionEnd&&dr&&(i=Xn()):(Gn="value"in(Vn=r)?Vn.value:Vn.textContent,dr=!0)),o=er.getPooled(o,t,n,r),(i||null!==(i=fr(n)))&&(o.data=i),Un(o),i=o):i=null,(e=or?function(e,t){switch(e){case"compositionend":return fr(t);case"keypress":return 32!==t.which?null:(ur=!0,sr);case"textInput":return(e=t.data)===sr&&ur?null:e;default:return null}}(e,n):function(e,t){if(dr)return"compositionend"===e||!rr&&cr(e,t)?(e=Xn(),qn=Gn=Vn=null,dr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ar&&"ko"!==t.locale?null:t.data}}(e,n))?((t=tr.getPooled(lr.beforeInput,t,n,r)).data=e,Un(t)):t=null,null===i?t:null===t?i:[i,t]}},hr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!hr[e.type]:"textarea"===t}var vr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function gr(e,t,n){return(e=Yn.getPooled(vr.change,e,t,n)).type="change",D(n),Un(e),e}var yr=null,br=null;function wr(e){lt(e)}function xr(e){if(Ee(jn(e)))return e}function Sr(e,t){if("change"===e)return t}var Er=!1;function _r(){yr&&(yr.detachEvent("onpropertychange",Tr),br=yr=null)}function Tr(e){if("value"===e.propertyName&&xr(br))if(e=gr(br,e,ut(e)),F)lt(e);else{F=!0;try{L(wr,e)}finally{F=!1,H()}}}function Or(e,t,n){"focus"===e?(_r(),br=n,(yr=t).attachEvent("onpropertychange",Tr)):"blur"===e&&_r()}function Ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return xr(br)}function Cr(e,t){if("click"===e)return xr(t)}function Pr(e,t){if("input"===e||"change"===e)return xr(t)}P&&(Er=ct("input")&&(!document.documentMode||9<document.documentMode));var kr={eventTypes:vr,_isInputEventSupported:Er,extractEvents:function(e,t,n,r){var i=t?jn(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=Sr;else if(mr(i))if(Er)a=Pr;else{a=Ar;var s=Or}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Cr);if(a&&(a=a(e,t)))return gr(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Pe(i,"number",i.value)}},Rr=Yn.extend({view:null,detail:null}),Ir={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ir[e])&&!!t[e]}function Dr(){return Mr}var jr=0,Lr=0,Nr=!1,zr=!1,Br=Rr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Dr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=jr;return jr=e.screenX,Nr?"mousemove"===e.type?e.screenX-t:0:(Nr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Lr;return Lr=e.screenY,zr?"mousemove"===e.type?e.screenY-t:0:(zr=!0,0)}}),Fr=Br.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Wr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Hr={eventTypes:Wr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Mn(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null,a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Br,l=Wr.mouseLeave,u=Wr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Fr,l=Wr.pointerLeave,u=Wr.pointerEnter,c="pointer");if(e=null==a?o:jn(a),o=null==t?o:jn(t),(l=s.getPooled(l,a,n,r)).type=c+"leave",l.target=e,l.relatedTarget=o,(n=s.getPooled(u,t,n,r)).type=c+"enter",n.target=o,n.relatedTarget=e,c=t,(r=a)&&c)e:{for(u=c,a=0,e=s=r;e;e=Nn(e))a++;for(e=0,t=u;t;t=Nn(t))e++;for(;0<a-e;)s=Nn(s),a--;for(;0<e-a;)u=Nn(u),e--;for(;a--;){if(s===u||s===u.alternate)break e;s=Nn(s),u=Nn(u)}s=null}else s=null;for(u=s,s=[];r&&r!==u&&(null===(a=r.alternate)||a!==u);)s.push(r),r=Nn(r);for(r=[];c&&c!==u&&(null===(a=c.alternate)||a!==u);)r.push(c),c=Nn(c);for(c=0;c<s.length;c++)Wn(s[c],"bubbled",l);for(c=r.length;0<c--;)Wn(r[c],"captured",n);return 0==(64&i)?[l]:[l,n]}},Ur="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Vr=Object.prototype.hasOwnProperty;function Gr(e,t){if(Ur(e,t))return!0;if("object"!==i(e)||null===e||"object"!==i(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Vr.call(t,n[r])||!Ur(e[n[r]],t[n[r]]))return!1;return!0}var qr=P&&"documentMode"in document&&11>=document.documentMode,Xr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Zr=null,$r=null,Yr=null,Kr=!1;function Jr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Kr||null==Zr||Zr!==fn(n)?null:(n="selectionStart"in(n=Zr)&&vn(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Yr&&Gr(Yr,n)?null:(Yr=n,(e=Yn.getPooled(Xr.select,$r,e,t)).type="select",e.target=Zr,Un(e),e))}var Qr={eventTypes:Xr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Qe(i),o=A.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?jn(t):window,e){case"focus":(mr(i)||"true"===i.contentEditable)&&(Zr=i,$r=t,Yr=null);break;case"blur":Yr=$r=Zr=null;break;case"mousedown":Kr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Kr=!1,Jr(n,r);case"selectionchange":if(qr)break;case"keydown":case"keyup":return Jr(n,r)}return null}},ei=Yn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ti=Yn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ni=Rr.extend({relatedTarget:null});function ri(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ai=Rr.extend({key:function(e){if(e.key){var t=ii[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ri(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?oi[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Dr,charCode:function(e){return"keypress"===e.type?ri(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ri(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),si=Br.extend({dataTransfer:null}),li=Rr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Dr}),ui=Yn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ci=Br.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),fi={eventTypes:zt,extractEvents:function(e,t,n,r){var i=Bt.get(e);if(!i)return null;switch(e){case"keypress":if(0===ri(n))return null;case"keydown":case"keyup":e=ai;break;case"blur":case"focus":e=ni;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Br;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=si;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=li;break;case Xe:case Ze:case $e:e=ei;break;case Ye:e=ui;break;case"scroll":e=Rr;break;case"wheel":e=ci;break;case"copy":case"cut":case"paste":e=ti;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Fr;break;default:e=Yn}return Un(t=e.getPooled(i,t,n,r)),t}};if(w)throw Error(l(101));w=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),S(),v=Ln,g=Dn,y=jn,C({SimpleEventPlugin:fi,EnterLeaveEventPlugin:Hr,ChangeEventPlugin:kr,SelectEventPlugin:Qr,BeforeInputEventPlugin:pr});var di=[],pi=-1;function hi(e){0>pi||(e.current=di[pi],di[pi]=null,pi--)}function mi(e,t){pi++,di[pi]=e.current,e.current=t}var vi={},gi={current:vi},yi={current:!1},bi=vi;function wi(e,t){var n=e.type.contextTypes;if(!n)return vi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function xi(e){return null!=e.childContextTypes}function Si(){hi(yi),hi(gi)}function Ei(e,t,n){if(gi.current!==vi)throw Error(l(168));mi(gi,t),mi(yi,n)}function _i(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(l(108,ye(t)||"Unknown",i));return a({},n,{},r)}function Ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vi,bi=gi.current,mi(gi,e),mi(yi,yi.current),!0}function Oi(e,t,n){var r=e.stateNode;if(!r)throw Error(l(169));n?(e=_i(e,t,bi),r.__reactInternalMemoizedMergedChildContext=e,hi(yi),hi(gi),mi(gi,e)):hi(yi),mi(yi,n)}var Ai=s.unstable_runWithPriority,Ci=s.unstable_scheduleCallback,Pi=s.unstable_cancelCallback,ki=s.unstable_requestPaint,Ri=s.unstable_now,Ii=s.unstable_getCurrentPriorityLevel,Mi=s.unstable_ImmediatePriority,Di=s.unstable_UserBlockingPriority,ji=s.unstable_NormalPriority,Li=s.unstable_LowPriority,Ni=s.unstable_IdlePriority,zi={},Bi=s.unstable_shouldYield,Fi=void 0!==ki?ki:function(){},Wi=null,Hi=null,Ui=!1,Vi=Ri(),Gi=1e4>Vi?Ri:function(){return Ri()-Vi};function qi(){switch(Ii()){case Mi:return 99;case Di:return 98;case ji:return 97;case Li:return 96;case Ni:return 95;default:throw Error(l(332))}}function Xi(e){switch(e){case 99:return Mi;case 98:return Di;case 97:return ji;case 96:return Li;case 95:return Ni;default:throw Error(l(332))}}function Zi(e,t){return e=Xi(e),Ai(e,t)}function $i(e,t,n){return e=Xi(e),Ci(e,t,n)}function Yi(e){return null===Wi?(Wi=[e],Hi=Ci(Mi,Ji)):Wi.push(e),zi}function Ki(){if(null!==Hi){var e=Hi;Hi=null,Pi(e)}Ji()}function Ji(){if(!Ui&&null!==Wi){Ui=!0;var e=0;try{var t=Wi;Zi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Wi=null}catch(t){throw null!==Wi&&(Wi=Wi.slice(e+1)),Ci(Mi,Ki),t}finally{Ui=!1}}}function Qi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function eo(e,t){if(e&&e.defaultProps)for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var to={current:null},no=null,ro=null,io=null;function oo(){io=ro=no=null}function ao(e){var t=to.current;hi(to),e.type._context._currentValue=t}function so(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function lo(e,t){no=e,io=ro=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(La=!0),e.firstContext=null)}function uo(e,t){if(io!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(io=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ro){if(null===no)throw Error(l(308));ro=t,no.dependencies={expirationTime:0,firstContext:t,responders:null}}else ro=ro.next=t;return e._currentValue}var co=!1;function fo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function ho(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function mo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function vo(e,t){var n=e.alternate;null!==n&&po(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function go(e,t,n,r){var i=e.updateQueue;co=!1;var o=i.baseQueue,s=i.shared.pending;if(null!==s){if(null!==o){var l=o.next;o.next=s.next,s.next=l}o=s,i.shared.pending=null,null!==(l=e.alternate)&&null!==(l=l.updateQueue)&&(l.baseQueue=s)}if(null!==o){l=o.next;var u=i.baseState,c=0,f=null,d=null,p=null;if(null!==l)for(var h=l;;){if((s=h.expirationTime)<r){var m={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===p?(d=p=m,f=u):p=p.next=m,s>c&&(c=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),Sl(s,h.suspenseConfig);e:{var v=e,g=h;switch(s=t,m=n,g.tag){case 1:if("function"==typeof(v=g.payload)){u=v.call(m,u,s);break e}u=v;break e;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null==(s="function"==typeof(v=g.payload)?v.call(m,u,s):v))break e;u=a({},u,s);break e;case 2:co=!0}}null!==h.callback&&(e.effectTag|=32,null===(s=i.effects)?i.effects=[h]:s.push(h))}if(null===(h=h.next)||h===l){if(null===(s=i.shared.pending))break;h=o.next=s.next,s.next=l,i.baseQueue=o=s,i.shared.pending=null}}null===p?f=u:p.next=d,i.baseState=f,i.baseQueue=p,El(c),e.expirationTime=c,e.memoizedState=u}}function yo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(l(191,r));r.call(i)}}}var bo=J.ReactCurrentBatchConfig,wo=(new o.Component).refs;function xo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:a({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var So={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=ul(),i=bo.suspense;(i=ho(r=cl(r,e,i),i)).payload=t,null!=n&&(i.callback=n),mo(e,i),fl(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=ul(),i=bo.suspense;(i=ho(r=cl(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),mo(e,i),fl(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=ul(),r=bo.suspense;(r=ho(n=cl(n,e,r),r)).tag=2,null!=t&&(r.callback=t),mo(e,r),fl(e,n)}};function Eo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&Gr(n,r)&&Gr(i,o))}function _o(e,t,n){var r=!1,o=vi,a=t.contextType;return"object"===i(a)&&null!==a?a=uo(a):(o=xi(t)?bi:gi.current,a=(r=null!=(r=t.contextTypes))?wi(e,o):vi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=So,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function To(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&So.enqueueReplaceState(t,t.state,null)}function Oo(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=wo,fo(e);var a=t.contextType;"object"===i(a)&&null!==a?o.context=uo(a):(a=xi(t)?bi:gi.current,o.context=wi(e,a)),go(e,n,o,r),o.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(xo(e,t,a,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&So.enqueueReplaceState(o,o.state,null),go(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.effectTag|=4)}var Ao=Array.isArray;function Co(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!==i(e)){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(l(309));var r=n.stateNode}if(!r)throw Error(l(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;t===wo&&(t=r.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!=typeof e)throw Error(l(284));if(!n._owner)throw Error(l(290,e))}return e}function Po(e,t){if("textarea"!==e.type)throw Error(l(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function ko(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Ul(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=ql(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=Co(e,t,n),r.return=e,r):((r=Vl(n.type,n.key,n.props,null,e.mode,r)).ref=Co(e,t,n),r.return=e,r)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xl(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Gl(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=ql(""+t,e.mode,n)).return=e,t;if("object"===i(t)&&null!==t){switch(t.$$typeof){case ne:return(n=Vl(t.type,t.key,t.props,null,e.mode,n)).ref=Co(e,null,t),n.return=e,n;case re:return(t=Xl(t,e.mode,n)).return=e,t}if(Ao(t)||ge(t))return(t=Gl(t,e.mode,n,null)).return=e,t;Po(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:u(e,t,""+n,r);if("object"===i(n)&&null!==n){switch(n.$$typeof){case ne:return n.key===o?n.type===ie?d(e,t,n.props.children,r,o):c(e,t,n,r):null;case re:return n.key===o?f(e,t,n,r):null}if(Ao(n)||ge(n))return null!==o?null:d(e,t,n,r,null);Po(e,n)}return null}function m(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,o);if("object"===i(r)&&null!==r){switch(r.$$typeof){case ne:return e=e.get(null===r.key?n:r.key)||null,r.type===ie?d(t,e,r.props.children,o,r.key):c(t,e,r,o);case re:return f(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(Ao(r)||ge(r))return d(t,e=e.get(n)||null,r,o,null);Po(t,r)}return null}function v(i,o,s,l){for(var u=null,c=null,f=o,d=o=0,v=null;null!==f&&d<s.length;d++){f.index>d?(v=f,f=null):v=f.sibling;var g=h(i,f,s[d],l);if(null===g){null===f&&(f=v);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,d),null===c?u=g:c.sibling=g,c=g,f=v}if(d===s.length)return n(i,f),u;if(null===f){for(;d<s.length;d++)null!==(f=p(i,s[d],l))&&(o=a(f,o,d),null===c?u=f:c.sibling=f,c=f);return u}for(f=r(i,f);d<s.length;d++)null!==(v=m(f,i,d,s[d],l))&&(e&&null!==v.alternate&&f.delete(null===v.key?d:v.key),o=a(v,o,d),null===c?u=v:c.sibling=v,c=v);return e&&f.forEach((function(e){return t(i,e)})),u}function g(i,o,s,u){var c=ge(s);if("function"!=typeof c)throw Error(l(150));if(null==(s=c.call(s)))throw Error(l(151));for(var f=c=null,d=o,v=o=0,g=null,y=s.next();null!==d&&!y.done;v++,y=s.next()){d.index>v?(g=d,d=null):g=d.sibling;var b=h(i,d,y.value,u);if(null===b){null===d&&(d=g);break}e&&d&&null===b.alternate&&t(i,d),o=a(b,o,v),null===f?c=b:f.sibling=b,f=b,d=g}if(y.done)return n(i,d),c;if(null===d){for(;!y.done;v++,y=s.next())null!==(y=p(i,y.value,u))&&(o=a(y,o,v),null===f?c=y:f.sibling=y,f=y);return c}for(d=r(i,d);!y.done;v++,y=s.next())null!==(y=m(d,i,v,y.value,u))&&(e&&null!==y.alternate&&d.delete(null===y.key?v:y.key),o=a(y,o,v),null===f?c=y:f.sibling=y,f=y);return e&&d.forEach((function(e){return t(i,e)})),c}return function(e,r,a,u){var c="object"===i(a)&&null!==a&&a.type===ie&&null===a.key;c&&(a=a.props.children);var f="object"===i(a)&&null!==a;if(f)switch(a.$$typeof){case ne:e:{for(f=a.key,c=r;null!==c;){if(c.key===f){if(7===c.tag){if(a.type===ie){n(e,c.sibling),(r=o(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=o(c,a.props)).ref=Co(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===ie?((r=Gl(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Vl(a.type,a.key,a.props,null,e.mode,u)).ref=Co(e,r,a),u.return=e,e=u)}return s(e);case re:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=o(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xl(a,e.mode,u)).return=e,e=r}return s(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,a)).return=e,e=r):(n(e,r),(r=ql(a,e.mode,u)).return=e,e=r),s(e);if(Ao(a))return v(e,r,a,u);if(ge(a))return g(e,r,a,u);if(f&&Po(e,a),void 0===a&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(l(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Ro=ko(!0),Io=ko(!1),Mo={},Do={current:Mo},jo={current:Mo},Lo={current:Mo};function No(e){if(e===Mo)throw Error(l(174));return e}function zo(e,t){switch(mi(Lo,t),mi(jo,e),mi(Do,Mo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ne(null,"");break;default:t=Ne(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}hi(Do),mi(Do,t)}function Bo(){hi(Do),hi(jo),hi(Lo)}function Fo(e){No(Lo.current);var t=No(Do.current),n=Ne(t,e.type);t!==n&&(mi(jo,e),mi(Do,n))}function Wo(e){jo.current===e&&(hi(Do),hi(jo))}var Ho={current:0};function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===bn||n.data===wn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Vo(e,t){return{responder:e,props:t}}var Go=J.ReactCurrentDispatcher,qo=J.ReactCurrentBatchConfig,Xo=0,Zo=null,$o=null,Yo=null,Ko=!1;function Jo(){throw Error(l(321))}function Qo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ur(e[n],t[n]))return!1;return!0}function ea(e,t,n,r,i,o){if(Xo=o,Zo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Go.current=null===e||null===e.memoizedState?Ea:_a,e=n(r,i),t.expirationTime===Xo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(l(301));o+=1,Yo=$o=null,t.updateQueue=null,Go.current=Ta,e=n(r,i)}while(t.expirationTime===Xo)}if(Go.current=Sa,t=null!==$o&&null!==$o.next,Xo=0,Yo=$o=Zo=null,Ko=!1,t)throw Error(l(300));return e}function ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Yo?Zo.memoizedState=Yo=e:Yo=Yo.next=e,Yo}function na(){if(null===$o){var e=Zo.alternate;e=null!==e?e.memoizedState:null}else e=$o.next;var t=null===Yo?Zo.memoizedState:Yo.next;if(null!==t)Yo=t,$o=e;else{if(null===e)throw Error(l(310));e={memoizedState:($o=e).memoizedState,baseState:$o.baseState,baseQueue:$o.baseQueue,queue:$o.queue,next:null},null===Yo?Zo.memoizedState=Yo=e:Yo=Yo.next=e}return Yo}function ra(e,t){return"function"==typeof t?t(e):t}function ia(e){var t=na(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var r=$o,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=a=o=null,u=i;do{var c=u.expirationTime;if(c<Xo){var f={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===s?(a=s=f,o=r):s=s.next=f,c>Zo.expirationTime&&(Zo.expirationTime=c,El(c))}else null!==s&&(s=s.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),Sl(c,u.suspenseConfig),r=u.eagerReducer===e?u.eagerState:e(r,u.action);u=u.next}while(null!==u&&u!==i);null===s?o=r:s.next=a,Ur(r,t.memoizedState)||(La=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function oa(e){var t=na(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Ur(o,t.memoizedState)||(La=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function aa(e){var t=ta();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ra,lastRenderedState:e}).dispatch=xa.bind(null,Zo,e),[t.memoizedState,e]}function sa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Zo.updateQueue)?(t={lastEffect:null},Zo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function la(){return na().memoizedState}function ua(e,t,n,r){var i=ta();Zo.effectTag|=e,i.memoizedState=sa(1|t,n,void 0,void 0===r?null:r)}function ca(e,t,n,r){var i=na();r=void 0===r?null:r;var o=void 0;if(null!==$o){var a=$o.memoizedState;if(o=a.destroy,null!==r&&Qo(r,a.deps))return void sa(t,n,o,r)}Zo.effectTag|=e,i.memoizedState=sa(1|t,n,o,r)}function fa(e,t){return ua(516,4,e,t)}function da(e,t){return ca(516,4,e,t)}function pa(e,t){return ca(4,2,e,t)}function ha(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ma(e,t,n){return n=null!=n?n.concat([e]):null,ca(4,2,ha.bind(null,t,e),n)}function va(){}function ga(e,t){return ta().memoizedState=[e,void 0===t?null:t],e}function ya(e,t){var n=na();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Qo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ba(e,t){var n=na();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Qo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function wa(e,t,n){var r=qi();Zi(98>r?98:r,(function(){e(!0)})),Zi(97<r?97:r,(function(){var r=qo.suspense;qo.suspense=void 0===t?null:t;try{e(!1),n()}finally{qo.suspense=r}}))}function xa(e,t,n){var r=ul(),i=bo.suspense;i={expirationTime:r=cl(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Zo||null!==o&&o===Zo)Ko=!0,i.expirationTime=Xo,Zo.expirationTime=Xo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,Ur(s,a))return}catch(e){}fl(e,r)}}var Sa={readContext:uo,useCallback:Jo,useContext:Jo,useEffect:Jo,useImperativeHandle:Jo,useLayoutEffect:Jo,useMemo:Jo,useReducer:Jo,useRef:Jo,useState:Jo,useDebugValue:Jo,useResponder:Jo,useDeferredValue:Jo,useTransition:Jo},Ea={readContext:uo,useCallback:ga,useContext:uo,useEffect:fa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ua(4,2,ha.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ua(4,2,e,t)},useMemo:function(e,t){var n=ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ta();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=xa.bind(null,Zo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ta().memoizedState=e},useState:aa,useDebugValue:va,useResponder:Vo,useDeferredValue:function(e,t){var n=aa(e),r=n[0],i=n[1];return fa((function(){var n=qo.suspense;qo.suspense=void 0===t?null:t;try{i(e)}finally{qo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=aa(!1),n=t[0];return t=t[1],[ga(wa.bind(null,t,e),[t,e]),n]}},_a={readContext:uo,useCallback:ya,useContext:uo,useEffect:da,useImperativeHandle:ma,useLayoutEffect:pa,useMemo:ba,useReducer:ia,useRef:la,useState:function(){return ia(ra)},useDebugValue:va,useResponder:Vo,useDeferredValue:function(e,t){var n=ia(ra),r=n[0],i=n[1];return da((function(){var n=qo.suspense;qo.suspense=void 0===t?null:t;try{i(e)}finally{qo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ia(ra),n=t[0];return t=t[1],[ya(wa.bind(null,t,e),[t,e]),n]}},Ta={readContext:uo,useCallback:ya,useContext:uo,useEffect:da,useImperativeHandle:ma,useLayoutEffect:pa,useMemo:ba,useReducer:oa,useRef:la,useState:function(){return oa(ra)},useDebugValue:va,useResponder:Vo,useDeferredValue:function(e,t){var n=oa(ra),r=n[0],i=n[1];return da((function(){var n=qo.suspense;qo.suspense=void 0===t?null:t;try{i(e)}finally{qo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=oa(ra),n=t[0];return t=t[1],[ya(wa.bind(null,t,e),[t,e]),n]}},Oa=null,Aa=null,Ca=!1;function Pa(e,t){var n=Wl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ka(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ra(e){if(Ca){var t=Aa;if(t){var n=t;if(!ka(e,t)){if(!(t=An(n.nextSibling))||!ka(e,t))return e.effectTag=-1025&e.effectTag|2,Ca=!1,void(Oa=e);Pa(Oa,n)}Oa=e,Aa=An(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ca=!1,Oa=e}}function Ia(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Oa=e}function Ma(e){if(e!==Oa)return!1;if(!Ca)return Ia(e),Ca=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!_n(t,e.memoizedProps))for(t=Aa;t;)Pa(e,t),t=An(t.nextSibling);if(Ia(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===yn){if(0===t){Aa=An(e.nextSibling);break e}t--}else n!==gn&&n!==wn&&n!==bn||t++}e=e.nextSibling}Aa=null}}else Aa=Oa?An(e.stateNode.nextSibling):null;return!0}function Da(){Aa=Oa=null,Ca=!1}var ja=J.ReactCurrentOwner,La=!1;function Na(e,t,n,r){t.child=null===e?Io(t,null,n,r):Ro(t,e.child,n,r)}function za(e,t,n,r,i){n=n.render;var o=t.ref;return lo(t,i),r=ea(e,t,n,r,o,i),null===e||La?(t.effectTag|=1,Na(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ts(e,t,i))}function Ba(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Hl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vl(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fa(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Gr)(i,r)&&e.ref===t.ref)?ts(e,t,o):(t.effectTag|=1,(e=Ul(a,r)).ref=t.ref,e.return=t,t.child=e)}function Fa(e,t,n,r,i,o){return null!==e&&Gr(e.memoizedProps,r)&&e.ref===t.ref&&(La=!1,i<o)?(t.expirationTime=e.expirationTime,ts(e,t,o)):Ha(e,t,n,r,o)}function Wa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Ha(e,t,n,r,i){var o=xi(n)?bi:gi.current;return o=wi(t,o),lo(t,i),n=ea(e,t,n,r,o,i),null===e||La?(t.effectTag|=1,Na(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ts(e,t,i))}function Ua(e,t,n,r,o){if(xi(n)){var a=!0;Ti(t)}else a=!1;if(lo(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),_o(t,n,r),Oo(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,l=t.memoizedProps;s.props=l;var u=s.context,c=n.contextType;c="object"===i(c)&&null!==c?uo(c):wi(t,c=xi(n)?bi:gi.current);var f=n.getDerivedStateFromProps,d="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(l!==r||u!==c)&&To(t,s,r,c),co=!1;var p=t.memoizedState;s.state=p,go(t,r,s,o),u=t.memoizedState,l!==r||p!==u||yi.current||co?("function"==typeof f&&(xo(t,n,f,r),u=t.memoizedState),(l=co||Eo(t,n,l,r,p,u,c))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.effectTag|=4)):("function"==typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=l):("function"==typeof s.componentDidMount&&(t.effectTag|=4),r=!1)}else s=t.stateNode,po(e,t),l=t.memoizedProps,s.props=t.type===t.elementType?l:eo(t.type,l),u=s.context,c="object"===i(c=n.contextType)&&null!==c?uo(c):wi(t,c=xi(n)?bi:gi.current),(d="function"==typeof(f=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(l!==r||u!==c)&&To(t,s,r,c),co=!1,u=t.memoizedState,s.state=u,go(t,r,s,o),p=t.memoizedState,l!==r||u!==p||yi.current||co?("function"==typeof f&&(xo(t,n,f,r),p=t.memoizedState),(f=co||Eo(t,n,l,r,u,p,c))?(d||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,c),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,c)),"function"==typeof s.componentDidUpdate&&(t.effectTag|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof s.componentDidUpdate||l===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=c,r=f):("function"!=typeof s.componentDidUpdate||l===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Va(e,t,n,r,a,o)}function Va(e,t,n,r,i,o){Wa(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&Oi(t,n,!1),ts(e,t,o);r=t.stateNode,ja.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Ro(t,e.child,null,o),t.child=Ro(t,null,s,o)):Na(e,t,s,o),t.memoizedState=r.state,i&&Oi(t,n,!0),t.child}function Ga(e){var t=e.stateNode;t.pendingContext?Ei(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ei(0,t.context,!1),zo(e,t.containerInfo)}var qa,Xa,Za,$a,Ya={dehydrated:null,retryTime:0};function Ka(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Ho.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),mi(Ho,1&a),null===e){if(void 0!==o.fallback&&Ra(t),s){if(s=o.fallback,(o=Gl(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Gl(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=Ya,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Io(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=Ul(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Ul(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Ya,t.child=n,i}return n=Ro(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Gl(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Gl(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Ya,t.child=o,n}return t.memoizedState=null,t.child=Ro(t,e,o.children,n)}function Ja(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),so(e.return,t)}function Qa(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function es(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Na(e,t,r.children,n),0!=(2&(r=Ho.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ja(e,n);else if(19===e.tag)Ja(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(mi(Ho,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Qa(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Qa(t,!0,n,null,o,t.lastEffect);break;case"together":Qa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ts(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&El(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(n=Ul(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ul(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ns(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rs(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return xi(t.type)&&Si(),null;case 3:return Bo(),hi(yi),hi(gi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ma(t)||(t.effectTag|=4),Xa(t),null;case 5:Wo(t),n=No(Lo.current);var i=t.type;if(null!==e&&null!=t.stateNode)Za(e,t,i,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(l(166));return null}if(e=No(Do.current),Ma(t)){r=t.stateNode,i=t.type;var o=t.memoizedProps;switch(r[kn]=t,r[Rn]=o,i){case"iframe":case"object":case"embed":Zt("load",r);break;case"video":case"audio":for(e=0;e<Ke.length;e++)Zt(Ke[e],r);break;case"source":Zt("error",r);break;case"img":case"image":case"link":Zt("error",r),Zt("load",r);break;case"form":Zt("reset",r),Zt("submit",r);break;case"details":Zt("toggle",r);break;case"input":Te(r,o),Zt("invalid",r),un(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Zt("invalid",r),un(n,"onChange");break;case"textarea":Me(r,o),Zt("invalid",r),un(n,"onChange")}for(var s in an(i,o),e=null,o)if(o.hasOwnProperty(s)){var u=o[s];"children"===s?"string"==typeof u?r.textContent!==u&&(e=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(e=["children",""+u]):O.hasOwnProperty(s)&&null!=u&&un(n,s)}switch(i){case"input":Se(r),Ce(r,o,!0);break;case"textarea":Se(r),je(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(s=9===n.nodeType?n:n.ownerDocument,e===ln&&(e=Le(i)),e===ln?"script"===i?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=s.createElement(i,{is:r.is}):(e=s.createElement(i),"select"===i&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,i),e[kn]=t,e[Rn]=r,qa(e,t,!1,!1),t.stateNode=e,s=sn(i,r),i){case"iframe":case"object":case"embed":Zt("load",e),u=r;break;case"video":case"audio":for(u=0;u<Ke.length;u++)Zt(Ke[u],e);u=r;break;case"source":Zt("error",e),u=r;break;case"img":case"image":case"link":Zt("error",e),Zt("load",e),u=r;break;case"form":Zt("reset",e),Zt("submit",e),u=r;break;case"details":Zt("toggle",e),u=r;break;case"input":Te(e,r),u=_e(e,r),Zt("invalid",e),un(n,"onChange");break;case"option":u=ke(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},u=a({},r,{value:void 0}),Zt("invalid",e),un(n,"onChange");break;case"textarea":Me(e,r),u=Ie(e,r),Zt("invalid",e),un(n,"onChange");break;default:u=r}an(i,u);var c=u;for(o in c)if(c.hasOwnProperty(o)){var f=c[o];"style"===o?rn(e,f):"dangerouslySetInnerHTML"===o?null!=(f=f?f.__html:void 0)&&Fe(e,f):"children"===o?"string"==typeof f?("textarea"!==i||""!==f)&&We(e,f):"number"==typeof f&&We(e,""+f):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(O.hasOwnProperty(o)?null!=f&&un(n,o):null!=f&&Q(e,o,f,s))}switch(i){case"input":Se(e),Ce(e,r,!1);break;case"textarea":Se(e),je(e);break;case"option":null!=r.value&&e.setAttribute("value",""+we(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Re(e,!!r.multiple,n,!1):null!=r.defaultValue&&Re(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof u.onClick&&(e.onclick=cn)}En(i,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)$a(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(l(166));n=No(Lo.current),No(Do.current),Ma(t)?(n=t.stateNode,r=t.memoizedProps,n[kn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[kn]=t,t.stateNode=n)}return null;case 13:return hi(Ho),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ma(t):(r=null!==(i=e.memoizedState),n||null===i||null!==(i=e.child.sibling)&&(null!==(o=t.firstEffect)?(t.firstEffect=i,i.nextEffect=o):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ho.current)?Us===Ms&&(Us=Ls):(Us!==Ms&&Us!==Ls||(Us=Ns),0!==Zs&&null!==Fs&&(Yl(Fs,Hs),Kl(Fs,Zs)))),(n||r)&&(t.effectTag|=4),null);case 4:return Bo(),Xa(t),null;case 10:return ao(t),null;case 19:if(hi(Ho),null===(r=t.memoizedState))return null;if(i=0!=(64&t.effectTag),null===(o=r.rendering)){if(i)ns(r,!1);else if(Us!==Ms||null!==e&&0!=(64&e.effectTag))for(o=t.child;null!==o;){if(null!==(e=Uo(o))){for(t.effectTag|=64,ns(r,!1),null!==(i=e.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)o=n,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(e=i.alternate)?(i.childExpirationTime=0,i.expirationTime=o,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,o=e.dependencies,i.dependencies=null===o?null:{expirationTime:o.expirationTime,firstContext:o.firstContext,responders:o.responders}),r=r.sibling;return mi(Ho,1&Ho.current|2),t.child}o=o.sibling}}else{if(!i)if(null!==(e=Uo(o))){if(t.effectTag|=64,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),ns(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Gi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,i=!0,ns(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=r.last)?n.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Gi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Gi(),n.sibling=null,t=Ho.current,mi(Ho,i?1&t|2:1&t),n):null}throw Error(l(156,t.tag))}function is(e){switch(e.tag){case 1:xi(e.type)&&Si();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Bo(),hi(yi),hi(gi),0!=(64&(t=e.effectTag)))throw Error(l(285));return e.effectTag=-4097&t|64,e;case 5:return Wo(e),null;case 13:return hi(Ho),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return hi(Ho),null;case 4:return Bo(),null;case 10:return ao(e),null;default:return null}}function os(e,t){return{value:e,source:t,stack:be(t)}}qa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xa=function(){},Za=function(e,t,n,r,i){var o=e.memoizedProps;if(o!==r){var s,l,u=t.stateNode;switch(No(Do.current),e=null,n){case"input":o=_e(u,o),r=_e(u,r),e=[];break;case"option":o=ke(u,o),r=ke(u,r),e=[];break;case"select":o=a({},o,{value:void 0}),r=a({},r,{value:void 0}),e=[];break;case"textarea":o=Ie(u,o),r=Ie(u,r),e=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(u.onclick=cn)}for(s in an(n,r),n=null,o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(l in u=o[s])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(O.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var c=r[s];if(u=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if("style"===s)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(e||(e=[]),e.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(s,c)):"children"===s?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(O.hasOwnProperty(s)?(null!=c&&un(i,s),e||u===c||(e=[])):(e=e||[]).push(s,c))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&(t.effectTag|=4)}},$a=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var as="function"==typeof WeakSet?WeakSet:Set;function ss(e,t){var n=t.source,i=t.stack;null===i&&null!==n&&(i=be(n)),null!==n&&ye(n.type),t=t.value,null!==e&&1===e.tag&&ye(e.type);try{r.error(t)}catch(e){setTimeout((function(){throw e}))}}function ls(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){jl(e,t)}else t.current=null}function us(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:eo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(l(163))}function cs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function fs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ds(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void fs(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:eo(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&yo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}yo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&En(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Nt(n)))))}throw Error(l(163))}function ps(e,t,n){switch("function"==typeof Bl&&Bl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Zi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){jl(i,e)}}e=e.next}while(e!==r)}))}break;case 1:ls(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){jl(e,t)}}(t,n);break;case 5:ls(t);break;case 4:bs(e,t,n)}}function hs(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&hs(t)}function ms(e){return 5===e.tag||3===e.tag||4===e.tag}function vs(e){e:{for(var t=e.return;null!==t;){if(ms(t)){var n=t;break e}t=t.return}throw Error(l(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(l(161))}16&n.effectTag&&(We(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?gs(e,n,t):ys(e,n,t)}function gs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=cn));else if(4!==r&&null!==(e=e.child))for(gs(e,t,n),e=e.sibling;null!==e;)gs(e,t,n),e=e.sibling}function ys(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ys(e,t,n),e=e.sibling;null!==e;)ys(e,t,n),e=e.sibling}function bs(e,t,n){for(var r,i,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(l(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag){e:for(var s=e,u=o,c=n,f=u;;)if(ps(s,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===u)break e;for(;null===f.sibling;){if(null===f.return||f.return===u)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,u=o.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(ps(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function ws(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void cs(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Rn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Oe(n,r),sn(e,i),t=sn(e,r),i=0;i<o.length;i+=2){var a=o[i],s=o[i+1];"style"===a?rn(n,s):"dangerouslySetInnerHTML"===a?Fe(n,s):"children"===a?We(n,s):Q(n,a,s,t)}switch(e){case"input":Ae(n,r);break;case"textarea":De(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Re(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Re(n,!!r.multiple,r.defaultValue,!0):Re(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(l(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Nt(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ys=Gi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=nn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void xs(t);case 19:return void xs(t)}throw Error(l(163))}function xs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new as),t.forEach((function(t){var r=Nl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var Ss="function"==typeof WeakMap?WeakMap:Map;function Es(e,t,n){(n=ho(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qs||(Qs=!0,el=r),ss(e,t)},n}function _s(e,t,n){(n=ho(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ss(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===tl?tl=new Set([this]):tl.add(this),ss(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ts,Os=Math.ceil,As=J.ReactCurrentDispatcher,Cs=J.ReactCurrentOwner,Ps=0,ks=8,Rs=16,Is=32,Ms=0,Ds=1,js=2,Ls=3,Ns=4,zs=5,Bs=Ps,Fs=null,Ws=null,Hs=0,Us=Ms,Vs=null,Gs=1073741823,qs=1073741823,Xs=null,Zs=0,$s=!1,Ys=0,Ks=500,Js=null,Qs=!1,el=null,tl=null,nl=!1,rl=null,il=90,ol=null,al=0,sl=null,ll=0;function ul(){return(Bs&(Rs|Is))!==Ps?1073741821-(Gi()/10|0):0!==ll?ll:ll=1073741821-(Gi()/10|0)}function cl(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=qi();if(0==(4&t))return 99===r?1073741823:1073741822;if((Bs&Rs)!==Ps)return Hs;if(null!==n)e=Qi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Qi(e,150,100);break;case 97:case 96:e=Qi(e,5e3,250);break;case 95:e=2;break;default:throw Error(l(326))}return null!==Fs&&e===Hs&&--e,e}function fl(e,t){if(50<al)throw al=0,sl=null,Error(l(185));if(null!==(e=dl(e,t))){var n=qi();1073741823===t?(Bs&ks)!==Ps&&(Bs&(Rs|Is))===Ps?vl(e):(hl(e),Bs===Ps&&Ki()):hl(e),(4&Bs)===Ps||98!==n&&99!==n||(null===ol?ol=new Map([[e,t]]):(void 0===(n=ol.get(e))||n>t)&&ol.set(e,t))}}function dl(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Fs===i&&(El(t),Us===Ns&&Yl(i,Hs)),Kl(i,t)),i}function pl(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!$l(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function hl(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Yi(vl.bind(null,e));else{var t=pl(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=ul();if(r=1073741823===t?99:1===t||2===t?95:0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==zi&&Pi(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Yi(vl.bind(null,e)):$i(r,ml.bind(null,e),{timeout:10*(1073741821-t)-Gi()}),e.callbackNode=t}}}function ml(e,t){if(ll=0,t)return Jl(e,t=ul()),hl(e),null;var n=pl(e);if(0!==n){if(t=e.callbackNode,(Bs&(Rs|Is))!==Ps)throw Error(l(327));if(Il(),e===Fs&&n===Hs||bl(e,n),null!==Ws){var r=Bs;Bs|=Rs;for(var i=xl();;)try{Tl();break}catch(t){wl(e,t)}if(oo(),Bs=r,As.current=i,Us===Ds)throw t=Vs,bl(e,n),Yl(e,n),hl(e),t;if(null===Ws)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Us,Fs=null,r){case Ms:case Ds:throw Error(l(345));case js:Jl(e,2<n?2:n);break;case Ls:if(Yl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Cl(i)),1073741823===Gs&&10<(i=Ys+Ks-Gi())){if($s){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,bl(e,n);break}}if(0!==(o=pl(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=Tn(Pl.bind(null,e),i);break}Pl(e);break;case Ns:if(Yl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Cl(i)),$s&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,bl(e,n);break}if(0!==(i=pl(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==qs?r=10*(1073741821-qs)-Gi():1073741823===Gs?r=0:(r=10*(1073741821-Gs)-5e3,0>(r=(i=Gi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Os(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=Tn(Pl.bind(null,e),r);break}Pl(e);break;case zs:if(1073741823!==Gs&&null!==Xs){o=Gs;var a=Xs;if(0>=(r=0|a.busyMinDurationMs)?r=0:(i=0|a.busyDelayMs,r=(o=Gi()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Yl(e,n),e.timeoutHandle=Tn(Pl.bind(null,e),r);break}}Pl(e);break;default:throw Error(l(329))}if(hl(e),e.callbackNode===t)return ml.bind(null,e)}}return null}function vl(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(Bs&(Rs|Is))!==Ps)throw Error(l(327));if(Il(),e===Fs&&t===Hs||bl(e,t),null!==Ws){var n=Bs;Bs|=Rs;for(var r=xl();;)try{_l();break}catch(t){wl(e,t)}if(oo(),Bs=n,As.current=r,Us===Ds)throw n=Vs,bl(e,t),Yl(e,t),hl(e),n;if(null!==Ws)throw Error(l(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Fs=null,Pl(e),hl(e)}return null}function gl(e,t){var n=Bs;Bs|=1;try{return e(t)}finally{(Bs=n)===Ps&&Ki()}}function yl(e,t){var n=Bs;Bs&=-2,Bs|=ks;try{return e(t)}finally{(Bs=n)===Ps&&Ki()}}function bl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,On(n)),null!==Ws)for(n=Ws.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&Si();break;case 3:Bo(),hi(yi),hi(gi);break;case 5:Wo(r);break;case 4:Bo();break;case 13:case 19:hi(Ho);break;case 10:ao(r)}n=n.return}Fs=e,Ws=Ul(e.current,null),Hs=t,Us=Ms,Vs=null,qs=Gs=1073741823,Xs=null,Zs=0,$s=!1}function wl(e,t){for(;;){try{if(oo(),Go.current=Sa,Ko)for(var n=Zo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Xo=0,Yo=$o=Zo=null,Ko=!1,null===Ws||null===Ws.return)return Us=Ds,Vs=t,Ws=null;e:{var o=e,a=Ws.return,s=Ws,l=t;if(t=Hs,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===i(l)&&"function"==typeof l.then){var u=l;if(0==(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.expirationTime=c.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var f=0!=(1&Ho.current),d=a;do{var p;if(p=13===d.tag){var h=d.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var m=d.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!f)}}if(p){var v=d.updateQueue;if(null===v){var g=new Set;g.add(u),d.updateQueue=g}else v.add(u);if(0==(2&d.mode)){if(d.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ho(1073741823,null);y.tag=2,mo(s,y)}s.expirationTime=1073741823;break e}l=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new Ss,l=new Set,b.set(u,l)):void 0===(l=b.get(u))&&(l=new Set,b.set(u,l)),!l.has(s)){l.add(s);var w=Ll.bind(null,o,u,s);u.then(w,w)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);l=Error((ye(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+be(s))}Us!==zs&&(Us=js),l=os(l,s),d=a;do{switch(d.tag){case 3:u=l,d.effectTag|=4096,d.expirationTime=t,vo(d,Es(d,u,t));break e;case 1:u=l;var x=d.type,S=d.stateNode;if(0==(64&d.effectTag)&&("function"==typeof x.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===tl||!tl.has(S)))){d.effectTag|=4096,d.expirationTime=t,vo(d,_s(d,u,t));break e}}d=d.return}while(null!==d)}Ws=Al(Ws)}catch(e){t=e;continue}break}}function xl(){var e=As.current;return As.current=Sa,null===e?Sa:e}function Sl(e,t){e<Gs&&2<e&&(Gs=e),null!==t&&e<qs&&2<e&&(qs=e,Xs=t)}function El(e){e>Zs&&(Zs=e)}function _l(){for(;null!==Ws;)Ws=Ol(Ws)}function Tl(){for(;null!==Ws&&!Bi();)Ws=Ol(Ws)}function Ol(e){var t=Ts(e.alternate,e,Hs);return e.memoizedProps=e.pendingProps,null===t&&(t=Al(e)),Cs.current=null,t}function Al(e){Ws=e;do{var t=Ws.alternate;if(e=Ws.return,0==(2048&Ws.effectTag)){if(t=rs(t,Ws,Hs),1===Hs||1!==Ws.childExpirationTime){for(var n=0,r=Ws.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Ws.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ws.firstEffect),null!==Ws.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ws.firstEffect),e.lastEffect=Ws.lastEffect),1<Ws.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ws:e.firstEffect=Ws,e.lastEffect=Ws))}else{if(null!==(t=is(Ws)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ws.sibling))return t;Ws=e}while(null!==Ws);return Us===Ms&&(Us=zs),null}function Cl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Pl(e){var t=qi();return Zi(99,kl.bind(null,e,t)),null}function kl(e,t){do{Il()}while(null!==rl);if((Bs&(Rs|Is))!==Ps)throw Error(l(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(l(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Cl(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Fs&&(Ws=Fs=null,Hs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Bs;Bs|=Is,Cs.current=null,xn=Xt;var a=mn();if(vn(a)){if("selectionStart"in a)var s={start:a.selectionStart,end:a.selectionEnd};else e:{var u=(s=(s=a.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(u&&0!==u.rangeCount){s=u.anchorNode;var c=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{s.nodeType,f.nodeType}catch(e){s=null;break e}var d=0,p=-1,h=-1,m=0,v=0,g=a,y=null;t:for(;;){for(var b;g!==s||0!==c&&3!==g.nodeType||(p=d+c),g!==f||0!==u&&3!==g.nodeType||(h=d+u),3===g.nodeType&&(d+=g.nodeValue.length),null!==(b=g.firstChild);)y=g,g=b;for(;;){if(g===a)break t;if(y===s&&++m===c&&(p=d),y===f&&++v===u&&(h=d),null!==(b=g.nextSibling))break;y=(g=y).parentNode}g=b}s=-1===p||-1===h?null:{start:p,end:h}}else s=null}s=s||{start:0,end:0}}else s=null;Sn={activeElementDetached:null,focusedElem:a,selectionRange:s},Xt=!1,Js=i;do{try{Rl()}catch(e){if(null===Js)throw Error(l(330));jl(Js,e),Js=Js.nextEffect}}while(null!==Js);Js=i;do{try{for(a=e,s=t;null!==Js;){var w=Js.effectTag;if(16&w&&We(Js.stateNode,""),128&w){var x=Js.alternate;if(null!==x){var S=x.ref;null!==S&&("function"==typeof S?S(null):S.current=null)}}switch(1038&w){case 2:vs(Js),Js.effectTag&=-3;break;case 6:vs(Js),Js.effectTag&=-3,ws(Js.alternate,Js);break;case 1024:Js.effectTag&=-1025;break;case 1028:Js.effectTag&=-1025,ws(Js.alternate,Js);break;case 4:ws(Js.alternate,Js);break;case 8:bs(a,c=Js,s),hs(c)}Js=Js.nextEffect}}catch(e){if(null===Js)throw Error(l(330));jl(Js,e),Js=Js.nextEffect}}while(null!==Js);if(S=Sn,x=mn(),w=S.focusedElem,s=S.selectionRange,x!==w&&w&&w.ownerDocument&&hn(w.ownerDocument.documentElement,w)){null!==s&&vn(w)&&(x=s.start,void 0===(S=s.end)&&(S=x),"selectionStart"in w?(w.selectionStart=x,w.selectionEnd=Math.min(S,w.value.length)):(S=(x=w.ownerDocument||document)&&x.defaultView||window).getSelection&&(S=S.getSelection(),c=w.textContent.length,a=Math.min(s.start,c),s=void 0===s.end?a:Math.min(s.end,c),!S.extend&&a>s&&(c=s,s=a,a=c),c=pn(w,a),f=pn(w,s),c&&f&&(1!==S.rangeCount||S.anchorNode!==c.node||S.anchorOffset!==c.offset||S.focusNode!==f.node||S.focusOffset!==f.offset)&&((x=x.createRange()).setStart(c.node,c.offset),S.removeAllRanges(),a>s?(S.addRange(x),S.extend(f.node,f.offset)):(x.setEnd(f.node,f.offset),S.addRange(x))))),x=[];for(S=w;S=S.parentNode;)1===S.nodeType&&x.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<x.length;w++)(S=x[w]).element.scrollLeft=S.left,S.element.scrollTop=S.top}Xt=!!xn,Sn=xn=null,e.current=n,Js=i;do{try{for(w=e;null!==Js;){var E=Js.effectTag;if(36&E&&ds(w,Js.alternate,Js),128&E){x=void 0;var _=Js.ref;if(null!==_){var T=Js.stateNode;Js.tag,x=T,"function"==typeof _?_(x):_.current=x}}Js=Js.nextEffect}}catch(e){if(null===Js)throw Error(l(330));jl(Js,e),Js=Js.nextEffect}}while(null!==Js);Js=null,Fi(),Bs=o}else e.current=n;if(nl)nl=!1,rl=e,il=t;else for(Js=i;null!==Js;)t=Js.nextEffect,Js.nextEffect=null,Js=t;if(0===(t=e.firstPendingTime)&&(tl=null),1073741823===t?e===sl?al++:(al=0,sl=e):al=0,"function"==typeof zl&&zl(n.stateNode,r),hl(e),Qs)throw Qs=!1,e=el,el=null,e;return(Bs&ks)!==Ps||Ki(),null}function Rl(){for(;null!==Js;){var e=Js.effectTag;0!=(256&e)&&us(Js.alternate,Js),0==(512&e)||nl||(nl=!0,$i(97,(function(){return Il(),null}))),Js=Js.nextEffect}}function Il(){if(90!==il){var e=97<il?97:il;return il=90,Zi(e,Ml)}}function Ml(){if(null===rl)return!1;var e=rl;if(rl=null,(Bs&(Rs|Is))!==Ps)throw Error(l(331));var t=Bs;for(Bs|=Is,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:cs(5,n),fs(5,n)}}catch(t){if(null===e)throw Error(l(330));jl(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Bs=t,Ki(),!0}function Dl(e,t,n){mo(e,t=Es(e,t=os(n,t),1073741823)),null!==(e=dl(e,1073741823))&&hl(e)}function jl(e,t){if(3===e.tag)Dl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Dl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===tl||!tl.has(r))){mo(n,e=_s(n,e=os(t,e),1073741823)),null!==(n=dl(n,1073741823))&&hl(n);break}}n=n.return}}function Ll(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Fs===e&&Hs===n?Us===Ns||Us===Ls&&1073741823===Gs&&Gi()-Ys<Ks?bl(e,Hs):$s=!0:$l(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,hl(e)))}function Nl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(t=cl(t=ul(),e,null)),null!==(e=dl(e,t))&&hl(e)}Ts=function(e,t,n){var r=t.expirationTime;if(null!==e){var o=t.pendingProps;if(e.memoizedProps!==o||yi.current)La=!0;else{if(r<n){switch(La=!1,t.tag){case 3:Ga(t),Da();break;case 5:if(Fo(t),4&t.mode&&1!==n&&o.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:xi(t.type)&&Ti(t);break;case 4:zo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,o=t.type._context,mi(to,o._currentValue),o._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ka(e,t,n):(mi(Ho,1&Ho.current),null!==(t=ts(e,t,n))?t.sibling:null);mi(Ho,1&Ho.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return es(e,t,n);t.effectTag|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null),mi(Ho,Ho.current),!r)return null}return ts(e,t,n)}La=!1}}else La=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o=wi(t,gi.current),lo(t,n),o=ea(null,t,r,e,o,n),t.effectTag|=1,"object"===i(o)&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,xi(r)){var a=!0;Ti(t)}else a=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,fo(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&xo(t,r,s,e),o.updater=So,t.stateNode=o,o._reactInternalFiber=t,Oo(t,r,e,n),t=Va(null,t,r,!0,a,n)}else t.tag=0,Na(null,t,o,n),t=t.child;return t;case 16:e:{if(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(o),1!==o._status)throw o._result;switch(o=o._result,t.type=o,a=t.tag=function(e){if("function"==typeof e)return Hl(e)?1:0;if(null!=e){if((e=e.$$typeof)===ce)return 11;if(e===pe)return 14}return 2}(o),e=eo(o,e),a){case 0:t=Ha(null,t,o,e,n);break e;case 1:t=Ua(null,t,o,e,n);break e;case 11:t=za(null,t,o,e,n);break e;case 14:t=Ba(null,t,o,eo(o.type,e),r,n);break e}throw Error(l(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ha(e,t,r,o=t.elementType===r?o:eo(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ua(e,t,r,o=t.elementType===r?o:eo(r,o),n);case 3:if(Ga(t),r=t.updateQueue,null===e||null===r)throw Error(l(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,po(e,t),go(t,r,null,n),(r=t.memoizedState.element)===o)Da(),t=ts(e,t,n);else{if((o=t.stateNode.hydrate)&&(Aa=An(t.stateNode.containerInfo.firstChild),Oa=t,o=Ca=!0),o)for(n=Io(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Na(e,t,r,n),Da();t=t.child}return t;case 5:return Fo(t),null===e&&Ra(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,_n(r,o)?s=null:null!==a&&_n(r,a)&&(t.effectTag|=16),Wa(e,t),4&t.mode&&1!==n&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Na(e,t,s,n),t=t.child),t;case 6:return null===e&&Ra(t),null;case 13:return Ka(e,t,n);case 4:return zo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ro(t,null,r,n):Na(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,za(e,t,r,o=t.elementType===r?o:eo(r,o),n);case 7:return Na(e,t,t.pendingProps,n),t.child;case 8:case 12:return Na(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value;var u=t.type._context;if(mi(to,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0==(a=Ur(u,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===o.children&&!yi.current){t=ts(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var f=c.firstContext;null!==f;){if(f.context===r&&0!=(f.observedBits&a)){1===u.tag&&((f=ho(n,null)).tag=2,mo(u,f)),u.expirationTime<n&&(u.expirationTime=n),null!==(f=u.alternate)&&f.expirationTime<n&&(f.expirationTime=n),so(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}f=f.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Na(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(a=t.pendingProps).children,lo(t,n),r=r(o=uo(o,a.unstable_observedBits)),t.effectTag|=1,Na(e,t,r,n),t.child;case 14:return a=eo(o=t.type,t.pendingProps),Ba(e,t,o,a=eo(o.type,a),r,n);case 15:return Fa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:eo(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,xi(r)?(e=!0,Ti(t)):e=!1,lo(t,n),_o(t,r,o),Oo(t,r,o,n),Va(null,t,r,!0,e,n);case 19:return es(e,t,n)}throw Error(l(156,t.tag))};var zl=null,Bl=null;function Fl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Wl(e,t,n,r){return new Fl(e,t,n,r)}function Hl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ul(e,t){var n=e.alternate;return null===n?((n=Wl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vl(e,t,n,r,o,a){var s=2;if(r=e,"function"==typeof e)Hl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case ie:return Gl(n.children,o,a,t);case ue:s=8,o|=7;break;case oe:s=8,o|=1;break;case ae:return(e=Wl(12,n,t,8|o)).elementType=ae,e.type=ae,e.expirationTime=a,e;case fe:return(e=Wl(13,n,t,o)).type=fe,e.elementType=fe,e.expirationTime=a,e;case de:return(e=Wl(19,n,t,o)).elementType=de,e.expirationTime=a,e;default:if("object"===i(e)&&null!==e)switch(e.$$typeof){case se:s=10;break e;case le:s=9;break e;case ce:s=11;break e;case pe:s=14;break e;case he:s=16,r=null;break e;case me:s=22;break e}throw Error(l(130,null==e?e:i(e),""))}return(t=Wl(s,n,t,o)).elementType=e,t.type=r,t.expirationTime=a,t}function Gl(e,t,n,r){return(e=Wl(7,e,r,t)).expirationTime=n,e}function ql(e,t,n){return(e=Wl(6,e,null,t)).expirationTime=n,e}function Xl(e,t,n){return(t=Wl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function $l(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Yl(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Kl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Jl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Ql(e,t,n,r){var i=t.current,o=ul(),a=bo.suspense;o=cl(o,i,a);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(l(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(xi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(l(171))}if(1===n.tag){var u=n.type;if(xi(u)){n=_i(n,u,s);break e}}n=s}else n=vi;return null===t.context?t.context=n:t.pendingContext=n,(t=ho(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),mo(i,t),fl(i,o),o}function eu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tu(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function nu(e,t){tu(e,t),(e=e.alternate)&&tu(e,t)}function ru(e,t,n){var r=new Zl(e,t,n=null!=n&&!0===n.hydrate),i=Wl(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,fo(i),e[In]=r.current,n&&0!==t&&function(e,t){var n=Qe(t);At.forEach((function(e){mt(e,t,n)})),Ct.forEach((function(e){mt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function iu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ou(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=eu(a);s.call(e)}}Ql(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ru(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=eu(a);l.call(e)}}yl((function(){Ql(t,a,e,i)}))}return eu(a)}function au(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!iu(t))throw Error(l(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:re,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}ru.prototype.render=function(e){Ql(e,this._internalRoot,null,null)},ru.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ql(null,e,null,(function(){t[In]=null}))},vt=function(e){if(13===e.tag){var t=Qi(ul(),150,100);fl(e,t),nu(e,t)}},gt=function(e){13===e.tag&&(fl(e,3),nu(e,3))},yt=function(e){if(13===e.tag){var t=ul();fl(e,t=cl(t,e,null)),nu(e,t)}},k=function(e,t,n){switch(t){case"input":if(Ae(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ln(r);if(!i)throw Error(l(90));Ee(r),Ae(r,i)}}}break;case"textarea":De(e,n);break;case"select":null!=(t=n.value)&&Re(e,!!n.multiple,t,!1)}},L=gl,N=function(e,t,n,r,i){var o=Bs;Bs|=4;try{return Zi(98,e.bind(null,t,n,r,i))}finally{(Bs=o)===Ps&&Ki()}},z=function(){(Bs&(1|Rs|Is))===Ps&&(function(){if(null!==ol){var e=ol;ol=null,e.forEach((function(e,t){Jl(t,e),hl(t)})),Ki()}}(),Il())},B=function(e,t){var n=Bs;Bs|=2;try{return e(t)}finally{(Bs=n)===Ps&&Ki()}};var su={Events:[Dn,jn,Ln,C,T,Un,function(e){ot(e,Hn)},D,j,Jt,lt,Il,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;!function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);zl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Bl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(a({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Mn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=su,t.createPortal=au,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(l(188));throw Error(l(268,Object.keys(e)))}return null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if((Bs&(Rs|Is))!==Ps)throw Error(l(187));var n=Bs;Bs|=1;try{return Zi(99,e.bind(null,t))}finally{Bs=n,Ki()}},t.hydrate=function(e,t,n){if(!iu(t))throw Error(l(200));return ou(null,e,t,!0,n)},t.render=function(e,t,n){if(!iu(t))throw Error(l(200));return ou(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!iu(e))throw Error(l(40));return!!e._reactRootContainer&&(yl((function(){ou(null,null,e,!1,(function(){e._reactRootContainer=null,e[In]=null}))})),!0)},t.unstable_batchedUpdates=gl,t.unstable_createPortal=function(e,t){return au(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!iu(n))throw Error(l(200));if(null==e||void 0===e._reactInternalFiber)throw Error(l(38));return ou(e,t,n,!1,r)},t.version="16.14.0"},8568:(e,t,n)=>{"use strict";var r=n(3324);!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){r.error(e)}}(),e.exports=n(54392)},4674:(e,t,n)=>{"use strict";var r=n(3324);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return d.default}}),t.default=void 0;var o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(78281)),a=m(n(55770)),s=m(n(8568)),l=m(n(80634)),u=n(96242),c=n(9807),f=n(49057),d=m(n(53861)),p=m(n(67581)),h=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function m(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(y,e);var t,n,a,f,m,v=(f=y,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(f);if(m){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}(this,e)});function y(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),T(E(t=v.call(this,e)),"onDragStart",(function(e,n){if((0,p.default)("Draggable: onDragStart: %j",n),!1===t.props.onStart(e,(0,c.createDraggableData)(E(t),n)))return!1;t.setState({dragging:!0,dragged:!0})})),T(E(t),"onDrag",(function(e,n){if(!t.state.dragging)return!1;(0,p.default)("Draggable: onDrag: %j",n);var r,i,o=(0,c.createDraggableData)(E(t),n),a={x:o.x,y:o.y};if(t.props.bounds){var s=a.x,l=a.y;a.x+=t.state.slackX,a.y+=t.state.slackY;var u=(r=(0,c.getBoundPosition)(E(t),a.x,a.y),i=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(r,i)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=u[0],d=u[1];a.x=f,a.y=d,a.slackX=t.state.slackX+(s-a.x),a.slackY=t.state.slackY+(l-a.y),o.x=a.x,o.y=a.y,o.deltaX=a.x-t.state.x,o.deltaY=a.y-t.state.y}if(!1===t.props.onDrag(e,o))return!1;t.setState(a)})),T(E(t),"onDragStop",(function(e,n){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,(0,c.createDraggableData)(E(t),n)))return!1;(0,p.default)("Draggable: onDragStop: %j",n);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var i=t.props.position,o=i.x,a=i.y;r.x=o,r.y=a}t.setState(r)})),t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:b({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||r.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),t}return t=y,a=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,p.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:b({},n)})}}],(n=[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current)&&void 0!==e?e:s.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),r=t.defaultPosition,i=t.defaultClassName,a=t.defaultClassNameDragging,s=t.defaultClassNameDragged,f=t.position,p=t.positionOffset,m=(t.scale,function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,h)),v={},y=null,w=!Boolean(f)||this.state.dragging,x=f||r,S={x:(0,c.canDragX)(this)&&w?this.state.x:x.x,y:(0,c.canDragY)(this)&&w?this.state.y:x.y};this.state.isElementSVG?y=(0,u.createSVGTransform)(S,p):v=(0,u.createCSSTransform)(S,p);var E=(0,l.default)(n.props.className||"",i,(T(e={},a,this.state.dragging),T(e,s,this.state.dragged),e));return o.createElement(d.default,g({},m,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.cloneElement(o.Children.only(n),{className:E,style:b(b({},n.props.style),v),transform:y}))}}])&&x(t.prototype,n),a&&x(t,a),Object.defineProperty(t,"prototype",{writable:!1}),y}(o.Component);t.default=O,T(O,"displayName","Draggable"),T(O,"propTypes",b(b({},d.default.propTypes),{},{axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:f.dontSetMe,style:f.dontSetMe,transform:f.dontSetMe})),T(O,"defaultProps",b(b({},d.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},53861:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(78281)),o=f(n(55770)),a=f(n(8568)),s=n(96242),l=n(9807),u=n(49057),c=f(n(67581));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={start:"touchstart",move:"touchmove",stop:"touchend"},x={start:"mousedown",move:"mousemove",stop:"mouseup"},S=x,E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(d,e);var t,n,o,u,f=(o=d,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(o);if(u){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}(this,e)});function d(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(g(e=f.call.apply(f,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),b(g(e),"mounted",!1),b(g(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,s.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,s.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var i=(0,s.getTouchIdentifier)(t);e.setState({touchIdentifier:i});var o=(0,l.getControlPosition)(t,i,g(e));if(null!=o){var a=o.x,u=o.y,f=(0,l.createCoreData)(g(e),a,u);(0,c.default)("DraggableCore: handleDragStart: %j",f),(0,c.default)("calling",e.props.onStart),!1!==e.props.onStart(t,f)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,s.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:a,lastY:u}),(0,s.addEvent)(r,S.move,e.handleDrag),(0,s.addEvent)(r,S.stop,e.handleDragStop))}}})),b(g(e),"handleDrag",(function(t){var n=(0,l.getControlPosition)(t,e.state.touchIdentifier,g(e));if(null!=n){var r=n.x,i=n.y;if(Array.isArray(e.props.grid)){var o=r-e.state.lastX,a=i-e.state.lastY,s=p((0,l.snapToGrid)(e.props.grid,o,a),2);if(o=s[0],a=s[1],!o&&!a)return;r=e.state.lastX+o,i=e.state.lastY+a}var u=(0,l.createCoreData)(g(e),r,i);if((0,c.default)("DraggableCore: handleDrag: %j",u),!1!==e.props.onDrag(t,u)&&!1!==e.mounted)e.setState({lastX:r,lastY:i});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(t){var f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(f)}}})),b(g(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,l.getControlPosition)(t,e.state.touchIdentifier,g(e));if(null!=n){var r=n.x,i=n.y;if(Array.isArray(e.props.grid)){var o=r-e.state.lastX||0,a=i-e.state.lastY||0,u=p((0,l.snapToGrid)(e.props.grid,o,a),2);o=u[0],a=u[1],r=e.state.lastX+o,i=e.state.lastY+a}var f=(0,l.createCoreData)(g(e),r,i);if(!1===e.props.onStop(t,f)||!1===e.mounted)return!1;var d=e.findDOMNode();d&&e.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(d.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",f),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),d&&((0,c.default)("DraggableCore: Removing handlers"),(0,s.removeEvent)(d.ownerDocument,S.move,e.handleDrag),(0,s.removeEvent)(d.ownerDocument,S.stop,e.handleDragStop))}}})),b(g(e),"onMouseDown",(function(t){return S=x,e.handleDragStart(t)})),b(g(e),"onMouseUp",(function(t){return S=x,e.handleDragStop(t)})),b(g(e),"onTouchStart",(function(t){return S=w,e.handleDragStart(t)})),b(g(e),"onTouchEnd",(function(t){return S=w,e.handleDragStop(t)})),e}return t=d,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,s.addEvent)(e,w.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,s.removeEvent)(t,x.move,this.handleDrag),(0,s.removeEvent)(t,w.move,this.handleDrag),(0,s.removeEvent)(t,x.stop,this.handleDragStop),(0,s.removeEvent)(t,w.stop,this.handleDragStop),(0,s.removeEvent)(e,w.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current:a.default.findDOMNode(this)}},{key:"render",value:function(){return i.cloneElement(i.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(i.Component);t.default=E,b(E,"displayName","DraggableCore"),b(E,"propTypes",{allowAnyClick:o.default.bool,disabled:o.default.bool,enableUserSelectHack:o.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:o.default.arrayOf(o.default.number),handle:o.default.string,cancel:o.default.string,nodeRef:o.default.object,onStart:o.default.func,onDrag:o.default.func,onStop:o.default.func,onMouseDown:o.default.func,scale:o.default.number,className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),b(E,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},43111:(e,t,n)=>{"use strict";var r=n(4674),i=r.default,o=r.DraggableCore;e.exports=i,e.exports.default=i,e.exports.DraggableCore=o},96242:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=p,t.addEvent=function(e,t,n,r){if(e){var i=l({capture:!0},r);e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}},t.addUserSelectStyles=function(e){if(e){var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&p(e.body,"react-draggable-transparent-selection")}},t.createCSSTransform=function(e,t){var n=d(e,t,"px");return u({},(0,o.browserPrefixToKey)("transform",o.default),n)},t.createSVGTransform=function(e,t){return d(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,i.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,i.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},t.getTouchIdentifier=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0},t.getTranslation=d,t.innerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=(0,i.int)(n.paddingTop))-(0,i.int)(n.paddingBottom)},t.innerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=(0,i.int)(n.paddingLeft))-(0,i.int)(n.paddingRight)},t.matchesSelector=f,t.matchesSelectorAndParentsTo=function(e,t,n){var r=e;do{if(f(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-r.left)/n,y:(e.clientY+t.scrollTop-r.top)/n}},t.outerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=(0,i.int)(n.borderTopWidth))+(0,i.int)(n.borderBottomWidth)},t.outerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=(0,i.int)(n.borderLeftWidth))+(0,i.int)(n.borderRightWidth)},t.removeClassName=h,t.removeEvent=function(e,t,n,r){if(e){var i=l({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}},t.removeUserSelectStyles=function(e){if(e)try{if(e.body&&h(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}};var i=n(49057),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(59903));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c="";function f(e,t){return c||(c=(0,i.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,i.isFunction)(e[t])}))),!!(0,i.isFunction)(e[c])&&e[c](t)}function d(e,t,n){var r=e.x,i=e.y,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){var a="".concat("string"==typeof t.x?t.x:t.x+n),s="".concat("string"==typeof t.y?t.y:t.y+n);o="translate(".concat(a,", ").concat(s,")")+o}return o}function p(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function h(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},59903:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=i,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=r;var n=["Moz","Webkit","O","ms"];function r(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";var o=null===(e=window.document)||void 0===e||null===(t=e.documentElement)||void 0===t?void 0:t.style;if(!o)return"";if(r in o)return"";for(var a=0;a<n.length;a++)if(i(r,n[a])in o)return n[a];return""}function i(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var o=r();t.default=o},67581:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},9807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){var i=e.state,a=!(0,r.isNum)(i.lastX),s=o(e);return a?{node:s,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:s,deltaX:t-i.lastX,deltaY:n-i.lastY,lastX:i.lastX,lastY:i.lastY,x:t,y:n}},t.createDraggableData=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];var a=e.props.bounds;a="string"==typeof a?a:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(a);var s=o(e);if("string"==typeof a){var l,u=s.ownerDocument,c=u.defaultView;if(!((l="parent"===a?s.parentNode:u.querySelector(a))instanceof c.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');var f=l,d=c.getComputedStyle(s),p=c.getComputedStyle(f);a={left:-s.offsetLeft+(0,r.int)(p.paddingLeft)+(0,r.int)(d.marginLeft),top:-s.offsetTop+(0,r.int)(p.paddingTop)+(0,r.int)(d.marginTop),right:(0,i.innerWidth)(f)-(0,i.outerWidth)(s)-s.offsetLeft+(0,r.int)(p.paddingRight)-(0,r.int)(d.marginRight),bottom:(0,i.innerHeight)(f)-(0,i.outerHeight)(s)-s.offsetTop+(0,r.int)(p.paddingBottom)-(0,r.int)(d.marginBottom)}}return(0,r.isNum)(a.right)&&(t=Math.min(t,a.right)),(0,r.isNum)(a.bottom)&&(n=Math.min(n,a.bottom)),(0,r.isNum)(a.left)&&(t=Math.max(t,a.left)),(0,r.isNum)(a.top)&&(n=Math.max(n,a.top)),[t,n]},t.getControlPosition=function(e,t,n){var r="number"==typeof t?(0,i.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var a=o(n),s=n.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,i.offsetXYFromParent)(r||e,s,n.props.scale)},t.snapToGrid=function(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]};var r=n(49057),i=n(96242);function o(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},49057:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)}},32284:(e,t,n)=>{"use strict";var r=n(83083);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},55770:(e,t,n)=>{e.exports=n(32284)()},83083:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},19833:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(78281),a=u(o),s=u(n(43979)),l=u(n(80986));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==r(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.fullScreenElement=null,n.detectFullScreen=n.detectFullScreen.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+r(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){l.default.addEventListener("fullscreenchange",this.detectFullScreen)}},{key:"componentWillUnmount",value:function(){l.default.removeEventListener("fullscreenchange",this.detectFullScreen)}},{key:"componentDidUpdate",value:function(){this.handleProps(this.props)}},{key:"handleProps",value:function(e){var t=l.default.fullscreenElement===this.node;t&&!e.enabled?this.leaveFullScreen():!t&&e.enabled&&this.enterFullScreen()}},{key:"detectFullScreen",value:function(){l.default.fullscreenElement===this.node?(this.fullScreenElement=l.default.fullscreenElement,this.props.onChange(!0)):!l.default.fullscreenElement&&this.fullScreenElement&&(this.fullScreenElement=null,this.props.onChange(!1))}},{key:"enterFullScreen",value:function(){l.default.fullscreenEnabled&&l.default.requestFullscreen(this.node)}},{key:"leaveFullScreen",value:function(){l.default.fullscreenEnabled&&l.default.exitFullscreen()}},{key:"render",value:function(){var e=this,t=["fullscreen"];return this.props.enabled&&t.push("fullscreen-enabled"),a.default.createElement("div",{className:t.join(" "),ref:function(t){return e.node=t},style:this.props.enabled?{height:"100%",width:"100%"}:void 0},this.props.children)}}]),t}(o.Component);c.propTypes={children:s.default.node.isRequired,enabled:s.default.bool.isRequired,onChange:s.default.func},c.defaultProps={enabled:!1,onChange:function(){}},t.A=c},6306:(e,t,n)=>{"use strict";n.d(t,{gJ:()=>h,hz:()=>v,rV:()=>m,TO:()=>g,r9:()=>y});var r=n(85408),i=n(91358),o=n(2362),a=n(78281),s=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,l={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},u=function(e){return l[e]};function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d,p={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(s,u)}},h=(0,a.createContext)();function m(){return p}var v=function(){function e(){(0,r.A)(this,e),this.usedNamespaces={}}return(0,i.A)(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function g(){return d}var y={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p=f(f({},p),e)}(e.options.react),function(e){d=e}(e)}}},82946:(e,t,n)=>{"use strict";n.d(t,{C:()=>b});var r=n(2362),i=n(55258),o=n(53466),a=n(78281),s=n(6306),l=n(3324);function u(){if(l&&l.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=l).warn.apply(e,n)}}var c={};function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&c[t[0]]||("string"==typeof t[0]&&(c[t[0]]=new Date),u.apply(void 0,t))}function d(e,t,n){e.loadNamespaces(t,(function(){e.isInitialized?n():e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}))}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e,t){var n=(0,a.useRef)();return(0,a.useEffect)((function(){n.current=t?n.current:e}),[e,t]),n.current};var v=["forwardedRef"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function r(r){var l=r.forwardedRef,u=(0,o.A)(r,v),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,r=(0,a.useContext)(s.gJ)||{},o=r.i18n,l=r.defaultNS,u=n||o||(0,s.TO)();if(u&&!u.reportNamespaces&&(u.reportNamespaces=new s.hz),!u){f("You will need to pass in an i18next instance by using initReactI18next");var c=function(e){return Array.isArray(e)?e[e.length-1]:e},p=[c,{},!1];return p.t=c,p.i18n={},p.ready=!1,p}u.options.react&&void 0!==u.options.react.wait&&f("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var v=h(h(h({},(0,s.rV)()),u.options.react),t),g=v.useSuspense,y=v.keyPrefix,b=e||l||u.options&&u.options.defaultNS;b="string"==typeof b?[b]:b||["translation"],u.reportNamespaces.addUsedNamespaces&&u.reportNamespaces.addUsedNamespaces(b);var w=(u.isInitialized||u.initializedStoreOnce)&&b.every((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{precheck:function(t,r){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.languages[0],i=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)||!t.hasResourceBundle(r,e)&&t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages)&&(!a(r,e)||i&&!a(o,e)))}(e,t,n):(f("i18n.languages were undefined or empty",t.languages),!0)}(e,u,v)}));function x(){return u.getFixedT(null,"fallback"===v.nsMode?b:b[0],y)}var S=(0,a.useState)(x),E=(0,i.A)(S,2),_=E[0],T=E[1],O=b.join(),A=m(O),C=(0,a.useRef)(!0);(0,a.useEffect)((function(){var e=v.bindI18n,t=v.bindI18nStore;function n(){C.current&&T(x)}return C.current=!0,w||g||d(u,b,(function(){C.current&&T(x)})),w&&A&&A!==O&&C.current&&T(x),e&&u&&u.on(e,n),t&&u&&u.store.on(t,n),function(){C.current=!1,e&&u&&e.split(" ").forEach((function(e){return u.off(e,n)})),t&&u&&t.split(" ").forEach((function(e){return u.store.off(e,n)}))}}),[u,O]);var P=(0,a.useRef)(!0);(0,a.useEffect)((function(){C.current&&!P.current&&T(x),P.current=!1}),[u,y]);var k=[_,u,w];if(k.t=_,k.i18n=u,k.ready=w,w)return k;if(!w&&!g)return k;throw new Promise((function(e){d(u,b,(function(){e()}))}))}(e,y(y({},u),{},{keyPrefix:t.keyPrefix})),p=(0,i.A)(c,3),g=p[0],b=p[1],w=p[2],x=y(y({},u),{},{t:g,i18n:b,tReady:w});return t.withRef&&l?x.ref=l:!t.withRef&&l&&(x.forwardedRef=l),(0,a.createElement)(n,x)}var l;r.displayName="withI18nextTranslation(".concat((l=n).displayName||l.name||("string"==typeof l&&l.length>0?l:"Unknown"),")"),r.WrappedComponent=n;var u=function(e,t){return(0,a.createElement)(r,Object.assign({},e,{forwardedRef:t}))};return t.withRef?(0,a.forwardRef)(u):r}}},23420:function(e,t,n){var r,i,o,a;function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}a=function(e,t,n,r){"use strict";function i(e){return e&&"object"==s(e)&&"default"in e?e:{default:e}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?o(Object(t),!0).forEach((function(n){f.default(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e){var t=e.srcList,n=e.imgPromise,i=void 0===n?h({decode:!0}):n,o=e.useSuspense,s=void 0===o||o,l=r.useState(!1)[1],u=m(v(t)),c=u.join("");if(g[c]||(g[c]={promise:y(u,i),cache:"pending",error:null}),"resolved"===g[c].cache)return{src:g[c].src,isLoading:!1,error:null};if("rejected"===g[c].cache){if(s)throw g[c].error;return{isLoading:!1,error:g[c].error,src:void 0}}if(g[c].promise.then((function(e){g[c]=a(a({},g[c]),{},{cache:"resolved",src:e}),s||l(c)})).catch((function(e){g[c]=a(a({},g[c]),{},{cache:"rejected",error:e}),s||l(c)})),s)throw g[c].promise;return{isLoading:!0,src:void 0,error:null}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?u(Object(t),!0).forEach((function(n){f.default(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var f=i(t),d=i(n),p=i(r),h=function(e){var t=e.decode,n=e.crossOrigin,r=void 0===n?"":n;return function(e){return new Promise((function(n,i){var o=new Image;r&&(o.crossOrigin=r),o.onload=function(){(void 0===t||t)&&o.decode?o.decode().then(n).catch(i):n()},o.onerror=i,o.src=e}))}},m=function(e){return e.filter((function(e){return e}))},v=function(e){return Array.isArray(e)?e:[e]},g={},y=function(e,t){var n=!1;return new Promise((function(r,i){var o=function(e){return t(e).then((function(){n=!0,r(e)}))};e.reduce((function(e,t){return e.catch((function(){if(!n)return o(t)}))}),o(e.shift())).catch(i)}))},b=["decode","src","loader","unloader","container","loaderContainer","unloaderContainer","imgPromise","crossorigin","useSuspense"],w=function(e){return e};e.Img=function(e){var t=e.decode,n=e.src,r=void 0===n?[]:n,i=e.loader,o=void 0===i?null:i,a=e.unloader,s=void 0===a?null:a,u=e.container,f=void 0===u?w:u,m=e.loaderContainer,v=void 0===m?w:m,g=e.unloaderContainer,y=void 0===g?w:g,x=e.imgPromise,S=e.crossorigin,E=e.useSuspense,_=void 0!==E&&E,T=d.default(e,b),O=l({srcList:r,imgPromise:x=x||h({decode:!(void 0!==t)||t,crossOrigin:S}),useSuspense:_}),A=O.src,C=O.isLoading;return A?f(p.default.createElement("img",c({src:A},T))):!_&&C?v(o):!_&&s?y(s):null},e.useImage=l,Object.defineProperty(e,"__esModule",{value:!0})},"object"==s(t)?a(t,n(90068),n(84376),n(78281)):(i=[t,n(90068),n(84376),n(78281)],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o))},12544:(e,t)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var r=60103,i=60106,o=60107,a=60108,s=60114,l=60109,u=60110,c=60112,f=60113,d=60120,p=60115,h=60116;if("function"==typeof Symbol&&Symbol.for){var m=Symbol.for;r=m("react.element"),i=m("react.portal"),o=m("react.fragment"),a=m("react.strict_mode"),s=m("react.profiler"),l=m("react.provider"),u=m("react.context"),c=m("react.forward_ref"),f=m("react.suspense"),d=m("react.suspense_list"),p=m("react.memo"),h=m("react.lazy"),m("react.block"),m("react.server.block"),m("react.fundamental"),m("react.debug_trace_mode"),m("react.legacy_hidden")}var v=c,g=p;t.ForwardRef=v,t.Memo=g,t.isContextConsumer=function(e){return function(e){if("object"===n(e)&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case f:case d:return e;default:switch(e=e&&e.$$typeof){case u:case c:case h:case p:case l:return e;default:return t}}case i:return t}}}(e)===u}},38428:(e,t,n)=>{"use strict";e.exports=n(12544)},23580:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Mosaic=t.MosaicWithoutDragDropContext=void 0;var s=a(n(76973)),l=(a(n(78621)),a(n(3115)),a(n(13423)),a(n(78281))),u=n(74145),c=a(n(40474)),f=a(n(52301)),d=n(27857),p=n(63444),h=n(17888),m=n(24229),v=n(73559),g=n(32805);function y(e){return null!=e.initialValue}n(58375);var b=function(e){function t(){var t,n=e.apply(this,arguments)||this;return n.state={currentNode:null,lastInitialValue:null,mosaicId:null!==(t=n.props.mosaicId)&&void 0!==t?t:d.v4()},n.updateRoot=function(e,t){void 0===t&&(t=!1);var r=n.getRoot()||{};n.replaceRoot(g.updateTree(r,e),t)},n.replaceRoot=function(e,t){void 0===t&&(t=!1),n.props.onChange(e),!t&&n.props.onRelease&&n.props.onRelease(e),y(n.props)&&n.setState({currentNode:e})},n.actions={updateTree:n.updateRoot,remove:function(e){0===e.length?n.replaceRoot(null):n.updateRoot([g.createRemoveUpdate(n.getRoot(),e)])},expand:function(e,t){return void 0===t&&(t=70),n.updateRoot([g.createExpandUpdate(e,t)])},getRoot:function(){return n.getRoot()},hide:function(e){return n.updateRoot([g.createHideUpdate(e)])},replaceWith:function(e,t){return n.updateRoot([{path:e,spec:{$set:t}}])}},n.childContext={mosaicActions:n.actions,mosaicId:n.state.mosaicId},n}return i(t,e),t.getDerivedStateFromProps=function(e,t){return e.mosaicId&&(t.mosaicId,e.mosaicId),y(e)&&e.initialValue!==t.lastInitialValue?{lastInitialValue:e.initialValue,currentNode:e.initialValue}:null},t.prototype.render=function(){var e=this.props.className;return l.default.createElement(p.MosaicContext.Provider,{value:this.childContext},l.default.createElement("div",{className:s.default(e,"mosaic mosaic-drop-target")},this.renderTree(),l.default.createElement(v.RootDropTargets,null)))},t.prototype.getRoot=function(){return y(this.props)?this.state.currentNode:this.props.value},t.prototype.renderTree=function(){var e=this.getRoot();if(this.validateTree(e),null==e)return this.props.zeroStateView;var t=this.props,n=t.renderTile,r=t.resize;return l.default.createElement(h.MosaicRoot,{root:e,renderTile:n,resize:r})},t.prototype.validateTree=function(e){},t.defaultProps={onChange:function(){},zeroStateView:l.default.createElement(m.MosaicZeroState,null),className:"mosaic-blueprint-theme"},t}(l.default.PureComponent);t.MosaicWithoutDragDropContext=b;var w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){return l.default.createElement(u.DndProvider,{backend:c.default,options:f.default},l.default.createElement(b,o({},this.props)))},t}(l.default.PureComponent);t.Mosaic=w},33060:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MosaicDropTarget=void 0;var a=o(n(76973)),s=o(n(78281)),l=n(74145),u=n(63444),c=n(63947),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.position,n=e.isOver,r=e.connectDropTarget,i=e.draggedMosaicId;return r(s.default.createElement("div",{className:a.default("drop-target",t,{"drop-target-hover":n&&i===this.context.mosaicId})}))},t.contextType=u.MosaicContext,t}(s.default.PureComponent);t.MosaicDropTarget=l.DropTarget(c.MosaicDragType.WINDOW,{drop:function(e,t,n){return n.context.mosaicId===(t.getItem()||{}).mosaicId?{path:e.path,position:e.position}:{}}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),draggedMosaicId:(t.getItem()||{}).mosaicId}}))(f)},17888:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MosaicRoot=void 0;var s=a(n(94881)),l=a(n(78281)),u=n(63444),c=n(97254),f=n(16542),d=n(58375),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onResize=function(e,n,r){t.context.mosaicActions.updateTree([{path:n,spec:{splitPercentage:{$set:e}}}],r)},t}return i(t,e),t.prototype.render=function(){var e=this.props.root;return l.default.createElement("div",{className:"mosaic-root"},this.renderRecursively(e,f.BoundingBox.empty(),[]))},t.prototype.renderRecursively=function(e,t,n){if(d.isParent(e)){var r=null==e.splitPercentage?50:e.splitPercentage,i=f.BoundingBox.split(t,r,e.direction),a=i.first,u=i.second;return s.default([this.renderRecursively(e.first,a,n.concat("first")),this.renderSplit(e.direction,t,r,n),this.renderRecursively(e.second,u,n.concat("second"))].filter(h))}return l.default.createElement("div",{key:e,className:"mosaic-tile",style:o({},f.BoundingBox.asStyles(t))},this.props.renderTile(e,n))},t.prototype.renderSplit=function(e,t,n,r){var i=this,a=this.props.resize;return"DISABLED"!==a?l.default.createElement(c.Split,o({key:r.join(",")+"splitter"},a,{boundingBox:t,splitPercentage:n,direction:e,onChange:function(e){return i.onResize(e,r,!0)},onRelease:function(e){return i.onResize(e,r,!1)}})):null},t.contextType=u.MosaicContext,t}(l.default.PureComponent);function h(e){return null!==e}t.MosaicRoot=p},39140:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MosaicWindow=t.SourceDropConnectedInternalMosaicWindow=t.SourceConnectedInternalMosaicWindow=t.InternalMosaicWindow=void 0;var s=a(n(76973)),l=a(n(53875)),u=a(n(34542)),c=a(n(47114)),f=a(n(15031)),d=a(n(37337)),p=a(n(78281)),h=n(74145),m=n(59008),v=n(77143),g=n(63444),y=n(78940),b=n(33060),w=n(63947),x=n(32805),S=n(58375),E=n(39232),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={additionalControlsOpen:!1},t.rootElement=null,t.renderDropTarget=function(e){var n=t.props.path;return p.default.createElement(b.MosaicDropTarget,{position:e,path:n,key:e})},t.split=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.checkCreateNode();var r=t.props,i=r.createNode,o=r.path,a=t.context.mosaicActions,s=a.getRoot(),l=t.rootElement.offsetWidth>t.rootElement.offsetHeight?"row":"column";return Promise.resolve(i.apply(void 0,e)).then((function(e){return a.replaceWith(o,{direction:l,second:e,first:S.getAndAssertNodeAtPathExists(s,o)})}))},t.swap=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.checkCreateNode();var r=t.context.mosaicActions,i=t.props,o=i.createNode,a=i.path;return Promise.resolve(o.apply(void 0,e)).then((function(e){return r.replaceWith(a,e)}))},t.setAdditionalControlsOpen=function(e){t.setState({additionalControlsOpen:e})},t.getPath=function(){return t.props.path},t.connectDragSource=function(e){return(0,t.props.connectDragSource)(e)},t.childContext={mosaicWindowActions:{split:t.split,replaceWithNew:t.swap,setAdditionalControlsOpen:t.setAdditionalControlsOpen,getPath:t.getPath,connectDragSource:t.connectDragSource}},t}return i(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.isOver,i=t.renderPreview,o=t.additionalControls,a=t.connectDropTarget,l=t.connectDragPreview,u=t.draggedMosaicId;return p.default.createElement(g.MosaicWindowContext.Provider,{value:this.childContext},a(p.default.createElement("div",{className:s.default("mosaic-window mosaic-drop-target",n,{"drop-target-hover":r&&u===this.context.mosaicId,"additional-controls-open":this.state.additionalControlsOpen}),ref:function(t){return e.rootElement=t}},this.renderToolbar(),p.default.createElement("div",{className:"mosaic-window-body"},this.props.children),p.default.createElement("div",{className:"mosaic-window-body-overlay",onClick:function(){return e.setAdditionalControlsOpen(!1)}}),p.default.createElement("div",{className:"mosaic-window-additional-actions-bar"},o),l(i(this.props)),p.default.createElement("div",{className:"drop-target-container"},d.default(y.MosaicDropTargetPosition).map(this.renderDropTarget)))))},t.prototype.getToolbarControls=function(){var e=this.props,t=e.toolbarControls,n=e.createNode;return t||(n?m.DEFAULT_CONTROLS_WITH_CREATION:m.DEFAULT_CONTROLS_WITHOUT_CREATION)},t.prototype.renderToolbar=function(){var e,t=this,n=this.props,r=n.title,i=n.draggable,o=n.additionalControls,a=n.additionalControlButtonText,l=n.path,u=n.renderToolbar,f=this.state.additionalControlsOpen,d=this.getToolbarControls(),h=i&&l.length>0,m=h?this.props.connectDragSource:function(e){return e};if(u){var g=m(u(this.props,i));return p.default.createElement("div",{className:s.default("mosaic-window-toolbar",{draggable:h})},g)}var y=m(p.default.createElement("div",{title:r,className:"mosaic-window-title"},r)),b=!c.default(o);return p.default.createElement("div",{className:s.default("mosaic-window-toolbar",{draggable:h})},y,p.default.createElement("div",{className:s.default("mosaic-window-controls",E.OptionalBlueprint.getClasses("BUTTON_GROUP"))},b&&p.default.createElement("button",{onClick:function(){return t.setAdditionalControlsOpen(!f)},className:s.default(E.OptionalBlueprint.getClasses("BUTTON","MINIMAL"),E.OptionalBlueprint.getIconClass("MORE"),(e={},e[E.OptionalBlueprint.getClasses("ACTIVE")]=f,e))},p.default.createElement("span",{className:"control-text"},a)),b&&p.default.createElement(v.Separator,null),d))},t.prototype.checkCreateNode=function(){if(null==this.props.createNode)throw new Error("Operation invalid unless `createNode` is defined")},t.defaultProps={additionalControlButtonText:"More",draggable:!0,renderPreview:function(e){var t=e.title;return p.default.createElement("div",{className:"mosaic-preview"},p.default.createElement("div",{className:"mosaic-window-toolbar"},p.default.createElement("div",{className:"mosaic-window-title"},t)),p.default.createElement("div",{className:"mosaic-window-body"},p.default.createElement("h4",null,t),p.default.createElement(E.OptionalBlueprint.Icon,{iconSize:72,icon:"application"})))},renderToolbar:null},t.contextType=g.MosaicContext,t}(p.default.Component);t.InternalMosaicWindow=_;var T={beginDrag:function(e,t,n){e.onDragStart&&e.onDragStart();var r=l.default((function(){return n.context.mosaicActions.hide(n.props.path)}));return{mosaicId:n.context.mosaicId,hideTimer:r}},endDrag:function(e,t,n){var r=t.getItem().hideTimer;window.clearTimeout(r);var i=n.props.path,o=t.getDropResult()||{},a=n.context.mosaicActions,s=o.position,l=o.path;null==s||null==l||f.default(l,i)?(a.updateTree([{path:u.default(i),spec:{splitPercentage:{$set:null}}}]),e.onDragEnd&&e.onDragEnd("reset")):(a.updateTree(x.createDragToUpdates(a.getRoot(),i,l,s)),e.onDragEnd&&e.onDragEnd("drop"))}};t.SourceConnectedInternalMosaicWindow=h.DragSource(w.MosaicDragType.WINDOW,T,(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview()}}))(_),t.SourceDropConnectedInternalMosaicWindow=h.DropTarget(w.MosaicDragType.WINDOW,{},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),draggedMosaicId:(t.getItem()||{}).mosaicId}}))(t.SourceConnectedInternalMosaicWindow);var O=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.render=function(){return p.default.createElement(t.SourceDropConnectedInternalMosaicWindow,o({},this.props))},n}(p.default.PureComponent);t.MosaicWindow=O},24229:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MosaicZeroState=void 0;var a=o(n(76973)),s=o(n(35439)),l=o(n(78281)),u=n(63444),c=n(39232),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.replace=function(){return Promise.resolve(t.props.createNode()).then((function(e){return t.context.mosaicActions.replaceWith([],e)})).catch(s.default)},t}return i(t,e),t.prototype.render=function(){return l.default.createElement("div",{className:a.default("mosaic-zero-state",c.OptionalBlueprint.getClasses("NON_IDEAL_STATE"))},l.default.createElement("div",{className:c.OptionalBlueprint.getClasses("NON_IDEAL_STATE_VISUAL")},l.default.createElement(c.OptionalBlueprint.Icon,{iconSize:120,icon:"applications"})),l.default.createElement("h4",{className:c.OptionalBlueprint.getClasses("HEADING")},"No Windows Present"),l.default.createElement("div",null,this.props.createNode&&l.default.createElement("button",{className:a.default(c.OptionalBlueprint.getClasses("BUTTON"),c.OptionalBlueprint.getIconClass("ADD")),onClick:this.replace},"Add New Window")))},t.contextType=u.MosaicContext,t}(l.default.PureComponent);t.MosaicZeroState=f},73559:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RootDropTargets=void 0;var a=o(n(76973)),s=o(n(37337)),l=o(n(78281)),u=n(74145),c=n(78940),f=n(33060),d=n(63947),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){return l.default.createElement("div",{className:a.default("drop-target-container",{"-dragging":this.props.isDragging})},s.default(c.MosaicDropTargetPosition).map((function(e){return l.default.createElement(f.MosaicDropTarget,{position:e,path:[],key:e})})))},t}(l.default.PureComponent);t.RootDropTargets=u.DropTarget(d.MosaicDragType.WINDOW,{},(function(e,t){return{isDragging:null!==t.getItem()&&t.getItemType()===d.MosaicDragType.WINDOW}}))(p)},97254:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Split=void 0;var s=a(n(76973)),l=a(n(15004)),u=a(n(8771)),c=a(n(78281)),f=n(16542),d={capture:!0,passive:!1},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElement=c.default.createRef(),t.listenersBound=!1,t.onMouseDown=function(e){(h(e)||0===e.button)&&(e.preventDefault(),t.bindListeners())},t.onMouseUp=function(e){t.unbindListeners();var n=t.calculateRelativePercentage(e);t.props.onRelease(n)},t.onMouseMove=function(e){e.preventDefault(),e.stopPropagation(),t.throttledUpdatePercentage(e)},t.throttledUpdatePercentage=u.default((function(e){var n=t.calculateRelativePercentage(e);n!==t.props.splitPercentage&&t.props.onChange(n)}),33.333333333333336),t}return i(t,e),t.prototype.render=function(){var e=this.props.direction;return c.default.createElement("div",{className:s.default("mosaic-split",{"-row":"row"===e,"-column":"column"===e}),ref:this.rootElement,onMouseDown:this.onMouseDown,style:this.computeStyle()},c.default.createElement("div",{className:"mosaic-split-line"}))},t.prototype.componentDidMount=function(){this.rootElement.current.addEventListener("touchstart",this.onMouseDown,d)},t.prototype.componentWillUnmount=function(){this.unbindListeners(),this.rootElement.current&&this.rootElement.current.ownerDocument.removeEventListener("touchstart",this.onMouseDown,d)},t.prototype.bindListeners=function(){this.listenersBound||(this.rootElement.current.ownerDocument.addEventListener("mousemove",this.onMouseMove,!0),this.rootElement.current.ownerDocument.addEventListener("touchmove",this.onMouseMove,d),this.rootElement.current.ownerDocument.addEventListener("mouseup",this.onMouseUp,!0),this.rootElement.current.ownerDocument.addEventListener("touchend",this.onMouseUp,!0),this.listenersBound=!0)},t.prototype.unbindListeners=function(){this.rootElement.current&&(this.rootElement.current.ownerDocument.removeEventListener("mousemove",this.onMouseMove,!0),this.rootElement.current.ownerDocument.removeEventListener("touchmove",this.onMouseMove,d),this.rootElement.current.ownerDocument.removeEventListener("mouseup",this.onMouseUp,!0),this.rootElement.current.ownerDocument.removeEventListener("touchend",this.onMouseUp,!0),this.listenersBound=!1)},t.prototype.computeStyle=function(){var e,t=this.props,n=t.boundingBox,r=t.direction,i=t.splitPercentage,a="column"===r?"top":"left",s=f.BoundingBox.getAbsoluteSplitPercentage(n,i,r);return o(o({},f.BoundingBox.asStyles(n)),((e={})[a]=s+"%",e))},t.prototype.calculateRelativePercentage=function(e){var t,n=this.props,r=n.minimumPaneSizePercentage,i=n.direction,o=n.boundingBox,a=this.rootElement.current.parentElement.getBoundingClientRect(),s=h(e)?e.changedTouches[0]:e;t="column"===i?(s.clientY-a.top)/a.height*100:(s.clientX-a.left)/a.width*100;var u=f.BoundingBox.getRelativeSplitPercentage(o,t,i);return l.default(u,r,100-r)},t.defaultProps={onChange:function(){},onRelease:function(){},minimumPaneSizePercentage:20},t}(c.default.PureComponent);function h(e){return null!=e.changedTouches}t.Split=p},62090:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExpandButton=void 0;var a=o(n(76973)),s=o(n(78281)),l=n(63444),u=n(39232),c=n(2194),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this;return s.default.createElement(l.MosaicContext.Consumer,null,(function(t){var n=t.mosaicActions;return c.createDefaultToolbarButton("Expand",a.default("expand-button",u.OptionalBlueprint.getIconClass("MAXIMIZE")),e.createExpand(n))}))},t.prototype.createExpand=function(e){var t=this;return function(){e.expand(t.context.mosaicWindowActions.getPath()),t.props.onClick&&t.props.onClick()}},t.contextType=l.MosaicWindowContext,t}(s.default.PureComponent);t.ExpandButton=f},2194:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createDefaultToolbarButton=void 0;var i=r(n(76973)),o=r(n(78281)),a=n(39232);t.createDefaultToolbarButton=function(e,t,n,r){return o.default.createElement("button",{title:e,onClick:n,className:i.default("mosaic-default-control",a.OptionalBlueprint.getClasses("BUTTON","MINIMAL"),t)},r&&o.default.createElement("span",{className:"control-text"},r))}},99382:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveButton=void 0;var a=o(n(76973)),s=o(n(78281)),l=n(63444),u=n(39232),c=n(2194),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this;return s.default.createElement(l.MosaicContext.Consumer,null,(function(t){var n=t.mosaicActions;return c.createDefaultToolbarButton("Close Window",a.default("close-button",u.OptionalBlueprint.getIconClass("CROSS")),e.createRemove(n))}))},t.prototype.createRemove=function(e){var t=this;return function(){e.remove(t.context.mosaicWindowActions.getPath()),t.props.onClick&&t.props.onClick()}},t.contextType=l.MosaicWindowContext,t}(s.default.PureComponent);t.RemoveButton=f},30708:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReplaceButton=void 0;var a=o(n(76973)),s=o(n(35439)),l=o(n(78281)),u=n(63444),c=n(39232),f=n(2194),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.replace=function(){t.context.mosaicWindowActions.replaceWithNew().then((function(){t.props.onClick&&t.props.onClick()})).catch(s.default)},t}return i(t,e),t.prototype.render=function(){return f.createDefaultToolbarButton("Replace Window",a.default("replace-button",c.OptionalBlueprint.getIconClass("EXCHANGE")),this.replace)},t.contextType=u.MosaicWindowContext,t}(l.default.PureComponent);t.ReplaceButton=d},77143:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Separator=void 0;var a=o(n(78281)),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){return a.default.createElement("div",{className:"separator"})},t}(a.default.PureComponent);t.Separator=s},20132:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SplitButton=void 0;var a=o(n(76973)),s=o(n(35439)),l=o(n(78281)),u=n(63444),c=n(39232),f=n(2194),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.split=function(){t.context.mosaicWindowActions.split().then((function(){t.props.onClick&&t.props.onClick()})).catch(s.default)},t}return i(t,e),t.prototype.render=function(){return f.createDefaultToolbarButton("Split Window",a.default("split-button",c.OptionalBlueprint.getIconClass("ADD_COLUMN_RIGHT")),this.split)},t.contextType=u.MosaicWindowContext,t}(l.default.PureComponent);t.SplitButton=d},59008:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CONTROLS_WITHOUT_CREATION=t.DEFAULT_CONTROLS_WITH_CREATION=void 0;var i=r(n(78281)),o=n(62090),a=n(99382),s=n(30708),l=n(20132);t.DEFAULT_CONTROLS_WITH_CREATION=i.default.Children.toArray([i.default.createElement(s.ReplaceButton,null),i.default.createElement(l.SplitButton,null),i.default.createElement(o.ExpandButton,null),i.default.createElement(a.RemoveButton,null)]),t.DEFAULT_CONTROLS_WITHOUT_CREATION=i.default.Children.toArray([i.default.createElement(o.ExpandButton,null),i.default.createElement(a.RemoveButton,null)])},63444:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MosaicWindowContext=t.MosaicContext=void 0;var i=r(n(78281));t.MosaicContext=i.default.createContext(void 0),t.MosaicWindowContext=i.default.createContext(void 0)},48566:(e,t,n)=>{"use strict";var r=n(23580);Object.defineProperty(t,"bQ",{enumerable:!0,get:function(){return r.MosaicWithoutDragDropContext}});n(63947),n(63444),n(32805);var i=n(58375);Object.defineProperty(t,"fj",{enumerable:!0,get:function(){return i.createBalancedTreeFromLeaves}}),Object.defineProperty(t,"Lg",{enumerable:!0,get:function(){return i.getLeaves}});var o=n(39140);Object.defineProperty(t,"XF",{enumerable:!0,get:function(){return o.MosaicWindow}});n(2194),n(24229),n(77143),n(62090),n(30708),n(20132),n(99382),n(59008)},78940:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MosaicDropTargetPosition=void 0,t.MosaicDropTargetPosition={TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right"}},63947:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MosaicDragType=void 0,t.MosaicDragType={WINDOW:"MosaicWindow"}},16542:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.BoundingBox=void 0;var i=n(23991);!function(e){function t(e,t,n){var r=e.top,o=e.right,a=e.bottom,s=e.left;return"column"===n?(100-r-a)*t/100+r:"row"===n?(100-o-s)*t/100+s:i.assertNever(n)}e.empty=function(){return{top:0,right:0,bottom:0,left:0}},e.split=function(e,n,o){var a=t(e,n,o);return"column"===o?{first:r(r({},e),{bottom:100-a}),second:r(r({},e),{top:a})}:"row"===o?{first:r(r({},e),{right:100-a}),second:r(r({},e),{left:a})}:i.assertNever(o)},e.getAbsoluteSplitPercentage=t,e.getRelativeSplitPercentage=function(e,t,n){var r=e.top,o=e.right,a=e.bottom,s=e.left;return"column"===n?(t-r)/(100-r-a)*100:"row"===n?(t-s)/(100-o-s)*100:i.assertNever(n)},e.asStyles=function(e){return{top:e.top+"%",right:e.right+"%",bottom:e.bottom+"%",left:e.left+"%"}}}(t.BoundingBox||(t.BoundingBox={}))},39232:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalBlueprint=void 0;var a=o(n(78281));!function(e){var t,r,i;try{Object(function(){var e=new Error("Cannot find module '@blueprintjs/core'");throw e.code="MODULE_NOT_FOUND",e}()),Object(function(){var e=new Error("Cannot find module '@blueprintjs/icons'");throw e.code="MODULE_NOT_FOUND",e}()),t=n(Object(function(){var e=new Error("Cannot find module '@blueprintjs/core'");throw e.code="MODULE_NOT_FOUND",e}())),r=t.Classes,e.Icon=t.Icon,i=Object(function(){var e=new Error("Cannot find module '@blueprintjs/icons'");throw e.code="MODULE_NOT_FOUND",e}())}catch(t){e.Icon=function(e){var t=e.icon;return a.createElement("span",null,t)}}e.getClasses=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r?e.map((function(e){return r[e]})).join(" "):""},e.getIconClass=function(e){return r&&i?r.iconClass(i[e]):""}}(t.OptionalBlueprint||(t.OptionalBlueprint={}))},23991:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNever=void 0,t.assertNever=function(e){throw new Error("Unhandled case: "+JSON.stringify(e))}},32805:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createExpandUpdate=t.createHideUpdate=t.createDragToUpdates=t.createRemoveUpdate=t.updateTree=t.buildSpecFromUpdate=void 0;var i=r(n(46731)),o=r(n(18358)),a=r(n(34542)),s=r(n(15031)),l=r(n(5751)),u=r(n(33919)),c=r(n(80528)),f=n(78940),d=n(58375);function p(e){return e.path.length>0?u.default({},e.path,e.spec):e.spec}function h(e,t){var n=e;return t.forEach((function(e){n=i.default(n,p(e))})),n}function m(e,t){var n=a.default(t),r=l.default(t),i=n.concat(d.getOtherBranch(r));return{path:n,spec:{$set:d.getAndAssertNodeAtPathExists(e,i)}}}function v(e,t,n){return s.default(c.default(e,n),c.default(t,n))}t.buildSpecFromUpdate=p,t.updateTree=h,t.createRemoveUpdate=m,t.createDragToUpdates=function(e,t,n,r){var i=d.getAndAssertNodeAtPathExists(e,n),a=[];v(t,n,n.length)?i=h(i,[m(i,o.default(t,n.length))]):(a.push(m(e,t)),v(t,n,t.length-1)&&n.splice(t.length-1,1));var s,l,u=d.getAndAssertNodeAtPathExists(e,t);r===f.MosaicDropTargetPosition.LEFT||r===f.MosaicDropTargetPosition.TOP?(s=u,l=i):(s=i,l=u);var c="column";return r!==f.MosaicDropTargetPosition.LEFT&&r!==f.MosaicDropTargetPosition.RIGHT||(c="row"),a.push({path:n,spec:{$set:{first:s,second:l,direction:c}}}),a},t.createHideUpdate=function(e){return{path:a.default(e),spec:{splitPercentage:{$set:"first"===l.default(e)?0:100}}}},t.createExpandUpdate=function(e,t){for(var n,r={},i=e.length-1;i>=0;i--){var o=e[i];(n={splitPercentage:{$set:"first"===o?t:100-t}})[o]=r,r=n}return{spec:r,path:[]}}},58375:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getAndAssertNodeAtPathExists=t.getNodeAtPath=t.getLeaves=t.getPathToCorner=t.getOtherDirection=t.getOtherBranch=t.createBalancedTreeFromLeaves=t.isParent=t.Corner=void 0;var i,o=r(n(25630)),a=r(n(41499));function s(e,t){if(void 0===t&&(t="row"),l(e)){var n=u(t);return{direction:t,first:s(e.first,n),second:s(e.second,n)}}return e}function l(e){return null!=e.direction}function u(e){return"row"===e?"column":"row"}function c(e,t){return t.length>0?a.default(e,t,null):e}!function(e){e[e.TOP_LEFT=1]="TOP_LEFT",e[e.TOP_RIGHT=2]="TOP_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT",e[e.BOTTOM_RIGHT=4]="BOTTOM_RIGHT"}(i=t.Corner||(t.Corner={})),t.isParent=l,t.createBalancedTreeFromLeaves=function(e,t){if(void 0===t&&(t="row"),0===e.length)return null;for(var n=o.default(e),r=[];n.length>1;){for(;n.length>0;)n.length>1?r.push({direction:"row",first:n.shift(),second:n.shift()}):r.unshift(n.shift());n=r,r=[]}return s(n[0],t)},t.getOtherBranch=function(e){if("first"===e)return"second";if("second"===e)return"first";throw new Error("Branch '"+e+"' not a valid branch")},t.getOtherDirection=u,t.getPathToCorner=function(e,t){for(var n=e,r=[];l(n);)("row"!==n.direction||t!==i.TOP_LEFT&&t!==i.BOTTOM_LEFT)&&("column"!==n.direction||t!==i.TOP_LEFT&&t!==i.TOP_RIGHT)?(r.push("second"),n=n.second):(r.push("first"),n=n.first);return r},t.getLeaves=function e(t){return null==t?[]:l(t)?e(t.first).concat(e(t.second)):[t]},t.getNodeAtPath=c,t.getAndAssertNodeAtPathExists=function(e,t){if(null==e)throw new Error("Root is empty, cannot fetch path");var n=c(e,t);if(null==n)throw new Error("Path ["+t.join(", ")+"] did not resolve to a node");return n}},27857:(e,t,n)=>{var r=n(22572),i=n(27543),o=i;o.v1=r,o.v4=i,e.exports=o},38320:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},12501:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},22572:(e,t,n)=>{var r,i,o=n(12501),a=n(38320),s=0,l=0;e.exports=function(e,t,n){var u=t&&n||0,c=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var p=o();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=i=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,v=h-s+(m-l)/1e4;if(v<0&&void 0===e.clockseq&&(d=d+1&16383),(v<0||h>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,l=m,i=d;var g=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;c[u++]=g>>>24&255,c[u++]=g>>>16&255,c[u++]=g>>>8&255,c[u++]=255&g;var y=h/4294967296*1e4&268435455;c[u++]=y>>>8&255,c[u++]=255&y,c[u++]=y>>>24&15|16,c[u++]=y>>>16&255,c[u++]=d>>>8|128,c[u++]=255&d;for(var b=0;b<6;++b)c[u+b]=f[b];return t||a(c)}},27543:(e,t,n)=>{var r=n(12501),i=n(38320);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},35914:(e,t,n)=>{"use strict";n.d(t,{Kq:()=>c,Ng:()=>q});var r=n(78281),i=(n(43979),r.createContext(null)),o=function(e){e()},a=function(){return o},s={notify:function(){},get:function(){return[]}};function l(e,t){var n,r=s;function i(){l.onStateChange&&l.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=a(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var l={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=s)},getListeners:function(){return r}};return l}var u="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;const c=function(e){var t=e.store,n=e.context,o=e.children,a=(0,r.useMemo)((function(){var e=l(t);return{store:t,subscription:e}}),[t]),s=(0,r.useMemo)((function(){return t.getState()}),[t]);u((function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,s]);var c=n||i;return r.createElement(c.Provider,{value:a},o)};var f=n(63063),d=n(5550),p=n(24129),h=n.n(p),m=n(38428),v=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],g=["reactReduxForwardedRef"],y=[],b=[null,null];function w(e,t){var n=e[1];return[t.payload,n+1]}function x(e,t,n){u((function(){return e.apply(void 0,t)}),n)}function S(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function E(e,t,n,r,i,o,a,s,l,u){if(e){var c=!1,f=null,d=function(){if(!c){var e,n,d=t.getState();try{e=r(d,i.current)}catch(e){n=e,f=e}n||(f=null),e===o.current?a.current||l():(o.current=e,s.current=e,a.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};return n.onStateChange=d,n.trySubscribe(),d(),function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var _=function(){return[null,0]};function T(e,t){void 0===t&&(t={});var n=t,o=n.getDisplayName,a=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,s=n.methodName,u=void 0===s?"connectAdvanced":s,c=n.renderCountProp,p=void 0===c?void 0:c,T=n.shouldHandleStateChanges,O=void 0===T||T,A=n.storeKey,C=void 0===A?"store":A,P=(n.withRef,n.forwardRef),k=void 0!==P&&P,R=n.context,I=void 0===R?i:R,M=(0,d.A)(n,v),D=I;return function(t){var n=t.displayName||t.name||"Component",i=a(n),o=(0,f.A)({},M,{getDisplayName:a,methodName:u,renderCountProp:p,shouldHandleStateChanges:O,storeKey:C,displayName:i,wrappedComponentName:n,WrappedComponent:t}),s=M.pure,c=s?r.useMemo:function(e){return e()};function v(n){var i=(0,r.useMemo)((function(){var e=n.reactReduxForwardedRef,t=(0,d.A)(n,g);return[n.context,e,t]}),[n]),a=i[0],s=i[1],u=i[2],p=(0,r.useMemo)((function(){return a&&a.Consumer&&(0,m.isContextConsumer)(r.createElement(a.Consumer,null))?a:D}),[a,D]),h=(0,r.useContext)(p),v=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(h)&&Boolean(h.store);var T=v?n.store:h.store,A=(0,r.useMemo)((function(){return function(t){return e(t.dispatch,o)}(T)}),[T]),C=(0,r.useMemo)((function(){if(!O)return b;var e=l(T,v?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[T,v,h]),P=C[0],k=C[1],R=(0,r.useMemo)((function(){return v?h:(0,f.A)({},h,{subscription:P})}),[v,h,P]),I=(0,r.useReducer)(w,y,_),M=I[0][0],j=I[1];if(M&&M.error)throw M.error;var L=(0,r.useRef)(),N=(0,r.useRef)(u),z=(0,r.useRef)(),B=(0,r.useRef)(!1),F=c((function(){return z.current&&u===N.current?z.current:A(T.getState(),u)}),[T,M,u]);x(S,[N,L,B,u,F,z,k]),x(E,[O,T,P,A,N,L,B,z,k,j],[T,P,A]);var W=(0,r.useMemo)((function(){return r.createElement(t,(0,f.A)({},F,{ref:s}))}),[s,t,F]);return(0,r.useMemo)((function(){return O?r.createElement(p.Provider,{value:R},W):W}),[p,W,R])}var T=s?r.memo(v):v;if(T.WrappedComponent=t,T.displayName=v.displayName=i,k){var A=r.forwardRef((function(e,t){return r.createElement(T,(0,f.A)({},e,{reactReduxForwardedRef:t}))}));return A.displayName=i,A.WrappedComponent=t,h()(A,t)}return h()(T,t)}}function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function A(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function C(e,t){if(A(e,t))return!0;if("object"!==O(e)||null===e||"object"!==O(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!A(e[n[i]],t[n[i]]))return!1;return!0}function P(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function k(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function R(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=k(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=k(i),i=r(t,n)),i},r}}function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}n(3324);const M=[function(e){return"function"==typeof e?R(e):void 0},function(e){return e?void 0:P((function(e){return{dispatch:e}}))},function(e){return e&&"object"===I(e)?P((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"==typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}],D=[function(e){return"function"==typeof e?R(e):void 0},function(e){return e?void 0:P((function(){return{}}))}];function j(e,t,n){return(0,f.A)({},n,e,t)}const L=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?i&&o(l,r)||(r=l):(a=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return j}}];var N=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function z(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function B(e,t,n,r,i){var o,a,s,l,u,c=i.areStatesEqual,f=i.areOwnPropsEqual,d=i.areStatePropsEqual,p=!1;return function(i,h){return p?function(i,p){var h,m,v=!f(p,a),g=!c(i,o,p,a);return o=i,a=p,v&&g?(s=e(o,a),t.dependsOnOwnProps&&(l=t(r,a)),u=n(s,l,a)):v?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(l=t(r,a)),u=n(s,l,a)):g?(h=e(o,a),m=!d(h,s),s=h,m&&(u=n(s,l,a)),u):u}(i,h):(s=e(o=i,a=h),l=t(r,a),u=n(s,l,a),p=!0,u)}}function F(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=(0,d.A)(t,N),a=n(e,o),s=r(e,o),l=i(e,o);return(o.pure?B:z)(a,s,l,e,o)}function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}var H=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function U(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+W(e)+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function V(e,t){return e===t}function G(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?T:n,i=t.mapStateToPropsFactories,o=void 0===i?D:i,a=t.mapDispatchToPropsFactories,s=void 0===a?M:a,l=t.mergePropsFactories,u=void 0===l?L:l,c=t.selectorFactory,p=void 0===c?F:c;return function(e,t,n,i){void 0===i&&(i={});var a=i,l=a.pure,c=void 0===l||l,h=a.areStatesEqual,m=void 0===h?V:h,v=a.areOwnPropsEqual,g=void 0===v?C:v,y=a.areStatePropsEqual,b=void 0===y?C:y,w=a.areMergedPropsEqual,x=void 0===w?C:w,S=(0,d.A)(a,H),E=U(e,o,"mapStateToProps"),_=U(t,s,"mapDispatchToProps"),T=U(n,u,"mergeProps");return r(p,(0,f.A)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:_,initMergeProps:T,pure:c,areStatesEqual:m,areOwnPropsEqual:g,areStatePropsEqual:b,areMergedPropsEqual:x},S))}}const q=G();var X;X=n(8568).unstable_batchedUpdates,o=X},63859:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.A=void 0;var i,o=(i=n(78281))&&i.__esModule?i:{default:i};function a(e){return a="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},a(e)}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?d(e):t}function f(e){return f=Object.getPrototypeOf||function(e){return e.__proto__},f(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={position:"absolute",left:0,top:0,right:0,bottom:0,overflow:"hidden",zIndex:-1,visibility:"hidden",pointerEvents:"none"},m={position:"absolute",left:0,top:0,transition:"0s"},v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return c(r,(n=r=c(this,(e=f(t)).call.apply(e,[this].concat(o))),p(d(d(r)),"_expandRef",null),p(d(d(r)),"_shrinkRef",null),p(d(d(r)),"_node",null),p(d(d(r)),"_lastWidth",void 0),p(d(d(r)),"_lastHeight",void 0),p(d(d(r)),"_lastRect",void 0),p(d(d(r)),"_hasResize",!1),p(d(d(r)),"_handleScroll",(function(e){(r.props.onPosition||r.props.onReflow||r.props.onResize)&&(r._globalScollTarget(e.target)||r._refScrollTarget(e.target)||r._ancestorScollTarget(e.target))&&r._reflow()})),p(d(d(r)),"_globalScollTarget",(function(e){return e instanceof Node&&(r.props.onPosition||r.props.onReflow)&&(e===document||e===document.documentElement||e===document.body)})),p(d(d(r)),"_refScrollTarget",(function(e){if(e instanceof HTMLElement&&(e===r._expandRef||e===r._shrinkRef)){var t=e.offsetWidth,n=e.offsetHeight;if(t!==r._lastWidth||n!==r._lastHeight)return r._lastWidth=t,r._lastHeight=n,r._reset(r._expandRef),r._reset(r._shrinkRef),!0}return!1})),p(d(d(r)),"_ancestorScollTarget",(function(e){return e instanceof Node&&(r.props.onPosition||r.props.onReflow)&&r._node&&function(e,t){for(var n=e.parentNode;n;){if(n===t)return!0;n=n.parentNode}return!1}(r._node,e)})),p(d(d(r)),"_reflow",(function(){if(r._node&&r._node.parentNode instanceof Element){var e=r._node.parentNode.getBoundingClientRect(),t=!0,n=!0;r._lastRect&&(t=e.width!==r._lastRect.width||e.height!==r._lastRect.height,n=e.top!==r._lastRect.top||e.left!==r._lastRect.left),r._lastRect=e,t&&r.props.onResize&&r.props.onResize(e),n&&r.props.onPosition&&r.props.onPosition(e),(t||n)&&r.props.onReflow&&r.props.onReflow(e)}})),p(d(d(r)),"_handleRef",(function(e){r._node=e})),p(d(d(r)),"_handleExpandRef",(function(e){r._reset(e),r._expandRef=e})),p(d(d(r)),"_handleShrinkRef",(function(e){r._reset(e),r._shrinkRef=e})),n))}var n,r;return n=t,(r=[{key:"componentDidMount",value:function(){this._reflow(),window.addEventListener("scroll",this._handleScroll,!0),(this.props.onPosition||this.props.onReflow)&&(window.addEventListener("resize",this._reflow,!0),this._hasResize=!0)}},{key:"componentDidUpdate",value:function(){!this.props.onPosition&&!this.props.onReflow||this._hasResize?this.props.onPosition||this.props.onReflow||!this._hasResize||(window.removeEventListener("resize",this._reflow,!0),this._hasResize=!1):(window.addEventListener("resize",this._reflow,!0),this._hasResize=!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this._handleScroll,!0),this._hasResize&&window.removeEventListener("resize",this._reflow,!0)}},{key:"_reset",value:function(e){e&&(e.scrollLeft=1e5,e.scrollTop=1e5)}},{key:"render",value:function(){return this.props.onResize||this.props.onReflow?o.default.createElement("div",{style:h,ref:this._handleRef},o.default.createElement("div",{ref:this._handleExpandRef,style:h},o.default.createElement("div",{style:s({},m,{width:1e5,height:1e5})})),o.default.createElement("div",{ref:this._handleShrinkRef,style:h},o.default.createElement("div",{style:s({},m,{width:"200%",height:"200%"})}))):o.default.createElement("noscript",{ref:this._handleRef})}}])&&u(n.prototype,r),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");l(e.prototype,t&&t.prototype),t&&l(e,t)}(t,e),t}(o.default.Component);p(v,"displayName","ResizeObserver");var g=v;t.A=g},98114:(e,t,n)=>{"use strict";n.d(t,{p:()=>R});var r=n(78281),i=n(43111),o=n.n(i),a=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)},l={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}},u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseDown=function(e){t.props.onResizeStart(e,t.props.direction)},t.onTouchStart=function(e){t.props.onResizeStart(e,t.props.direction)},t}return a(t,e),t.prototype.render=function(){return r.createElement("div",{className:this.props.className||"",style:s(s({position:"absolute",userSelect:"none"},l[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},t}(r.PureComponent),c=n(38572),f=n.n(c),d=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p.apply(this,arguments)},h={width:"auto",height:"auto"},m=f()((function(e,t,n){return Math.max(Math.min(e,n),t)})),v=f()((function(e,t){return Math.round(e/t)*t})),g=f()((function(e,t){return new RegExp(e,"i").test(t)})),y=function(e){return Boolean(e.touches&&e.touches.length)},b=f()((function(e,t,n){void 0===n&&(n=0);var r=t.reduce((function(n,r,i){return Math.abs(r-e)<Math.abs(t[n]-e)?i:n}),0),i=Math.abs(t[r]-e);return 0===n||i<n?t[r]:e})),w=f()((function(e,t){return e.substr(e.length-t.length,t.length)===t})),x=f()((function(e){return"auto"===(e=e.toString())||w(e,"px")||w(e,"%")||w(e,"vh")||w(e,"vw")||w(e,"vmax")||w(e,"vmin")?e:e+"px"})),S=function(e,t,n,r){if(e&&"string"==typeof e){if(w(e,"px"))return Number(e.replace("px",""));if(w(e,"%"))return t*(Number(e.replace("%",""))/100);if(w(e,"vw"))return n*(Number(e.replace("vw",""))/100);if(w(e,"vh"))return r*(Number(e.replace("vh",""))/100)}return e},E=f()((function(e,t,n,r,i,o,a){return r=S(r,e.width,t,n),i=S(i,e.height,t,n),o=S(o,e.width,t,n),a=S(a,e.height,t,n),{maxWidth:void 0===r?void 0:Number(r),maxHeight:void 0===i?void 0:Number(i),minWidth:void 0===o?void 0:Number(o),minHeight:void 0===a?void 0:Number(a)}})),_=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],T="__resizable_base__",O=function(e){function t(t){var n=e.call(this,t)||this;return n.ratio=1,n.resizable=null,n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableRight=0,n.resizableTop=0,n.resizableBottom=0,n.targetLeft=0,n.targetTop=0,n.appendBase=function(){if(!n.resizable||!n.window)return null;var e=n.parentNode;if(!e)return null;var t=n.window.document.createElement("div");return t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0 0 100%",t.classList?t.classList.add(T):t.className+=T,e.appendChild(t),t},n.removeBase=function(e){var t=n.parentNode;t&&t.removeChild(e)},n.ref=function(e){e&&(n.resizable=e)},n.state={isResizing:!1,width:void 0===(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:void 0===(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n}return d(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||h},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,i=this.resizable.style.position;"relative"!==i&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=i}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&w(e.propsSize[t].toString(),"%")){if(w(e.state[t].toString(),"%"))return e.state[t].toString();var n=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/n[t]*100+"%"}return x(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?x(t.width):n("width"),height:t&&void 0!==t.height&&!this.state.isResizing?x(t.height):n("height")}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,n=this.parentNode.style.flexWrap;"wrap"!==n&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%",e.style.minHeight="100%";var r={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=n),this.removeBase(e),r},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(this.resizable&&this.window){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==e.flexBasis?e.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==n&&"auto"!==n?e:"auto"},t.prototype.calculateNewMaxFromBoundary=function(e,t){var n,r,i=this.props.boundsByDirection,o=this.state.direction,a=i&&g("left",o),s=i&&g("top",o);if("parent"===this.props.bounds){var l=this.parentNode;l&&(n=a?this.resizableRight-this.parentLeft:l.offsetWidth+(this.parentLeft-this.resizableLeft),r=s?this.resizableBottom-this.parentTop:l.offsetHeight+(this.parentTop-this.resizableTop))}else"window"===this.props.bounds?this.window&&(n=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,r=s?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(n=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),r=s?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return n&&Number.isFinite(n)&&(e=e&&e<n?e:n),r&&Number.isFinite(r)&&(t=t&&t<r?t:r),{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n=this.props.scale||1,r=this.props.resizeRatio||1,i=this.state,o=i.direction,a=i.original,s=this.props,l=s.lockAspectRatio,u=s.lockAspectRatioExtraHeight,c=s.lockAspectRatioExtraWidth,f=a.width,d=a.height,p=u||0,h=c||0;return g("right",o)&&(f=a.width+(e-a.x)*r/n,l&&(d=(f-h)/this.ratio+p)),g("left",o)&&(f=a.width-(e-a.x)*r/n,l&&(d=(f-h)/this.ratio+p)),g("bottom",o)&&(d=a.height+(t-a.y)*r/n,l&&(f=(d-p)*this.ratio+h)),g("top",o)&&(d=a.height-(t-a.y)*r/n,l&&(f=(d-p)*this.ratio+h)),{newWidth:f,newHeight:d}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,r){var i=this.props,o=i.lockAspectRatio,a=i.lockAspectRatioExtraHeight,s=i.lockAspectRatioExtraWidth,l=void 0===r.width?10:r.width,u=void 0===n.width||n.width<0?e:n.width,c=void 0===r.height?10:r.height,f=void 0===n.height||n.height<0?t:n.height,d=a||0,p=s||0;if(o){var h=(c-d)*this.ratio+p,v=(f-d)*this.ratio+p,g=(l-p)/this.ratio+d,y=(u-p)/this.ratio+d,b=Math.max(l,h),w=Math.min(u,v),x=Math.max(c,g),S=Math.min(f,y);e=m(e,b,w),t=m(t,x,S)}else e=m(e,l,u),t=m(t,c,f);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds&&"string"!=typeof this.props.bounds){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var r=this.resizable.getBoundingClientRect(),i=r.left,o=r.top,a=r.right,s=r.bottom;this.resizableLeft=i,this.resizableRight=a,this.resizableTop=o,this.resizableBottom=s}},t.prototype.onResizeStart=function(e,t){if(this.resizable&&this.window){var n,r=0,i=0;if(e.nativeEvent&&function(e){return Boolean((e.clientX||0===e.clientX)&&(e.clientY||0===e.clientY))}(e.nativeEvent)?(r=e.nativeEvent.clientX,i=e.nativeEvent.clientY):e.nativeEvent&&y(e.nativeEvent)&&(r=e.nativeEvent.touches[0].clientX,i=e.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable&&!1===this.props.onResizeStart(e,t,this.resizable))return;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var o=this.window.getComputedStyle(this.resizable);if("auto"!==o.flexBasis){var a=this.parentNode;if(a){var s=this.window.getComputedStyle(a).flexDirection;this.flexDir=s.startsWith("row")?"row":"column",n=o.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var l={original:{x:r,y:i,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:p(p({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:n};this.setState(l)}},t.prototype.onMouseMove=function(e){if(this.state.isResizing&&this.resizable&&this.window){if(this.window.TouchEvent&&y(e))try{e.preventDefault(),e.stopPropagation()}catch(e){}var t=this.props,n=t.maxWidth,r=t.maxHeight,i=t.minWidth,o=t.minHeight,a=y(e)?e.touches[0].clientX:e.clientX,s=y(e)?e.touches[0].clientY:e.clientY,l=this.state,u=l.direction,c=l.original,f=l.width,d=l.height,p=this.getParentSize(),h=E(p,this.window.innerWidth,this.window.innerHeight,n,r,i,o);n=h.maxWidth,r=h.maxHeight,i=h.minWidth,o=h.minHeight;var m=this.calculateNewSizeFromDirection(a,s),g=m.newHeight,x=m.newWidth,S=this.calculateNewMaxFromBoundary(n,r);this.props.snap&&this.props.snap.x&&(x=b(x,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(g=b(g,this.props.snap.y,this.props.snapGap));var _=this.calculateNewSizeFromAspectRatio(x,g,{width:S.maxWidth,height:S.maxHeight},{width:i,height:o});if(x=_.newWidth,g=_.newHeight,this.props.grid){var T=v(x,this.props.grid[0]),O=v(g,this.props.grid[1]),A=this.props.snapGap||0;x=0===A||Math.abs(T-x)<=A?T:x,g=0===A||Math.abs(O-g)<=A?O:g}var C={width:x-c.width,height:g-c.height};f&&"string"==typeof f&&(w(f,"%")?x=x/p.width*100+"%":w(f,"vw")?x=x/this.window.innerWidth*100+"vw":w(f,"vh")&&(x=x/this.window.innerHeight*100+"vh")),d&&"string"==typeof d&&(w(d,"%")?g=g/p.height*100+"%":w(d,"vw")?g=g/this.window.innerWidth*100+"vw":w(d,"vh")&&(g=g/this.window.innerHeight*100+"vh"));var P={width:this.createSizeForCssProperty(x,"width"),height:this.createSizeForCssProperty(g,"height")};"row"===this.flexDir?P.flexBasis=P.width:"column"===this.flexDir&&(P.flexBasis=P.height),this.setState(P),this.props.onResize&&this.props.onResize(e,u,this.resizable,C)}},t.prototype.onMouseUp=function(e){var t=this.state,n=t.isResizing,r=t.direction,i=t.original;if(n&&this.resizable){var o={width:this.size.width-i.width,height:this.size.height-i.height};this.props.onResizeStop&&this.props.onResizeStop(e,r,this.resizable,o),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:p(p({},this.state.backgroundStyle),{cursor:"auto"})})}},t.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},t.prototype.renderResizer=function(){var e=this,t=this.props,n=t.enable,i=t.handleStyles,o=t.handleClasses,a=t.handleWrapperStyle,s=t.handleWrapperClass,l=t.handleComponent;if(!n)return null;var c=Object.keys(n).map((function(t){return!1!==n[t]?r.createElement(u,{key:t,direction:t,onResizeStart:e.onResizeStart,replaceStyles:i&&i[t],className:o&&o[t]},l&&l[t]?l[t]:null):null}));return r.createElement("div",{className:s,style:a},c)},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce((function(t,n){return-1!==_.indexOf(n)||(t[n]=e.props[n]),t}),{}),n=p(p(p({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(n.flexBasis=this.state.flexBasis);var i=this.props.as||"div";return r.createElement(i,p({ref:this.ref,style:n,className:this.props.className},t),this.state.isResizing&&r.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(r.PureComponent),A=function(e,t){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},A(e,t)},C=function(){return C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},C.apply(this,arguments)},P=o(),k={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},R=function(e){function t(t){var n=e.call(this,t)||this;return n.resizingPosition={x:0,y:0},n.offsetFromParent={left:0,top:0},n.resizableElement={current:null},n.originalPosition={x:0,y:0},n.refDraggable=function(e){e&&(n.draggable=e)},n.refResizable=function(e){e&&(n.resizable=e,n.resizableElement.current=e.resizable)},n.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},n.onResizeStart=n.onResizeStart.bind(n),n.onResize=n.onResize.bind(n),n.onResizeStop=n.onResizeStop.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDrag=n.onDrag.bind(n),n.onDragStop=n.onDragStop.bind(n),n.getMaxSizesFromProps=n.getMaxSizesFromProps.bind(n),n}return function(e,t){function n(){this.constructor=e}A(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){this.updateOffsetFromParent();var e=this.offsetFromParent,t=e.left,n=e.top,r=this.getDraggablePosition(),i=r.x,o=r.y;this.draggable.setState({x:i-t,y:o-n}),this.forceUpdate()},t.prototype.getDraggablePosition=function(){var e=this.draggable.state;return{x:e.x,y:e.y}},t.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},t.prototype.getParentSize=function(){return this.resizable.getParentSize()},t.prototype.getMaxSizesFromProps=function(){return{maxWidth:void 0===this.props.maxWidth?Number.MAX_SAFE_INTEGER:this.props.maxWidth,maxHeight:void 0===this.props.maxHeight?Number.MAX_SAFE_INTEGER:this.props.maxHeight}},t.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},t.prototype.getOffsetHeight=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/t;case"body":return document.body.offsetHeight/t;default:return e.offsetHeight}},t.prototype.getOffsetWidth=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/t;case"body":return document.body.offsetWidth/t;default:return e.offsetWidth}},t.prototype.onDragStart=function(e,t){this.props.onDragStart&&this.props.onDragStart(e,t);var n=this.getDraggablePosition();if(this.originalPosition=n,this.props.bounds){var r,i=this.getParent(),o=this.props.scale;if("parent"===this.props.bounds)r=i;else{if("body"===this.props.bounds){var a=i.getBoundingClientRect(),s=a.left,l=a.top,u=document.body.getBoundingClientRect(),c=-(s-i.offsetLeft*o-u.left)/o,f=-(l-i.offsetTop*o-u.top)/o,d=(document.body.offsetWidth-this.resizable.size.width*o)/o+c,p=(document.body.offsetHeight-this.resizable.size.height*o)/o+f;return this.setState({bounds:{top:f,right:d,bottom:p,left:c}})}if("window"===this.props.bounds){if(!this.resizable)return;var h=i.getBoundingClientRect(),m=h.left,v=h.top,g=-(m-i.offsetLeft*o)/o,y=-(v-i.offsetTop*o)/o;return d=(window.innerWidth-this.resizable.size.width*o)/o+g,p=(window.innerHeight-this.resizable.size.height*o)/o+y,this.setState({bounds:{top:y,right:d,bottom:p,left:g}})}"string"==typeof this.props.bounds?r=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(r=this.props.bounds)}if(r instanceof HTMLElement&&i instanceof HTMLElement){var b=r.getBoundingClientRect(),w=b.left,x=b.top,S=i.getBoundingClientRect(),E=(w-S.left)/o,_=x-S.top;if(this.resizable){this.updateOffsetFromParent();var T=this.offsetFromParent;this.setState({bounds:{top:_-T.top,right:E+(r.offsetWidth-this.resizable.size.width)-T.left/o,bottom:_+(r.offsetHeight-this.resizable.size.height)-T.top,left:E-T.left/o}})}}}},t.prototype.onDrag=function(e,t){if(this.props.onDrag){var n=this.offsetFromParent,r=n.left,i=n.top;return this.props.dragAxis&&"both"!==this.props.dragAxis?"x"===this.props.dragAxis?this.props.onDrag(e,C(C({},t),{x:t.x+r,y:this.originalPosition.y+i,deltaY:0})):"y"===this.props.dragAxis?this.props.onDrag(e,C(C({},t),{x:this.originalPosition.x+r,y:t.y+i,deltaX:0})):void 0:this.props.onDrag(e,C(C({},t),{x:t.x-r,y:t.y-i}))}},t.prototype.onDragStop=function(e,t){if(this.props.onDragStop){var n=this.offsetFromParent,r=n.left,i=n.top;return this.props.dragAxis&&"both"!==this.props.dragAxis?"x"===this.props.dragAxis?this.props.onDragStop(e,C(C({},t),{x:t.x+r,y:this.originalPosition.y+i,deltaY:0})):"y"===this.props.dragAxis?this.props.onDragStop(e,C(C({},t),{x:this.originalPosition.x+r,y:t.y+i,deltaX:0})):void 0:this.props.onDragStop(e,C(C({},t),{x:t.x+r,y:t.y+i}))}},t.prototype.onResizeStart=function(e,t,n){e.stopPropagation(),this.setState({resizing:!0});var r=this.props.scale,i=this.offsetFromParent,o=this.getDraggablePosition();if(this.resizingPosition={x:o.x+i.left,y:o.y+i.top},this.originalPosition=o,this.props.bounds){var a=this.getParent(),s=void 0;"parent"===this.props.bounds?s=a:"body"===this.props.bounds?s=document.body:"window"===this.props.bounds?s=window:"string"==typeof this.props.bounds?s=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(s=this.props.bounds);var l=this.getSelfElement();if(l instanceof Element&&(s instanceof HTMLElement||s===window)&&a instanceof HTMLElement){var u=this.getMaxSizesFromProps(),c=u.maxWidth,f=u.maxHeight,d=this.getParentSize();if(c&&"string"==typeof c)if(c.endsWith("%")){var p=Number(c.replace("%",""))/100;c=d.width*p}else c.endsWith("px")&&(c=Number(c.replace("px","")));f&&"string"==typeof f&&(f.endsWith("%")?(p=Number(f.replace("%",""))/100,f=d.width*p):f.endsWith("px")&&(f=Number(f.replace("px",""))));var h=l.getBoundingClientRect(),m=h.left,v=h.top,g="window"===this.props.bounds?{left:0,top:0}:s.getBoundingClientRect(),y=g.left,b=g.top,w=this.getOffsetWidth(s),x=this.getOffsetHeight(s),S=t.toLowerCase().endsWith("left"),E=t.toLowerCase().endsWith("right"),_=t.startsWith("top"),T=t.startsWith("bottom");if((S||_)&&this.resizable){var O=(m-y)/r+this.resizable.size.width;this.setState({maxWidth:O>Number(c)?c:O})}(E||this.props.lockAspectRatio&&!S&&!_)&&(O=w+(y-m)/r,this.setState({maxWidth:O>Number(c)?c:O})),(_||S)&&this.resizable&&(O=(v-b)/r+this.resizable.size.height,this.setState({maxHeight:O>Number(f)?f:O})),(T||this.props.lockAspectRatio&&!_&&!S)&&(O=x+(b-v)/r,this.setState({maxHeight:O>Number(f)?f:O}))}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(e,t,n)},t.prototype.onResize=function(e,t,n,r){var i={x:this.originalPosition.x,y:this.originalPosition.y},o=-r.width,a=-r.height;-1!==["top","left","topLeft","bottomLeft","topRight"].indexOf(t)&&("bottomLeft"===t?i.x+=o:("topRight"===t||(i.x+=o),i.y+=a)),i.x===this.draggable.state.x&&i.y===this.draggable.state.y||this.draggable.setState(i),this.updateOffsetFromParent();var s=this.offsetFromParent,l=this.getDraggablePosition().x+s.left,u=this.getDraggablePosition().y+s.top;this.resizingPosition={x:l,y:u},this.props.onResize&&this.props.onResize(e,t,n,r,{x:l,y:u})},t.prototype.onResizeStop=function(e,t,n,r){this.setState({resizing:!1});var i=this.getMaxSizesFromProps(),o=i.maxWidth,a=i.maxHeight;this.setState({maxWidth:o,maxHeight:a}),this.props.onResizeStop&&this.props.onResizeStop(e,t,n,r,this.resizingPosition)},t.prototype.updateSize=function(e){this.resizable&&this.resizable.updateSize({width:e.width,height:e.height})},t.prototype.updatePosition=function(e){this.draggable.setState(e)},t.prototype.updateOffsetFromParent=function(){var e=this.props.scale,t=this.getParent(),n=this.getSelfElement();if(!t||null===n)return{top:0,left:0};var r=t.getBoundingClientRect(),i=r.left,o=r.top,a=n.getBoundingClientRect(),s=this.getDraggablePosition(),l=t.scrollLeft,u=t.scrollTop;this.offsetFromParent={left:a.left-i+l-s.x*e,top:a.top-o+u-s.y*e}},t.prototype.render=function(){var e=this.props,t=e.disableDragging,n=e.style,i=e.dragHandleClassName,o=e.position,a=e.onMouseDown,s=e.onMouseUp,l=e.dragAxis,u=e.dragGrid,c=e.bounds,f=e.enableUserSelectHack,d=e.cancel,p=e.children,h=(e.onResizeStart,e.onResize,e.onResizeStop,e.onDragStart,e.onDrag,e.onDragStop,e.resizeHandleStyles),m=e.resizeHandleClasses,v=e.resizeHandleComponent,g=e.enableResizing,y=e.resizeGrid,b=e.resizeHandleWrapperClass,w=e.resizeHandleWrapperStyle,x=e.scale,S=e.allowAnyClick,E=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick"]),_=this.props.default?C({},this.props.default):void 0;delete E.default;var T,A=t||i?{cursor:"auto"}:{cursor:"move"},R=C(C(C({},k),A),n),I=this.offsetFromParent,M=I.left,D=I.top;o&&(T={x:o.x-M,y:o.y-D});var j,L=this.state.resizing?void 0:T,N=this.state.resizing?"both":l;return(0,r.createElement)(P,{ref:this.refDraggable,handle:i?".".concat(i):void 0,defaultPosition:_,onMouseDown:a,onMouseUp:s,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:N,disabled:t,grid:u,bounds:c?this.state.bounds:void 0,position:L,enableUserSelectHack:f,cancel:d,scale:x,allowAnyClick:S,nodeRef:this.resizableElement},(0,r.createElement)(O,C({},E,{ref:this.refResizable,defaultSize:_,size:this.props.size,enable:"boolean"==typeof g?(j=g,{bottom:j,bottomLeft:j,bottomRight:j,left:j,right:j,top:j,topLeft:j,topRight:j}):g,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:R,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:y,handleWrapperClass:b,handleWrapperStyle:w,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:h,handleClasses:m,handleComponent:v,scale:this.props.scale}),p))},t.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},t}(r.PureComponent)},72855:(e,t,n)=>{"use strict";var r=n(3324);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e){return e&&"object"===i(e)&&"default"in e?e.default:e}var a=n(78281),s=o(a),l=o(n(8568)),u=o(n(64030)),c=n(72222),f=o(n(72823)),d=o(n(7954));function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function E(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?_(e):t}var O={},A={monitorWidth:!0,monitorHeight:!1,monitorPosition:!1,refreshRate:16,refreshMode:"throttle",noPlaceholder:!1,resizeDetectorStrategy:"scroll"};function C(e){return e.displayName||e.name||"Component"}var P=function(e){function t(){return p(this,t),T(this,x(t).apply(this,arguments))}return w(t,e),m(t,[{key:"render",value:function(){return a.Children.only(this.props.children)}}]),t}(a.Component);function k(e){var t=e.className,n=e.style,r={};return t||n?(t&&(r.className=t),n&&(r.style=n)):r.style={width:"100%",height:"100%"},s.createElement("div",r)}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=e.monitorWidth,n=void 0===t?A.monitorWidth:t,i=e.monitorHeight,o=void 0===i?A.monitorHeight:i,a=e.monitorPosition,d=void 0===a?A.monitorPosition:a,h=e.refreshRate,y=void 0===h?A.refreshRate:h,S=e.refreshMode,I=void 0===S?A.refreshMode:S,M=e.noPlaceholder,D=void 0===M?A.noPlaceholder:M,j=e.resizeDetectorStrategy,L=void 0===j?A.resizeDetectorStrategy:j;u(n||o||d,'You have to monitor at least one of the width, height, or position when using "sizeMe"'),u(y>=16,"It is highly recommended that you don't put your refreshRate lower than 16 as this may cause layout thrashing."),u("throttle"===I||"debounce"===I,'The refreshMode should have a value of "throttle" or "debounce"');var N="throttle"===I?c.throttle:c.debounce;return function(e){var t=function(e){function t(t){var n=t.explicitRef,r=t.className,i=t.style,o=t.size,a=t.disablePlaceholder,l=(t.onSize,E(t,["explicitRef","className","style","size","disablePlaceholder","onSize"])),u=(null==o||null==o.width&&null==o.height&&null==o.position)&&!a,c={className:r,style:i};null!=o&&(c.size=o);var f=u?s.createElement(k,{className:r,style:i}):s.createElement(e,g({},c,l));return s.createElement(P,{ref:n},f)}return t.displayName="SizeMeRenderer(".concat(C(e),")"),t}(e),i=function(e){function i(){var e,t;p(this,i);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return v(_(t=T(this,(e=x(i)).call.apply(e,[this].concat(s)))),"domEl",null),v(_(t),"state",{width:void 0,height:void 0,position:void 0}),v(_(t),"uninstall",(function(){if(t.domEl){try{t.detector.uninstall(t.domEl)}catch(e){r.warn("react-sizeme: an error occurred whilst stopping to listen to node size changes")}t.domEl=null}})),v(_(t),"determineStrategy",(function(e){e.onSize?(t.callbackState||(t.callbackState=b({},t.state)),t.strategy="callback"):t.strategy="render"})),v(_(t),"strategisedSetState",(function(e){"callback"===t.strategy&&(t.callbackState=e,t.props.onSize(e)),t.setState(e)})),v(_(t),"strategisedGetState",(function(){return"callback"===t.strategy?t.callbackState:t.state})),v(_(t),"refCallback",(function(e){t.element=e})),v(_(t),"hasSizeChanged",(function(e,t){var r=e,i=t,a=r.position||{},s=i.position||{};return n&&r.width!==i.width||o&&r.height!==i.height||d&&(a.top!==s.top||a.left!==s.left||a.bottom!==s.bottom||a.right!==s.right)})),v(_(t),"checkIfSizeChanged",N(y,(function(e){var r=e.getBoundingClientRect(),i=r.width,a=r.height,s=r.right,l=r.left,u=r.top,c=r.bottom,f={width:n?i:null,height:o?a:null,position:d?{right:s,left:l,top:u,bottom:c}:null};t.hasSizeChanged(t.strategisedGetState(),f)&&t.strategisedSetState(f)}))),t}return w(i,e),m(i,[{key:"componentDidMount",value:function(){this.detector=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"scroll";return O[e]||(O[e]=f({strategy:e})),O[e]}(L),this.determineStrategy(this.props),this.handleDOMNode()}},{key:"componentDidUpdate",value:function(){this.determineStrategy(this.props),this.handleDOMNode()}},{key:"componentWillUnmount",value:function(){this.hasSizeChanged=function(){},this.checkIfSizeChanged=function(){},this.uninstall()}},{key:"handleDOMNode",value:function(){var e=this.element&&l.findDOMNode(this.element);e?this.domEl?(this.domEl.isSameNode&&!this.domEl.isSameNode(e)||this.domEl!==e)&&(this.uninstall(),this.domEl=e,this.detector.listenTo(this.domEl,this.checkIfSizeChanged)):(this.domEl=e,this.detector.listenTo(this.domEl,this.checkIfSizeChanged)):this.uninstall()}},{key:"render",value:function(){var e=R.enableSSRBehaviour||R.noPlaceholders||D||"callback"===this.strategy,n=b({},this.state);return s.createElement(t,g({explicitRef:this.refCallback,size:"callback"===this.strategy?null:n,disablePlaceholder:e},this.props))}}]),i}(s.Component);return v(i,"displayName","SizeMe(".concat(C(e),")")),i.WrappedComponent=e,i}}v(P,"displayName","SizeMeReferenceWrapper"),k.displayName="SizeMePlaceholder",R.enableSSRBehaviour=!1,R.noPlaceholders=!1;var I=function(e){function t(e){var n;p(this,t),v(_(n=T(this,x(t).call(this,e))),"createComponent",(function(e){n.SizeAware=R(e)((function(e){return e.children}))})),v(_(n),"onSize",(function(e){return n.setState({size:e})})),e.children,e.render;var r=E(e,["children","render"]);return n.createComponent(r),n.state={size:{width:void 0,height:void 0}},n}return w(t,e),m(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=(t.children,t.render,E(t,["children","render"])),r=(e.children,e.render,E(e,["children","render"]));d(n,r)||this.createComponent(n)}},{key:"render",value:function(){var e=this.SizeAware,t=this.props.children||this.props.render;return s.createElement(e,{onSize:this.onSize},t({size:this.state.size}))}}]),t}(a.Component);v(I,"defaultProps",{children:void 0,render:void 0}),R.SizeMe=I,R.withSize=R,e.exports=R},21460:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>m});var r=n(5550),i=n(25588),o=(n(43979),n(78281)),a=n(8568);var s=n(65612),l="unmounted",u="exited",c="entering",f="entered",d="exiting",p=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=u,r.appearStatus=c):i=f:i=t.unmountOnExit||t.mountOnEnter?l:u,r.state={status:i},r.nextCallback=null,r}(0,i.A)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:u}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==c&&n!==f&&(t=c):n!==c&&n!==f||(t=d)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===c){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:l})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[a.findDOMNode(this),r],o=i[0],s=i[1],l=this.getTimeouts(),u=r?l.appear:l.enter;e||n?(this.props.onEnter(o,s),this.safeSetState({status:c},(function(){t.props.onEntering(o,s),t.onTransitionEnd(u,(function(){t.safeSetState({status:f},(function(){t.props.onEntered(o,s)}))}))}))):this.safeSetState({status:f},(function(){t.props.onEntered(o)}))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:a.findDOMNode(this);t?(this.props.onExit(r),this.safeSetState({status:d},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:u},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:u},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.createElement(s.A.Provider,{value:null},"function"==typeof n?n(e,i):o.cloneElement(o.Children.only(n),i))},t}(o.Component);function h(){}p.contextType=s.A,p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:h,onEntering:h,onEntered:h,onExit:h,onExiting:h,onExited:h},p.UNMOUNTED=l,p.EXITED=u,p.ENTERING=c,p.ENTERED=f,p.EXITING=d;const m=p},65612:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(78281).createContext(null)},61808:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=n(63865),o="function"==typeof Symbol&&Symbol.for,a=o?Symbol.for("react.element"):60103,s=o?Symbol.for("react.portal"):60106,l=o?Symbol.for("react.fragment"):60107,u=o?Symbol.for("react.strict_mode"):60108,c=o?Symbol.for("react.profiler"):60114,f=o?Symbol.for("react.provider"):60109,d=o?Symbol.for("react.context"):60110,p=o?Symbol.for("react.forward_ref"):60112,h=o?Symbol.for("react.suspense"):60113,m=o?Symbol.for("react.memo"):60115,v=o?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function x(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}function S(){}function E(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==r(e)&&"function"!=typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},S.prototype=x.prototype;var _=E.prototype=new S;_.constructor=E,i(_,x.prototype),_.isPureReactComponent=!0;var T={current:null},O=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)O.call(t,r)&&!A.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:T.current}}function P(e){return"object"===r(e)&&null!==e&&e.$$typeof===a}var k=/\/+/g,R=[];function I(e,t,n,r){if(R.length){var i=R.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>R.length&&R.push(e)}function D(e,t,n,i){var o=r(e);"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case a:case s:l=!0}}if(l)return n(i,e,""===t?"."+L(e,0):t),1;if(l=0,t=""===t?".":t+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=t+L(o=e[u],u);l+=D(o,c,n,i)}else if("function"==typeof(c=null===e||"object"!==r(e)?null:"function"==typeof(c=g&&e[g]||e["@@iterator"])?c:null))for(e=c.call(e),u=0;!(o=e.next()).done;)l+=D(o=o.value,c=t+L(o,u++),n,i);else if("object"===o)throw n=""+e,Error(y(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return l}function j(e,t,n){return null==e?0:D(e,"",t,n)}function L(e,t){return"object"===r(e)&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function N(e,t){e.func.call(e.context,t,e.count++)}function z(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,r,n,(function(e){return e})):null!=e&&(P(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(k,"$&/")+"/")+n)),r.push(e))}function B(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(k,"$&/")+"/"),j(e,z,t=I(t,o,r,i)),M(t)}var F={current:null};function W(){var e=F.current;if(null===e)throw Error(y(321));return e}var H={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return B(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;j(e,N,t=I(null,null,t,n)),M(t)},count:function(e){return j(e,(function(){return null}),null)},toArray:function(e){var t=[];return B(e,t,null,(function(e){return e})),t},only:function(e){if(!P(e))throw Error(y(143));return e}},t.Component=x,t.Fragment=l,t.Profiler=c,t.PureComponent=E,t.StrictMode=u,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,t.cloneElement=function(e,t,n){if(null==e)throw Error(y(267,e));var r=i({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=T.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)O.call(t,c)&&!A.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:a,type:e.type,key:o,ref:s,props:r,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:f,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:p,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return W().useCallback(e,t)},t.useContext=function(e,t){return W().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return W().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return W().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return W().useLayoutEffect(e,t)},t.useMemo=function(e,t){return W().useMemo(e,t)},t.useReducer=function(e,t,n){return W().useReducer(e,t,n)},t.useRef=function(e){return W().useRef(e)},t.useState=function(e){return W().useState(e)},t.version="16.14.0"},78281:(e,t,n)=>{"use strict";e.exports=n(61808)},54793:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=n(69592).Zz;t.tY="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===r(arguments[0])?i:i.apply(null,arguments)},"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__},69592:(e,t,n)=>{"use strict";n.d(t,{Tw:()=>v,zH:()=>h,HY:()=>d,Zz:()=>m,y$:()=>f});var r=n(2362);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}n(3324);var l="function"==typeof Symbol&&Symbol.observable||"@@observable",u=function(){return Math.random().toString(36).substring(7).split("").join(".")},c={INIT:"@@redux/INIT"+u(),REPLACE:"@@redux/REPLACE"+u(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+u()}};function f(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(s(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(s(1));return n(f)(e,t)}if("function"!=typeof e)throw new Error(s(2));var i=e,o=t,u=[],d=u,p=!1;function h(){d===u&&(d=u.slice())}function m(){if(p)throw new Error(s(3));return o}function v(e){if("function"!=typeof e)throw new Error(s(4));if(p)throw new Error(s(5));var t=!0;return h(),d.push(e),function(){if(t){if(p)throw new Error(s(6));t=!1,h();var n=d.indexOf(e);d.splice(n,1),u=null}}}function g(e){if(!function(e){if("object"!==a(e)||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(s(7));if(void 0===e.type)throw new Error(s(8));if(p)throw new Error(s(9));try{p=!0,o=i(o,e)}finally{p=!1}for(var t=u=d,n=0;n<t.length;n++)(0,t[n])();return e}return g({type:c.INIT}),(r={dispatch:g,subscribe:v,getState:m,replaceReducer:function(e){if("function"!=typeof e)throw new Error(s(10));i=e,g({type:c.REPLACE})}})[l]=function(){var e,t=v;return(e={subscribe:function(e){if("object"!==a(e)||null===e)throw new Error(s(11));function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[l]=function(){return this},e},r}function d(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:c.INIT}))throw new Error(s(12));if(void 0===n(void 0,{type:c.PROBE_UNKNOWN_ACTION()}))throw new Error(s(13))}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},l=0;l<a.length;l++){var u=a[l],c=n[u],f=e[u],d=c(f,t);if(void 0===d)throw t&&t.type,new Error(s(14));i[u]=d,r=r||d!==f}return(r=r||a.length!==Object.keys(e).length)?i:e}}function p(e,t){return function(){return t(e.apply(this,arguments))}}function h(e,t){if("function"==typeof e)return p(e,t);if("object"!==a(e)||null===e)throw new Error(s(16));var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=p(i,t))}return n}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(s(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=m.apply(void 0,a)(n.dispatch),o(o({},n),{},{dispatch:r})}}}},1401:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.r(t),n.d(t,{createSelector:()=>u,createSelectorCreator:()=>l,createStructuredSelector:()=>c,defaultEqualityCheck:()=>o,defaultMemoize:()=>a});var i="NOT_FOUND",o=function(e,t){return e===t};function a(e,t){var n,a,s="object"===r(t)?t:{equalityCheck:t},l=s.equalityCheck,u=void 0===l?o:l,c=s.maxSize,f=void 0===c?1:c,d=s.resultEqualityCheck,p=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(u),h=1===f?(n=p,{get:function(e){return a&&n(a.key,e)?a.value:i},put:function(e,t){a={key:e,value:t}},getEntries:function(){return a?[a]:[]},clear:function(){a=void 0}}):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var o=n[r];return r>0&&(n.splice(r,1),n.unshift(o)),o.value}return i}return{get:r,put:function(t,o){r(t)===i&&(n.unshift({key:t,value:o}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(f,p);function m(){var t=h.get(arguments);if(t===i){if(t=e.apply(null,arguments),d){var n=h.getEntries().find((function(e){return d(e.value,t)}));n&&(t=n.value)}h.put(arguments,t)}return t}return m.clearCache=function(){return h.clear()},m}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o,a=0,l={memoizeOptions:void 0},u=r.pop();if("object"===s(u)&&(l=u,u=r.pop()),"function"!=typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+s(u)+"]");var c=l.memoizeOptions,f=void 0===c?n:c,d=Array.isArray(f)?f:[f],p=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":s(e)})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}(r),h=e.apply(void 0,[function(){return a++,u.apply(null,arguments)}].concat(d)),m=e((function(){for(var e=[],t=p.length,n=0;n<t;n++)e.push(p[n].apply(null,arguments));return o=h.apply(null,e)}));return Object.assign(m,{resultFunc:u,memoizedResultFunc:h,dependencies:p,lastResult:function(){return o},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),m}}var u=l(a),c=function(e,t){if(void 0===t&&(t=u),"object"!==s(e))throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+s(e));var n=Object.keys(e),r=t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}));return r}},84024:(e,t)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e[r]=n,e}),{})}function i(e){return"boolean"==typeof e}function o(e){return"function"==typeof e}function a(e){return"number"==typeof e}function s(e){return null==e}function l(e){return e&&"object"===n(e)}function u(e){return"string"==typeof e}function c(e,t){return-1!==e.indexOf(t)}function f(e){return 0===parseFloat(e)?e:"-"===e[0]?e.slice(1):"-"+e}function d(e,t,n,r){return t+f(n)+r}function p(e){var t=e.indexOf(".");if(-1===t)e=100-parseFloat(e)+"%";else{var n=e.length-t-2;e=(e=100-parseFloat(e)).toFixed(n)+"%"}return e}function h(e){return e.replace(/ +/g," ").split(" ").map((function(e){return e.trim()})).filter(Boolean).reduce((function(e,t){var n=e.list,r=e.state,i=(t.match(/\(/g)||[]).length,o=(t.match(/\)/g)||[]).length;return r.parensDepth>0?n[n.length-1]=n[n.length-1]+" "+t:n.push(t),r.parensDepth+=i-o,{list:n,state:r}}),{list:[],state:{parensDepth:0}}).list}function m(e){var t=h(e);if(t.length<=3||t.length>4)return e;var n=t[0],r=t[1],i=t[2];return[n,t[3],i,r].join(" ")}function v(e){return!i(e)&&!s(e)}function g(e){for(var t=[],n=0,r=0,i=!1;r<e.length;)i||","!==e[r]?"("===e[r]?(i=!0,r++):")"===e[r]?(i=!1,r++):r++:(t.push(e.substring(n,r).trim()),n=++r);return n!=r&&t.push(e.substring(n,r+1)),t}var y={padding:function(e){var t=e.value;return a(t)?t:m(t)},textShadow:function(e){return g(e.value).map((function(e){return e.replace(/(^|\s)(-*)([.|\d]+)/,(function(e,t,n,r){return"0"===r?e:t+(""===n?"-":"")+r}))})).join(",")},borderColor:function(e){return m(e.value)},borderRadius:function(e){var t=e.value;if(a(t))return t;if(c(t,"/")){var n=t.split("/"),r=n[0],i=n[1];return y.borderRadius({value:r.trim()})+" / "+y.borderRadius({value:i.trim()})}var o=h(t);switch(o.length){case 2:return o.reverse().join(" ");case 4:var s=o[0],l=o[1],u=o[2];return[l,s,o[3],u].join(" ");default:return t}},background:function(e){var t=e.value,n=e.valuesToConvert,r=e.isRtl,i=e.bgImgDirectionRegex,o=e.bgPosDirectionRegex;if(a(t))return t;var s=t.replace(/(url\(.*?\))|(rgba?\(.*?\))|(hsl\(.*?\))|(#[a-fA-F0-9]+)|((^| )(\D)+( |$))/g,"").trim();return t=t.replace(s,y.backgroundPosition({value:s,valuesToConvert:n,isRtl:r,bgPosDirectionRegex:o})),y.backgroundImage({value:t,valuesToConvert:n,bgImgDirectionRegex:i})},backgroundImage:function(e){var t=e.value,n=e.valuesToConvert,r=e.bgImgDirectionRegex;return c(t,"url(")||c(t,"linear-gradient(")?t.replace(r,(function(e,t,r){return e.replace(r,n[r])})):t},backgroundPosition:function(e){var t=e.value,n=e.valuesToConvert,r=e.isRtl,i=e.bgPosDirectionRegex;return t.replace(r?/^((-|\d|\.)+%)/:null,(function(e,t){return p(t)})).replace(i,(function(e){return n[e]}))},backgroundPositionX:function(e){var t=e.value,n=e.valuesToConvert,r=e.isRtl,i=e.bgPosDirectionRegex;return a(t)?t:y.backgroundPosition({value:t,valuesToConvert:n,isRtl:r,bgPosDirectionRegex:i})},transition:function(e){var t=e.value,n=e.propertiesToConvert;return t.split(/,\s*/g).map((function(e){var t=e.split(" ");return t[0]=n[t[0]]||t[0],t.join(" ")})).join(", ")},transitionProperty:function(e){var t=e.value,n=e.propertiesToConvert;return t.split(/,\s*/g).map((function(e){return n[e]||e})).join(", ")},transform:function(e){var t=e.value,n="[^\\u0020-\\u007e]",r="(?:(?:(?:\\[0-9a-f]{1,6})(?:\\r\\n|\\s)?)|\\\\[^\\r\\n\\f0-9a-f])",i="((?:-?(?:[0-9]*\\.[0-9]+|[0-9]+)(?:\\s*(?:em|ex|px|cm|mm|in|pt|pc|deg|rad|grad|ms|s|hz|khz|%)|-?(?:[_a-z]|"+n+"|"+r+")(?:[_a-z0-9-]|"+n+"|"+r+")*)?)|(?:inherit|auto))",o=new RegExp("(translateX\\s*\\(\\s*)"+i+"(\\s*\\))","gi"),a=new RegExp("(translate\\s*\\(\\s*)"+i+"((?:\\s*,\\s*"+i+"){0,1}\\s*\\))","gi"),s=new RegExp("(translate3d\\s*\\(\\s*)"+i+"((?:\\s*,\\s*"+i+"){0,2}\\s*\\))","gi"),l=new RegExp("(rotate[ZY]?\\s*\\(\\s*)"+i+"(\\s*\\))","gi");return t.replace(o,d).replace(a,d).replace(s,d).replace(l,d)}};y.objectPosition=y.backgroundPosition,y.margin=y.padding,y.borderWidth=y.padding,y.boxShadow=y.textShadow,y.webkitBoxShadow=y.boxShadow,y.mozBoxShadow=y.boxShadow,y.WebkitBoxShadow=y.boxShadow,y.MozBoxShadow=y.boxShadow,y.borderStyle=y.borderColor,y.webkitTransform=y.transform,y.mozTransform=y.transform,y.WebkitTransform=y.transform,y.MozTransform=y.transform,y.transformOrigin=y.backgroundPosition,y.webkitTransformOrigin=y.transformOrigin,y.mozTransformOrigin=y.transformOrigin,y.WebkitTransformOrigin=y.transformOrigin,y.MozTransformOrigin=y.transformOrigin,y.webkitTransition=y.transition,y.mozTransition=y.transition,y.WebkitTransition=y.transition,y.MozTransition=y.transition,y.webkitTransitionProperty=y.transitionProperty,y.mozTransitionProperty=y.transitionProperty,y.WebkitTransitionProperty=y.transitionProperty,y.MozTransitionProperty=y.transitionProperty,y["text-shadow"]=y.textShadow,y["border-color"]=y.borderColor,y["border-radius"]=y.borderRadius,y["background-image"]=y.backgroundImage,y["background-position"]=y.backgroundPosition,y["background-position-x"]=y.backgroundPositionX,y["object-position"]=y.objectPosition,y["border-width"]=y.padding,y["box-shadow"]=y.textShadow,y["-webkit-box-shadow"]=y.textShadow,y["-moz-box-shadow"]=y.textShadow,y["border-style"]=y.borderColor,y["-webkit-transform"]=y.transform,y["-moz-transform"]=y.transform,y["transform-origin"]=y.transformOrigin,y["-webkit-transform-origin"]=y.transformOrigin,y["-moz-transform-origin"]=y.transformOrigin,y["-webkit-transition"]=y.transition,y["-moz-transition"]=y.transition,y["transition-property"]=y.transitionProperty,y["-webkit-transition-property"]=y.transitionProperty,y["-moz-transition-property"]=y.transitionProperty;var b=r([["paddingLeft","paddingRight"],["marginLeft","marginRight"],["left","right"],["borderLeft","borderRight"],["borderLeftColor","borderRightColor"],["borderLeftStyle","borderRightStyle"],["borderLeftWidth","borderRightWidth"],["borderTopLeftRadius","borderTopRightRadius"],["borderBottomLeftRadius","borderBottomRightRadius"],["padding-left","padding-right"],["margin-left","margin-right"],["border-left","border-right"],["border-left-color","border-right-color"],["border-left-style","border-right-style"],["border-left-width","border-right-width"],["border-top-left-radius","border-top-right-radius"],["border-bottom-left-radius","border-bottom-right-radius"]]),w=["content"],x=r([["ltr","rtl"],["left","right"],["w-resize","e-resize"],["sw-resize","se-resize"],["nw-resize","ne-resize"]]),S=new RegExp("(^|\\W|_)((ltr)|(rtl)|(left)|(right))(\\W|_|$)","g"),E=new RegExp("(left)|(right)");function _(e){return Object.keys(e).reduce((function(t,n){var r=e[n];if(u(r)&&(r=r.trim()),c(w,n))return t[n]=r,t;var i=T(n,r),o=i.key,a=i.value;return t[o]=a,t}),Array.isArray(e)?[]:{})}function T(e,t){var n=/\/\*\s?@noflip\s?\*\//.test(t),r=n?e:O(e);return{key:r,value:n?t:A(r,t)}}function O(e){return b[e]||e}function A(e,t){if(!v(t))return t;if(l(t))return _(t);var n,r=a(t),i=o(t),s=r||i?t:t.replace(/ !important.*?$/,""),u=!r&&s.length!==t.length,c=y[e];return n=c?c({value:s,valuesToConvert:x,propertiesToConvert:b,isRtl:!0,bgImgDirectionRegex:S,bgPosDirectionRegex:E}):x[s]||s,u?n+" !important":n}t.arrayToObject=r,t.calculateNewBackgroundPosition=p,t.canConvertValue=v,t.convert=_,t.convertProperty=T,t.flipSign=f,t.flipTransformSign=d,t.getPropertyDoppelganger=O,t.getValueDoppelganger=A,t.getValuesAsList=h,t.handleQuartetValues=m,t.includes=c,t.isBoolean=i,t.isFunction=o,t.isNullOrUndefined=s,t.isNumber=a,t.isObject=l,t.isString=u,t.propertiesToConvert=b,t.propertyValueConverters=y,t.propsToIgnore=w,t.splitShadow=g,t.valuesToConvert=x},15822:(e,t,n)=>{"use strict";var r=n(84024);e.exports=r.convert},85160:(e,t,n)=>{"use strict";var r,i,o,a,s,l=n(3324);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,f=null,d=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(t){throw setTimeout(e,0),t}},p=Date.now();t.unstable_now=function(){return Date.now()-p},r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(d,0))},i=function(e,t){f=setTimeout(e,t)},o=function(){clearTimeout(f)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,m=window.Date,v=window.setTimeout,g=window.clearTimeout;if(void 0!==l){var y=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&l.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof y&&l.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===u(h)&&"function"==typeof h.now)t.unstable_now=function(){return h.now()};else{var b=m.now();t.unstable_now=function(){return m.now()-b}}var w=!1,x=null,S=-1,E=5,_=0;a=function(){return t.unstable_now()>=_},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?l.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):E=0<e?Math.floor(1e3/e):5};var T=new MessageChannel,O=T.port2;T.port1.onmessage=function(){if(null!==x){var e=t.unstable_now();_=e+E;try{x(!0,e)?O.postMessage(null):(w=!1,x=null)}catch(e){throw O.postMessage(null),e}}else w=!1},r=function(e){x=e,w||(w=!0,O.postMessage(null))},i=function(e,n){S=v((function(){e(t.unstable_now())}),n)},o=function(){g(S),S=-1}}function A(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function C(e){return void 0===(e=e[0])?null:e}function P(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>k(a,n))void 0!==l&&0>k(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>k(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var R=[],I=[],M=1,D=null,j=3,L=!1,N=!1,z=!1;function B(e){for(var t=C(I);null!==t;){if(null===t.callback)P(I);else{if(!(t.startTime<=e))break;P(I),t.sortIndex=t.expirationTime,A(R,t)}t=C(I)}}function F(e){if(z=!1,B(e),!N)if(null!==C(R))N=!0,r(W);else{var t=C(I);null!==t&&i(F,t.startTime-e)}}function W(e,n){N=!1,z&&(z=!1,o()),L=!0;var r=j;try{for(B(n),D=C(R);null!==D&&(!(D.expirationTime>n)||e&&!a());){var s=D.callback;if(null!==s){D.callback=null,j=D.priorityLevel;var l=s(D.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?D.callback=l:D===C(R)&&P(R),B(n)}else P(R);D=C(R)}if(null!==D)var u=!0;else{var c=C(I);null!==c&&i(F,c.startTime-n),u=!1}return u}finally{D=null,j=r,L=!1}}function H(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||L||(N=!0,r(W))},t.unstable_getCurrentPriorityLevel=function(){return j},t.unstable_getFirstCallbackNode=function(){return C(R)},t.unstable_next=function(e){switch(j){case 1:case 2:case 3:var t=3;break;default:t=j}var n=j;j=t;try{return e()}finally{j=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=j;j=e;try{return t()}finally{j=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===u(a)&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:H(e)}else a=H(e),l=s;return e={id:M++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,A(I,e),null===C(R)&&e===C(I)&&(z?o():z=!0,i(F,l-s))):(e.sortIndex=a,A(R,e),N||L||(N=!0,r(W))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();B(e);var n=C(R);return n!==D&&null!==D&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<D.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=j;return function(){var n=j;j=t;try{return e.apply(this,arguments)}finally{j=n}}}},79551:(e,t,n)=>{"use strict";e.exports=n(85160)},93900:(e,t,n)=>{"use strict";var r=n(86400),i=n(56750),o=n(73191)(),a=n(91464),s=n(82268),l=r("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new s("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||l(t)!==t)throw new s("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,u=!0;if("length"in e&&a){var c=a(e,"length");c&&!c.configurable&&(r=!1),c&&!c.writable&&(u=!1)}return(r||u||!n)&&(o?i(e,"length",t,!0,!0):i(e,"length",t)),e}},7954:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function(e,n,r,i){var o=r?r.call(i,e,n):void 0;if(void 0!==o)return!!o;if(e===n)return!0;if("object"!==t(e)||!e||"object"!==t(n)||!n)return!1;var a=Object.keys(e),s=Object.keys(n);if(a.length!==s.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),u=0;u<a.length;u++){var c=a[u];if(!l(c))return!1;var f=e[c],d=n[c];if(!1===(o=r?r.call(i,f,d,c):void 0)||void 0===o&&f!==d)return!1}return!0}},75415:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=n(86400),o=n(29466),a=n(4356),s=i("%TypeError%"),l=i("%WeakMap%",!0),u=i("%Map%",!0),c=o("WeakMap.prototype.get",!0),f=o("WeakMap.prototype.set",!0),d=o("WeakMap.prototype.has",!0),p=o("Map.prototype.get",!0),h=o("Map.prototype.set",!0),m=o("Map.prototype.has",!0),v=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,i={assert:function(e){if(!i.has(e))throw new s("Side channel does not contain "+a(e))},get:function(i){if(l&&i&&("object"===r(i)||"function"==typeof i)){if(e)return c(e,i)}else if(u){if(t)return p(t,i)}else if(n)return function(e,t){var n=v(e,t);return n&&n.value}(n,i)},has:function(i){if(l&&i&&("object"===r(i)||"function"==typeof i)){if(e)return d(e,i)}else if(u){if(t)return m(t,i)}else if(n)return function(e,t){return!!v(e,t)}(n,i);return!1},set:function(i,o){l&&i&&("object"===r(i)||"function"==typeof i)?(e||(e=new l),f(e,i,o)):u?(t||(t=new u),h(t,i,o)):(n||(n={key:{},next:null}),function(e,t,n){var r=v(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,i,o))}};return i}},72222:function(e,t){var n,r,i,o;function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}o=function(e){"use strict";function t(e,t,n,r){var i,o=!1,a=0;function s(){i&&clearTimeout(i)}function l(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var f=this,d=Date.now()-a;function p(){a=Date.now(),n.apply(f,u)}o||(r&&!i&&p(),s(),void 0===r&&d>e?p():!0!==t&&(i=setTimeout(r?function(){i=void 0}:p,void 0===r?e-d:e)))}return"boolean"!=typeof t&&(r=n,n=t,t=void 0),l.cancel=function(){s(),o=!0},l}e.debounce=function(e,n,r){return void 0===r?t(e,n,!1):t(e,r,!1!==n)},e.throttle=t,Object.defineProperty(e,"__esModule",{value:!0})},"object"===a(t)?o(t):(r=[t],void 0===(i="function"==typeof(n=o)?n.apply(t,r):n)||(e.exports=i))},62273:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},81499:(e,t,n)=>{"use strict";function r(e,t){return t=t||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],a=[],s={},l=function e(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:e,headers:{keys:function(){return o},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var u in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),a.push([t,n]),s[t]=s[t]?s[t]+","+n:n})),n(l())},i.onerror=r,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(u,t.headers[u]);i.send(t.body||null)}))}n.r(t),n.d(t,{default:()=>r})},33617:function(e,t,n){var r;function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}e=n.nmd(e),function(o){var a="object"==i(t)&&t&&!t.nodeType&&t,s="object"==i(e)&&e&&!e.nodeType&&e,l="object"==(void 0===n.g?"undefined":i(n.g))&&n.g;l.global!==l&&l.window!==l&&l.self!==l||(o=l);var u,c,f=2147483647,d=36,p=26,h=38,m=700,v=/^xn--/,g=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=d-1,x=Math.floor,S=String.fromCharCode;function E(e){throw new RangeError(b[e])}function _(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function T(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+_((e=e.replace(y,".")).split("."),t).join(".")}function O(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function A(e){return _(e,(function(e){var t="";return e>65535&&(t+=S((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+S(e)})).join("")}function C(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function P(e,t,n){var r=0;for(e=n?x(e/m):e>>1,e+=x(e/t);e>w*p>>1;r+=d)e=x(e/w);return x(r+(w+1)*e/(e+h))}function k(e){var t,n,r,i,o,a,s,l,u,c,h,m=[],v=e.length,g=0,y=128,b=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&E("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<v;){for(o=g,a=1,s=d;i>=v&&E("invalid-input"),((l=(h=e.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:d)>=d||l>x((f-g)/a))&&E("overflow"),g+=l*a,!(l<(u=s<=b?1:s>=b+p?p:s-b));s+=d)a>x(f/(c=d-u))&&E("overflow"),a*=c;b=P(g-o,t=m.length+1,0==o),x(g/t)>f-y&&E("overflow"),y+=x(g/t),g%=t,m.splice(g++,0,y)}return A(m)}function R(e){var t,n,r,i,o,a,s,l,u,c,h,m,v,g,y,b=[];for(m=(e=O(e)).length,t=128,n=0,o=72,a=0;a<m;++a)(h=e[a])<128&&b.push(S(h));for(r=i=b.length,i&&b.push("-");r<m;){for(s=f,a=0;a<m;++a)(h=e[a])>=t&&h<s&&(s=h);for(s-t>x((f-n)/(v=r+1))&&E("overflow"),n+=(s-t)*v,t=s,a=0;a<m;++a)if((h=e[a])<t&&++n>f&&E("overflow"),h==t){for(l=n,u=d;!(l<(c=u<=o?1:u>=o+p?p:u-o));u+=d)y=l-c,g=d-c,b.push(S(C(c+y%g,0))),l=x(y/g);b.push(S(C(l,0))),o=P(n,v,r==i),n=0,++r}++n,++t}return b.join("")}if(u={version:"1.4.1",ucs2:{decode:O,encode:A},decode:k,encode:R,toASCII:function(e){return T(e,(function(e){return g.test(e)?"xn--"+R(e):e}))},toUnicode:function(e){return T(e,(function(e){return v.test(e)?k(e.slice(4).toLowerCase()):e}))}},"object"==i(n.amdO)&&n.amdO)void 0===(r=function(){return u}.call(t,n,t,e))||(e.exports=r);else if(a&&s)if(e.exports==a)s.exports=u;else for(c in u)u.hasOwnProperty(c)&&(a[c]=u[c]);else o.punycode=u}(this)},23842:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=n(33617);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(u),f=["%","/","?",";","#"].concat(c),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(9186);o.prototype.parse=function(e,t,n){if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+r(e));var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var b=e=u.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var w=l.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=a.exec(b);if(x){var S=(x=x[0]).toLowerCase();this.protocol=S,b=b.substr(x.length)}if(n||x||b.match(/^\/\/[^@/]+@[^@/]+/)){var E="//"===b.substr(0,2);!E||x&&v[x]||(b=b.substr(2),this.slashes=!0)}if(!v[x]&&(E||x&&!g[x])){for(var _,T,O=-1,A=0;A<d.length;A++)-1!==(C=b.indexOf(d[A]))&&(-1===O||C<O)&&(O=C);for(-1!==(T=-1===O?b.lastIndexOf("@"):b.lastIndexOf("@",O))&&(_=b.slice(0,T),b=b.slice(T+1),this.auth=decodeURIComponent(_)),O=-1,A=0;A<f.length;A++){var C;-1!==(C=b.indexOf(f[A]))&&(-1===O||C<O)&&(O=C)}-1===O&&(O=b.length),this.host=b.slice(0,O),b=b.slice(O),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var k=this.hostname.split(/\./),R=(A=0,k.length);A<R;A++){var I=k[A];if(I&&!I.match(p)){for(var M="",D=0,j=I.length;D<j;D++)I.charCodeAt(D)>127?M+="x":M+=I[D];if(!M.match(p)){var L=k.slice(0,A),N=k.slice(A+1),z=I.match(h);z&&(L.push(z[1]),N.unshift(z[2])),N.length&&(b="/"+N.join(".")+b),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=i.toASCII(this.hostname));var B=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+B,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[S])for(A=0,R=c.length;A<R;A++){var W=c[A];if(-1!==b.indexOf(W)){var H=encodeURIComponent(W);H===W&&(H=escape(W)),b=b.split(W).join(H)}}var U=b.indexOf("#");-1!==U&&(this.hash=b.substr(U),b=b.slice(0,U));var V=b.indexOf("?");if(-1!==V?(this.search=b.substr(V),this.query=b.substr(V+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,V)):t&&(this.search="",this.query={}),b&&(this.pathname=b),g[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var G=this.search||"";this.path=B+G}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&"object"===r(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+i},o.prototype.resolve=function(e){return this.resolveObject(function(e,t,n){if(e&&"object"===r(e)&&e instanceof o)return e;var i=new o;return i.parse(e,t,n),i}(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if("string"==typeof e){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),i=0;i<r.length;i++){var a=r[i];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),l=0;l<s.length;l++){var u=s[l];"protocol"!==u&&(n[u]=e[u])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var c=Object.keys(e),f=0;f<c.length;f++){var d=c[f];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||v[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var h=n.pathname||"",m=n.search||"";n.path=h+m}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=b||y||n.host&&e.pathname,x=w,S=n.pathname&&n.pathname.split("/")||[],E=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(E&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),w=w&&(""===p[0]||""===S[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),n.search=e.search,n.query=e.query;else if(null!=e.search)return E&&(n.host=S.shift(),n.hostname=n.host,(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.hostname=C.shift(),n.host=n.hostname)),n.search=e.search,n.query=e.query,null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var _=S.slice(-1)[0],T=(n.host||e.host||S.length>1)&&("."===_||".."===_)||""===_,O=0,A=S.length;A>=0;A--)"."===(_=S[A])?S.splice(A,1):".."===_?(S.splice(A,1),O++):O&&(S.splice(A,1),O--);if(!w&&!x)for(;O--;O)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),T&&"/"!==S.join("/").substr(-1)&&S.push("");var C,P=""===S[0]||S[0]&&"/"===S[0].charAt(0);return E&&(n.hostname=P?"":S.length?S.shift():"",n.host=n.hostname,(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.hostname=C.shift(),n.host=n.hostname)),(w=w||n.host&&S.length)&&!P&&S.unshift(""),S.length>0?n.pathname=S.join("/"):(n.pathname=null,n.path=null),null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},57944:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function(e){return e&&"object"===t(e)&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},77595:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=n(25899),o=n(1905),a=n(89834),s=n(77911);function l(e){return e.call.bind(e)}var u="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,f=l(Object.prototype.toString),d=l(Number.prototype.valueOf),p=l(String.prototype.valueOf),h=l(Boolean.prototype.valueOf);if(u)var m=l(BigInt.prototype.valueOf);if(c)var v=l(Symbol.prototype.valueOf);function g(e,t){if("object"!==r(e))return!1;try{return t(e),!0}catch(e){return!1}}function y(e){return"[object Map]"===f(e)}function b(e){return"[object Set]"===f(e)}function w(e){return"[object WeakMap]"===f(e)}function x(e){return"[object WeakSet]"===f(e)}function S(e){return"[object ArrayBuffer]"===f(e)}function E(e){return"undefined"!=typeof ArrayBuffer&&(S.working?S(e):e instanceof ArrayBuffer)}function _(e){return"[object DataView]"===f(e)}function T(e){return"undefined"!=typeof DataView&&(_.working?_(e):e instanceof DataView)}t.isArgumentsObject=i,t.isGeneratorFunction=o,t.isTypedArray=s,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"===r(e)&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):s(e)||T(e)},t.isUint8Array=function(e){return"Uint8Array"===a(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===a(e)},t.isUint16Array=function(e){return"Uint16Array"===a(e)},t.isUint32Array=function(e){return"Uint32Array"===a(e)},t.isInt8Array=function(e){return"Int8Array"===a(e)},t.isInt16Array=function(e){return"Int16Array"===a(e)},t.isInt32Array=function(e){return"Int32Array"===a(e)},t.isFloat32Array=function(e){return"Float32Array"===a(e)},t.isFloat64Array=function(e){return"Float64Array"===a(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===a(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===a(e)},y.working="undefined"!=typeof Map&&y(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(y.working?y(e):e instanceof Map)},b.working="undefined"!=typeof Set&&b(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(b.working?b(e):e instanceof Set)},w.working="undefined"!=typeof WeakMap&&w(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(w.working?w(e):e instanceof WeakMap)},x.working="undefined"!=typeof WeakSet&&x(new WeakSet),t.isWeakSet=function(e){return x(e)},S.working="undefined"!=typeof ArrayBuffer&&S(new ArrayBuffer),t.isArrayBuffer=E,_.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&_(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=T;var O="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function A(e){return"[object SharedArrayBuffer]"===f(e)}function C(e){return void 0!==O&&(void 0===A.working&&(A.working=A(new O)),A.working?A(e):e instanceof O)}function P(e){return g(e,d)}function k(e){return g(e,p)}function R(e){return g(e,h)}function I(e){return u&&g(e,m)}function M(e){return c&&g(e,v)}t.isSharedArrayBuffer=C,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===f(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===f(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===f(e)},t.isGeneratorObject=function(e){return"[object Generator]"===f(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===f(e)},t.isNumberObject=P,t.isStringObject=k,t.isBooleanObject=R,t.isBigIntObject=I,t.isSymbolObject=M,t.isBoxedPrimitive=function(e){return P(e)||k(e)||R(e)||I(e)||M(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(E(e)||C(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},97352:(e,t,n)=>{var r=n(94931),i=n(3324);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var a=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},s=/%[sdj%]/g;t.format=function(e){if(!x(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(f(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(e).replace(s,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),a=r[n];n<i;a=r[++n])b(a)||!_(a)?o+=" "+a:o+=" "+f(a);return o},t.deprecate=function(e,n){if(void 0!==r&&!0===r.noDeprecation)return e;if(void 0===r)return function(){return t.deprecate(e,n).apply(this,arguments)};var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(n);r.traceDeprecation?i.trace(n):i.error(n),o=!0}return e.apply(this,arguments)}};var l={},u=/^$/;if(r.env.NODE_DEBUG){var c=r.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),u=new RegExp("^"+c+"$","i")}function f(e,n){var r={seen:[],stylize:p};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(n)?r.showHidden=n:n&&t._extend(r,n),S(r.showHidden)&&(r.showHidden=!1),S(r.depth)&&(r.depth=2),S(r.colors)&&(r.colors=!1),S(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=d),h(r,e,r.depth)}function d(e,t){var n=f.styles[t];return n?"["+f.colors[n][0]+"m"+e+"["+f.colors[n][1]+"m":e}function p(e,t){return e}function h(e,n,r){if(e.customInspect&&n&&A(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return x(i)||(i=h(e,i,r)),i}var o=function(e,t){if(S(t))return e.stylize("undefined","undefined");if(x(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return w(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):b(t)?e.stylize("null","null"):void 0}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),O(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return m(n);if(0===a.length){if(A(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(E(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(T(n))return e.stylize(Date.prototype.toString.call(n),"date");if(O(n))return m(n)}var u,c="",f=!1,d=["{","}"];return g(n)&&(f=!0,d=["[","]"]),A(n)&&(c=" [Function"+(n.name?": "+n.name:"")+"]"),E(n)&&(c=" "+RegExp.prototype.toString.call(n)),T(n)&&(c=" "+Date.prototype.toUTCString.call(n)),O(n)&&(c=" "+m(n)),0!==a.length||f&&0!=n.length?r<0?E(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=f?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)R(t,String(a))?o.push(v(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(v(e,t,n,r,i,!0))})),o}(e,n,r,s,a):a.map((function(t){return v(e,n,r,s,t,f)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(u,c,d)):d[0]+c+d[1]}function m(e){return"["+Error.prototype.toString.call(e)+"]"}function v(e,t,n,r,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),R(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=b(n)?h(e,l.value,null):h(e,l.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),S(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function g(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function b(e){return null===e}function w(e){return"number"==typeof e}function x(e){return"string"==typeof e}function S(e){return void 0===e}function E(e){return _(e)&&"[object RegExp]"===C(e)}function _(e){return"object"===o(e)&&null!==e}function T(e){return _(e)&&"[object Date]"===C(e)}function O(e){return _(e)&&("[object Error]"===C(e)||e instanceof Error)}function A(e){return"function"==typeof e}function C(e){return Object.prototype.toString.call(e)}function P(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!l[e])if(u.test(e)){var n=r.pid;l[e]=function(){var r=t.format.apply(t,arguments);i.error("%s %d: %s",e,n,r)}}else l[e]=function(){};return l[e]},t.inspect=f,f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},f.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=n(77595),t.isArray=g,t.isBoolean=y,t.isNull=b,t.isNullOrUndefined=function(e){return null==e},t.isNumber=w,t.isString=x,t.isSymbol=function(e){return"symbol"===o(e)},t.isUndefined=S,t.isRegExp=E,t.types.isRegExp=E,t.isObject=_,t.isDate=T,t.types.isDate=T,t.isError=O,t.types.isNativeError=O,t.isFunction=A,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===o(e)||void 0===e},t.isBuffer=n(57944);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;i.log("%s - %s",(n=[P((e=new Date).getHours()),P(e.getMinutes()),P(e.getSeconds())].join(":"),[e.getDate(),k[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n(1679),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var I="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function M(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(I&&e[I]){var t;if("function"!=typeof(t=e[I]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,I,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),I&&Object.defineProperty(t,I,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,a(e))},t.promisify.custom=I,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var i=t.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};e.apply(this,t).then((function(e){r.nextTick(a.bind(null,null,e))}),(function(e){r.nextTick(M.bind(null,e,a))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,a(e)),t}},13443:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>c});var i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=[],l=0;l<256;++l)s.push((l+256).toString(16).substr(1));const u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&a.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},c=function(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return u(r)}},89834:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=n(73777),o=n(3426),a=n(29122),s=n(29466),l=n(91464),u=s("Object.prototype.toString"),c=n(80953)(),f="undefined"==typeof globalThis?n.g:globalThis,d=o(),p=s("String.prototype.slice"),h=Object.getPrototypeOf,m=s("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},v={__proto__:null};i(d,c&&l&&h?function(e){var t=new f[e];if(Symbol.toStringTag in t){var n=h(t),r=l(n,Symbol.toStringTag);if(!r){var i=h(n);r=l(i,Symbol.toStringTag)}v["$"+e]=a(r.get)}}:function(e){var t=new f[e],n=t.slice||t.set;n&&(v["$"+e]=a(n))}),e.exports=function(e){if(!e||"object"!==r(e))return!1;if(!c){var t=p(u(e),8,-1);return m(d,t)>-1?t:"Object"===t&&function(e){var t=!1;return i(v,(function(n,r){if(!t)try{n(e),t=p(r,1)}catch(e){}})),t}(e)}return l?function(e){var t=!1;return i(v,(function(n,r){if(!t)try{"$"+n(e)===r&&(t=p(r,1))}catch(e){}})),t}(e):null}},42634:()=>{},90068:(e,t,n)=>{var r=n(7019);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},88041:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},61589:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},34328:(e,t,n)=>{var r=n(52735).default;function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(o,s,l):o[s]=e[s]}return o.default=e,n&&n.set(e,o),o},e.exports.__esModule=!0,e.exports.default=e.exports},87308:(e,t,n)=>{var r=n(84376);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},84376:e=>{e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},42024:(e,t,n)=>{var r=n(52735).default;function i(){"use strict";e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},o=Object.prototype,a=o.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",f=l.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(t){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,o=Object.create(i.prototype),a=new M(r||[]);return s(o,"_invoke",{value:P(e,n,a)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=p;var m="suspendedStart",v="suspendedYield",g="executing",y="completed",b={};function w(){}function x(){}function S(){}var E={};d(E,u,(function(){return this}));var _=Object.getPrototypeOf,T=_&&_(_(D([])));T&&T!==o&&a.call(T,u)&&(E=T);var O=S.prototype=w.prototype=Object.create(E);function A(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,o,s,l){var u=h(e[i],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==r(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,l)}))}l(u.arg)}var i;s(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}})}function P(e,n,r){var i=m;return function(o,a){if(i===g)throw new Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=k(s,r);if(l){if(l===b)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var u=h(e,n,r);if("normal"===u.type){if(i=r.done?y:v,u.arg===b)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=y,r.method="throw",r.arg=u.arg)}}}function k(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function D(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(a.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(r(e)+" is not iterable")}return x.prototype=S,s(O,"constructor",{value:S,configurable:!0}),s(S,"constructor",{value:x,configurable:!0}),x.displayName=d(S,f,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,d(e,f,"GeneratorFunction")),e.prototype=Object.create(O),e},n.awrap=function(e){return{__await:e}},A(C.prototype),d(C.prototype,c,(function(){return this})),n.AsyncIterator=C,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new C(p(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(O),d(O,f,"Generator"),d(O,u,(function(){return this})),d(O,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=D,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),u=a.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},38262:(e,t,n)=>{var r=n(52735).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7019:(e,t,n)=>{var r=n(52735).default,i=n(38262);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},52735:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2183:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=n(42024)();e.exports=i;try{regeneratorRuntime=i}catch(e){"object"===("undefined"==typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},3426:(e,t,n)=>{"use strict";var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i="undefined"==typeof globalThis?n.g:globalThis;e.exports=function(){for(var e=[],t=0;t<r.length;t++)"function"==typeof i[r[t]]&&(e[e.length]=r[t]);return e}},76973:(e,t,n)=>{var r;function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}!function(){"use strict";var o={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=l(e,s(n)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!==i(e))return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)o.call(e,n)&&e[n]&&(t=l(t,n));return t}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):"object"===i(n.amdO)&&n.amdO?void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r):window.classNames=a}()},3772:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{A:()=>r})},49208:(e,t,n)=>{"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{A:()=>r})},87354:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{A:()=>r})},85408:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{A:()=>r})},91358:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(33358);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.A)(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},2362:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(33358);function i(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},63063:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{A:()=>r})},25588:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(8047);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.A)(e,t)}},37166:(e,t,n)=>{"use strict";function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{A:()=>r})},84461:(e,t,n)=>{"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{A:()=>r})},53466:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(5550);function i(e,t){if(null==e)return{};var n,i,o=(0,r.A)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},5550:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{A:()=>r})},8047:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{A:()=>r})},55258:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(49208),i=n(74977),o=n(84461);function a(e,t){return(0,r.A)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||(0,i.A)(e,t)||(0,o.A)()}},109:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(3772),i=n(37166),o=n(74977);function a(e){return function(e){if(Array.isArray(e))return(0,r.A)(e)}(e)||(0,i.A)(e)||(0,o.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},33358:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(61049);function i(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=(0,r.A)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==(0,r.A)(t)?t:String(t)}},61049:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},74977:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(3772);function i(e,t){if(e){if("string"==typeof e)return(0,r.A)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.A)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var r={};return(()=>{"use strict";n.d(r,{default:()=>Q_});var e={};n.r(e),n.d(e,{default:()=>xs});var t={};n.r(t),n.d(t,{accessTokensReducer:()=>Nr,annotationsReducer:()=>Wr,authReducer:()=>Gr,catalogReducer:()=>Kr,companionWindowsReducer:()=>oi,configReducer:()=>fi,elasticLayoutReducer:()=>mi,errorsReducer:()=>_i,infoResponsesReducer:()=>Ci,layersReducer:()=>Ii,manifestsReducer:()=>Li,searchesReducer:()=>Hi,viewersReducer:()=>qi,windowsReducer:()=>Yi,workspaceReducer:()=>to});var i={};n.r(i),n.d(i,{getAccessTokens:()=>xo.X8,getAllowedWindowViewTypes:()=>na.B2,getAnnotationResourcesByMotivation:()=>$a.Y2,getAnnotationResourcesByMotivationForCanvas:()=>$a.Ni,getAnnotations:()=>$a.Rh,getAuth:()=>xo.xI,getAuthProfiles:()=>xo.Rf,getCanvas:()=>So.dX,getCanvasDescription:()=>So.HU,getCanvasForAnnotation:()=>ta.bg,getCanvasGrouping:()=>So.O$,getCanvasGroupings:()=>So.tV,getCanvasIndex:()=>ks.PB,getCanvasLabel:()=>So.T2,getCanvasLayers:()=>Ps.p8,getCanvases:()=>So.P,getCatalog:()=>Eo.O5,getCompanionAreaVisibility:()=>ea.ar,getCompanionWindow:()=>ea.DS,getCompanionWindowIdsForPosition:()=>ea.bN,getCompanionWindows:()=>ea.aE,getCompanionWindowsForContent:()=>ea.Ih,getCompanionWindowsForPosition:()=>ea.kH,getConfig:()=>E.zj,getContainerId:()=>E.TW,getCurrentCanvas:()=>So.kR,getCurrentCanvasWorld:()=>Is.k,getDefaultSidebarVariant:()=>Cs.bT,getDestructuredMetadata:()=>Qo.uh,getElasticLayout:()=>_.Q9,getExpandedNodeIds:()=>Cs.S,getExportableState:()=>E.Gt,getFullScreenEnabled:()=>_.H,getLanguagesFromConfigWithCurrent:()=>E.x2,getLatestError:()=>_.g,getLayers:()=>Ps.bB,getLayersForVisibleCanvases:()=>Ps.MS,getManifest:()=>Eo.c2,getManifestAutocompleteService:()=>Qo.J4,getManifestDescription:()=>Qo.CG,getManifestError:()=>Qo.WA,getManifestHomepage:()=>Qo.cm,getManifestLocale:()=>Qo.U1,getManifestLogo:()=>Qo.nB,getManifestMetadata:()=>Qo.dB,getManifestProvider:()=>Qo.X6,getManifestRelatedContent:()=>Qo._l,getManifestRenderings:()=>Qo.dn,getManifestSearchService:()=>Qo.B8,getManifestStatus:()=>Qo.YR,getManifestThumbnail:()=>Qo.yj,getManifestTitle:()=>Qo.aY,getManifestUrl:()=>Qo.hp,getManifestoInstance:()=>Qo.SG,getManifests:()=>Eo.Rv,getManuallyExpandedNodeIds:()=>Cs.tv,getMaximizedWindowsIds:()=>na.Eu,getMetadataLocales:()=>Qo.t_,getNextCanvasGrouping:()=>So.BL,getNextSearchId:()=>ta.TU,getNodeIdToScrollTo:()=>Cs.rK,getPresentAnnotationsOnSelectedCanvases:()=>$a.Su,getPreviousCanvasGrouping:()=>So.Nj,getRequestsConfig:()=>E.lT,getRequiredStatement:()=>Qo.lj,getResourceAnnotationForSearchHit:()=>ta.KB,getResourceAnnotationLabel:()=>ta.wt,getRights:()=>Qo._6,getSearchAnnotationsForCompanionWindow:()=>ta.yy,getSearchAnnotationsForWindow:()=>ta.sC,getSearchForWindow:()=>ta.WF,getSearchIsFetching:()=>ta.bq,getSearchNumTotal:()=>ta.LR,getSearchQuery:()=>ta.V8,getSelectedAnnotationId:()=>$a.e3,getSelectedAnnotationsOnCanvases:()=>$a.Z_,getSelectedContentSearchAnnotationIds:()=>ta.SU,getSequence:()=>ks.eb,getSequenceBehaviors:()=>ks.pw,getSequenceTreeStructure:()=>ks.P8,getSequenceViewingDirection:()=>ks.Kb,getSequenceViewingHint:()=>ks.sR,getSequences:()=>ks.fO,getShowZoomControlsConfig:()=>E.X3,getSortedLayers:()=>Ps.yK,getSortedSearchAnnotationsForCompanionWindow:()=>ta.TA,getSortedSearchHitsForCompanionWindow:()=>ta.XK,getTheme:()=>E.O4,getThemeDirection:()=>E.b3,getThemeIds:()=>E.Qc,getThumbnailNavigationPosition:()=>ea.Ir,getViewer:()=>Eo.tk,getVisibleCanvasAudioResources:()=>So._K,getVisibleCanvasCaptions:()=>So.mK,getVisibleCanvasIds:()=>So.tv,getVisibleCanvasNonTiledResources:()=>So.RP,getVisibleCanvasVideoResources:()=>So.HS,getVisibleCanvases:()=>So.Mg,getVisibleNodeIds:()=>Cs.BB,getWindow:()=>Eo.zk,getWindowConfig:()=>na.R2,getWindowDraggability:()=>na.kt,getWindowIds:()=>Eo.rG,getWindowManifests:()=>Eo.p3,getWindowTitles:()=>na.wb,getWindowViewType:()=>na.i9,getWindows:()=>Eo.sl,getWorkspace:()=>Eo.K4,getWorkspaceType:()=>_.I3,isFocused:()=>_.ar,miradorSlice:()=>Rs.t,selectCompanionWindowDimensions:()=>ea.a4,selectCurrentAuthServices:()=>xo.wd,selectInfoResponse:()=>So.E_,selectInfoResponses:()=>So.dN,sortSearchAnnotationsByCanvasOrder:()=>ta.gD});var o=n(78281),a=n(8568),s=n(35914),l=n(12924),u=n(44914),c=n.n(u),f=n(83557);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){return e.mapStateToProps||e.mapDispatchToProps?s.Ng.apply(void 0,[e.mapStateToProps,e.mapDispatchToProps].concat(m(e.connectOptions||[])))(e.component):e.component}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t,n,r=e.plugins,i=e.children,a=(t=(0,o.useState)({}),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],u=a[1];return(0,o.useEffect)((function(){var e=function(e){return e.map((function(e){return p(p({},e),{},{component:g(e)})}))}(r);!function(e){e.filter((function(e){return e.companionWindowKey})).forEach((function(e){f.A[e.companionWindowKey]=e.component})),f.A}(e),u(function(e){return e.reduce((function(e,t){return c()(e,[t.target,t.mode],(function(e){return[].concat(m(e||[]),[t])}))}),{})}(e))}),[r]),o.createElement(l.A.Provider,{value:s},i)}b.defaultProps={children:null,plugins:[]};var w=n(69592),x=n(92910),S=n(65030),E=n(37466),_=n(31415),T=n(19833),O=n(6306);function A(e){var t=e.i18n,n=e.defaultNS,r=e.children,i=(0,o.useMemo)((function(){return{i18n:t,defaultNS:n}}),[t,n]);return(0,o.createElement)(O.gJ.Provider,{value:i},r)}var C=n(59410),P=n(92136),k=n(75524),R=n(51675),I=n(65712),M=n(31534),D=n(68762),j=n(85112),L=n(40474),N=n(52301),z=n(21314),B=n(20988),F=n(61049),W=n(2362);function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){(0,W.A)(e,t,n[t])}))}return e}var U=n(85408),V=n(91358),G=n(87354);function q(e,t){if(t&&("object"===(0,F.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,G.A)(e)}function X(e){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},X(e)}var Z=n(8047);function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,Z.A)(e,t)}var Y=n(3324),K={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){Y&&Y[e]&&Y[e].apply(Y,t)}},J=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,U.A)(this,e),this.init(t,n)}return(0,V.A)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||K,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,H({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),e}()),Q=function(){function e(){(0,U.A)(this,e),this.observers={}}return(0,V.A)(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)})),this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(n))}))}}]),e}();function ee(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function te(e){return null==e?"":""+e}function ne(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return i()?{}:{obj:e,k:r(o.shift())}}function re(e,t,n){var r=ne(e,t,Object);r.obj[r.k]=n}function ie(e,t){var n=ne(e,t),r=n.obj,i=n.k;if(r)return r[i]}function oe(e,t,n){var r=ie(e,n);return void 0!==r?r:ie(t,n)}function ae(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):ae(e[r],t[r],n):e[r]=t[r]);return e}function se(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var le={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function ue(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return le[e]})):e}var ce="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,fe=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return(0,U.A)(this,t),n=q(this,X(t).call(this)),ce&&Q.call((0,G.A)(n)),n.data=e||{},n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n}return $(t,e),(0,V.A)(t,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=[e,t];return n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(o=e.split(".")),ie(this.data,o)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),re(this.data,a,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=ie(this.data,a)||{};r?ae(s,n,i):s=H({},s,n),re(this.data,a,s),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?H({},{},this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"toJSON",value:function(){return this.data}}]),t}(Q),de={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,i))})),t}},pe={},he=function(e){function t(e){var n,r,i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,U.A)(this,t),n=q(this,X(t).call(this)),ce&&Q.call((0,G.A)(n)),r=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],i=e,o=(0,G.A)(n),r.forEach((function(e){i[e]&&(o[e]=i[e])})),n.options=a,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=J.create("translator"),n}return $(t,e),(0,V.A)(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var o=e.match(this.interpolator.nestingRegexp);if(o&&o.length>0)return{key:e,namespaces:i};var a=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(a[0])>-1)&&(i=a.shift()),e=a.join(r)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,n,r){var i=this;if("object"!==(0,F.A)(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,a=this.extractFromKey(e[e.length-1],n),s=a.key,l=a.namespaces,u=l[l.length-1],c=n.lng||this.language,f=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(f){var d=n.nsSeparator||this.options.nsSeparator;return u+d+s}return s}var p=this.resolve(e,n),h=p&&p.res,m=p&&p.usedKey||s,v=p&&p.exactUsedKey||s,g=Object.prototype.toString.apply(h),y=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject;if(b&&h&&"string"!=typeof h&&"boolean"!=typeof h&&"number"!=typeof h&&["[object Number]","[object Function]","[object RegExp]"].indexOf(g)<0&&("string"!=typeof y||"[object Array]"!==g)){if(!n.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,h,n):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");if(o){var w="[object Array]"===g,x=w?[]:{},S=w?v:m;for(var E in h)if(Object.prototype.hasOwnProperty.call(h,E)){var _="".concat(S).concat(o).concat(E);x[E]=this.translate(_,H({},n,{joinArrays:!1,ns:l})),x[E]===_&&(x[E]=h[E])}h=x}}else if(b&&"string"==typeof y&&"[object Array]"===g)(h=h.join(y))&&(h=this.extendTranslation(h,e,n,r));else{var T=!1,O=!1,A=void 0!==n.count&&"string"!=typeof n.count,C=t.hasDefaultValue(n),P=A?this.pluralResolver.getSuffix(c,n.count):"",k=n["defaultValue".concat(P)]||n.defaultValue;!this.isValidLookup(h)&&C&&(T=!0,h=k),this.isValidLookup(h)||(O=!0,h=s);var R=C&&k!==h&&this.options.updateMissing;if(O||T||R){if(this.logger.log(R?"updateKey":"missingKey",c,u,s,R?k:h),o){var I=this.resolve(s,H({},n,{keySeparator:!1}));I&&I.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var M=[],D=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&D&&D[0])for(var j=0;j<D.length;j++)M.push(D[j]);else"all"===this.options.saveMissingTo?M=this.languageUtils.toResolveHierarchy(n.lng||this.language):M.push(n.lng||this.language);var L=function(e,t,r){i.options.missingKeyHandler?i.options.missingKeyHandler(e,u,t,R?r:h,R,n):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(e,u,t,R?r:h,R,n),i.emit("missingKey",e,u,t,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?M.forEach((function(e){i.pluralResolver.getSuffixes(e).forEach((function(t){L([e],s+t,n["defaultValue".concat(t)]||k)}))})):L(M,s,k))}h=this.extendTranslation(h,e,n,p,r),O&&h===s&&this.options.appendNamespaceToMissingKey&&(h="".concat(u,":").concat(s)),O&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(h))}return h}},{key:"extendTranslation",value:function(e,t,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(H({},n,{interpolation:H({},this.options.interpolation,n.interpolation)}));var a,s=n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(s){var l=e.match(this.interpolator.nestingRegexp);a=l&&l.length}var u=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=H({},this.options.interpolation.defaultVariables,u)),e=this.interpolator.interpolate(e,u,n.lng||this.language,n),s){var c=e.match(this.interpolator.nestingRegexp);a<(c&&c.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i&&i[0]===r[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):o.translate.apply(o,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var f=n.postProcess||this.options.postProcess,d="string"==typeof f?[f]:f;return null!=e&&d&&d.length&&!1!==n.applyPostProcessor&&(e=de.handle(d,e,t,this.options&&this.options.postProcessPassResolved?H({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var l=a.extractFromKey(e,s),u=l.key;n=u;var c=l.namespaces;a.options.fallbackNS&&(c=c.concat(a.options.fallbackNS));var f=void 0!==s.count&&"string"!=typeof s.count,d=void 0!==s.context&&"string"==typeof s.context&&""!==s.context,p=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);c.forEach((function(e){a.isValidLookup(t)||(o=e,!pe["".concat(p[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(pe["".concat(p[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!a.isValidLookup(t)){i=n;var o,l,c=u,p=[c];for(a.i18nFormat&&a.i18nFormat.addLookupKeys?a.i18nFormat.addLookupKeys(p,u,n,e,s):(f&&(o=a.pluralResolver.getSuffix(n,s.count)),f&&d&&p.push(c+o),d&&p.push(c+="".concat(a.options.contextSeparator).concat(s.context)),f&&p.push(c+=o));l=p.pop();)a.isValidLookup(t)||(r=l,t=a.getResource(n,e,l,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"defaultValue"===t.substring(0,12)&&void 0!==e[t])return!0;return!1}}]),t}(Q);function me(e){return e.charAt(0).toUpperCase()+e.slice(1)}var ve=function(){function e(t){(0,U.A)(this,e),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=J.create("languageUtils")}return(0,V.A)(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=me(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=me(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=me(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isWhitelisted",value:function(e){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(e)}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&o(n.formatLanguageCode(e))})),i}}]),e}(),ge=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],ye={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},be=function(){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,U.A)(this,e),this.languageUtils=t,this.options=r,this.logger=J.create("pluralResolver"),this.rules=(n={},ge.forEach((function(e){e.lngs.forEach((function(t){n[t]={numbers:e.nr,plurals:ye[e.fc]}}))})),n)}return(0,V.A)(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=this.getRule(e);return t&&t.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){return this.getSuffixes(e).map((function(e){return t+e}))}},{key:"getSuffixes",value:function(e){var t=this,n=this.getRule(e);return n?n.numbers.map((function(n){return t.getSuffix(e,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=this,r=this.getRule(e);if(r){var i=r.noAbs?r.plurals(t):r.plurals(Math.abs(t)),o=r.numbers[i];this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var a=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]?a():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: ".concat(e)),""}}]),e}(),we=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,U.A)(this,e),this.logger=J.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return(0,V.A)(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:ue,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?se(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?se(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?se(t.nestingPrefix):t.nestingPrefixEscaped||se("$t("),this.nestingSuffix=t.nestingSuffix?se(t.nestingSuffix):t.nestingSuffixEscaped||se(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,o,a,s=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}var c=function(e){if(e.indexOf(s.formatSeparator)<0){var i=oe(t,l,e);return s.alwaysFormat?s.format(i,void 0,n):i}var o=e.split(s.formatSeparator),a=o.shift().trim(),u=o.join(s.formatSeparator).trim();return s.format(oe(t,l,a),u,n,r)};this.resetRegExp();var f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,d=r&&r.interpolation&&r.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return u(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?u(s.escape(e)):u(e)}}].forEach((function(t){for(a=0;i=t.regex.exec(e);){if(void 0===(o=c(i[1].trim())))if("function"==typeof f){var n=f(e,i,r);o="string"==typeof n?n:""}else{if(d){o=i[0];continue}s.logger.warn("missed to pass in variable ".concat(i[1]," for interpolating ").concat(e)),o=""}else"string"==typeof o||s.useRawValueToEscape||(o=te(o));if(e=e.replace(i[0],t.safeValue(o)),t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=H({},o);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);e=r[0],i=(i=this.interpolate(i,a)).replace(/'/g,'"');try{a=JSON.parse(i),t&&(a=H({},t,a))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(i)}return delete a.defaultValue,e}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(e);){var l=[],u=!1;if(n[0].includes(this.formatSeparator)&&!/{.*}/.test(n[1])){var c=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=c.shift(),l=c,u=!0}if((r=t(s.call(this,n[1].trim(),a),a))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=te(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),u&&(r=l.reduce((function(e,t){return i.format(e,t,o.lng,o)}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}(),xe=function(e){function t(e,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,U.A)(this,t),i=q(this,X(t).call(this)),ce&&Q.call((0,G.A)(i)),i.backend=e,i.store=n,i.services=r,i.languageUtils=r.languageUtils,i.options=o,i.logger=J.create("backendConnector"),i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(r,o.backend,o),i}return $(t,e),(0,V.A)(t,[{key:"queueLoad",value:function(e,t,n,r){var i=this,o=[],a=[],s=[],l=[];return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?a.indexOf(s)<0&&a.push(s):(i.state[s]=1,r=!1,a.indexOf(s)<0&&a.push(s),o.indexOf(s)<0&&o.push(s),l.indexOf(t)<0&&l.push(t)))})),r||s.push(e)})),(o.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:r}),{toLoad:o,pending:a,toLoadLanguages:s,toLoadNamespaces:l}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),n&&this.store.addResourceBundle(i,o,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){var r,s,l,u,c;r=n.loaded,s=o,l=ne(r,[i],Object),u=l.obj,c=l.k,u[c]=u[c]||[],u[c].push(s),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){a[e].indexOf(t)<0&&a[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,a=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(s,l){s&&l&&i<5?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*o,a)}),o):a(s,l)})):a(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(function(r,a){r&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),r),!r&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),a),t.loaded(e,r,a)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,H({},o,{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),t}(Q);function Se(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Ee(){}const _e=new(function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if((0,U.A)(this,t),e=q(this,X(t).call(this)),ce&&Q.call((0,G.A)(e)),e.options=Se(n),e.services={},e.logger=J,e.modules={external:[]},r&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,r),q(e,(0,G.A)(e));setTimeout((function(){e.init(n,r)}),0)}return e}return $(t,e),(0,V.A)(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function r(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(n=t,t={}),t.whitelist&&!t.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),t.nonExplicitWhitelist&&!t.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=H({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===(0,F.A)(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===(0,F.A)(e[2])||"object"===(0,F.A)(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}},this.options,Se(t)),this.format=this.options.interpolation.format,n||(n=Ee),!this.options.isClone){this.modules.logger?J.init(r(this.modules.logger),this.options):J.init(null,this.options);var i=new ve(this.options);this.store=new fe(this.options.resources,this.options);var o=this.services;o.logger=J,o.resourceStore=this.store,o.languageUtils=i,o.pluralResolver=new be(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),o.interpolator=new we(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new xe(r(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(o.languageDetector=r(this.modules.languageDetector),o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=r(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new he(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.length>0&&"dev"!==a[0]&&(this.options.lng=a[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}})),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var s=ee(),l=function(){var t=function(t,r){e.isInitialized&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),s.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),s}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee,r="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return n();var i=[],o=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){i.indexOf(e)<0&&i.push(e)}))};r?o(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return o(e)})),this.options.preload&&this.options.preload.forEach((function(e){return o(e)})),this.services.backendConnector.load(i,this.options.ns,n)}else n(null)}},{key:"reloadResources",value:function(e,t,n){var r=ee();return e||(e=this.languages),t||(t=this.options.ns),n||(n=Ee),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&de.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=ee();this.emit("languageChanging",e);var i=function(e){var i="string"==typeof e?e:n.services.languageUtils.getBestMatchFromCodes(e);i&&(n.language||(n.language=i,n.languages=n.services.languageUtils.toResolveHierarchy(i)),n.translator.language||n.translator.changeLanguage(i),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(i)),n.loadResources(i,(function(e){!function(e,i){i?(n.language=i,n.languages=n.services.languageUtils.toResolveHierarchy(i),n.translator.changeLanguage(i),n.isLanguageChangingTo=void 0,n.emit("languageChanged",i),n.logger.log("languageChanged",i)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,i)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t){var n=this,r=function e(t,r){var i;if("object"!==(0,F.A)(r)){for(var o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];i=n.options.overloadTranslationOptionHandler([t,r].concat(a))}else i=H({},r);return i.lng=i.lng||e.lng,i.lngs=i.lngs||e.lngs,i.ns=i.ns||e.ns,n.t(t,i)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||!(!a(r,e)||i&&!a(o,e))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=ee();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=ee();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr":"rtl"}},{key:"createInstance",value:function(){return new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}},{key:"cloneInstance",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee,i=H({},this.options,n,{isClone:!0}),o=new t(i);return["store","services","language"].forEach((function(t){o[t]=e[t]})),o.services=H({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new he(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))})),o.init(i,r),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}}]),t}(Q)),Te=JSON.parse('{"translation":{"aboutThisItem":"  ","addedFromUrl":"(   )","addManifestUrl":" ","addManifestUrlHelp":"  IIIF ","addResource":" ","annotationCanvasLabel_1/1":": [{{}}]","annotationCanvasLabel_1/2":": [{{ }}]","annotationCanvasLabel_2/2":": [{{}}]","annotations":"","attribution":"","attributionTitle":"","authenticationFailed":"  ","authenticationRequired":"     ","backToResults":"  ","book":"","bottom":"","cancel":"","canvasIndex":"","changeTheme":"  ","clearSearch":"","closeAddResourceForm":" ","closeAddResourceMenu":"  ","closeCompanionWindow":" ","closeWindow":" ","collapseSection":"  {{section}}","collapseSidePanel":"  ","itemList":" ","continue":"","copy":"","currentItem":" ","currentItem_1/1":" ","currentItem_1/2":"","currentItem_2/2":"","dark":" ","dismiss":"","highlightAllAnnotations":" ","downloadExport":"  ","downloadExportWorkspace":"  ","elastic":"","elasticDescription":"          .      .","emptyResourceList":"    .","errorDialogConfirm":"","errorDialogTitle":"  ","exitFullScreen":"   ","expandSection":"  {{section}}","expandSidePanel":"  ","fetchManifest":"","fullScreen":" ","gallery":"","hideZoomControls":"  ","iiif_homepage":"  ","iiif_manifest":"IIIF  ","iiif_renderings":" ","iiif_seeAlso":" ","import":" ","importWorkspace":"  ","importWorkspaceHint":"   Mirador 3  ","item":": {{label}}","language":"","layer_hide":" ","layer_move":" ","layer_opacity":" ","layer_show":" ","layer_moveToTop":"   ","layers":"","light":" ","links":"","listAllOpenWindows":"  ","login":" ","logout":" ","manifestError":"   :","maximizeWindow":"    ","minimizeWindow":"    ","mirador":"Mirador","miradorResources":" Mirador ","miradorViewer":" Mirador","more":"...","moreResults":" ","mosaic":"","mosaicDescription":"         .","moveCompanionWindowToBottom":" ","moveCompanionWindowToRight":" ","nextCanvas":" ","numItems":"{{number}} ","off":"","openCompanionWindow_annotations":"","openCompanionWindow_attribution":"","openCompanionWindow_canvas":"","openCompanionWindow_info":"","openCompanionWindow_layers":"","openCompanionWindow_search":"","openInCompanionWindow":"   ","openWindows":"  ","pagination":"{{current}}  {{total}}","position":"","previewWindowTitle":"","previousCanvas":" ","related":" ","resource":"","retry":"  ","right":"","rights":"","searchInputLabel":" ","searchNextResult":" ","searchNoResults":"    ","searchPreviousResult":" ","searchSubmitAria":"","searchTitle":"","selectWorkspaceMenu":"   ","showingNumAnnotations":" {{number}} ","showZoomControls":"     ","sidebarPanelsNavigation":"   ","single":"","startHere":" ","suggestSearch":"      \\"{{ query }}\\"","tableOfContentsList":" ","theme":"","thumbnailList":"  ","thumbnailNavigation":" ","thumbnails":" ","toggleWindowSideBar":"  ","tryAgain":"  ","untitled":"[ ]","view":"","welcome":"   Mirador","window":":  {{label}}","windowMenu":"    ","windowNavigation":" ","windowPluginButtons":"","windowPluginMenu":" ","workspace":" ","workspaceFullScreen":" ","workspaceMenu":"  ","workspaceOptions":"   ","workspaceSelectionTitle":"   ","zoomIn":" ","zoomOut":" ","zoomReset":"   "}}'),Oe=JSON.parse('{"translation":{"aboutMirador":"ber Mirador","aboutThisItem":"ber dieses Element","addedFromUrl":"(Via URL hinzugefgt)","addManifestUrl":"Ort der Ressource","addManifestUrlHelp":"Die URL einer IIIF-Ressource","addResource":"Ressource hinzufgen","annotationCanvasLabel_1/1":"Objekt: [{{label}}]","annotationCanvasLabel_1/2":"Links: [{{label}}]","annotationCanvasLabel_2/2":"Rechts: [{{label}}]","annotations":"Annotationen","attribution":"Zuschreibung","attributionTitle":"Rechte","authenticationFailed":"Authentifizierung fehlgeschlagen","authenticationRequired":"Fr vollen Zugriff ist eine Authentifizierung ntig.","backToResults":"Zurck zur Trefferansicht","book":"Buch","bottom":"Unten","cancel":"Abbrechen","canvasIndex":"Index","changeTheme":"Farbschema ndern","clearSearch":"zurcksetzen","closeAddResourceForm":"Formular schlieen","closeAddResourceMenu":"Ressourcenliste schlieen","closeCompanionWindow":"Hilfsfenster schlieen","closeWindow":"Fenster schlieen","collapseSection":"Bereich \\"{{section}}\\" zuklappen","collapseSidePanel":"Seitenleiste zuklappen","itemList":"Kompaktliste","continue":"Fortfahren","copy":"Kopieren","currentItem":"Aktuelles Objekt","currentItem_1/1":"Aktuelles Objekt","currentItem_1/2":"Links","currentItem_2/2":"Rechts","dark":"Dunkel","digitizedView":"Digitalisat-Ansicht","dismiss":"Verwerfen","highlightAllAnnotations":"Alle hervorheben","displayNoAnnotations":"Keine hervorheben","downloadExport":"Arbeitsflche exportieren","downloadExportWorkspace":"Arbeitsflche exportieren","elastic":"Elastisch","elasticDescription":"Fenster knnen frei und unbegrenzt innerhalb der Arbeitsflche bewegt werden und sich berlappen","emptyResourceList":"Ihre Ressourcenliste ist leer","error":"Fehler","errorDialogConfirm":"OK","errorDialogTitle":"Es ist ein Fehler aufgetreten","exitFullScreen":"Vollbildmodus verlassen","expandSection":"Bereich \\"{{section}}\\" aufklappen","expandSidePanel":"Seitenleiste aufklappen","exportCopied":"Die Konfiguration der Arbeitsflche wurde in die Zwischenablage kopiert.","fetchManifest":"Hinzufgen","fullScreen":"Vollbild","gallery":"Galerie","hideZoomControls":"Zoomsteuerung verbergen","iiif_homepage":"ber diese Ressource","iiif_manifest":"IIIF-Manifest","iiif_renderings":"Alternative Formate","iiif_seeAlso":"Siehe auch","import":"Importieren","importWorkspace":"Arbeitsflche importieren","importWorkspaceHint":"Fgen Sie eine Mirador-3-Konfiguration ein, die importiert werden soll.","item":"Objekt: {{label}}","jsError":"Technische Details","jsStack":"{{ stack }}","language":"Sprache","layer_hide":"Ebene verbergen","layer_move":"Ebene verschieben","layer_opacity":"Ebenendeckkraft","layer_show":"Ebene anzeigen","layer_moveToTop":"Ebene ganz nach vorn bringen","layers":"Ebenen","light":"Hell","links":"Links","listAllOpenWindows":"Zu Fenster springen","login":"Anmelden","logout":"Abmelden","manifestError":"Die Ressource konnte nicht hinzugefgt werden:","maximizeWindow":"Fenster maximieren","minimizeWindow":"Fenster minimieren","mirador":"Mirador","miradorResources":"Mirador-Ressourcen","miradorViewer":"Mirador","more":"mehr...","moreResults":"Mehr Treffer","mosaic":"Mosaik","mosaicDescription":"Fenster knnen innerhalb der Arbeitsflche in Relation zueinander verschoben und ihrer Gre verndert werden.","moveCompanionWindowToBottom":"Unten anordnen","moveCompanionWindowToRight":"Rechts anordnen","nextCanvas":"Nchstes Objekt","numItems":"{{number}} Elemente","off":"Keine","openCompanionWindow_annotations":"Annotationen","openCompanionWindow_attribution":"Rechte","openCompanionWindow_canvas":"Index","openCompanionWindow_info":"Informationen","openCompanionWindow_layers":"Ebenen","openCompanionWindow_search":"Suche","openInCompanionWindow":"In Hilfsfenster ffnen","openWindows":"Aktuell offene Fenster","pagination":"{{current}} von {{total}}","position":"Position","previewWindowTitle":"{{title}}","previousCanvas":"Vorheriges Objekt","related":"Verwandtes","resource":"Ressource","retry":"Erneut versuchen","right":"Rechts","rights":"Lizenz","scroll":"Kontinuierlich","searchInputLabel":"Suchbegriffe","searchNextResult":"Nchster Treffer","searchNoResults":"Keine Treffer","searchPreviousResult":"Vorheriger Treffer","searchResultsRemaining":"{{numLeft}} weitere","searchSubmitAria":"Suchen","searchTitle":"Suche","selectWorkspaceMenu":"Whlen Sie einen Arbeitsflchentyp","showingNumAnnotations":"{{number}} Annotationen werden angezeigt","showZoomControls":"Zoomsteuerung anzeigen","sidebarPanelsNavigation":"Hilfsfensternavigation","single":"Einzeln","startHere":"Hier starten","suggestSearch":"Dieses Dokument durchsuchen nach \\"{{ query }}\\"","tableOfContentsList":"Inhaltsverzeichnis","theme":"Farbschema","thumbnailList":"Miniaturansicht","thumbnailNavigation":"Miniaturansicht","thumbnails":"Miniaturansicht","toggleWindowSideBar":"Seitenleiste umschalten","tryAgain":"Wiederholen","untitled":"[Unbenannt]","view":"Ansicht","welcome":"Willkommen bei Mirador","window":"Fenster: {{label}}","windowMenu":"Fenstermen und Miniaturansicht","windowNavigation":"Fensternavigation","windowPluginButtons":"Optionen","windowPluginMenu":"Fensteroptionen","workspace":"Arbeitsflche","workspaceNavigation":"Arbeitsflchensteuerung","workspaceFullScreen":"Vollbild","workspaceMenu":"Arbeitsflchenmen","workspaceOptions":"Arbeitsflchenoptionen","workspaceSelectionTitle":"Bitte whlen Sie einen Arbeitsflchentyp","zoomIn":"Vergrern","zoomOut":"Verkleinern","zoomReset":"Ansicht zurcksetzen"}}'),Ae=JSON.parse('{"translation":{"aboutMirador":"About Project Mirador","aboutThisItem":"About this item","addedFromUrl":"(Added from URL)","addManifestUrl":"Resource location","addManifestUrlHelp":"The URL of a IIIF resource","addResource":"Add resource","annotationCanvasLabel_1/1":"Item: [{{label}}]","annotationCanvasLabel_1/2":"Left: [{{label}}]","annotationCanvasLabel_2/2":"Right: [{{label}}]","annotations":"Annotations","attribution":"Attribution","attributionTitle":"Rights","authenticationFailed":"Authentication failed.","authenticationRequired":"Authentication required for full access","backToResults":"Back to results","book":"Book","bottom":"Bottom","cancel":"Cancel","canvasIndex":"Index","changeTheme":"Change theme","clearSearch":"clear","close":"Close","closeAddResourceForm":"Close form","closeAddResourceMenu":"Close resource list","closeCompanionWindow":"Close panel","closeWindow":"Close window","collapseSection":"Collapse \\"{{section}}\\" section","collapseSidePanel":"Collapse sidebar","collection":"Collection","itemList":"Item list","continue":"Continue","copy":"Copy","currentItem":"Current item","currentItem_1/1":"Current item","currentItem_1/2":"Left","currentItem_2/2":"Right","dark":"Dark theme","digitizedView":"Digitized view","dismiss":"Dismiss","highlightAllAnnotations":"Highlight all","displayNoAnnotations":"Highlight none","downloadExport":"Export workspace","downloadExportWorkspace":"Export workspace","elastic":"Elastic","elasticDescription":"Move and size windows freely in an unlimited workspace. Windows can overlap.","emptyResourceList":"Your resource list is empty","error":"Error","errorDialogConfirm":"OK","errorDialogTitle":"An error occurred","exitFullScreen":"Exit full screen","expandSection":"Expand \\"{{section}}\\" section","expandSidePanel":"Expand sidebar","exportCopied":"The workspace configuration was copied to your clipboard","fetchManifest":"Add","fullScreen":"Full Screen","gallery":"Gallery","hideZoomControls":"Hide zoom controls","iiif_homepage":"About this resource","iiif_manifest":"IIIF manifest","iiif_renderings":"Alternate formats","iiif_seeAlso":"See also","import":"Import","importWorkspace":"Import workspace","importWorkspaceHint":"Paste a Mirador 3 configuration to be imported","item":"Item: {{label}}","jsError":"Technical details","jsStack":"{{ stack }}","language":"Language","layer_hide":"Hide layer","layer_move":"Move layer","layer_opacity":"Layer opacity","layer_show":"Show layer","layer_moveToTop":"Move layer to top","layers":"Layers","light":"Light theme","links":"Links","listAllOpenWindows":"Jump to window","login":"Log in","logout":"Log out","manifestError":"The resource cannot be added:","maximizeWindow":"Maximize window","minimizeWindow":"Minimize window","mirador":"Mirador","miradorResources":"Mirador resources","miradorViewer":"Mirador viewer","more":"more...","moreResults":"More results","mosaic":"Mosaic","mosaicDescription":"Move and size windows in relation to each other, within the visible frame.","moveCompanionWindowToBottom":"Move to bottom","moveCompanionWindowToRight":"Move to right","nextCanvas":"Next item","noItemSelected":"No item selected","numItems":"{{number}} item","numItems_plural":"{{number}} items","off":"Off","openCompanionWindow_annotations":"Annotations","openCompanionWindow_attribution":"Rights","openCompanionWindow_canvas":"Index","openCompanionWindow_info":"Information","openCompanionWindow_layers":"Layers","openCompanionWindow_search":"Search","openInCompanionWindow":"Open in separate panel","openWindows":"Current open windows","pagination":"{{current}} of {{total}}","position":"Position","previewWindowTitle":"{{title}}","previousCanvas":"Previous item","related":"Related","resource":"Resource","retry":"Retry","right":"Right","rights":"License","scroll":"Scroll","searchInputLabel":"search terms","searchNextResult":"Next result","searchNoResults":"No results found","searchPreviousResult":"Previous result","searchResultsRemaining":"{{numLeft}} remaining","searchSubmitAria":"Submit search","searchTitle":"Search","selectWorkspaceMenu":"Select workspace type","showingNumAnnotations":"Showing {{number}} annotation","showingNumAnnotations_plural":"Showing {{number}} annotations","showCollection":"Show collection","showZoomControls":"Show zoom controls","sidebarPanelsNavigation":"Sidebar panels navigation","single":"Single","startHere":"Start Here","suggestSearch":"Search this document for \\"{{ query }}\\"","tableOfContentsList":"Table of contents","theme":"Theme","thumbnailList":"Thumbnail list","thumbnailNavigation":"Thumbnails","thumbnails":"Thumbnails","toggleWindowSideBar":"Toggle sidebar","totalCollections":"{{count}} collection","totalCollections_plural":"{{count}} collections","totalManifests":"{{count}} manifest","totalManifests_plural":"{{count}} manifests","tryAgain":"Try again","untitled":"[Untitled]","view":"View","viewWorkspaceConfiguration":"View workspace configuration","welcome":"Welcome to Mirador","window":"Window: {{label}}","windowMenu":"Window views & thumbnail display","windowNavigation":"Window navigation","windowPluginButtons":"Options","windowPluginMenu":"Window options","workspace":"Workspace","workspaceNavigation":"Workspace navigation","workspaceFullScreen":"Full screen","workspaceMenu":"Workspace settings","workspaceOptions":"Workspace options","workspaceSelectionTitle":"Select a workspace type","zoomIn":"Zoom in","zoomOut":"Zoom out","zoomReset":"Reset zoom"}}'),Ce=JSON.parse('{"translation":{"aboutThisItem":"","addedFromUrl":"(URL)","addManifestUrl":"","addManifestUrlHelp":"IIIFURL","addResource":"","annotationCanvasLabel_1/1":": [{{label}}]","annotationCanvasLabel_1/2":": [{{label}}]","annotationCanvasLabel_2/2":": [{{label}}]","annotations":"","attribution":"","attributionTitle":"","book":"","bottom":"","cancel":"","canvasIndex":"","changeTheme":"","closeAddResourceForm":"","closeAddResourceMenu":"","closeCompanionWindow":"","closeWindow":"","collapseSection":"{{section}}","collapseSidePanel":"","itemList":"","copy":"","currentItem":"","currentItem_1/1":"","currentItem_1/2":"","currentItem_2/2":"","dark":"","dismiss":"","highlightAllAnnotations":"","downloadExport":"","downloadExportWorkspace":"","elastic":"","elasticDescription":"","emptyResourceList":"","errorDialogConfirm":"","errorDialogTitle":"","exitFullScreen":"","expandSection":"{{section}}","expandSidePanel":"","fetchManifest":"","fullScreen":"","gallery":"","hideZoomControls":"","iiif_homepage":"","iiif_manifest":"IIIF","iiif_renderings":"","iiif_seeAlso":"","import":"","importWorkspace":"","importWorkspaceHint":"Mirador 3","item":": {{label}}","language":"","light":"","links":"","listAllOpenWindows":"","login":"","manifestError":":","maximizeWindow":"","minimizeWindow":"","mirador":"Mirador","miradorResources":"Mirador","miradorViewer":"Mirador","mosaic":"","mosaicDescription":"","moveCompanionWindowToBottom":"","moveCompanionWindowToRight":"","nextCanvas":"","numItems":"{{number}} ","off":"","openCompanionWindow_annotations":"","openCompanionWindow_attribution":"","openCompanionWindow_canvas":"","openCompanionWindow_info":"","openInCompanionWindow":"","openWindows":"","pagination":"{{current}} / {{total}}","position":"","previewWindowTitle":"{{title}}","previousCanvas":"","related":"","resource":"","right":"","rights":"","selectWorkspaceMenu":"","showingNumAnnotations":" {{number}} ","showZoomControls":"","sidebarPanelsNavigation":"","single":"","startHere":"","theme":"","thumbnailList":"","thumbnailNavigation":"","thumbnails":"","toggleWindowSideBar":"","tryAgain":"","untitled":"[]","view":"","welcome":"Mirador","window":": {{label}}","windowMenu":"","windowNavigation":"","windowPluginButtons":"","workspace":"","workspaceFullScreen":"","workspaceMenu":"","workspaceOptions":"","workspaceSelectionTitle":"","zoomIn":"","zoomOut":"","zoomReset":""}}'),Pe=JSON.parse('{"translation":{"aboutThisItem":"","addedFromUrl":"(URL)","addManifestUrl":"","addManifestUrlHelp":"IIIFURL","addResource":"","annotationCanvasLabel_1/1":": [{{label}}]","annotationCanvasLabel_1/2":": [{{label}}]","annotationCanvasLabel_2/2":": [{{label}}]","annotations":"","attribution":"","attributionTitle":"","book":"","bottom":"","cancel":"","canvasIndex":"","changeTheme":"","closeAddResourceForm":"","closeAddResourceMenu":"","closeCompanionWindow":"","closeWindow":"","collapseSection":"{{section}}","collapseSidePanel":"","itemList":"","copy":"","currentItem":"","currentItem_1/1":"","currentItem_1/2":"","currentItem_2/2":"","dark":"","dismiss":"","highlightAllAnnotations":"","downloadExport":"","downloadExportWorkspace":"","elastic":"","elasticDescription":"","emptyResourceList":"","errorDialogConfirm":"","errorDialogTitle":"","exitFullScreen":"","expandSection":"{{section}}","expandSidePanel":"","fetchManifest":"","fullScreen":"","gallery":"","hideZoomControls":"","iiif_homepage":"","iiif_manifest":"IIIF","iiif_renderings":"","iiif_seeAlso":"","import":"","importWorkspace":"","importWorkspaceHint":"Mirador 3","item":": {{label}}","language":"","light":"","links":"","listAllOpenWindows":"","login":"","manifestError":":","maximizeWindow":"","minimizeWindow":"","mirador":"Mirador","miradorResources":"Mirador","miradorViewer":"Mirador","mosaic":"","mosaicDescription":"","moveCompanionWindowToBottom":"","moveCompanionWindowToRight":"","nextCanvas":"","numItems":"{{number}} ","off":"","openCompanionWindow_annotations":"","openCompanionWindow_attribution":"","openCompanionWindow_canvas":"","openCompanionWindow_info":"","openInCompanionWindow":"","openWindows":"","pagination":"{{current}} / {{total}}","position":"","previewWindowTitle":"{{title}}","previousCanvas":"","related":"","resource":"","right":"","rights":"","selectWorkspaceMenu":"","showingNumAnnotations":" {{number}} ","showZoomControls":"","sidebarPanelsNavigation":"","single":"","startHere":"","theme":"","thumbnailList":"","thumbnailNavigation":"","thumbnails":"","toggleWindowSideBar":"","tryAgain":"","untitled":"[]","view":"","welcome":"Mirador","window":": {{label}}","windowMenu":"","windowNavigation":"","windowPluginButtons":"","workspace":"","workspaceFullScreen":"","workspaceMenu":"","workspaceOptions":"","workspaceSelectionTitle":"","zoomIn":"","zoomOut":"","zoomReset":""}}'),ke=JSON.parse('{"translation":{"aboutMirador":"A propos du projet Mirador","aboutThisItem":"Informations","addedFromUrl":"(Ajout depuis une URL)","addManifestUrl":"Emplacement de la ressource","addManifestUrlHelp":"Coller ici l\'URL de la ressource IIIF","addResource":"Ajouter une ressource","annotationCanvasLabel_1/1":"Item : [{{label}}]","annotationCanvasLabel_1/2":"Gauche : [{{label}}]","annotationCanvasLabel_2/2":"Droite : [{{label}}]","annotations":"Annotations","attribution":"Attribution","attributionTitle":"Droits","authenticationFailed":"L\'authentification a chou.","authenticationRequired":"Authentification requise pour un accs complet","backToResults":"Retour aux rsultats","book":"Livre","bottom":"Bas","cancel":"Annuler","canvasIndex":"Index","changeTheme":"Changer le thme","clearSearch":"effacer","closeAddResourceForm":"Fermer le panneau","closeAddResourceMenu":"Fermer la liste des ressources","closeCompanionWindow":"Fermer le panneau","closeWindow":"Fermer cette fentre","collapseSection":"Replier la section \\"{{section}}\\"","collapseSidePanel":"Replier le panneau","itemList":"Liste compacte","continue":"Continuer","copy":"Copier","currentItem":"Image courante","currentItem_1/1":"Image courante","currentItem_1/2":"Gauche","currentItem_2/2":"Droite","dark":"Thme sombre","digitizedView":"Vue de l\'objet numrique","dismiss":"Rejeter","highlightAllAnnotations":"Afficher tout","displayNoAnnotations":"Masquer tout","downloadExport":"Exporter l\'espace de travail","downloadExportWorkspace":"Exporter l\'espace de travail","elastic":"Elastique","elasticDescription":"Dplacer et redimensionner librement les fentres dans un espace de travail non limit par l\'cran. Les fentres peuvent tre superposes.","emptyResourceList":"Votre liste de ressource est vide","error":"Erreur","errorDialogConfirm":"OK","errorDialogTitle":"Une erreur est survenue","exitFullScreen":"Quitter le plein cran","expandSection":"Dplier la section \\"{{section}}\\"","expandSidePanel":"Dplier le panneau","exportCopied":"La configuration de l\'espace de travail a t copie dans votre presse-papier","fetchManifest":"Ajouter","fullScreen":"Plein cran","gallery":"Galerie","hideZoomControls":"Dsactiver les commandes de zoom","iiif_homepage":"A propos de cette ressource","iiif_manifest":"Manifeste IIIF","iiif_renderings":"Formats alternatifs","iiif_seeAlso":"Voir aussi","import":"Importer","importWorkspace":"Importer un espace de travail","importWorkspaceHint":"Insrer une configuration Mirador 3  importer","item":"Item : {{label}}","jsError":"Dtails techniques","jsStack":"{{ stack }}","language":"Langue","layer_hide":"Masquer le calque","layer_move":"Dplacer le calque","layer_opacity":"Opacit du calque","layer_show":"Afficher le calque","layer_moveToTop":"Dplacer le calque en haut","layers":"Calques","light":"Thme clair","links":"Liens","listAllOpenWindows":"Lister les fentres","login":"Se connecter","logout":"Se dconnecter","manifestError":"Cette ressource ne peut pas tre ajoute :","maximizeWindow":"Agrandir cette fentre","minimizeWindow":"Rduire cette fentre","mirador":"Mirador","miradorResources":"Ressources Mirador","miradorViewer":"Visualiseur Mirador","more":"plus...","moreResults":"Plus de rsultats","mosaic":"Mosaque","mosaicDescription":"Dplacer et redimensionner les fentres les unes par rapport aux autres dans l\'espace disponible sur l\'cran","moveCompanionWindowToBottom":"Dplacer en bas","moveCompanionWindowToRight":"Dplacer  droite","nextCanvas":"Suivant","noItemSelected":"Aucun lment slectionn","numItems":"{{number}} image","numItems_plural":"{{number}} images","off":"aucun","openCompanionWindow_annotations":"Annotations","openCompanionWindow_attribution":"Droits","openCompanionWindow_canvas":"Index","openCompanionWindow_info":"Informations","openCompanionWindow_layers":"Calques","openCompanionWindow_search":"Rechercher","openInCompanionWindow":"Ouvrir dans un panneau spar","openWindows":"Fentres ouvertes","pagination":"{{current}} sur {{total}}","position":"Position","previewWindowTitle":"{{title}}","previousCanvas":"Prcdent","related":"En relation","resource":"Ressource","retry":"Ressayer","right":"Droite","rights":"Licence","scroll":"Dfilement horizontal","searchInputLabel":"Chercher un mot","searchNextResult":"Rsultat suivant","searchNoResults":"Aucun rsultat trouv","searchPreviousResult":"Rsultat prcdent","searchSubmitAria":"Lancer la recherche","searchTitle":"Rechercher","selectWorkspaceMenu":"Changer de type d\'espace de travail","showingNumAnnotations":"{{number}} annotation affiche","showingNumAnnotations_plural":"{{number}} annotations affiches","showCollection":"Voir la collection","showZoomControls":"Activer les commandes de zoom","sidebarPanelsNavigation":"Navigation dans les panneaux latraux","single":"Simple","startHere":"Commencer ici","suggestSearch":"Rechercher \\"{{ query }}\\" dans ce document","tableOfContentsList":"Sommaire","theme":"Thme","thumbnailList":"Liste des vignettes","thumbnailNavigation":"Vignettes","thumbnails":"Afficher les vignettes","toggleWindowSideBar":"Afficher le menu latral","totalCollections":"{{count}} collection","totalCollections_plural":"{{count}} collections","totalManifests":"{{count}} manifeste","totalManifests_plural":"{{count}} manifestes","tryAgain":"Essayer  nouveau","untitled":"[Sans titre]","view":"Voir les images en mode","welcome":"Bienvenue dans Mirador","window":"Fentre : {{label}}","windowMenu":"Options de fentre","windowNavigation":"Navigation dans les fentres","windowPluginButtons":"Options","windowPluginMenu":"Autres options et outils","workspace":"Espace de travail","workspaceNavigation":"Menu de l\'espace de travail","workspaceFullScreen":"Plein cran","workspaceMenu":"Rglages de l\'espace de travail","workspaceOptions":"Options de l\'espace de travail","workspaceSelectionTitle":"Slectionner un type d\'espace de travail","zoomIn":"Zoom avant","zoomOut":"Zoom arrire","zoomReset":"Rinitialiser le zoom"}}'),Re=JSON.parse('{"translation":{"aboutMirador":"Project Mirador","aboutThisItem":"","addedFromUrl":"(URL)","addManifestUrl":"URL","addManifestUrlHelp":"IIIFURL","addResource":"","annotationCanvasLabel_1/1":": [{{label}}]","annotationCanvasLabel_1/2":": [{{label}}]","annotationCanvasLabel_2/2":": [{{label}}]","annotations":"","attribution":"","attributionTitle":"","authenticationFailed":"","authenticationRequired":"","backToResults":"","book":"","bottom":"","cancel":"","canvasIndex":"","changeTheme":"","clearSearch":"","close":"","closeAddResourceForm":"","closeAddResourceMenu":"","closeCompanionWindow":"","closeWindow":"","collapseSection":"{{section}} ","collapseSidePanel":"","collection":"","itemList":"","continue":"","copy":"","currentItem":"","currentItem_1/1":"","currentItem_1/2":"","currentItem_2/2":"","dark":"","digitizedView":"","dismiss":"","highlightAllAnnotations":"","displayNoAnnotations":"","downloadExport":"","downloadExportWorkspace":"","elastic":"","elasticDescription":"","emptyResourceList":"","error":"","errorDialogConfirm":"OK","errorDialogTitle":"","exitFullScreen":"","expandSection":" {{section}}","expandSidePanel":"","exportCopied":"","fetchManifest":"","fullScreen":"","gallery":"","hideZoomControls":"zoom","iiif_homepage":"IIIF","iiif_manifest":"IIIF ","iiif_renderings":"","iiif_seeAlso":"","import":"","importWorkspace":"","importWorkspaceHint":"Mirador3","item":": {{label}}","jsError":"","jsStack":"{{ stack }}","language":"","layer_hide":"","layer_move":"","layer_opacity":"","layer_show":"","layer_moveToTop":"","layers":"","light":"","links":"","listAllOpenWindows":"","login":"","logout":"","manifestError":":","maximizeWindow":"","minimizeWindow":"","mirador":"Mirador","miradorResources":"Mirador","miradorViewer":"Mirador","more":"...","moreResults":"","mosaic":"","mosaicDescription":"","moveCompanionWindowToBottom":"","moveCompanionWindowToRight":"","nextCanvas":"","noItemSelected":"","numItems":"{{number}} ","off":"","openCompanionWindow_annotations":"","openCompanionWindow_attribution":"","openCompanionWindow_canvas":"","openCompanionWindow_info":"","openCompanionWindow_layers":"","openCompanionWindow_search":"","openInCompanionWindow":"","openWindows":"","pagination":"{{current}} of {{total}}","position":"","previewWindowTitle":"{{title}}","previousCanvas":"","related":"","resource":"","retry":"","right":"","rights":"","scroll":"","searchInputLabel":"","searchNextResult":"","searchNoResults":"","searchPreviousResult":"","searchSubmitAria":"","searchTitle":"","selectWorkspaceMenu":"","showingNumAnnotations":" {{number}} ","showCollection":"","showZoomControls":"","sidebarPanelsNavigation":"","single":"","startHere":"","suggestSearch":" \\"{{ query }}\\" ","tableOfContentsList":"","theme":"","thumbnailList":"","thumbnailNavigation":"","thumbnails":"","toggleWindowSideBar":"","totalCollections":"{{count}} ","totalManifests":"{{count}} ","tryAgain":"","untitled":"[]","view":"","welcome":"Mirador","window":"{{label}} ","windowMenu":"","windowNavigation":"","windowPluginButtons":"","windowPluginMenu":"","workspace":"","workspaceNavigation":"","workspaceFullScreen":"","workspaceMenu":"","workspaceOptions":"","workspaceSelectionTitle":"","zoomIn":"","zoomOut":"","zoomReset":""}}'),Ie=JSON.parse('{"translation":{"aboutMirador":"Mirador  ","aboutThisItem":"  ","addedFromUrl":"(URL )","addManifestUrl":" ","addManifestUrlHelp":"IIIF  URL","addResource":" ","annotationCanvasLabel_1/1":": [{{label}}]","annotationCanvasLabel_1/2":": [{{label}}]","annotationCanvasLabel_2/2":": [{{label}}]","annotations":"","attribution":"","attributionTitle":"","authenticationFailed":" .","authenticationRequired":"     .","backToResults":" ","book":"","bottom":"","cancel":"","canvasIndex":"","changeTheme":" ","clearSearch":"","close":"","closeAddResourceForm":" ","closeAddResourceMenu":"  ","closeCompanionWindow":" ","closeWindow":" ","collapseSection":"\\"{{section}}\\"  ","collapseSidePanel":" ","collection":"","itemList":" ","continue":"","copy":"","currentItem":" ","currentItem_1/1":" ","currentItem_1/2":"","currentItem_2/2":"","dark":" ","digitizedView":" ","dismiss":"","highlightAllAnnotations":" ","displayNoAnnotations":" ","downloadExport":" ","downloadExportWorkspace":" ","elastic":"","elasticDescription":"     .     .","emptyResourceList":"  ","error":"","errorDialogConfirm":"","errorDialogTitle":" ","exitFullScreen":" ","expandSection":"\\"{{section}}\\"  ","expandSidePanel":" ","exportCopied":"   ","fetchManifest":"","fullScreen":"","gallery":"","hideZoomControls":"/  ","iiif_homepage":"  ","iiif_manifest":"IIIF ","iiif_renderings":" ","iiif_seeAlso":"","import":"","importWorkspace":" ","importWorkspaceHint":"Mirador 3   ","item":": {{label}}","jsError":" ","jsStack":"{{ stack }}","language":"","layer_hide":" ","layer_move":" ","layer_opacity":" ","layer_show":" ","layer_moveToTop":"  ","layers":"","light":" ","links":"","listAllOpenWindows":" ","login":"","logout":"","manifestError":"   :","maximizeWindow":"  ","minimizeWindow":"  ","mirador":"Mirador","miradorResources":"Mirador ","miradorViewer":"Mirador ","more":" ...","moreResults":"  ","mosaic":"","mosaicDescription":"     .","moveCompanionWindowToBottom":" ","moveCompanionWindowToRight":" ","nextCanvas":" ","noItemSelected":"  ","numItems":"{{number}} ","numItems_plural":"{{number}} ","off":"","openCompanionWindow_annotations":"","openCompanionWindow_attribution":"","openCompanionWindow_canvas":"","openCompanionWindow_info":"","openCompanionWindow_layers":"","openCompanionWindow_search":"","openInCompanionWindow":"  ","openWindows":"  ","pagination":"{{current}} of {{total}}","position":"","previewWindowTitle":"{{title}}","previousCanvas":" ","related":"","resource":"","retry":"","right":"","rights":"","scroll":"","searchInputLabel":" ","searchNextResult":" ","searchNoResults":"  ","searchPreviousResult":" ","searchResultsRemaining":"{{numLeft}} ","searchSubmitAria":"","searchTitle":"","selectWorkspaceMenu":"  ","showingNumAnnotations":"{{number}}  ","showingNumAnnotations_plural":"{{number}}  ","showCollection":" ","showZoomControls":"/  ","sidebarPanelsNavigation":"  ","single":" ","startHere":"","suggestSearch":"  \\"{{ query }}\\" ","tableOfContentsList":"","theme":"","thumbnailList":" ","thumbnailNavigation":"","thumbnails":"","toggleWindowSideBar":" ","totalCollections":"{{count}} ","totalCollections_plural":"{{count}} ","totalManifests":"{{count}} ","totalManifests_plural":"{{count}} ","tryAgain":" ","untitled":"[ ]","view":"","viewWorkspaceConfiguration":"  ","welcome":"Mirador   ","window":": {{label}}","windowMenu":"  &  ","windowNavigation":" ","windowPluginButtons":"","windowPluginMenu":" ","workspace":"","workspaceNavigation":" ","workspaceFullScreen":"","workspaceMenu":" ","workspaceOptions":" ","workspaceSelectionTitle":"  ","zoomIn":"","zoomOut":"","zoomReset":" "}}'),Me=JSON.parse('{"translation":{"aboutThisItem":"Over dit item","addedFromUrl":"(Toegevoegd via URL)","addManifestUrl":"Locatie bron","addManifestUrlHelp":"De URL van een IIIF-resource","addResource":"Voeg bron toe","annotationCanvasLabel_1/1":"Item: [{{label}}]","annotationCanvasLabel_1/2":"Links: [{{label}}]","annotationCanvasLabel_2/2":"Rechts: [{{label}}]","annotations":"Annotaties","attribution":"Naamsvermelding","attributionTitle":"Rechten","authenticationFailed":"Authenticatie gefaald.","authenticationRequired":"Authenticatie is vereist voor volledige toegang","backToResults":"Terug naar resultaten","book":"Boek","bottom":"Onderaan","cancel":"Annuleer","canvasIndex":"Index","changeTheme":"Wijzig thema","clearSearch":"clear","closeAddResourceForm":"Sluit formulier","closeAddResourceMenu":"Sluit lijst met bronnen","closeCompanionWindow":"Sluit paneel","closeWindow":"Sluit venster","collapseSection":"Klap \\"{{section}}\\" sectie in","collapseSidePanel":"Klap zijbalk in","itemList":"Compacte lijst","continue":"Ga verder","copy":"Kopieer","currentItem":"Huidig item","currentItem_1/1":"Huidig item","currentItem_1/2":"Links","currentItem_2/2":"Rechts","dark":"Donker thema","dismiss":"Dismiss","highlightAllAnnotations":"Markeer alles","downloadExport":"Exporteer workspace","downloadExportWorkspace":"Exporteer workspace","elastic":"Elastisch","elasticDescription":"Verplaats en rangschik vensters vrij in een onbeperkte workspace. Vensters kunnen elkaar overlappen.","emptyResourceList":"Je lijst met bronnen is leeg","errorDialogConfirm":"OK","errorDialogTitle":"Er is een fout opgetreden","exitFullScreen":"Verlaat volledig scherm","expandSection":"Klap \\"{{section}}\\" sectie uit","expandSidePanel":"Klap zijbalk uit","fetchManifest":"Voeg toe","fullScreen":"Volledig scherm","gallery":"Gallerij","hideZoomControls":"Verberg zoomknoppen","iiif_homepage":"Over deze bron","iiif_manifest":"IIIF-manifest","iiif_renderings":"Alternatieve formaten","iiif_seeAlso":"Zie ook","import":"Importeer","importWorkspace":"Importeer workspace","importWorkspaceHint":"Plak een Mirador 3 configuratie die gemporteerd moet worden","item":"Item: {{label}}","language":"Taal","light":"Licht thema","links":"Links","listAllOpenWindows":"Ga naar venster","login":"Log in","manifestError":"De bron kan niet worden toegevoegd:","maximizeWindow":"Maximaliseer venster","minimizeWindow":"Minimaliseer venster","mirador":"Mirador","miradorResources":"Mirador resources","miradorViewer":"Mirador viewer","more":"meer...","moreResults":"Meer resultaten","mosaic":"Mozaek","mosaicDescription":"Verplaats en rangschik vensters in verhouding tot elkaar binnen het zichtbare kader.","moveCompanionWindowToBottom":"Verplaats naar beneden","moveCompanionWindowToRight":"Verplaats naar rechts","nextCanvas":"Volgend item","numItems":"{{number}} item","numItems_plural":"{{number}} items","off":"Uit","openCompanionWindow_annotations":"Annotaties","openCompanionWindow_attribution":"Rechten","openCompanionWindow_canvas":"Index","openCompanionWindow_info":"Informatie","openCompanionWindow_search":"Zoeken","openInCompanionWindow":"Open in een apart paneel","openWindows":"Geopende vensters","pagination":"{{current}} van {{total}}","position":"Positie","previewWindowTitle":"{{title}}","previousCanvas":"Vorig item","related":"Verwant","resource":"Bron","retry":"Probeer opnieuw","right":"Rechts","rights":"Licentie","searchInputLabel":"zoek termen","searchNextResult":"Volgend resultaat","searchNoResults":"Geen resultaten gevonden","searchPreviousResult":"Vorig resultaat","searchSubmitAria":"Zoeken","searchTitle":"Zoek","selectWorkspaceMenu":"Selecteer workspacetype","showingNumAnnotations":"{{number}} annotatie weergegeven","showingNumAnnotations_plural":"{{number}} annotaties weergegeven","showZoomControls":"Toon zoomknoppen","sidebarPanelsNavigation":"Zijbalk panelen navigatie","single":"Enkel","startHere":"Begin Hier","suggestSearch":"Zoek in dit document naar \\"{{ query }}\\"","theme":"Thema","thumbnailList":"Lijst thumbnails","thumbnailNavigation":"Thumbnails","thumbnails":"Thumbnails","toggleWindowSideBar":"Toon zijbalk","totalCollections":"{{count}} collectie","totalCollections_plural":"{{count}} collecties","totalManifests":"{{count}} manifest","totalManifests_plural":"{{count}} manifests","tryAgain":"Probeer opnieuw","untitled":"[Zonder titel]","view":"Weergave","welcome":"Welkom in Mirador","window":"Venster: {{label}}","windowMenu":"Vensters- en miniatuurweergave","windowNavigation":"Navigatie venster","windowPluginButtons":"Opties","windowPluginMenu":"Vensteropties","workspace":"Workspace","workspaceFullScreen":"Volledig scherm","workspaceMenu":"Workspace instellingen","workspaceOptions":"Workspace opties","workspaceSelectionTitle":"Selecteer een workspace type","zoomIn":"Zoom in","zoomOut":"Zoom out","zoomReset":"Reset zoom"}}'),De=JSON.parse('{"translation":{"aboutMirador":"O Projekcie Mirador","aboutThisItem":"O biecej pozycji","addedFromUrl":"(Dodano z URL)","addManifestUrl":"Lokalizacja zasobw","addManifestUrlHelp":"URL zasobw IIIF","addResource":"Dodaj zasoby","annotationCanvasLabel_1/1":"Pozycja: [{{label}}]","annotationCanvasLabel_1/2":"Lewo: [{{label}}]","annotationCanvasLabel_2/2":"Prawo: [{{label}}]","annotations":"Adnotacje","attribution":"Atrybucja","attributionTitle":"Prawa","authenticationFailed":"Uwierzytelnianie nie powiodo si.","authenticationRequired":"Do penego dostpu wymagane jest uwierzytelnienie","backToResults":"Powrt do wynikw","book":"Ksika","bottom":"D","cancel":"Anuluj","canvasIndex":"Indeks","changeTheme":"Zmie motyw","clearSearch":"wyczy","close":"Zamknij","closeAddResourceForm":"Zamknij formularz","closeAddResourceMenu":"Zamknij list zasobw","closeCompanionWindow":"Zamknij panel","closeWindow":"Zamknij okno","collapseSection":"Zwi sekcj \\"{{section}}\\"","collapseSidePanel":"Zwi panel boczny","collection":"Zbir","itemList":"Lista pozycji","continue":"Kontynuuj","copy":"Kopiuj","currentItem":"Bieca pozycja","currentItem_1/1":"Bieca pozycja","currentItem_1/2":"Lewo","currentItem_2/2":"Prawo","dark":"Ciemny motyw","digitizedView":"Widok zdigitalizowany","dismiss":"Odrzu","highlightAllAnnotations":"Podwietl wszystko","displayNoAnnotations":"Nie podwietlaj","downloadExport":"Eksportuj obszar roboczy","downloadExportWorkspace":"Eksportuj obszar roboczy","elastic":"Elastyczny","elasticDescription":"Swobodnie przesuwaj i dopasowuj okna w nieograniczonej przestrzeni roboczej. Okna mog zachodzi na siebie.","emptyResourceList":"Twoja lista zasobw jest pusta","error":"Bd","errorDialogConfirm":"OK","errorDialogTitle":"Wystpi bd","exitFullScreen":"Wycz tryb penoekranowy","expandSection":"Rozwi sekcj \\"{{section}}\\"","expandSidePanel":"Rozwi panel boczny","exportCopied":"Konfiguracja obszaru roboczego zostaa skopiowana do schowka","fetchManifest":"Dodaj","fullScreen":"Peny ekran","gallery":"Galeria","hideZoomControls":"Ukryj kontrolki powikszenia","iiif_homepage":"O tym zasobie","iiif_manifest":"Manifest IIIF","iiif_renderings":"Alternatywne formaty","iiif_seeAlso":"Zobacz te","import":"Importuj","importWorkspace":"Importuj obszar roboczy","importWorkspaceHint":"Wklej konfiguracj Mirador 3 do zaimportowania","item":"Pozycja: {{label}}","jsError":"Szczegy techniczne","jsStack":"{{ stack }}","language":"Jzyk","layer_hide":"Ukryj warstw","layer_move":"Przenie warstw","layer_opacity":"Krycie warstwy","layer_show":"Poka warstw","layer_moveToTop":"Przenie warstw na gr","layers":"Warstwy","light":"Jasny motyw","links":"Linki","listAllOpenWindows":"Przejd do okna","login":"Zaloguj","logout":"Wyloguj","manifestError":"Nastpujce zasoby nie mog by dodane:","maximizeWindow":"Maksymalizuj okno","minimizeWindow":"Minimalizuj okno","mirador":"Mirador","miradorResources":"Zasoby Mirador","miradorViewer":"Przegldarka Mirador","more":"wicej...","moreResults":"Wicej wynikw","mosaic":"Mozaika","mosaicDescription":"Przesuwaj i zmieniaj rozmiary okien wzgldem siebie, w widocznej ramce.","moveCompanionWindowToBottom":"Przesu na d","moveCompanionWindowToRight":"Przesu w prawo","nextCanvas":"Nastpna pozycja","noItemSelected":"Nie wybrano pozycji","numItems":"{{number}} pozycja","numItems_plural":"{{number}} pozycje","off":"Wycz","openCompanionWindow_annotations":"Adnotacje","openCompanionWindow_attribution":"Prawa","openCompanionWindow_canvas":"Indeks","openCompanionWindow_info":"Informacje","openCompanionWindow_layers":"Warstwy","openCompanionWindow_search":"Szukaj","openInCompanionWindow":"Otwrz w oddzielnym panelu","openWindows":"Aktualnie otwarte okna","pagination":"{{current}} of {{total}}","position":"Pozycja","previewWindowTitle":"{{title}}","previousCanvas":"Poprzednia pozycja","related":"Powizane","resource":"Zasoby","retry":"Sprbuj ponownie","right":"Prawo","rights":"Licencja","scroll":"Przewi","searchInputLabel":"szukane sowa","searchNextResult":"Nastpny wynik","searchNoResults":"Nie znaleziono wynikw","searchPreviousResult":"Poprzedni wynik","searchResultsRemaining":"Pozostao {{numLeft}}","searchSubmitAria":"Wyszukaj","searchTitle":"Wyszukaj","selectWorkspaceMenu":"Wybierz typ obszaru roboczego","showingNumAnnotations":"Wywietlanie {{number}} adnotacji","showingNumAnnotations_plural":"Wywietlanie {{number}} adnotacji","showCollection":"Poka zbir","showZoomControls":"Poka kontrolki powikszenia","sidebarPanelsNavigation":"Nawigacja paskw panelu bocznego","single":"Pojedynczy","startHere":"Zacznij tutaj","suggestSearch":"Przeszukaj ten dokument pod ktem \\"{{ query }}\\"","tableOfContentsList":"Spis treci","theme":"Motyw","thumbnailList":"Lista miniatur","thumbnailNavigation":"Miniatury","thumbnails":"Miniatury","toggleWindowSideBar":"Przecz panel boczny","totalCollections":"{{count}} zbir","totalCollections_plural":"{{count}} zbiorw","totalManifests":"{{count}} manifest","totalManifests_plural":"{{count}} manifestw","tryAgain":"Sprbuj ponownie","untitled":"[Bez nazwy]","view":"Widok","viewWorkspaceConfiguration":"Wywietl konfiguracj obszaru roboczego","welcome":"Witaj w Miradorze","window":"Okno: {{label}}","windowMenu":"Widoki okien i wywietlanie miniatur","windowNavigation":"Nawigacja okna","windowPluginButtons":"Opcje","windowPluginMenu":"Opcje okna","workspace":"Obszar roboczy","workspaceNavigation":"Nawigacja obszaru roboczego","workspaceFullScreen":"Peny ekran","workspaceMenu":"Ustawienia obszaru roboczego","workspaceOptions":"Opcje obszaru roboczego","workspaceSelectionTitle":"Wybierz typ obszaru roboczego","zoomIn":"Przybli","zoomOut":"Oddal","zoomReset":"Zresetuj powikszenie"}}'),je=JSON.parse('{"translation":{"aboutThisItem":"Sobre esse item","addedFromUrl":"(Adicionado por URL)","addManifestUrl":"Localizao do manifesto","addManifestUrlHelp":"URL do manifesto IIIF","addResource":"Adicionar contedo","annotationCanvasLabel_1/1":"Item: [{{label}}]","annotationCanvasLabel_1/2":"Esquerda: [{{label}}]","annotationCanvasLabel_2/2":"Direita: [{{label}}]","annotations":"Anotaes","attribution":"Atribuies","attributionTitle":"Direitos","authenticationFailed":"Falha na autenticao.","authenticationRequired":"Autenticao necessria para acesso completo","backToResults":"Voltar aos resultados","book":"Livro","bottom":"Embaixo","cancel":"Cancelar","canvasIndex":"ndice","changeTheme":"Mudar tema","clearSearch":"limpar","closeAddResourceForm":"Fechar formulrio","closeAddResourceMenu":"Fechar lista de contedo","closeCompanionWindow":"Fechar painel","closeWindow":"Fechar janela","collapseSection":"Suprimir seo \\"{{section}}\\"","collapseSidePanel":"Suprimir barra lateral","itemList":"Lista compacta","continue":"Continuar","copy":"Copiar","currentItem":"Item atual","currentItem_1/1":"Item atual","currentItem_1/2":"Esquerda","currentItem_2/2":"Direita","dark":"Tema escuro","dismiss":"Cancelar","highlightAllAnnotations":"Exibir todas","downloadExport":"Exportar rea de trabalho","downloadExportWorkspace":"Exportar rea de trabalho","elastic":"Elstico","elasticDescription":"Mova e redimensione janelas livremente numa rea de trabalho ilimitada. Janelas podem se sobrepor.","emptyResourceList":"Sua lista de contedos est vazia","errorDialogConfirm":"OK","errorDialogTitle":"Um erro ocorreu","exitFullScreen":"Sair do modo tela cheia","expandSection":"Expandir seo \\"{{section}}\\"","expandSidePanel":"Expandir barra lateral","fetchManifest":"Adicionar","fullScreen":"Tela cheia","gallery":"Galeria","hideZoomControls":"Ocultar controles de zoom","iiif_homepage":"Sobre esse contedo","iiif_manifest":"Manifesto IIIF","iiif_renderings":"Outros formatos","iiif_seeAlso":"Veja tambm","import":"Importar","importWorkspace":"Importar rea de trabalho","importWorkspaceHint":"Cole uma configurao do Mirador 3 para importar","item":"Item: {{label}}","language":"Idioma","light":"Tema claro","links":"Links","listAllOpenWindows":"Pular para janela","login":"Login","manifestError":"O contedo no pode ser adicionado:","maximizeWindow":"Maximizar janela","minimizeWindow":"Minimizar janela","mirador":"Mirador","miradorResources":"contedo Mirador","miradorViewer":"visualizador Mirador","more":"mais...","moreResults":"Mais resultados","mosaic":"Mosico","mosaicDescription":"Mova e redimensione janelas em relao entre si, dentro de uma rea visvel (grid).","moveCompanionWindowToBottom":"Mover para baixo","moveCompanionWindowToRight":"Mover para direita","nextCanvas":"Prximo item","numItems":"{{number}} itens","off":"Desativado","openCompanionWindow_annotations":"Anotaes","openCompanionWindow_attribution":"Direitos","openCompanionWindow_canvas":"ndice","openCompanionWindow_info":"Informaes","openCompanionWindow_search":"Busca","openInCompanionWindow":"Abrir em janela separada","openWindows":"Janelas abertas","pagination":"{{current}} de {{total}}","position":"Posio","previewWindowTitle":"{{title}}","previousCanvas":"Item anterior","related":"Relacionado","resource":"Contedo","retry":"Tentar novamente","right":"Direita","rights":"Licenas","searchInputLabel":"termos de busca","searchNextResult":"Prximo resultado","searchNoResults":"Nenhum resultado encontrado","searchPreviousResult":"Resultado anterior","searchSubmitAria":"Realizar busca","searchTitle":"Busca","selectWorkspaceMenu":"Selecione um tipo de rea de trabalho","showingNumAnnotations":"Mostrando {{number}} anotaes","showZoomControls":"Mostrar controles de zoom","sidebarPanelsNavigation":"Navegao por paineis na barra lateral","single":"Individual","startHere":"Comece aqui","suggestSearch":"Procurar neste documento por \\"{{ query }}\\"","theme":"Tema","thumbnailList":"Lista de thumbnails","thumbnailNavigation":"Thumbnails","thumbnails":"Thumbnails","toggleWindowSideBar":"Ver barra lateral","tryAgain":"Tente novamente","untitled":"[Sem ttulo]","view":"Visualizaes","welcome":"Bem-vindo ao Mirador","window":"Janela: {{label}}","windowMenu":"Opes de visualizao de janelas e thumbnails","windowNavigation":"Navegao de janelas","windowPluginButtons":"Opes","windowPluginMenu":"Opes de janela","workspace":"rea de trabalho","workspaceFullScreen":"Tela cheia","workspaceMenu":"Configuraes de rea de trabalho","workspaceOptions":"Opes de rea de trabalho","workspaceSelectionTitle":"Selecionar tipo de rea de trabalho","zoomIn":"Mais zoom","zoomOut":"Menos zoom","zoomReset":"Zerar zoom"}}'),Le=JSON.parse('{"translation":{"aboutMirador":"Informazioni su Mirador","aboutThisItem":"Informazioni sull\'oggetto","addManifestUrl":"URL della risorsa","addManifestUrlHelp":"L\'URL di una risorsa IIIF","addResource":"Aggiungi una risorsa","addedFromUrl":"(Aggiunto dall\'URL)","annotationCanvasLabel_1/1":"Oggetto: [{{label}}]","annotationCanvasLabel_1/2":"Sinistra: [{{label}}]","annotationCanvasLabel_2/2":"Destra: [{{label}}]","annotations":"Annotazioni","attribution":"Attribuzione","attributionTitle":"Diritti","authenticationFailed":"Autenticazione fallita.","authenticationRequired":"Autenticazione richiesta per l\'accesso completo","backToResults":"Torna ai risultati","book":"Libro","bottom":"Fondo","cancel":"Cancella","canvasIndex":"Indice","changeTheme":"Cambia tema","clearSearch":"pulisci","close":"Chiudi","closeAddResourceForm":"Chiudi il modulo","closeAddResourceMenu":"Chiudi la lista di risorse","closeCompanionWindow":"Chiudi il pannello","closeWindow":"Chiudi finestra","collapseSection":"Collassa la sezione \\"{{section}}\\"","collapseSidePanel":"Collassa la barra laterale","collection":"Collezione","continue":"Continua","copy":"Copia","currentItem":"Oggetto corrente","currentItem_1/1":"Oggetto corrente","currentItem_1/2":"Sinistra","currentItem_2/2":"Destra","dark":"Tema scuro","digitizedView":"Digitized view","dismiss":"Dismiss","displayNoAnnotations":"Nascondi evidenziazione","downloadExport":"Esporta il workspace","downloadExportWorkspace":"Esporta il workspace","elastic":"Elastico","elasticDescription":"Muovi e ridimensiona le finestre liberamente in un workspace illimitato. Le finestre possono sovrapporsi.","emptyResourceList":"La tua lista di risorse  vuota.","error":"Errore","errorDialogConfirm":"OK","errorDialogTitle":"Si  verificato un errore.","exitFullScreen":"Esci da schermo intero","expandSection":"Espandi la sezione \\"{{section}}\\"","expandSidePanel":"Espandi la barra laterale","exportCopied":"La configurazione del workspace  stata copiata nella tua clipboard","fetchManifest":"Aggiungi","fullScreen":"Schermo intero","gallery":"Galleria","hideZoomControls":"Nascondi i controlli di zoom","highlightAllAnnotations":"Evidenzia tutto","iiif_homepage":"Informazioni su questa risorsa","iiif_manifest":"IIIF manifest","iiif_renderings":"Formati alternativi","iiif_seeAlso":"Vedi anche","import":"Importa","importWorkspace":"Importa workspace","importWorkspaceHint":"Incolla una configurazione di Mirador 3 da importare","item":"Oggetto: {{label}}","itemList":"Lista compatta","jsError":"Dettagli tecnici","jsStack":"{{ stack }}","language":"Lingua","layer_hide":"Nascondi livello","layer_move":"Sposta livello","layer_moveToTop":"Sposta il livello in alto","layer_opacity":"Opacit del livello","layer_show":"Visualizza livello","layers":"Livelli","light":"Tema chiaro","links":"Link","listAllOpenWindows":"Vai alla finestra","login":"Entra","logout":"Esci","manifestError":"La risorsa non pu essere aggiunta:","maximizeWindow":"Massimizza la finestra","minimizeWindow":"Minimizza la finestra","mirador":"Mirador","miradorResources":"Risorse Mirador","miradorViewer":"Visualizzatore Mirador","more":"ancora...","moreResults":"Pi risultati","mosaic":"Mosaico","mosaicDescription":"Muovi e ridimensiona le finestre, tenendole all\'interno dell\'area visibile","moveCompanionWindowToBottom":"Sposta in fondo","moveCompanionWindowToRight":"Sposta a destra","nextCanvas":"Prossimo oggetto","noItemSelected":"Nessun oggetto selezionato","numItems":"{{number}} oggetti","numItems_plural":"{{number}} oggetti","off":"Off","openCompanionWindow_annotations":"Annotazioni","openCompanionWindow_attribution":"Diritti","openCompanionWindow_canvas":"Indice","openCompanionWindow_info":"Informazioni","openCompanionWindow_layers":"Livelli","openCompanionWindow_search":"Cerca","openInCompanionWindow":"Apri in un pannello separato","openWindows":"Finestre aperte in questo momento","pagination":"{{current}} di {{total}}","position":"Posizione","previewWindowTitle":"{{title}}","previousCanvas":"Previous item","related":"Contenuti collegati","resource":"Risorsa","retry":"Riprova","right":"Right","rights":"Licenza","scroll":"Scorri","searchInputLabel":"termini di ricerca","searchNextResult":"Prossimo risultato","searchNoResults":"Nessun risultato","searchPreviousResult":"Risultato precedente","searchResultsRemaining":"{{numLeft}} rimanenti","searchSubmitAria":"Cerca","searchTitle":"Cerca","selectWorkspaceMenu":"Selezione il tipo di workspace","showCollection":"Visualizza la collezione","showZoomControls":"Mostra i controlli di zoom","showingNumAnnotations":"Sto mostrando {{number}} annotazioni","showingNumAnnotations_plural":"Visualizzando {{number}} annotazioni","sidebarPanelsNavigation":"Navigazione dei pannelli della barra laterale","single":"Singolo","startHere":"Inizia qui","suggestSearch":"Cerca in questo documento: \\"{{ query }}\\"","tableOfContentsList":"Sommario","theme":"Tema","thumbnailList":"Lista thumbnail","thumbnailNavigation":"Thumbnails","thumbnails":"Thumbnails","toggleWindowSideBar":"Apri/Chiudi la barra","totalCollections":"{{count}} collezione","totalCollections_plural":"{{count}} collezioni","totalManifests":"{{count}} manifest","totalManifests_plural":"{{count}} manifests","tryAgain":"Riprova","untitled":"[senza titolo]","view":"Visualizza","viewWorkspaceConfiguration":"Visualizza la configurazione del workspace","welcome":"Benvenuto in Mirador","window":"Finestra: {{label}}","windowMenu":"Visualizzazioni finestra e display thumbnail","windowNavigation":"Navigazione finestra","windowPluginButtons":"Opzioni","windowPluginMenu":"Opzioni finestra","workspace":"Workspace","workspaceFullScreen":"Schermo intero","workspaceMenu":"Configurazioni Workspace","workspaceNavigation":"Navigazione del workspace","workspaceOptions":"Opzioni Workspace","workspaceSelectionTitle":"Seleziona il tipo di workspace","zoomIn":"Zoom in","zoomOut":"Zoom out","zoomReset":"Reset zoom"}}'),Ne=JSON.parse('{"translation":{"aboutMirador":"  Mirador","aboutThisItem":"","addedFromUrl":"(  URL)","addManifestUrl":" ","addManifestUrlHelp":"URL IIIF ","addResource":" ","annotationCanvasLabel_1/1":": [{{label}}]","annotationCanvasLabel_1/2":": [{{label}}]","annotationCanvasLabel_2/2":": [{{label}}]","annotations":"","attribution":"","attributionTitle":"","authenticationFailed":" .","authenticationRequired":"     ","backToResults":"  ","book":"","bottom":" ","cancel":"","canvasIndex":"","changeTheme":" ","clearSearch":"","close":"","closeAddResourceForm":"","closeAddResourceMenu":"  ","closeCompanionWindow":" ","closeWindow":" ","collapseSection":" \\"{{section}}\\" ","collapseSidePanel":"","collection":"","itemList":" ","continue":"","copy":"","currentItem":" ","currentItem_1/1":" ","currentItem_1/2":"","currentItem_2/2":"","dark":" ","digitizedView":"  ","dismiss":"","highlightAllAnnotations":" ","displayNoAnnotations":" ","downloadExport":"  ","downloadExportWorkspace":"  ","elastic":"","elasticDescription":"         .       .","emptyResourceList":"    ","error":"","errorDialogConfirm":"OK","errorDialogTitle":"   ","exitFullScreen":"     ","expandSection":" \\"{{section}}\\" ","expandSidePanel":"","exportCopied":"       ","fetchManifest":"","fullScreen":"   ","gallery":"","hideZoomControls":"  ","iiif_homepage":" ","iiif_manifest":"IIIF manifest","iiif_renderings":" ","iiif_seeAlso":" ","import":"","importWorkspace":"  ","importWorkspaceHint":"  Mirador 3      ","item":": {{label}}","jsError":" ","jsStack":"{{ stack }}","language":" ","layer_hide":" ","layer_move":" ","layer_opacity":" ","layer_show":" ","layer_moveToTop":"   ","layers":"","light":" ","links":"","listAllOpenWindows":"  ","login":" ","logout":" ","manifestError":"    ","maximizeWindow":" ","minimizeWindow":" ","mirador":"Mirador","miradorResources":"Mirador ","miradorViewer":"Mirador ","more":"...","moreResults":" ","mosaic":"","mosaicDescription":"         ,   .","moveCompanionWindowToBottom":"  ","moveCompanionWindowToRight":"   ","nextCanvas":"","noItemSelected":"  ","numItems":"{{number}} /","off":"","openCompanionWindow_annotations":"","openCompanionWindow_attribution":"","openCompanionWindow_canvas":"","openCompanionWindow_info":"","openCompanionWindow_layers":"","openCompanionWindow_search":"","openInCompanionWindow":"   ","openWindows":"  ","pagination":"{{current}}  {{total}}","position":"","previewWindowTitle":"{{title}}","previousCanvas":"","related":"","resource":"","retry":" ","right":"","rights":"","scroll":"","searchInputLabel":" ","searchNextResult":" ","searchNoResults":"   ","searchPreviousResult":" ","searchSubmitAria":"","searchTitle":"","selectWorkspaceMenu":"   ","showingNumAnnotations":" {{number}} /","showCollection":" ","showZoomControls":"  ","sidebarPanelsNavigation":"  ","single":"","startHere":"","suggestSearch":"  \\"{{ query }}\\"   ","tableOfContentsList":"","theme":"","thumbnailList":" ","thumbnailNavigation":"","thumbnails":"","toggleWindowSideBar":"","totalCollections":"{{count}} /","totalManifests":"{{count}} ()","tryAgain":" ","untitled":"[ ]","view":"","welcome":"   Mirador","window":": {{label}}","windowMenu":"    ","windowNavigation":" ","windowPluginButtons":"","windowPluginMenu":" ","workspace":" ","workspaceFullScreen":"   ","workspaceMenu":"  ","workspaceOptions":"  ","workspaceSelectionTitle":"   ","zoomIn":"","zoomOut":"","zoomReset":" "}}'),ze=JSON.parse('{"translation":{"aboutMirador":"Om Projekt Mirador","aboutThisItem":"Om det hr objektet","addedFromUrl":"(Tillagd frn URL)","addManifestUrl":"Webbadress till samling eller manifest","addManifestUrlHelp":"URL till en IIIF-resurs","addResource":"Lgg till resurs","annotationCanvasLabel_1/1":"Objekt: [{{label}}]","annotationCanvasLabel_1/2":"Vnster: [{{label}}]","annotationCanvasLabel_2/2":"Hger: [{{label}}]","annotations":"Noteringar","attribution":"Tillskrivning","attributionTitle":"Rttigheter","authenticationFailed":"Autentisering misslyckades.","authenticationRequired":"Autentisering krvs fr full tkomst","backToResults":"Tillbaka till resultat","book":"Bok","bottom":"Nederkant","cancel":"Avbryt","canvasIndex":"Index","changeTheme":"ndra tema","clearSearch":"Ta bort skning","close":"Stng","closeAddResourceForm":"Stng formulr","closeAddResourceMenu":"Stng resurslista","closeCompanionWindow":"Stng panel","closeWindow":"Stng fnster","collapseSection":"Stng sektionen \\"{{section}}\\"","collapseSidePanel":"Stng sidoflt","collection":"Samling","itemList":"Objektlista","continue":"Fortstt","copy":"Kopiera","currentItem":"Aktuellt objekt","currentItem_1/1":"Aktuellt objekt","currentItem_1/2":"Vnster","currentItem_2/2":"Hger","dark":"Mrkt tema","digitizedView":"Digitaliserad vy","dismiss":"Stng","highlightAllAnnotations":"Markera alla","displayNoAnnotations":"Avmarkera alla","downloadExport":"Exportera arbetsyta","downloadExportWorkspace":"Exportera arbetsyta","elastic":"Elastisk","elasticDescription":"Flytta och ndra storlek p fnster fritt i en obegrnsad arbetsyta. Fnster kan verlappa.","emptyResourceList":"Din resurslista r tom","error":"Error","errorDialogConfirm":"OK","errorDialogTitle":"Ett problem uppstod","exitFullScreen":"Lmna helskrmslge","expandSection":"Expandera sektionen \\"{{section}}\\"","expandSidePanel":"Expandera sidoflt","exportCopied":"Konfiguration av arbetsytan har kopierats till dina urklipp","fetchManifest":"Lgg till","fullScreen":"Helskrmslge","gallery":"Galleri","hideZoomControls":"Dlj zoomkontroller","iiif_homepage":"Om den hr resursen","iiif_manifest":"IIIF manifest","iiif_renderings":"Alternativa format","iiif_seeAlso":"Se ven","import":"Importera","importWorkspace":"Importera arbetsyta","importWorkspaceHint":"Klistra in en Mirador 3 konfiguration att importera","item":"Objekt: {{label}}","jsError":"Tekniska detaljer","jsStack":"{{ stack }}","language":"Sprk","layer_hide":"Dlj lager","layer_move":"Flytta lager","layer_opacity":"Lageropacitet","layer_show":"Visa lager","layer_moveToTop":"Flytta lager till toppen","layers":"Lager","light":"Ljust tema","links":"Lnkar","listAllOpenWindows":"G till fnster","login":"Logga in","logout":"Logga ut","manifestError":"Resursen kan inte lggas till:","maximizeWindow":"Maximera fnster","minimizeWindow":"Minimera fnster","mirador":"Mirador","miradorResources":"Miradorresurser","miradorViewer":"Mirador bildvisare","more":"mer...","moreResults":"Fler resultat","mosaic":"Mosaik","mosaicDescription":"Flytta och ndra storlek p fnster i relation till varandra, innanfr den synliga ramen.","moveCompanionWindowToBottom":"Flytta till botten","moveCompanionWindowToRight":"Flytta till hger","nextCanvas":"Nsta objekt","noItemSelected":"Inga valda objekt","numItems":"{{number}} objekt","off":"Av","openCompanionWindow_annotations":"Noteringar","openCompanionWindow_attribution":"Rttigheter","openCompanionWindow_canvas":"Index","openCompanionWindow_info":"Information","openCompanionWindow_layers":"Lager","openCompanionWindow_search":"Sk","openInCompanionWindow":"ppna i separat panel","openWindows":"ppna fnster","pagination":"{{current}} av {{total}}","position":"Position","previewWindowTitle":"{{title}}","previousCanvas":"Fregende objekt","related":"Relaterat","resource":"Resurs","retry":"Frsk igen","right":"Till hger","rights":"Licens","scroll":"Scrolla","searchInputLabel":"Skord","searchNextResult":"Nsta resultat","searchNoResults":"Inga resultat hittades","searchPreviousResult":"Fregende resultat","searchResultsRemaining":"{{numLeft}} kvar","searchSubmitAria":"Sk","searchTitle":"Sk","selectWorkspaceMenu":"Vlj typ av arbetsyta","showingNumAnnotations":"Visar {{number}} noteringar","showCollection":"Visa samling","showZoomControls":"Visa zoomkontroller","sidebarPanelsNavigation":"Sidofltspaneler navigering","single":"En och en","startHere":"Brja hr","suggestSearch":"Sk i detta dokument efter \\"{{ query }}\\"","tableOfContentsList":"Innehllsfrteckning","theme":"Tema","thumbnailList":"Miniatyrlista","thumbnailNavigation":"Miniatyrer","thumbnails":"Miniatyrer","toggleWindowSideBar":"Visa/dlj sidoflt","totalCollections":"{{count}} samlingar","totalManifests":"{{count}} manifest","tryAgain":"Frsk igen","untitled":"[namnls]","view":"Vy","welcome":"Vlkommen till Mirador","window":"Fnster: {{label}}","windowMenu":"Fnstervyer & miniatyrdisplay","windowNavigation":"Fnsternavigation","windowPluginButtons":"Instllningar","windowPluginMenu":"Fnsterinstllningar","workspace":"Arbetsyta","workspaceNavigation":"Navigera i arbetsyta","workspaceFullScreen":"Helskrmslge","workspaceMenu":"Instllningar fr arbetsyta","workspaceOptions":"Fler val fr arbetsyta","workspaceSelectionTitle":"Vlj typ av arbetsyta","zoomIn":"Zooma in","zoomOut":"Zooma ut","zoomReset":"terstll zoom"}}'),Be=JSON.parse('{"translation":{"aboutMirador":"Apie Project Mirador","aboutThisItem":"Apie  ra","addedFromUrl":"(Pridta naudojant URL)","addManifestUrl":"altinio adresas","addManifestUrlHelp":"Nuoroda  IIIF altin","addResource":"Pridti altin","annotationCanvasLabel_1/1":"raas: [{{label}}]","annotationCanvasLabel_1/2":"Kair: [{{label}}]","annotationCanvasLabel_2/2":"Dein: [{{label}}]","annotations":"Anotacijos","attribution":"Priskyrimas","attributionTitle":"Teiss","authenticationFailed":"Autentifikavimo klaida.","authenticationRequired":"Pilnai prieigai btina autentifikacija","backToResults":"Grti  rezultatus","book":"Knyga","bottom":"Apaia","cancel":"Ataukti","canvasIndex":"Indeksas","changeTheme":"Keisti tem","clearSearch":"valyti","closeAddResourceForm":"Udaryti paraik","closeAddResourceMenu":"Udaryti altini sra","closeCompanionWindow":"Udaryti panel","closeWindow":"Udaryti lang","collapseSection":"Suskleisti \\"{{section}}\\" sekcij","collapseSidePanel":"Suskleisti onin juost","itemList":"ra sraas","continue":"Tsti","copy":"Kopijuoti","currentItem":"Dabartinis raas","currentItem_1/1":"Dabartinis raas","currentItem_1/2":"Kair","currentItem_2/2":"Dein","dark":"Tamsi tema","digitizedView":"Skaitmenintas vaizdas","dismiss":"Atmesti","highlightAllAnnotations":"Parykinti visk","displayNoAnnotations":"Slpti visk","downloadExport":"Isaugoti darbalauk","downloadExportWorkspace":"Isaugoti darbalauk","elastic":"Lankstus","elasticDescription":"Lang dydis ir vieta gali bti laisvai valdomi. Langai gali persidengti.","emptyResourceList":"Js altini sraas yra tuias","error":"Klaida","errorDialogConfirm":"Gerai","errorDialogTitle":"vyko klaida","exitFullScreen":"Ijungti pilno ekrano reim","expandSection":"Iplsti \\"{{section}}\\" sekcij","expandSidePanel":"Iplsti onin juost","exportCopied":"Darbalaukio nustatymai nukopijuoti","fetchManifest":"Pridti","fullScreen":"Pilnas ekranas","gallery":"Galerija","hideZoomControls":"Slpti priartinimo valdym","iiif_homepage":"Apie  altin","iiif_manifest":"IIIF manifestas","iiif_renderings":"Kiti formatai","iiif_seeAlso":"Susij","import":"kelti","importWorkspace":"kelti darbalauk","importWorkspaceHint":"terpkite Mirador 3 nustatymus klimui","item":"raas: {{label}}","jsError":"Technin informacija","jsStack":"{{ stack }}","language":"Kalba","layer_hide":"Slpti sluoksn","layer_move":"Perkelti sluoksn","layer_opacity":"Sluoksnio nepermatomumas","layer_show":"Rodyti sluoksn","layer_moveToTop":"Perkelti sluoksn  vir","layers":"Sluoksniai","light":"viesi tema","links":"Nuorodos","listAllOpenWindows":"Rodyti aktyvius langus","login":"Prisijungti","logout":"Atsijungti","manifestError":"altinis negali bti pridtas:","maximizeWindow":"Ididinti lang","minimizeWindow":"Sumainti lang","mirador":"Mirador","miradorResources":"Mirador altiniai","miradorViewer":"Mirador irykl","more":"daugiau...","moreResults":"Daugiau rezultat","mosaic":"Mosaic","mosaicDescription":"Lang dydio ir pozicijos keitimai apribojami ekrano erdvje.","moveCompanionWindowToBottom":"Perkelti  apai","moveCompanionWindowToRight":"Perkelti  dein","nextCanvas":"Kitas raas","numItems":"{{number}} raas (-ai)","off":"Ijungti","openCompanionWindow_annotations":"Anotacijos","openCompanionWindow_attribution":"Teiss","openCompanionWindow_canvas":"Indeksas","openCompanionWindow_info":"Informacija","openCompanionWindow_layers":"Sluoksniai","openCompanionWindow_search":"Paieka","openInCompanionWindow":"Atidaryti kaip nauj panel","openWindows":"Aktyvs langai","pagination":"{{current}} i {{total}}","position":"Pozicija","previewWindowTitle":"{{title}}","previousCanvas":"Buvs raas","related":"Susij","resource":"altinis","retry":"Pabandyti i naujo","right":"Dein","rights":"Teiss","scroll":"Paslinkti","searchInputLabel":"paiekos terminas","searchNextResult":"Kitas rezultatas","searchNoResults":"Nra rezultat","searchPreviousResult":"Buvs rezultatas","searchSubmitAria":"Pateikti paiekos uklaus","searchTitle":"Iekoti","selectWorkspaceMenu":"Pasirinkti darbalaukio tip","showingNumAnnotations":"Rodoma {{number}} anotacija (-os)","showCollection":"Rodyti kolekcij","showZoomControls":"Rodyti priartinimo valdym","sidebarPanelsNavigation":"onins juostos valdymas","single":"Atskiras","startHere":"Pradkite ia","suggestSearch":"Iekoti \\"{{ query }}\\" visame documente","tableOfContentsList":"Turinys","theme":"Tema","thumbnailList":"Miniatir sraas","thumbnailNavigation":"Miniatiros","thumbnails":"Miniatiros","toggleWindowSideBar":"Perjungti onin juost","totalCollections":"{{count}} kolekcija (-os)","totalManifests":"{{count}} altinis (-iai)","tryAgain":"Bandykite dar kart","untitled":"[Be pavadinimo]","view":"irti","welcome":"Sveiki atvyk  Mirador","window":"Langas: {{label}}","windowMenu":"Lang & miniatir atvaizdavimas","windowNavigation":"Lang valdymas","windowPluginButtons":"Pasirinkimai","windowPluginMenu":"Lang pasirinkimai","workspace":"Darbalaukis","workspaceNavigation":"Darbalaukio valdymas","workspaceFullScreen":"Pilnas ekranas","workspaceMenu":"Darbalaukio nustatymai","workspaceOptions":"Darbalaukio pasirinkimai","workspaceSelectionTitle":"Pasirinkite darbalaukio tip","zoomIn":"Priartinti","zoomOut":"Atitolinti","zoomReset":"Atstatyti priartinim"}}'),Fe=JSON.parse('{"translation":{"aboutMirador":"V d n Mirador","aboutThisItem":"V khon mc ny","addedFromUrl":"(c thm t URL)","addManifestUrl":"V tr ti nguyn","addManifestUrlHelp":"URL ca ti nguyn IIIF","addResource":"B sung ti nguyn","annotationCanvasLabel_1/1":"Khon mc: [{{label}}]","annotationCanvasLabel_1/2":"Tri: [{{label}}]","annotationCanvasLabel_2/2":"Phi: [{{label}}]","annotations":"Ch gii","attribution":"Quyn hn","attributionTitle":"Quyn","authenticationFailed":"Xc thc tht bi.","authenticationRequired":"Xc thc c yu cu cho truy nhp y ","backToResults":"Tr li kt qu","book":"Sch","bottom":"y","cancel":"Hu b","canvasIndex":"Ch mc","changeTheme":"i ch ","clearSearch":"xo","close":"ng","closeAddResourceForm":"ng mu","closeAddResourceMenu":"ng danh sch ti nguyn","closeCompanionWindow":"ng panel","closeWindow":"ng ca s","collapseSection":"Co sp {{section}} mc","collapseSidePanel":"Co sp thanh bn","collection":"Tuyn tp","itemList":"Danh sch khon mc","continue":"Tip tc","copy":"Sao","currentItem":"Khon mc hin thi","currentItem_1/1":"Khon mc hin thi","currentItem_1/2":"Tri","currentItem_2/2":"Phi","dark":"Ch  ti","digitizedView":"Ci nhn s ho","dismiss":"Bc b","highlightAllAnnotations":"Lm ni bt tt","displayNoAnnotations":"Khng lm ni bt","downloadExport":"Vng xut khu","downloadExportWorkspace":"Vng xut khu","elastic":"Co gin","elasticDescription":"Di chuyn v nh c ca s t do trong vng v gii hn. Ca s c th chn lp.","emptyResourceList":"Danh sch ti nguyn ca bn l trng","error":"Li","errorDialogConfirm":"OK","errorDialogTitle":"Li  xut hin","exitFullScreen":"Ra khi ton mn hnh","expandSection":"M rng {{section}} mc","expandSidePanel":"M rng thanh bn","exportCopied":"Cu hnh vng lm vic c sao vo bng m ca bn","fetchManifest":"Thm","fullScreen":"Ton mn hnh","gallery":"Phng tranh","hideZoomControls":"n iu khin thu phng","iiif_homepage":"V ti nguyn ny","iiif_manifest":"Bn k IIIF","iiif_renderings":"Dng thc lun phin","iiif_seeAlso":"Cng xem","import":"Nhp khu","importWorkspace":"Vng nhp khu","importWorkspaceHint":"Dn cu hnh Mirador 3  c nhp khu","item":"Khon mc: {{label}}","jsError":"Chi tit k thut","jsStack":"{{ stack }}","language":"Ngn ng","layer_hide":"Giu tng","layer_move":"Chuyn tng","layer_opacity":"Lm m tng","layer_show":"Hin tng","layer_moveToTop":"Chuyn tng ln nh","layers":"Tng","light":"Ch  sng","links":"Mc ni","listAllOpenWindows":"Nhy ti ca s","login":"ng nhp","logout":"ng xut","manifestError":"Ti nguyn khng th c b sung:","maximizeWindow":"Cc i ca s","minimizeWindow":"Cc tiu ca s","mirador":"Mirador","miradorResources":"Ti nguyn Mirador","miradorViewer":"B xem Mirador","more":"thm...","moreResults":"Thm kt qu","mosaic":"Mosaic","mosaicDescription":"Di chuyn v nh c ca s trong quan h ln nhau, bn trong khung thy c.","moveCompanionWindowToBottom":"Chuyn ti y","moveCompanionWindowToRight":"Chuyn sang phi","nextCanvas":"Khon mc tip","noItemSelected":"Khng khon mc no c chn","numItems":"{{number}} khon mc","off":"Off","openCompanionWindow_annotations":"Ch gii","openCompanionWindow_attribution":"Quyn","openCompanionWindow_canvas":"Ch mc","openCompanionWindow_info":"Thng tin","openCompanionWindow_layers":"Tng","openCompanionWindow_search":"Tm","openInCompanionWindow":"M trong ngn tch ri","openWindows":"Ca s m hin thi","pagination":"{{current}} trong {{total}}","position":"V tr","previewWindowTitle":"{{title}}","previousCanvas":"Khon mc trc","related":"C lin quan","resource":"Ti nguyn","retry":"Th li","right":"Quyn","rights":"Cp php","scroll":"Cun","searchInputLabel":"T tm kim","searchNextResult":"Kt qu tip","searchNoResults":"Khng tm c kt qu no","searchPreviousResult":"Kt qu trc","searchSubmitAria":" trnh vic tm","searchTitle":"Tm","selectWorkspaceMenu":"Chn kiu vng lm vic","showingNumAnnotations":"Hin {{number}} ch gii","showCollection":"Hin b su tp","showZoomControls":"Hin kim sot thu phng","sidebarPanelsNavigation":"Dn li ngn thanh bn","single":"Ch mt","startHere":"Bt u  y","suggestSearch":"Tm ti liu ny cho \\"{{ query }}\\"","tableOfContentsList":"Mc lc","theme":"Ch ","thumbnailList":"Danh sch nh thu nh","thumbnailNavigation":"nh thu nh","thumbnails":"nh thu nh","toggleWindowSideBar":"cht thanh bn","totalCollections":"{{count}} b su tp","totalManifests":"{{count}} bn k","tryAgain":"Th li","untitled":"[Untitled]","view":"Xem","welcome":"Cho mng bn ti Mirador","window":"Ca s: {{label}}","windowMenu":"Xem ca s & hin th nh thu nh","windowNavigation":"Dn li ca s","windowPluginButtons":"Tu chn","windowPluginMenu":"Tu chn ca s","workspace":"Vng lm vic","workspaceNavigation":"Dn li vng lm vic","workspaceFullScreen":"Ton mn hnh","workspaceMenu":"Thit t vng lm vic","workspaceOptions":"Tu chn vng lm vic","workspaceSelectionTitle":"Chn kiu vng lm vic","zoomIn":"Thu nh","zoomOut":"Phng to","zoomReset":"t li thu phng"}}'),We=JSON.parse('{"translation":{"aboutMirador":"Om Projekt Mirador","aboutThisItem":"Om dette objektet","addedFromUrl":"(Lagt til fra URL)","addManifestUrl":"Nettadresse til samling eller manifest","addManifestUrlHelp":"URL til en IIIF-ressurs","addResource":"Legg til ressurs","annotationCanvasLabel_1/1":"Objekt: [{{label}}]","annotationCanvasLabel_1/2":"Venstre: [{{label}}]","annotationCanvasLabel_2/2":"Hyre: [{{label}}]","annotations":"Annoteringer","attribution":"Tilskrivelse","attributionTitle":"Rettigheter","authenticationFailed":"Autentiseringen feilet.","authenticationRequired":"Autentisering kreves for full tilgang","backToResults":"Tilbake til resultat","book":"Bok","bottom":"Nederst","cancel":"Avbryt","canvasIndex":"Index","changeTheme":"Skift tema","clearSearch":"Fjern sket","close":"Lukk","closeAddResourceForm":"Lukk skjemaet","closeAddResourceMenu":"Lukk ressurslisten","closeCompanionWindow":"Lukk panelet","closeWindow":"Lukk vinduet","collapseSection":"Lukk seksjonen \\"{{section}}\\"","collapseSidePanel":"Lukk sidemenyen","collection":"Samling","itemList":"Objektliste","continue":"Fortsett","copy":"Kopiere","currentItem":"Valgt objekt","currentItem_1/1":"Valgt objekt","currentItem_1/2":"Venstre","currentItem_2/2":"Hyre","dark":"Mrkt tema","digitizedView":"Digitalisert visning","dismiss":"Lukk","highlightAllAnnotations":"Markr alle","displayNoAnnotations":"Avmarkr alle","downloadExport":"Eksportr arbeidsomrde","downloadExportWorkspace":"Eksportr arbeidsomrde","elastic":"Elastisk","elasticDescription":"Flytt og endre strrelsen p vinduet fritt i et ubegrenset arbeidsomrde. Vindu kan overlappe.","emptyResourceList":"Din resursliste er tom","error":"Error","errorDialogConfirm":"OK","errorDialogTitle":"Et problem oppstod","exitFullScreen":"Forlat fullskjermsvisning","expandSection":"Ekspandr seksjonen \\"{{section}}\\"","expandSidePanel":"Ekspandr sidemenyen","exportCopied":"Konfiguration av arbeidsomrdet ble kopiert til din utklippstavle","fetchManifest":"Legg til","fullScreen":"Fullskjermsvisning","gallery":"Galleri","hideZoomControls":"Skjul zoomkontroll","iiif_homepage":"Om denne ressursen","iiif_manifest":"IIIF manifest","iiif_renderings":"Alternativt format","iiif_seeAlso":"Se ogs","import":"Importr","importWorkspace":"Importr arbeidsomrde","importWorkspaceHint":"Lim inn en Mirador 3 konfigurasjon for import","item":"Objekt: {{label}}","jsError":"Tekniske detaljer","jsStack":"{{ stack }}","language":"Sprk","layer_hide":"Skjul lag","layer_move":"Flytt lag","layer_opacity":"Lag-gjennomsiktighet","layer_show":"Vis lag","layer_moveToTop":"Flytt laget verst","layers":"Lag","light":"Lyst tema","links":"Lenker","listAllOpenWindows":"G til vindu","login":"Logg inn","logout":"Logg ut","manifestError":"Ressursen kan ikke legges til:","maximizeWindow":"Maksimr vinduet","minimizeWindow":"Minimr vinduet","mirador":"Mirador","miradorResources":"Miradorressurser","miradorViewer":"Mirador bildeviser","more":"mer...","moreResults":"Flere resultat","mosaic":"Mosaik","mosaicDescription":"Flytt og endre strrelse p vinduet i relasjon til hverandre, innenfor den synlige rammen.","moveCompanionWindowToBottom":"Flytt til bunnen","moveCompanionWindowToRight":"Flytt til hyre","nextCanvas":"Neste objekt","noItemSelected":"Ingen valgte objekt","numItems":"{{number}} objekt","numItems_plural":"{{number}} objekter","off":"Av","openCompanionWindow_annotations":"Annoteringer","openCompanionWindow_attribution":"Rettigheter","openCompanionWindow_canvas":"Indeks","openCompanionWindow_info":"Informasjon","openCompanionWindow_layers":"Lag","openCompanionWindow_search":"Sk","openInCompanionWindow":"pne i eget panel","openWindows":"pne vindu","pagination":"{{current}} av {{total}}","position":"Posisjon","previewWindowTitle":"{{title}}","previousCanvas":"Forrige objekt","related":"Relatert","resource":"Ressurs","retry":"Forsk igjen","right":"Til hyre","rights":"Lisens","scroll":"Bla","searchInputLabel":"Skeord","searchNextResult":"Neste resultat","searchNoResults":"Ingen treff","searchPreviousResult":"Forrige resultat","searchResultsRemaining":"{{numLeft}} igjen","searchSubmitAria":"Sk","searchTitle":"Sk","selectWorkspaceMenu":"Velg arbeidsomrde-type","showingNumAnnotations":"Vis {{number}} annotasjon","showingNumAnnotations_plural":"Vis {{number}} annotasjoner","showCollection":"Vis samling","showZoomControls":"Vis zoomkontroll","sidebarPanelsNavigation":"Sidemeny-panel navigering","single":"En og en","startHere":"Start her","suggestSearch":"Sk etter \\"{{ query }}\\" i dette dokument","tableOfContentsList":"Innholdsfortegnelse","theme":"Tema","thumbnailList":"Miniatyrliste","thumbnailNavigation":"Miniatyrer","thumbnails":"Miniatyrer","toggleWindowSideBar":"Vis/skjul sidemenyen","totalCollections":"{{count}} samling","totalCollections_plural":"{{count}} samlinger","totalManifests":"{{count}} manifest","totalManifests_plural":"{{count}} manifester","tryAgain":"Forsk igjen","untitled":"[uten tittel]","view":"Visning","viewWorkspaceConfiguration":"Vis konfigurasjon av arbeidsomrde.","welcome":"Velkommen til Mirador","window":"Vindu: {{label}}","windowMenu":"Vindusvisning & miniatyrvisning","windowNavigation":"Vindusnavigasjon","windowPluginButtons":"Innstillinger","windowPluginMenu":"Vindusinnstillinger","workspace":"Arbeidsomrde","workspaceNavigation":"Navigasjon i arbeidsomrdet","workspaceFullScreen":"Fullskjermsvisning","workspaceMenu":"Innstillinger for arbeidsomrdet","workspaceOptions":"Flere valg for arbeidsomrdet","workspaceSelectionTitle":"Velg arbeidsomrde-type","zoomIn":"Zoom inn","zoomOut":"Zoom ut","zoomReset":"Tilbakestill zoom"}}');function He(e){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(e)}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e,t){return Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ge(e,t)}function qe(e){return qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qe(e)}var Xe=function(e){var t=e.dndManager,n=e.children;return!1===t?n:void 0===t?o.createElement(D.Q,{backend:L.default,options:N.default},n):o.createElement(j.M.Provider,{value:t},n)},Ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(s,e);var t,n,r,i,a=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qe(r);if(i){var n=qe(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===He(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).i18n=(n={ar:Te,de:Oe,en:Ae,fr:ke,it:Le,ja:Re,kr:Ie,lt:Be,"nb-NO":We,nl:Me,pl:De,"pt-BR":je,sr:Ne,sv:ze,vi:Fe,"zh-CN":Ce,"zh-TW":Pe},(r=_e.createInstance()).use(O.r9).init({fallbackLng:"en",interpolation:{escapeValue:!1},lng:"en",resources:n}),r),t}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this.props.language;this.i18n.changeLanguage(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props.language;e.language!==t&&this.i18n.changeLanguage(t)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.children,i=n.createGenerateClassNameOptions,a=n.isFullscreenEnabled,s=n.setWorkspaceFullscreen,l=n.theme,u=n.translations,c=n.dndManager,f=(0,P.A)(i);return Object.keys(u).forEach((function(e){t.i18n.addResourceBundle(e,"translation",u[e],!0,!0)})),o.createElement(T.A,{enabled:a,onChange:s},o.createElement(A,{i18n:this.i18n},o.createElement(C.Ai,null,o.createElement(k.A,{theme:(0,R.D)(l)},o.createElement(I.Ay,{jss:(0,z.vt)({plugins:[].concat((e=(0,M.A)().plugins,function(e){if(Array.isArray(e))return Ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ue(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[(0,B.A)()])}),generateClassName:f},o.createElement(Xe,{dndManager:c},r))))))}}])&&Ve(t.prototype,n),s}(o.Component);Ze.defaultProps={children:null,createGenerateClassNameOptions:{},dndManager:void 0,isFullscreenEnabled:!1};var $e={setWorkspaceFullscreen:S.Vs};const Ye=(0,w.Zz)((0,s.Ng)((function(e){return{createGenerateClassNameOptions:(0,E.zj)(e).createGenerateClassNameOptions,isFullscreenEnabled:(0,_.H)(e),language:(0,E.zj)(e).language,theme:(0,E.O4)(e),translations:(0,E.zj)(e).translations}}),$e),(0,x.h)("AppProviders"))(Ze);function Ke(e){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(e)}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e,t){return Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qe(e,t)}function et(e){return et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},et(e)}var tt=(0,o.lazy)((function(){return Promise.resolve().then(n.bind(n,75866))})),nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(s,e);var t,n,r,i,a=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=et(r);if(i){var n=et(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this.props,t=e.dndManager,n=e.plugins;return o.createElement(b,{plugins:n},o.createElement(Ye,{dndManager:t},o.createElement(o.Suspense,{fallback:o.createElement("div",null)},o.createElement(tt,null))))}}])&&Je(t.prototype,n),s}(o.Component);nt.defaultProps={dndManager:void 0,plugins:[]};const rt=nt;var it=n(75735),ot=n.n(it),at=n(36634),st=n.n(at),lt=n(60272),ut=n.n(lt),ct=n(41927),ft=n.n(ct),dt=n(78204),pt=n.n(dt),ht=n(64398),mt=n.n(ht),vt=n(37337),gt=n.n(vt),yt=function(e){return[bt,wt,xt,St,Et,_t,Tt].every((function(t){return t(e)}))},bt=function(e){return pt()(e)},wt=function(e){var t=e.name;return ut()(t)||st()(t)},xt=function(e){var t=e.mode,n=e.target;return ut()(t)?ut()(n):st()(n)},St=function(e){var t=e.mode;return ut()(t)||["add","wrap"].some((function(e){return e===t}))},Et=function(e){var t=e.mapStateToProps;return ut()(t)||mt()(t)||ft()(t)},_t=function(e){var t=e.mapDispatchToProps;return ut()(t)||mt()(t)||ft()(t)||pt()(t)},Tt=function(e){var t=e.reducers;return ut()(t)||pt()(t)&&gt()(t).every(ft())},Ot=n(3324);function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){Pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kt(e){return function(e){if(Array.isArray(e))return Rt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function It(e){var t=function(e){var t=[],n=[];return e.forEach((function(e){Array.isArray(e)?e.every((function(e){return yt(e)}))?n.push.apply(n,kt(e)):t.push.apply(t,kt(e)):yt(e)?n.push(e):t.push(e)})),{invalidPlugins:t,validPlugins:n}}(e),n=t.validPlugins;return function(e){e.forEach((function(e){return Ot.log("Mirador: Plugin ".concat(e.name," is not valid and was rejected."))}))}(t.invalidPlugins),n}function Mt(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var Dt=Mt();Dt.withExtraArgument=Mt;const jt=Dt;var Lt=function(e){return"@@redux-saga/"+e},Nt=Lt("CANCEL_PROMISE"),zt=Lt("CHANNEL_END"),Bt=Lt("IO"),Ft=Lt("MATCH"),Wt=Lt("MULTICAST"),Ht=Lt("SAGA_ACTION"),Ut=Lt("SELF_CANCELLATION"),Vt=Lt("TASK"),Gt=Lt("TASK_CANCEL"),qt=Lt("TERMINATE"),Xt=Lt("LOCATION"),Zt=n(63063),$t=n(5550),Yt=function(e){return null==e},Kt=function(e){return null!=e},Jt=function(e){return"function"==typeof e},Qt=function(e){return"string"==typeof e},en=Array.isArray,tn=function(e){return e&&Jt(e.then)},nn=function(e){return e&&Jt(e.next)&&Jt(e.throw)},rn=function e(t){return t&&(Qt(t)||sn(t)||Jt(t)||en(t)&&t.every(e))},on=function(e){return e&&Jt(e.take)&&Jt(e.close)},an=function(e){return Jt(e)&&e.hasOwnProperty("toString")},sn=function(e){return Boolean(e)&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},ln=function(e){return on(e)&&e[Wt]};const un=function(e,t){var n;void 0===t&&(t=!0);var r=new Promise((function(r){n=setTimeout(r,Math.min(2147483647,e),t)}));return r[Nt]=function(){clearTimeout(n)},r};var cn=n(3324),fn=function(e){return function(){return true}}(),dn=function(){},pn=function(e){return e};"function"==typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var hn=function(e,t){(0,Zt.A)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))};function mn(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}var vn=function(e){throw e},gn=function(e){return{value:e,done:!0}};function yn(e,t,n){void 0===t&&(t=vn),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:gn,isSagaIterator:!0};return"undefined"!=typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function bn(e,t){var n=t.sagaStack;cn.error(e),cn.error(n)}var wn=function(e){return Array.apply(null,new Array(e))},xn=function(e){return function(t){return e(Object.defineProperty(t,Ht,{value:!0}))}},Sn=function(e){return e===qt},En=function(e){return e===Gt},_n=function(e){return Sn(e)||En(e)};function Tn(e,t){var n,r=Object.keys(e),i=r.length,o=0,a=en(e)?wn(i):{},s={};return r.forEach((function(e){var r=function(r,s){n||(s||_n(r)?(t.cancel(),t(r,s)):(a[e]=r,++o===i&&(n=!0,t(a))))};r.cancel=dn,s[e]=r})),t.cancel=function(){n||(n=!0,r.forEach((function(e){return s[e].cancel()})))},s}function On(e){return{name:e.name||"anonymous",location:An(e)}}function An(e){return e[Xt]}function Cn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var Pn=function(e){return function(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,i=0,o=0,a=function(t){n[i]=t,i=(i+1)%e,r++},s=function(){if(0!=r){var t=n[o];return n[o]=null,r--,o=(o+1)%e,t}},l=function(){for(var e=[];r;)e.push(s());return e};return{isEmpty:function(){return 0==r},put:function(s){var u;if(r<e)a(s);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[i]=s,o=i=(i+1)%e;break;case 4:u=2*e,n=l(),r=n.length,i=n.length,o=0,n.length=u,e=u,a(s)}},take:s,flush:l}}(e,4)},kn="TAKE",Rn="PUT",In="ALL",Mn="CALL",Dn="FORK",jn="SELECT",Ln=function(e,t){var n;return(n={})[Bt]=!0,n.combinator=!1,n.type=e,n.payload=t,n};function Nn(e,t){return void 0===e&&(e="*"),rn(e)?(Kt(t)&&cn.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),Ln(kn,{pattern:e})):ln(e)&&Kt(t)&&rn(t)?Ln(kn,{channel:e,pattern:t}):on(e)?(Kt(t)&&cn.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),Ln(kn,{channel:e})):void 0}function zn(e,t){return Yt(t)&&(t=e,e=void 0),Ln(Rn,{channel:e,action:t})}function Bn(e){var t=Ln(In,e);return t.combinator=!0,t}function Fn(e,t){var n,r=null;return Jt(e)?n=e:(en(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&Qt(n)&&Jt(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function Wn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ln(Mn,Fn(e,n))}function Hn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ln(Dn,Fn(e,n))}function Un(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i=Hn.apply(void 0,[e].concat(n)),Ln(Dn,(0,Zt.A)({},i.payload,{detached:!0}));var i}function Vn(e){void 0===e&&(e=pn);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ln(jn,{selector:e,args:n})}var Gn=Wn.bind(null,un);const qn=function(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e};var Xn=[],Zn=0;function $n(e){try{Jn(),e()}finally{Qn()}}function Yn(e){Xn.push(e),Zn||(Jn(),er())}function Kn(e){try{return Jn(),e()}finally{er()}}function Jn(){Zn++}function Qn(){Zn--}function er(){var e;for(Qn();!Zn&&void 0!==(e=Xn.shift());)$n(e)}var tr=function(e){return function(t){return e.some((function(e){return ar(e)(t)}))}},nr=function(e){return function(t){return e(t)}},rr=function(e){return function(t){return t.type===String(e)}},ir=function(e){return function(t){return t.type===e}},or=function(){return fn};function ar(e){var t="*"===e?or:Qt(e)?rr:en(e)?tr:an(e)?rr:Jt(e)?nr:sn(e)?ir:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var sr={type:zt},lr=function(e){return e&&e.type===zt};function ur(){var e,t,n,r,i,o,a=(t=!1,r=n=[],i=function(){r===n&&(r=n.slice())},o=function(){t=!0;var e=n=r;r=[],e.forEach((function(e){e(sr)}))},(e={})[Wt]=!0,e.put=function(e){if(!t)if(lr(e))o();else for(var i=n=r,a=0,s=i.length;a<s;a++){var l=i[a];l[Ft](e)&&(l.cancel(),l(e))}},e.take=function(e,n){var o,a;void 0===n&&(n=or),t?e(sr):(e[Ft]=n,i(),r.push(e),e.cancel=(o=function(){i(),mn(r,e)},a=!1,function(){a||(a=!0,o())}))},e.close=o,e),s=a.put;return a.put=function(e){e[Ht]?s(e):Yn((function(){s(e)}))},a}var cr=0,fr=1,dr=2,pr=3;function hr(e,t){var n=e[Nt];Jt(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var mr,vr=0,gr=function(){return++vr};function yr(e){e.isRunning()&&e.cancel()}var br=((mr={})[kn]=function(e,t,n){var r=t.channel,i=void 0===r?e.channel:r,o=t.pattern,a=t.maybe,s=function(e){e instanceof Error?n(e,!0):!lr(e)||a?n(e):n(qt)};try{i.take(s,Kt(o)?ar(o):null)}catch(e){return void n(e,!0)}n.cancel=s.cancel},mr[Rn]=function(e,t,n){var r=t.channel,i=t.action,o=t.resolve;Yn((function(){var t;try{t=(r?r.put:e.dispatch)(i)}catch(e){return void n(e,!0)}o&&tn(t)?hr(t,n):n(t)}))},mr[In]=function(e,t,n,r){var i=r.digestEffect,o=vr,a=Object.keys(t);if(0!==a.length){var s=Tn(t,n);a.forEach((function(e){i(t[e],o,s[e],e)}))}else n(en(t)?[]:{})},mr.RACE=function(e,t,n,r){var i=r.digestEffect,o=vr,a=Object.keys(t),s=en(t)?wn(a.length):{},l={},u=!1;a.forEach((function(e){var t=function(t,r){u||(r||_n(t)?(n.cancel(),n(t,r)):(n.cancel(),u=!0,s[e]=t,n(s)))};t.cancel=dn,l[e]=t})),n.cancel=function(){u||(u=!0,a.forEach((function(e){return l[e].cancel()})))},a.forEach((function(e){u||i(t[e],o,l[e],e)}))},mr[Mn]=function(e,t,n,r){var i=t.context,o=t.fn,a=t.args,s=r.task;try{var l=o.apply(i,a);if(tn(l))return void hr(l,n);if(nn(l))return void Cr(e,l,s.context,vr,On(o),!1,n);n(l)}catch(e){n(e,!0)}},mr.CPS=function(e,t,n){var r=t.context,i=t.fn,o=t.args;try{var a=function(e,t){Yt(e)?n(t):n(e,!0)};i.apply(r,o.concat(a)),a.cancel&&(n.cancel=a.cancel)}catch(e){n(e,!0)}},mr[Dn]=function(e,t,n,r){var i=t.context,o=t.fn,a=t.args,s=t.detached,l=r.task,u=function(e){var t=e.context,n=e.fn,r=e.args;try{var i=n.apply(t,r);if(nn(i))return i;var o=!1;return yn((function(e){return o?{value:e,done:!0}:(o=!0,{value:i,done:!tn(i)})}))}catch(e){return yn((function(){throw e}))}}({context:i,fn:o,args:a}),c=function(e,t){return e.isSagaIterator?{name:e.meta.name}:On(t)}(u,o);Kn((function(){var t=Cr(e,u,l.context,vr,c,s,void 0);s?n(t):t.isRunning()?(l.queue.addTask(t),n(t)):t.isAborted()?l.queue.abort(t.error()):n(t)}))},mr.JOIN=function(e,t,n,r){var i=r.task,o=function(e,t){if(e.isRunning()){var n={task:i,cb:t};t.cancel=function(){e.isRunning()&&mn(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(en(t)){if(0===t.length)return void n([]);var a=Tn(t,n);t.forEach((function(e,t){o(e,a[t])}))}else o(t,n)},mr.CANCEL=function(e,t,n,r){var i=r.task;t===Ut?yr(i):en(t)?t.forEach(yr):yr(t),n()},mr[jn]=function(e,t,n){var r=t.selector,i=t.args;try{n(r.apply(void 0,[e.getState()].concat(i)))}catch(e){n(e,!0)}},mr.ACTION_CHANNEL=function(e,t,n){var r=t.pattern,i=function(e){void 0===e&&(e=Pn());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(sr):e.isEmpty()?(n.push(r),r.cancel=function(){mn(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(sr):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,i=e.length;r<i;r++)(0,e[r])(sr)}}}}(t.buffer),o=ar(r),a=function t(n){lr(n)||e.channel.take(t,o),i.put(n)},s=i.close;i.close=function(){a.cancel(),s()},e.channel.take(a,o),n(i)},mr.CANCELLED=function(e,t,n,r){n(r.task.isCancelled())},mr.FLUSH=function(e,t,n){t.flush(n)},mr.GET_CONTEXT=function(e,t,n,r){n(r.task.context[t])},mr.SET_CONTEXT=function(e,t,n,r){var i=r.task;hn(i.context,t),n()},mr);function wr(e,t){return e+"?"+t}function xr(e){var t=e.name,n=e.location;return n?t+"  "+wr(n.fileName,n.lineNumber):t}var Sr=null,Er=[],_r=function(e){e.crashedEffect=Sr,Er.push(e)},Tr=function(){Sr=null,Er.length=0},Or=function(e){Sr=e},Ar=function(){var e,t,n,r,i,o,a,s=Er[0],l=Er.slice(1),u=s.crashedEffect?(o=s.crashedEffect,(a=An(o))?a.code+"  "+wr(a.fileName,a.lineNumber):""):null;return["The above error occurred in task "+xr(s.meta)+(u?" \n when executing effect "+u:"")].concat(l.map((function(e){return"    created by "+xr(e.meta)})),[(e=Er,t=function(e){return e.cancelledTasks},n=e,i=(r=[]).concat.apply(r,n.map(t)),i.length?["Tasks cancelled due to error:"].concat(i).join("\n"):"")]).join("\n")};function Cr(e,t,n,r,i,o,a){var s=e.finalizeRunEffect((function(t,n,r){tn(t)?hr(t,r):nn(t)?Cr(e,t,u.context,n,i,!1,r):t&&t[Bt]?(0,br[t.type])(e,t.payload,r,c):r(t)}));f.cancel=dn;var l={meta:i,cancel:function(){l.status===cr&&(l.status=fr,f(Gt))},status:cr},u=function(e,t,n,r,i,o,a){var s;void 0===a&&(a=dn);var l,u,c=cr,f=null,d=[],p=Object.create(n),h=function(e,t,n){var r,i=[],o=!1;function a(e){t(),l(),n(e,!0)}function s(t){i.push(t),t.cont=function(s,l){o||(mn(i,t),t.cont=dn,l?a(s):(t===e&&(r=s),i.length||(o=!0,n(r))))}}function l(){o||(o=!0,i.forEach((function(e){e.cont=dn,e.cancel()})),i=[])}return s(e),{addTask:s,cancelAll:l,abort:a,getTasks:function(){return i}}}(t,(function(){d.push.apply(d,h.getTasks().map((function(e){return e.meta.name})))}),m);function m(t,n){if(n){if(c=dr,_r({meta:i,cancelledTasks:d}),v.isRoot){var r=Ar();Tr(),e.onError(t,{sagaStack:r})}u=t,f&&f.reject(t)}else t===Gt?c=fr:c!==fr&&(c=pr),l=t,f&&f.resolve(t);v.cont(t,n),v.joiners.forEach((function(e){e.cb(t,n)})),v.joiners=null}var v=((s={})[Vt]=!0,s.id=r,s.meta=i,s.isRoot=o,s.context=p,s.joiners=[],s.queue=h,s.cancel=function(){c===cr&&(c=fr,h.cancelAll(),m(Gt,!1))},s.cont=a,s.end=m,s.setContext=function(e){hn(p,e)},s.toPromise=function(){return f||(f=qn(),c===dr?f.reject(u):c!==cr&&f.resolve(l)),f.promise},s.isRunning=function(){return c===cr},s.isCancelled=function(){return c===fr||c===cr&&t.status===fr},s.isAborted=function(){return c===dr},s.result=function(){return l},s.error=function(){return u},s);return v}(e,l,n,r,i,o,a),c={task:u,digestEffect:d};return a&&(a.cancel=u.cancel),f(),u;function f(e,n){try{var i;n?(i=t.throw(e),Tr()):En(e)?(l.status=fr,f.cancel(),i=Jt(t.return)?t.return(Gt):{done:!0,value:Gt}):i=Sn(e)?Jt(t.return)?t.return():{done:!0}:t.next(e),i.done?(l.status!==fr&&(l.status=pr),l.cont(i.value)):d(i.value,r,f)}catch(e){if(l.status===fr)throw e;l.status=dr,l.cont(e,!0)}}function d(t,n,r,i){void 0===i&&(i="");var o,a=gr();function l(n,i){o||(o=!0,r.cancel=dn,e.sagaMonitor&&(i?e.sagaMonitor.effectRejected(a,n):e.sagaMonitor.effectResolved(a,n)),i&&Or(t),r(n,i))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:a,parentEffectId:n,label:i,effect:t}),l.cancel=dn,r.cancel=function(){o||(o=!0,l.cancel(),l.cancel=dn,e.sagaMonitor&&e.sagaMonitor.effectCancelled(a))},s(t,a,l)}}function Pr(e,t){for(var n=e.channel,r=void 0===n?ur():n,i=e.dispatch,o=e.getState,a=e.context,s=void 0===a?{}:a,l=e.sagaMonitor,u=e.effectMiddlewares,c=e.onError,f=void 0===c?bn:c,d=arguments.length,p=new Array(d>2?d-2:0),h=2;h<d;h++)p[h-2]=arguments[h];var m,v=t.apply(void 0,p),g=gr();if(l&&(l.rootSagaStarted=l.rootSagaStarted||dn,l.effectTriggered=l.effectTriggered||dn,l.effectResolved=l.effectResolved||dn,l.effectRejected=l.effectRejected||dn,l.effectCancelled=l.effectCancelled||dn,l.actionDispatched=l.actionDispatched||dn,l.rootSagaStarted({effectId:g,saga:t,args:p})),u){var y=Cn.apply(void 0,u);m=function(e){return function(t,n,r){return y((function(t){return e(t,n,r)}))(t)}}}else m=pn;var b={channel:r,dispatch:xn(i),getState:o,sagaMonitor:l,onError:f,finalizeRunEffect:m};return Kn((function(){var e=Cr(b,v,s,g,On(t),!0,void 0);return l&&l.effectResolved(g,e),e}))}var kr=n(54793),Rr=n(73966),Ir=n.n(Rr),Mr=n(64581);function Dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dr(Object(n),!0).forEach((function(t){Lr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mr.A.RESOLVE_AUTHENTICATION_REQUEST:return jr(jr({},e),{},Lr({},t.tokenServiceId,{authId:t.id,id:t.tokenServiceId,isFetching:!0}));case Mr.A.REQUEST_ACCESS_TOKEN:return jr(jr({},e),{},Lr({},t.serviceId,{authId:t.authId,id:t.serviceId,isFetching:!0}));case Mr.A.RECEIVE_ACCESS_TOKEN:return jr(jr({},e),{},Lr({},t.serviceId,jr(jr({},e[t.serviceId]),{},{isFetching:!1,json:t.json})));case Mr.A.RECEIVE_ACCESS_TOKEN_FAILURE:return jr(jr({},e),{},Lr({},t.serviceId,jr(jr({},e[t.serviceId]),{},{error:t.error,isFetching:!1})));case Mr.A.RESET_AUTHENTICATION_STATE:return Ir()(e,t.tokenServiceId);case Mr.A.RECEIVE_INFO_RESPONSE:return t.tokenServiceId?e[t.tokenServiceId].success?e:jr(jr({},e),{},Lr({},t.tokenServiceId,jr(jr({},e[t.tokenServiceId]),{},{success:!0}))):e;default:return e}}function zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zr(Object(n),!0).forEach((function(t){Fr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mr.A.REQUEST_ANNOTATION:return Br(Br({},e),{},Fr({},t.targetId,Br(Br({},e[t.targetId]),{},Fr({},t.annotationId,{id:t.annotationId,isFetching:!0}))));case Mr.A.RECEIVE_ANNOTATION:return Br(Br({},e),{},Fr({},t.targetId,Br(Br({},e[t.targetId]),{},Fr({},t.annotationId,{id:t.annotationId,isFetching:!1,json:t.annotationJson}))));case Mr.A.RECEIVE_ANNOTATION_FAILURE:return Br(Br({},e),{},Fr({},t.targetId,Br(Br({},e[t.targetId]),{},Fr({},t.annotationId,{error:t.error,id:t.annotationId,isFetching:!1}))));case Mr.A.IMPORT_MIRADOR_STATE:return{};default:return e}};function Hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hr(Object(n),!0).forEach((function(t){Vr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mr.A.ADD_AUTHENTICATION_REQUEST:return Ur(Ur({},e),{},Vr({},t.id,{id:t.id,isFetching:!0,profile:t.profile,windowId:t.windowId}));case Mr.A.RESOLVE_AUTHENTICATION_REQUEST:return Ur(Ur({},e),{},Vr({},t.id,Ur(Ur({},e[t.id]),{},{isFetching:!1,ok:t.ok})));case Mr.A.RECEIVE_ACCESS_TOKEN:return t.authId?Ur(Ur({},e),{},Vr({},t.authId,Ur(Ur({},e[t.authId]),{},{ok:!0}))):e;case Mr.A.RESET_AUTHENTICATION_STATE:return Ir()(e,t.id);default:return e}};function qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(n),!0).forEach((function(t){Zr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $r(e){return function(e){if(Array.isArray(e))return Yr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Kr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mr.A.ADD_RESOURCE:return e.some((function(e){return e.manifestId===t.manifestId}))?e:[Xr({manifestId:t.manifestId},t.payload)].concat($r(e));case Mr.A.ADD_WINDOW:return e.some((function(e){return e.manifestId===t.window.manifestId}))?e:[{manifestId:t.window.manifestId}].concat($r(e));case Mr.A.UPDATE_WINDOW:return t.payload.manifestId?e.some((function(e){return e.manifestId===t.payload.manifestId}))?e:[{manifestId:t.payload.manifestId}].concat($r(e)):e;case Mr.A.REMOVE_RESOURCE:return e.filter((function(e){return e.manifestId!==t.manifestId}));case Mr.A.IMPORT_CONFIG:return t.config.catalog||[];case Mr.A.IMPORT_MIRADOR_STATE:return t.state.catalog||[];default:return e}},Jr=n(1082),Qr=n.n(Jr),ei=n(68829),ti=n.n(ei);function ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(n),!0).forEach((function(t){ii(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mr.A.ADD_COMPANION_WINDOW:return Qr()([t.id],t.payload,e);case Mr.A.ADD_WINDOW:return ri(ri({},e),(t.companionWindows||[]).reduce((function(n,r){return n[r.id]=ri(ri(ri({},e[r.id]),r),{},{windowId:t.id}),n}),{}));case Mr.A.REMOVE_WINDOW:return Object.keys(e).reduce((function(n,r){return e[r].windowId!==t.windowId&&(n[r]=e[r]),n}),{});case Mr.A.UPDATE_COMPANION_WINDOW:return ti()([t.id],(function(e){return ri(ri({},e||{}),t.payload)}),e);case Mr.A.REMOVE_COMPANION_WINDOW:return Ir()(e,t.id);case Mr.A.IMPORT_MIRADOR_STATE:return t.state.companionWindows||[];case Mr.A.TOGGLE_TOC_NODE:return ti()([t.id,"tocNodes"],(function(e){return ri(ri({},e||{}),t.payload)}),e);default:return e}}var ai=n(59975);function si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function li(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ui=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?si(Object(n),!0).forEach((function(t){li(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):si(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ai.A),ci=function(e,t,n){return t},fi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mr.A.UPDATE_CONFIG:case Mr.A.IMPORT_CONFIG:return ot()(e,t.config,{arrayMerge:ci});case Mr.A.SET_CONFIG:return t.config;case Mr.A.IMPORT_MIRADOR_STATE:return t.state.config||{};default:return e}};function di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?di(Object(n),!0).forEach((function(t){hi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mr.A.ADD_WINDOW:return pi(pi({},e),{},hi({},t.window.id,pi({windowId:t.window.id},t.elasticLayout)));case Mr.A.UPDATE_ELASTIC_WINDOW_LAYOUT:return ti()([t.windowId],(function(e){return pi(pi({},e||{}),t.payload)}),e);case Mr.A.REMOVE_WINDOW:return Ir()(e,t.windowId);case Mr.A.IMPORT_MIRADOR_STATE:return t.state.elasticLayout||{};default:return e}},vi=n(77179),gi=n.n(vi);function yi(e){return function(e){if(Array.isArray(e))return bi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return bi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bi(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wi(Object(n),!0).forEach((function(t){Si(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ei={items:[]},_i=function(){var e,t,n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case Mr.A.ADD_ERROR:return xi(xi({},i),{},(Si(e={},o.id,{id:o.id,message:o.message}),Si(e,"items",[].concat(yi(i.items),[o.id])),e));case Mr.A.RECEIVE_INFO_RESPONSE_FAILURE:return xi(xi({},i),{},(Si(t={},o.infoId,{id:o.infoId,message:o.error}),Si(t,"items",[].concat(yi(i.items),[o.infoId])),t));case Mr.A.RECEIVE_SEARCH_FAILURE:return xi(xi({},i),{},(Si(n={},o.searchId,{id:o.searchId,message:o.error}),Si(n,"items",[].concat(yi(i.items),[o.searchId])),n));case Mr.A.REMOVE_ERROR:return(r=Object.keys(i).reduce((function(e,t){return t!==o.id&&(e[t]=i[t]),e}),{})).items=gi()(r.items,o.id),r;case Mr.A.IMPORT_MIRADOR_STATE:return Ei;default:return i}};function Ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ti(Object(n),!0).forEach((function(t){Ai(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ti(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ci=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mr.A.REQUEST_INFO_RESPONSE:return Oi(Oi({},e),{},Ai({},t.infoId,{id:t.infoId,isFetching:!0}));case Mr.A.RECEIVE_INFO_RESPONSE:return Oi(Oi({},e),{},Ai({},t.infoId,{degraded:!1,id:t.infoId,isFetching:!1,json:t.infoJson,tokenServiceId:t.tokenServiceId}));case Mr.A.RECEIVE_DEGRADED_INFO_RESPONSE:return Oi(Oi({},e),{},Ai({},t.infoId,{degraded:!0,id:t.infoId,isFetching:!1,json:t.infoJson,tokenServiceId:t.tokenServiceId}));case Mr.A.RECEIVE_INFO_RESPONSE_FAILURE:return Oi(Oi({},e),{},Ai({},t.infoId,{error:t.error,id:t.infoId,isFetching:!1,tokenServiceId:t.tokenServiceId}));case Mr.A.REMOVE_INFO_RESPONSE:return Object.keys(e).reduce((function(n,r){return r!==t.infoId&&(n[r]=e[r]),n}),{});case Mr.A.IMPORT_MIRADOR_STATE:return{};default:return e}};function Pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pi(Object(n),!0).forEach((function(t){Ri(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ii=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mr.A.UPDATE_LAYERS:return ki(ki({},e),{},Ri({},t.windowId,ki(ki({},e[t.windowId]),{},Ri({},t.canvasId,ot()((e[t.windowId]||{})[t.canvasId]||{},t.payload)))));case Mr.A.REMOVE_WINDOW:return Ir()(e,[t.windowId]);default:return e}};function Mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mi(Object(n),!0).forEach((function(t){ji(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ji(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Li=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mr.A.REQUEST_MANIFEST:return Di(ji({},t.manifestId,Di(Di(Di({},e[t.manifestId]),t.properties),{},{id:t.manifestId})),Ir()(e,t.manifestId));case Mr.A.RECEIVE_MANIFEST:return Di(Di({},e),{},ji({},t.manifestId,Di(Di({},e[t.manifestId]),{},{error:null,id:t.manifestId,isFetching:!1,json:t.manifestJson})));case Mr.A.RECEIVE_MANIFEST_FAILURE:return Di(Di({},e),{},ji({},t.manifestId,Di(Di({},e[t.manifestId]),{},{error:t.error,id:t.manifestId,isFetching:!1})));case Mr.A.REMOVE_MANIFEST:return Object.keys(e).reduce((function(n,r){return r!==t.manifestId&&(n[r]=e[r]),n}),{});case Mr.A.IMPORT_MIRADOR_STATE:return t.state.manifests||{};default:return e}},Ni=n(94881),zi=n.n(Ni);function Bi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bi(Object(n),!0).forEach((function(t){Wi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=(e[t.windowId]||{})[t.companionWindowId]||{};switch(t.type){case Mr.A.REQUEST_SEARCH:return n.query!==t.query?Fi(Fi({},e),{},Wi({},t.windowId,Fi(Fi({},e[t.windowId]),{},Wi({},t.companionWindowId,Fi(Fi({},n),{},{data:Wi({},t.searchId,{isFetching:!0}),query:t.query,selectedContentSearchAnnotation:[]}))))):Fi(Fi({},e),{},Wi({},t.windowId,Fi(Fi({},e[t.windowId]),{},Wi({},t.companionWindowId,Fi(Fi({},n),{},{data:Fi(Fi({},n.data),{},Wi({},t.searchId,{isFetching:!0}))})))));case Mr.A.RECEIVE_SEARCH:return Fi(Fi({},e),{},Wi({},t.windowId,Fi(Fi({},e[t.windowId]),{},Wi({},t.companionWindowId,Fi(Fi({},n),{},{data:Fi(Fi({},n.data),{},Wi({},t.searchId,{isFetching:!1,json:t.searchJson}))})))));case Mr.A.RECEIVE_SEARCH_FAILURE:return Fi(Fi({},e),{},Wi({},t.windowId,Fi(Fi({},e[t.windowId]),{},Wi({},t.companionWindowId,Fi(Fi({},n),{},{data:Fi(Fi({},n.data),{},Wi({},t.searchId,{error:t.error,isFetching:!1}))})))));case Mr.A.REMOVE_SEARCH:return Fi(Fi({},e),{},Wi({},t.windowId,Object.keys(e[t.windowId]).reduce((function(n,r){return r!==t.companionWindowId&&(n[r]=e[t.windowId][r]),n}),{})));case Mr.A.SET_CONTENT_SEARCH_CURRENT_ANNOTATIONS:return Fi(Fi({},e),{},Wi({},t.windowId,Fi(Fi({},e[t.windowId]),{},Wi({},t.companionWindowId,Fi(Fi({},n),{},{selectedContentSearchAnnotationIds:t.annotationIds})))));case Mr.A.SELECT_ANNOTATION:return e[t.windowId]?Fi(Fi({},e),{},Wi({},t.windowId,Object.keys(e[t.windowId]).reduce((function(n,r){var i=e[t.windowId][r],o=i.data&&Object.values(i.data).filter((function(e){return e.json&&e.json.resources})).some((function(e){return zi()([e.json.resources]).some((function(e){return e["@id"]===t.annotationId}))}));return n[r]=o?Fi(Fi({},i),{},{selectedContentSearchAnnotationIds:[t.annotationId]}):i,n}),{}))):e;case Mr.A.IMPORT_MIRADOR_STATE:return{};case Mr.A.REMOVE_WINDOW:return Ir()(e,t.windowId);case Mr.A.REMOVE_COMPANION_WINDOW:return e[t.windowId]?Fi(Fi({},e),{},Wi({},t.windowId,Fi({},Ir()(e[t.windowId],t.id)))):e;default:return e}};function Ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ui(Object(n),!0).forEach((function(t){Gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mr.A.UPDATE_VIEWPORT:return Vi(Vi({},e),{},Gi({},t.windowId,Vi(Vi({},e[t.windowId]),t.payload)));case Mr.A.REMOVE_WINDOW:return Ir()(e,t.windowId);case Mr.A.SET_WINDOW_VIEW_TYPE:return Qr()([t.windowId],null,e);case Mr.A.SET_CANVAS:return t.preserveViewport?e:Qr()([t.windowId],null,e);case Mr.A.IMPORT_MIRADOR_STATE:return t.state.viewers||{};default:return e}};function Xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xi(Object(n),!0).forEach((function(t){$i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mr.A.ADD_WINDOW:return Zi(Zi({},e),{},$i({},t.window.id,t.window));case Mr.A.MAXIMIZE_WINDOW:return Zi(Zi({},e),{},$i({},t.windowId,Zi(Zi({},e[t.windowId]),{},{maximized:!0})));case Mr.A.MINIMIZE_WINDOW:return Zi(Zi({},e),{},$i({},t.windowId,Zi(Zi({},e[t.windowId]),{},{maximized:!1})));case Mr.A.UPDATE_WINDOW:return ti()([t.id],(function(e){return Zi(Zi({},e||{}),t.payload)}),e);case Mr.A.REMOVE_WINDOW:return Ir()(e,[t.windowId]);case Mr.A.TOGGLE_WINDOW_SIDE_BAR:return Zi(Zi({},e),{},$i({},t.windowId,Zi(Zi({},e[t.windowId]),{},{sideBarOpen:!e[t.windowId].sideBarOpen})));case Mr.A.SET_WINDOW_VIEW_TYPE:return Zi(Zi({},e),{},$i({},t.windowId,Zi(Zi({},e[t.windowId]),{},{view:t.viewType})));case Mr.A.UPDATE_WINDOW_POSITION:return Zi(Zi({},e),{},$i({},t.payload.windowId,Zi(Zi({},e[t.payload.windowId]),{},{x:t.payload.position.x,y:t.payload.position.y})));case Mr.A.SET_WINDOW_SIZE:return Zi(Zi({},e),{},$i({},t.payload.windowId,Zi(Zi({},e[t.payload.windowId]),{},{height:t.payload.size.height,width:t.payload.size.width,x:t.payload.size.x,y:t.payload.size.y})));case Mr.A.SET_CANVAS:return e[t.windowId]?ti()([t.windowId],(function(e){return Zi(Zi({},e||{}),{},{canvasId:t.canvasId,visibleCanvases:t.visibleCanvases||[]})}),e):e;case Mr.A.ADD_COMPANION_WINDOW:return Zi(Zi({},e),{},$i({},t.windowId,Zi(Zi({},e[t.windowId]),{},{companionWindowIds:e[t.windowId].companionWindowIds.concat([t.id])},"left"===t.payload.position?{companionAreaOpen:!0,sideBarPanel:t.payload.content}:{})));case Mr.A.UPDATE_COMPANION_WINDOW:return"left"!==t.payload.position?e:Zi(Zi({},e),{},$i({},t.windowId,Zi(Zi({},e[t.windowId]),{},{companionAreaOpen:!0})));case Mr.A.REMOVE_COMPANION_WINDOW:return Zi(Zi({},e),{},$i({},t.windowId,Zi(Zi({},e[t.windowId]),{},{companionWindowIds:e[t.windowId].companionWindowIds.filter((function(e){return e!==t.id}))})));case Mr.A.SELECT_ANNOTATION:return Zi(Zi({},e),{},$i({},t.windowId,Zi(Zi({},e[t.windowId]),{},{selectedAnnotationId:t.annotationId})));case Mr.A.DESELECT_ANNOTATION:return Zi(Zi({},e),{},$i({},t.windowId,Zi(Zi({},e[t.windowId]),{},{selectedAnnotationId:void 0})));case Mr.A.HOVER_ANNOTATION:return Zi(Zi({},e),{},$i({},t.windowId,Zi(Zi({},e[t.windowId]),{},{hoveredAnnotationIds:t.annotationIds})));case Mr.A.TOGGLE_ANNOTATION_DISPLAY:return Zi(Zi({},e),{},$i({},t.windowId,Zi(Zi({},e[t.windowId]),{},{highlightAllAnnotations:!e[t.windowId].highlightAllAnnotations})));case Mr.A.IMPORT_MIRADOR_STATE:return t.state.windows||[];case Mr.A.REQUEST_SEARCH:return Zi(Zi({},e),{},$i({},t.windowId,Zi(Zi({},e[t.windowId]),{},{suggestedSearches:void 0})));case Mr.A.SHOW_COLLECTION_DIALOG:return Zi(Zi({},e),{},$i({},t.windowId,Zi(Zi({},e[t.windowId]),{},{collectionDialogOn:!0,collectionManifestId:t.manifestId,collectionPath:t.collectionPath})));case Mr.A.HIDE_COLLECTION_DIALOG:return Zi(Zi({},e),{},$i({},t.windowId,Zi(Zi({},e[t.windowId]),{},{collectionDialogOn:!1})));default:return e}};function Ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(n),!0).forEach((function(t){eo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var to=function(){var e,t,n,r,i,o,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qi(Qi({},ai.A.workspace),{},{windowIds:[]}),s=arguments.length>1?arguments[1]:void 0;switch(s.type){case Mr.A.UPDATE_WORKSPACE:return Qi(Qi({},a),s.config);case Mr.A.FOCUS_WINDOW:return Qi(Qi({},a),{},{focusedWindowId:s.windowId,viewportPosition:Qi(Qi({},a.viewportPosition),s.position)});case Mr.A.ADD_WINDOW:return Qi(Qi({},a),{},{focusedWindowId:s.window.id,windowIds:[].concat((o=a.windowIds||[],function(e){if(Array.isArray(e))return Ki(e)}(o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return Ki(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ki(e,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[s.window.id])});case Mr.A.REMOVE_WINDOW:return n=(a.windowIds||[]).filter((function(e){return e!==s.windowId})),Qi(Qi({},a),{},{focusedWindowId:s.windowId===a.focusedWindowId?n[n.length-1]:a.focusedWindowId,windowIds:n});case Mr.A.SET_WORKSPACE_FULLSCREEN:return Qi(Qi({},a),{},{isFullscreenEnabled:s.isFullscreenEnabled});case Mr.A.TOGGLE_ZOOM_CONTROLS:return Qi(Qi({},a),{},{showZoomControls:s.showZoomControls});case Mr.A.UPDATE_WORKSPACE_MOSAIC_LAYOUT:return Qi(Qi({},a),{},{layout:s.layout});case Mr.A.SET_WORKSPACE_ADD_VISIBILITY:return Qi(Qi({},a),{},{isWorkspaceAddVisible:s.isWorkspaceAddVisible});case Mr.A.SET_WORKSPACE_VIEWPORT_POSITION:return e={},!function(e){return void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height}(t=Qi(Qi({},a.viewportPosition),s.payload.position))||(r={height:a.height,width:a.width,x:0,y:0},(i=t).x-i.width/2>r.x-r.width/2&&i.y-i.height/2>r.y-r.height/2&&i.x+i.width/2<r.x+r.width/2&&i.y+i.height/2<r.y+r.height/2)||(e={height:2*a.height,width:2*a.width}),Qi(Qi(Qi({},a),e),{},{viewportPosition:t});case Mr.A.SET_CONFIG:case Mr.A.IMPORT_CONFIG:case Mr.A.UPDATE_CONFIG:return Qi(Qi({},a),s.config.workspace);case Mr.A.IMPORT_MIRADOR_STATE:return s.state.workspace||{};case Mr.A.TOGGLE_DRAGGING:return Qi(Qi({},a),{},{draggingEnabled:!a.draggingEnabled});default:return a}};function no(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ro(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var io=n(2183),oo=n.n(io),ao=function(e){return{done:!0,value:e}},so={};function lo(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o,a={done:!1,value:Nn(e)},s=function(e){return o=e};return function(e,t,n){var r,i,o,a=t;function s(t,n){if(a===so)return ao(t);if(n&&!i)throw a=so,n;r&&r(t);var s=n?e[i](n):e[a]();return a=s.nextState,o=s.effect,r=s.stateUpdater,i=s.errorState,a===so?ao(t):o}return yn(s,(function(e){return s(null,e)}),n)}({q1:function(){return{nextState:"q2",effect:a,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:(e=o,{done:!1,value:Hn.apply(void 0,[t].concat(r,[e]))})};var e}},"q1","takeEvery("+function(e){return on(e)?"channel":an(e)?String(e):Jt(e)?e.name:String(e)}(e)+", "+t.name+")")}function uo(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Hn.apply(void 0,[lo,e,t].concat(r))}var co=n(13443),fo=n(9035),po=n.n(fo),ho=n(33415),mo=n(2913),vo=n.n(mo),go=n(99254),yo=n(95120),bo=n(7171),wo=n(82486),xo=n(46878),So=n(93368),Eo=n(71450);function _o(e){return _o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_o(e)}function To(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?To(Object(n),!0).forEach((function(t){Ao(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):To(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Co=oo().mark(Bo),Po=oo().mark(Fo),ko=oo().mark(Wo),Ro=oo().mark(Ho),Io=oo().mark(Uo),Mo=oo().mark(Vo),Do=oo().mark(Go),jo=oo().mark(qo),Lo=oo().mark(Xo),No=oo().mark(Zo);function zo(e,t,n){var r=n.success,i=n.degraded,o=n.failure;return po()(e,t).then((function(e){return e.json().then((function(t){return 401===e.status?(i||r)({json:t,response:e}):e.ok?r({json:t,response:e}):o({error:e.statusText,json:t,response:e})})).catch((function(t){return o({error:t,response:e})}))})).catch((function(e){return o({error:e})}))}function Bo(e,t,n){var r,i,o,a,s,l,u,c,f,d;return oo().wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return r=n.success,i=n.degraded,o=n.failure,p.next=3,Vn(E.lT);case 3:return a=p.sent,s=a.preprocessors,l=void 0===s?[]:s,u=a.postprocessors,c=void 0===u?[]:u,p.prev=8,f=l.reduce((function(t,n){return n(e,t)||t}),t),p.next=12,Wn(zo,e,f,{degraded:i,failure:o,success:r});case 12:return d=p.sent,d=c.reduce((function(t,n){return n(e,t)||t}),d),p.abrupt("return",d);case 17:return p.prev=17,p.t0=p.catch(8),p.abrupt("return",o({error:p.t0}));case 20:case"end":return p.stop()}}),Co,null,[[8,17]])}function Fo(e,t,n,r){var i,o,a,s,l,u,c,f,d,p,h,m;return oo().wrap((function(v){for(;;)switch(v.prev=v.next){case 0:if(i=r.degraded,o=r.failure,a=r.success,s=Oo({},n),!t){v.next=8;break}return v.next=5,Wn(Ho,t);case 5:u=v.sent,l=u&&u.id,u&&u.json&&(s.headers=Oo({Authorization:"Bearer ".concat(u.json.accessToken)},n.headers));case 8:return v.next=10,Wn(Bo,e,s,{failure:function(e){return e},success:function(e){return e}});case 10:if(c=v.sent,f=c.error,d=c.json,p=c.response,!f){v.next=18;break}return v.next=17,zn(o({error:f,json:d,response:p,tokenServiceId:l}));case 17:return v.abrupt("return");case 18:if(h=d["@id"]||d.id,!p.ok){v.next=26;break}if(vo()(h,{stripAuthentication:!1})!==vo()(e.replace(/info\.json$/,""),{stripAuthentication:!1})){v.next=24;break}return v.next=23,zn(a({json:d,response:p,tokenServiceId:l}));case 23:return v.abrupt("return");case 24:v.next=30;break;case 26:if(401===p.status){v.next=30;break}return v.next=29,zn(o({error:f,json:d,response:p,tokenServiceId:l}));case 29:return v.abrupt("return");case 30:return v.next=32,Wn(Ho,d);case 32:if(!(m=v.sent)||m.id===l){v.next=37;break}return v.next=36,Wn(Fo,e,d,n,{degraded:i,failure:o,success:a});case 36:return v.abrupt("return");case 37:return v.next=39,zn((i||a)({json:d,response:p,tokenServiceId:l}));case 39:case"end":return v.stop()}}),Po)}function Wo(e){var t,n,r;return oo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.manifestId,n={failure:function(e){var n=e.error;return e.json,e.response,(0,go.ns)(t,"object"===_o(n)?String(n):n)},success:function(e){var n=e.json;return e.response,(0,go.Dc)(t,n)}},i.next=4,Wn(Bo,t,{},n);case 4:return r=i.sent,i.next=7,zn(r);case 7:case"end":return i.stop()}}),ko)}function Ho(e){var t,n,r,i,o,a,s;return oo().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(t=e&&e.__jsonld?e:Oo(Oo({},e),{},{options:{}}),0!==(n=ho.Utils.getServices(t).filter((function(e){return e.getProfile().match(/http:\/\/iiif.io\/api\/auth\//)}))).length){l.next=4;break}return l.abrupt("return",void 0);case 4:return l.next=6,Vn(xo.X8);case 6:if(r=l.sent){l.next=9;break}return l.abrupt("return",void 0);case 9:i=0;case 10:if(!(i<n.length)){l.next=19;break}if(o=n[i],a=ho.Utils.getService(o,"http://iiif.io/api/auth/1/token")||ho.Utils.getService(o,"http://iiif.io/api/auth/0/token"),!(s=a&&r[a.id])||!s.json){l.next=16;break}return l.abrupt("return",s);case 16:i+=1,l.next=10;break;case 19:return l.abrupt("return",void 0);case 20:case"end":return l.stop()}}),Ro)}function Uo(e){var t,n,r,i,o;return oo().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.imageResource,n=e.infoId,r=e.windowId,i=t){a.next=6;break}return a.next=5,Vn(So.E_,{infoId:n});case 5:i=a.sent;case 6:return o={degraded:function(e){var t=e.json,i=e.response,o=e.tokenServiceId;return(0,yo.dv)(n,t,i.ok,o,r)},failure:function(e){var t=e.error,r=(e.json,e.response,e.tokenServiceId);return(0,yo.P7)(n,t,r)},success:function(e){var t=e.json,r=e.response,i=e.tokenServiceId;return(0,yo.xO)(n,t,r.ok,i)}},a.next=9,Wn(Fo,"".concat(n.replace(/\/$/,""),"/info.json"),i,{},o);case 9:case"end":return a.stop()}}),Io)}function Vo(e){var t,n,r,i,o;return oo().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.windowId,n=e.companionWindowId,e.query,r=e.searchId,i={failure:function(e){var i=e.error;return e.json,e.response,(0,bo.ae)(t,n,r,i)},success:function(e){var i=e.json;return e.response,(0,bo.md)(t,n,r,i)}},a.next=4,Wn(Bo,r,{},i);case 4:return o=a.sent,a.next=7,zn(o);case 7:case"end":return a.stop()}}),Mo)}function Go(e){var t,n,r,i;return oo().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.targetId,n=e.annotationId,r={failure:function(e){var r=e.error;return e.json,e.response,(0,wo.tf)(t,n,r)},success:function(e){var r=e.json;return e.response,(0,wo.n_)(t,n,r)}},o.next=4,Wn(Bo,n,{},r);case 4:return i=o.sent,o.next=7,zn(i);case 7:case"end":return o.stop()}}),Do)}function qo(e){var t,n;return oo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.manifestId,!(n=e.manifestJson)){r.next=5;break}return r.next=4,zn((0,go.Dc)(t,n));case 4:return r.abrupt("return");case 5:if(t){r.next=7;break}return r.abrupt("return");case 7:return r.next=9,Vn(Eo.Rv)||{};case 9:if(r.sent[t]){r.next=12;break}return r.delegateYield(Wo({manifestId:t}),"t0",12);case 12:case"end":return r.stop()}}),jo)}function Xo(){var e,t,n,r=arguments;return oo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Vn(Eo.Rv);case 2:e=i.sent,t=0;case 4:if(!(t<r.length)){i.next=12;break}if(e[n=t<0||r.length<=t?void 0:r[t]]){i.next=9;break}return i.next=9,Wn(Wo,{manifestId:n});case 9:t+=1,i.next=4;break;case 12:case"end":return i.stop()}}),Lo)}function Zo(){return oo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bn([uo(Mr.A.REQUEST_MANIFEST,Wo),uo(Mr.A.REQUEST_INFO_RESPONSE,Uo),uo(Mr.A.REQUEST_SEARCH,Vo),uo(Mr.A.REQUEST_ANNOTATION,Go),uo(Mr.A.ADD_RESOURCE,qo)]);case 2:case"end":return e.stop()}}),No)}var $o=n(94800),Yo=n(66785),Ko=n(83131),Jo=n(18595),Qo=n(35004),ea=n(47031),ta=n(64640),na=n(67671),ra=oo().mark(ba),ia=oo().mark(wa),oa=oo().mark(xa),aa=oo().mark(Sa),sa=oo().mark(Ea),la=oo().mark(_a),ua=oo().mark(Oa),ca=oo().mark(Aa),fa=oo().mark(Ca),da=oo().mark(Pa),pa=oo().mark(ka),ha=oo().mark(Ra),ma=oo().mark(Ia),va=oo().mark(Ma);function ga(e){return function(e){if(Array.isArray(e))return ya(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ya(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ya(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ba(e){var t,n,r,i;return oo().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.payload||e.window,n=t.collectionPath,r=t.id,i=t.manifestId){o.next=3;break}return o.abrupt("return");case 3:if(!e.manifest){o.next=8;break}return o.next=6,zn((0,go.Dc)(i,e.manifest));case 6:o.next=10;break;case 8:return o.next=10,Wn.apply(void 0,[Xo,i].concat(ga(n||[])));case 10:return o.next=12,Wn(Ea,e);case 12:return o.next=14,Wn(_a,e);case 14:if(n){o.next=17;break}return o.next=17,Wn(xa,{manifestId:i,windowId:e.id||e.window.id});case 17:return o.next=19,Wn(Ia,i,r);case 19:case"end":return o.stop()}}),ra)}function wa(e){var t,n,r;return oo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t=e.id,e&&e.payload&&e.payload.sequenceId){i.next=3;break}return i.abrupt("return");case 3:return i.next=5,Vn(So.P,{windowId:t});case 5:if((n=i.sent)&&n[0]&&n[0].id){i.next=8;break}return i.abrupt("return");case 8:return i.next=10,Wn(Ko.h5,t,n[0].id);case 10:return r=i.sent,i.next=13,zn(r);case 13:case"end":return i.stop()}}),ia)}function xa(e){var t,n,r,i,o;return oo().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.manifestId,n=e.windowId,a.next=3,Vn(Qo.SG,{manifestId:t});case 3:if(!(r=a.sent)){a.next=10;break}if(i=r.getProperty("partOf"),!(o=Array.isArray(i)?i[0]:i)||!o.id){a.next=10;break}return a.next=10,zn((0,Jo.uE)(n,{collectionPath:[o.id]}));case 10:case"end":return a.stop()}}),oa)}function Sa(e){var t;return oo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.payload.collectionPath){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,Wn.apply(void 0,[Xo].concat(ga(t)));case 5:case"end":return n.stop()}}),aa)}function Ea(e){var t,n,r,i,o,a,s,l,u,c;return oo().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:if(t=e.payload||e.window,n=t.canvasId,r=t.canvasIndex,i=t.manifestId,o=e.id||e.window.id,!n){f.next=10;break}return f.next=5,Wn(Ko.h5,o,n,null,{preserveViewport:!!e.payload});case 5:return a=f.sent,f.next=8,zn(a);case 8:f.next=22;break;case 10:return f.next=12,Vn(Qo.SG,{manifestId:i});case 12:if(!(s=f.sent)){f.next=22;break}if(l=new $o.A(s),!(u=l.startCanvas||l.canvasAt(r||0)||l.canvasAt(0))){f.next=22;break}return f.next=19,Wn(Ko.h5,o,u.id);case 19:return c=f.sent,f.next=22,zn(c);case 22:case"end":return f.stop()}}),sa)}function _a(e){var t,n,r,i,o,a,s;return oo().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(e.window&&e.window.defaultSearchQuery){l.next=2;break}return l.abrupt("return");case 2:return t=e.window,n=t.id,r=t.defaultSearchQuery,l.next=5,Vn(Qo.B8,{windowId:n});case 5:return i=l.sent,l.next=8,Vn(ea.bN,{position:"left",windowId:n});case 8:if(o=l.sent,a=o[0],!i||!a){l.next=14;break}return s=i&&"".concat(i.id,"?q=").concat(r),l.next=14,zn((0,bo.$Q)(n,a,s,r));case 14:case"end":return l.stop()}}),la)}function Ta(e,t){var n=t.canvasIds,r=t.companionWindowIds,i=t.windowId;return r.reduce((function(t,r){var o=(0,ta.yy)(e,{companionWindowId:r,windowId:i}).resources.find((function(e){return n.includes(e.targetId)}));return o&&(t[r]=[o.id]),t}),{})}function Oa(e){var t,n,r,i,o;return oo().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.annotationId,t=e.windowId,n=e.visibleCanvases,a.next=3,Vn(ta.WF,{windowId:t});case 3:if(r=a.sent,0!==(i=Object.keys(r||{})).length){a.next=7;break}return a.abrupt("return");case 7:return a.next=9,Vn(Ta,{canvasIds:n,companionWindowIds:i,windowId:t});case 9:return o=a.sent,a.next=12,Bn(Object.keys(o).map((function(e){return zn((0,bo.q)(t,e,o[e]))})));case 12:if(!(Object.values(o).length>0)){a.next=15;break}return a.next=15,zn((0,wo.gN)(t,Object.values(o)[0][0]));case 15:case"end":return a.stop()}}),ua)}function Aa(e){var t,n,r,i,o,a,s,l,u,c,f,d;return oo().wrap((function(p){for(;;)switch(p.prev=p.next){case 0:if(t=e.pan,n=e.windowId,t){p.next=3;break}return p.abrupt("return");case 3:return p.next=5,Vn(_.Q9);case 5:return r=p.sent,i=r[n]||{},o=i.x,a=i.y,s=i.width,l=i.height,p.next=9,Vn(Eo.K4);case 9:return u=p.sent,c=u.viewportPosition,f=c.width,d=c.height,p.next=15,zn((0,S.Dl)({x:o+s/2-f/2,y:a+l/2-d/2}));case 15:case"end":return p.stop()}}),ca)}function Ca(e){var t,n,r,i;return oo().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.windowId,o.next=3,Vn(Eo.zk,{windowId:t});case 3:return n=o.sent,r=n.canvasId,o.next=7,Vn(So.O$,{canvasId:r,windowId:t});case 7:return i=o.sent,o.next=10,zn((0,Jo.uE)(t,{visibleCanvases:(i||[]).map((function(e){return e.id}))}));case 10:case"end":return o.stop()}}),fa)}function Pa(e){var t,n,r;return oo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.companionWindowId,n=e.windowId,i.next=3,Vn(na.R2,{windowId:n});case 3:if(i.sent.switchCanvasOnSearch){i.next=7;break}return i.abrupt("return");case 7:return i.next=9,Vn(ta.SU,{companionWindowId:t,windowId:n});case 9:if(0===i.sent.length){i.next=12;break}return i.abrupt("return");case 12:return i.next=14,Vn(ta.TA,{companionWindowId:t,windowId:n});case 14:if((r=i.sent)&&0!==r.length){i.next=17;break}return i.abrupt("return");case 17:return i.next=19,zn((0,wo.gN)(n,r[0].id));case 19:case"end":return i.stop()}}),da)}function ka(e){var t,n,r,i,o;return oo().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.annotationId,n=e.windowId,a.next=3,Vn(So.tv,{windowId:n});case 3:return r=a.sent,a.next=6,Vn(ta.bg,{annotationId:t,windowId:n});case 6:if((i=a.sent)&&!r.includes(i.id)){a.next=9;break}return a.abrupt("return");case 9:return a.next=11,Wn(Ko.h5,n,i.id);case 11:return o=a.sent,a.next=14,zn(o);case 14:case"end":return a.stop()}}),pa)}function Ra(e){var t,n,r,i,o;return oo().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.visibleCanvases,n=e.windowId,a.next=3,Vn(So.P,{windowId:n});case 3:return r=a.sent,a.next=6,Vn(So.dN);case 6:return i=a.sent,o=(r||[]).filter((function(e){return t.includes(e.id)})),a.next=10,Bn(o.map((function(e){return Bn(new Yo.A(e).iiifImageResources.map((function(e){return!i[e.getServices()[0].id]&&zn((0,yo.E9)({imageResource:e,windowId:n}))})).filter(Boolean))})));case 10:case"end":return a.stop()}}),ha)}function Ia(e,t){var n;return oo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Vn(Qo.SG,{manifestId:e});case 2:if(!(n=r.sent)||!n.isCollection()){r.next=6;break}return r.next=6,zn((0,Jo.Az)(e,[],t));case 6:case"end":return r.stop()}}),ma)}function Ma(){return oo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bn([uo(Mr.A.ADD_WINDOW,ba),uo(Mr.A.UPDATE_WINDOW,ba),uo(Mr.A.UPDATE_WINDOW,wa),uo(Mr.A.SET_CANVAS,Oa),uo(Mr.A.SET_CANVAS,Ra),uo(Mr.A.UPDATE_COMPANION_WINDOW,Sa),uo(Mr.A.SET_WINDOW_VIEW_TYPE,Ca),uo(Mr.A.RECEIVE_SEARCH,Pa),uo(Mr.A.SELECT_ANNOTATION,ka),uo(Mr.A.FOCUS_WINDOW,Aa)]);case 2:case"end":return e.stop()}}),va)}function Da(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Da(Object(n),!0).forEach((function(t){La(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Da(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function La(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Na=oo().mark(Ga),za=oo().mark(qa),Ba=oo().mark(Xa),Fa=oo().mark(Za);function Wa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Ua(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ha(e){return function(e){if(Array.isArray(e))return Va(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ua(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ua(e,t){if(e){if("string"==typeof e)return Va(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Va(e,t):void 0}}function Va(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ga(e){return oo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Bn([].concat(Ha(Object.entries(e.state.windows||{}).map((function(e){var t=Wa(e,2),n=(t[0],t[1]);return Wn(ba,{id:n.id,payload:n})}))),Ha(Object.entries(e.state.manifests||{}).filter((function(e){var t=Wa(e,2);return t[0],!t[1].json})).map((function(e){var t=Wa(e,2);return t[0],Wn(Xo,t[1].id)})))));case 2:case"end":return t.stop()}}),Na)}function qa(e){var t,n,r,i;return oo().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.config,n=t.thumbnailNavigation,(r=t.windows)&&0!==r.length){o.next=3;break}return o.abrupt("return");case 3:return o.next=5,Bn(r.map((function(e){var t="window-".concat((0,co.A)()),r=e.manifestId||e.loadedManifest;return Wn(Jo._U,ja({id:t,manifestId:r,thumbnailNavigationPosition:n&&n.defaultPosition},e))})));case 5:return i=o.sent,o.next=8,Bn(i.map((function(e){return zn(e)})));case 8:case"end":return o.stop()}}),za)}function Xa(e){var t,n;return oo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.collectionPath,n=e.manifestId,r.next=3,Wn.apply(void 0,[Xo,n].concat(Ha(t)));case 3:case"end":return r.stop()}}),Ba)}function Za(){return oo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bn([uo(Mr.A.IMPORT_MIRADOR_STATE,Ga),uo(Mr.A.IMPORT_CONFIG,qa),uo(Mr.A.SHOW_COLLECTION_DIALOG,Xa)]);case 2:case"end":return e.stop()}}),Fa)}var $a=n(91663),Ya=oo().mark(ts),Ka=oo().mark(ns),Ja=oo().mark(rs);function Qa(e){return function(e){if(Array.isArray(e))return es(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return es(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?es(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function es(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ts(e){var t,n,r,i,o;return oo().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.canvasId,n=e.windowId,a.next=3,Vn(So.dX,{canvasId:t,windowId:n});case 3:return r=a.sent,a.next=6,Vn($a.Rh);case 6:return i=a.sent,o=new Yo.A(r),a.next=10,Bn([].concat(Qa(o.annotationListUris.filter((function(e){return!(i[r.id]&&i[r.id][e])})).map((function(e){return zn((0,wo.pJ)(r.id,e))}))),Qa(o.canvasAnnotationPages.filter((function(e){return!(i[r.id]&&i[r.id][e.id])})).map((function(e){return e.items?zn((0,wo.n_)(r.id,e.id,e)):zn((0,wo.pJ)(r.id,e.id))})))));case 10:return a.abrupt("return",a.sent);case 11:case"end":return a.stop()}}),Ya)}function ns(e){var t,n,r;return oo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.visibleCanvases,n=void 0===t?[]:t,r=e.windowId,i.next=3,Bn(n.map((function(e){return zn((0,wo.aw)(r,e))})));case 3:return i.abrupt("return",i.sent);case 4:case"end":return i.stop()}}),Ka)}function rs(){return oo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bn([uo(Mr.A.REQUEST_CANVAS_ANNOTATIONS,ts),uo(Mr.A.SET_CANVAS,ns)]);case 2:case"end":return e.stop()}}),Ja)}var is=n(45377),os=oo().mark(fs),as=oo().mark(ds),ss=oo().mark(ps),ls=oo().mark(hs),us=oo().mark(ms),cs=oo().mark(vs);function fs(e){var t;return oo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.tokenServiceId,n.next=3,Gn(2e3);case 3:return n.next=5,Wn(ds,{serviceId:t});case 5:case"end":return n.stop()}}),os)}function ds(e){var t,n,r,i,o,a,s;return oo().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.serviceId,l.next=3,Vn(Eo.sl);case 3:return n=l.sent,l.next=6,Bn(Object.keys(n).map((function(e){return Vn(So.Mg,{windowId:e})})));case 6:return r=l.sent,i=zi()(zi()(r).map((function(e){return new Yo.A(e).imageServiceIds}))),l.next=10,Vn(So.dN);case 10:return o=l.sent,a=function(e){return ho.Utils.getServices(e).some((function(e){var n=ho.Utils.getService(e,"http://iiif.io/api/auth/1/token")||ho.Utils.getService(e,"http://iiif.io/api/auth/0/token");return n&&n.id===t}))},s=Object.values(o).filter((function(e){return e.json&&a(e.json)})),l.next=15,Bn(s.map((function(e){var t=e.id;return i.includes(t)?Wn(Uo,{infoId:t}):zn({infoId:t,type:Mr.A.REMOVE_INFO_RESPONSE})})));case 15:case"end":return l.stop()}}),as)}function ps(e){var t,n,r,i,o,a,s,l,u,c;return oo().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return t=e.infoJson,n=e.windowId,f.next=3,Vn(xo.xI);case 3:return r=f.sent,f.next=6,Vn(E.zj);case 6:if(i=f.sent,o=i.auth,a=(o=void 0===o?{}:o).serviceProfiles,s=(void 0===a?[]:a).filter((function(e){return e.external||e.kiosk})),l=ho.Utils.getServices(t).filter((function(e){return!r[e.id]})).find((function(e){return s.some((function(t){return t.profile===e.getProfile()}))}))){f.next=14;break}return f.abrupt("return");case 14:if(!(u=s.find((function(e){return e.profile===l.getProfile()}))).kiosk){f.next=20;break}return f.next=18,zn((0,is.Bq)(n,l.id,l.getProfile()));case 18:f.next=28;break;case 20:if(!u.external){f.next=28;break}if(c=ho.Utils.getService(l,"http://iiif.io/api/auth/1/token")||ho.Utils.getService(l,"http://iiif.io/api/auth/0/token")){f.next=24;break}return f.abrupt("return");case 24:return f.next=26,zn((0,is._U)(l.id,c.id));case 26:return f.next=28,zn((0,is.B0)(c.id,l.id));case 28:case"end":return f.stop()}}),ss)}function hs(e){var t,n,r,i,o;return oo().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.infoJson,e.windowId,n=e.tokenServiceId){a.next=3;break}return a.abrupt("return");case 3:if(r=ho.Utils.getServices(t).find((function(e){var t=ho.Utils.getService(e,"http://iiif.io/api/auth/1/token")||ho.Utils.getService(e,"http://iiif.io/api/auth/0/token");return t&&t.id===n})),r){a.next=6;break}return a.abrupt("return");case 6:return a.next=8,Vn(xo.X8);case 8:if(i=a.sent,(o=i[n])&&o.success){a.next=12;break}return a.abrupt("return");case 12:return a.next=14,zn((0,is.B0)(n,r.id));case 14:case"end":return a.stop()}}),ls)}function ms(e){var t,n,r,i,o;return oo().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.serviceId,a.next=3,Vn(xo.X8);case 3:return n=a.sent,a.next=6,Vn(xo.xI);case 6:if(r=a.sent,i=n[t]){a.next=10;break}return a.abrupt("return");case 10:if(o=r[i.authId]){a.next=13;break}return a.abrupt("return");case 13:if(!i.success){a.next=18;break}return a.next=16,zn((0,is.HN)({authServiceId:o.id,tokenServiceId:i.id}));case 16:a.next=20;break;case 18:return a.next=20,zn((0,is._U)(o.id,i.id,{ok:!1}));case 20:case"end":return a.stop()}}),us)}function vs(){return oo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bn([uo(Mr.A.RECEIVE_DEGRADED_INFO_RESPONSE,hs),uo(Mr.A.RECEIVE_ACCESS_TOKEN_FAILURE,ms),uo(Mr.A.RECEIVE_DEGRADED_INFO_RESPONSE,ps),uo(Mr.A.RECEIVE_ACCESS_TOKEN,ds),uo(Mr.A.RESET_AUTHENTICATION_STATE,fs)]);case 2:case"end":return e.stop()}}),cs)}var gs=n(3324);function ys(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bs=oo().mark(ws);function ws(e){return oo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,Wn(e);case 4:return t.abrupt("break",12);case 7:t.prev=7,t.t0=t.catch(1),gs.log(t.t0);case 10:t.next=0;break;case 12:case"end":return t.stop()}}),bs,null,[[1,7]])}const xs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return oo().mark((function t(){var n;return oo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[rs,Za,Zo,Ma,vs].concat(function(e){if(Array.isArray(e))return ys(e)}(r=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return ys(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ys(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),t.next=3,Bn(n.map((function(e){return Un(ws,e)})));case 3:case"end":return t.stop()}var r}),t)}))},Ss=function(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=function(e){return(0,w.HY)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?no(Object(n),!0).forEach((function(t){ro(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):no(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({accessTokens:Nr,annotations:Wr,auth:Gr,catalog:Kr,companionWindows:oi,config:fi,elasticLayout:mi,errors:_i,infoResponses:Ci,layers:Ii,manifests:Li,searches:Hi,viewers:qi,windows:Yi,workspace:to},e))}(e),a=ai.A.state.slice?(0,w.HY)((t={},r=o,(n=ai.A.state.slice)in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)):o,s=function(e){var t,n=void 0===e?{}:e,r=n.context,i=void 0===r?{}:r,o=n.channel,a=void 0===o?ur():o,s=n.sagaMonitor,l=(0,$t.A)(n,["context","channel","sagaMonitor"]);function u(e){var n=e.getState,r=e.dispatch;return t=Pr.bind(null,(0,Zt.A)({},l,{context:i,channel:a,dispatch:r,getState:n,sagaMonitor:s})),function(e){return function(t){s&&s.actionDispatched&&s.actionDispatched(t);var n=e(t);return a.put(t),n}}}return u.run=function(){return t.apply(void 0,arguments)},u.setContext=function(e){hn(i,e)},u}(),l=(0,w.y$)(a,(0,kr.tY)((0,w.Tw)(jt,s)));return s.run(xs(i)),l};var Es=n(84065);function _s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const Ts=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.plugins=It(n.plugins||[]),this.config=t,this.store=n.store||function(e){var t,n=It(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]),r=Ss((t=n)&&t.reduce((function(e,t){return Ct(Ct({},e),t.reducers)}),{}),function(e){return e&&e.filter((function(e){return e.saga})).map((function(e){return e.saga}))}(n));return r.dispatch((0,Es.KZ)(ot()(function(e){return e&&e.reduce((function(e,t){return ot()(e,t.config||{})}),{})}(n),e))),r}(this.config,this.plugins),t.id&&a.render(this.render(),document.getElementById(t.id))}var t,n;return t=e,n=[{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.createElement(s.Kq,{store:this.store},o.createElement(rt,Object.assign({plugins:this.plugins},e)))}},{key:"unmount",value:function(){this.config.id&&a.unmountComponentAtNode(document.getElementById(this.config.id))}}],n&&_s(t.prototype,n),e}(),Os={viewer:function(e,t){var n;return n=Array.isArray(t)?{plugins:t}:t,new Ts(e,n)}};var As=n(63403),Cs=n(49842),Ps=n(33342),ks=n(16344),Rs=n(87827),Is=n(51338);const Ms={actions:As,createStore:Ss,reducers:t,sagas:e,selectors:i};function Ds(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function js(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ds(Object(n),!0).forEach((function(t){Ls(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ds(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ls(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ns=js(js({},Os),Ms);var zs=n(95216),Bs=(n(43979),n(7645)),Fs=n.n(Bs),Ws=n(63475),Hs=n(41601),Us=n(69185),Vs=n(58034),Gs=n(93469),qs=n(19879),Xs=n(58625),Zs=n(77852),$s=n(23040),Ys=n(21435),Ks=n(72788),Js=n(6933),Qs=n(13611);function el(e){return el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(e)}var tl=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==el(t)&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={open:n.open},r.handleChange=r.handleChange.bind(r),r.handleClick=r.handleClick.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+el(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleClick=function(){var e=this.props,t=e.value;"toggle"===e.variant?this.handleChange({},0===t?100:0):this.setState((function(e){return{open:!e.open}}))},t.prototype.handleChange=function(e,t){(0,this.props.onChange)(t)},t.prototype.render=function(){var e=this.props,t=e.children,n=e.containerId,r=e.label,i=e.max,a=e.min,s=e.value,l=e.type,u=e.variant,c=e.windowId,f=e.foregroundColor,d=e.classes,p=e.width,h=this.state.open,m=c+"-"+l,v=void 0;return(h||"toggle"===u&&s>0)&&(v=(0,$s.fade)(f,h?.1:.25)),o.createElement("div",{style:{display:"inline-block"}},o.createElement(Js.Y,{id:m+"-label","aria-label":r,containerId:n,onClick:this.handleClick,"aria-expanded":h,"aria-controls":m,style:{backgroundColor:v}},t),h&&o.createElement("div",{id:m,"aria-labelledby":m+"-label",className:"MuiPaper-elevation4 "+d.slider},o.createElement(Qs.A,{orientation:["xs","sm"].indexOf(p)>=0?"horizontal":"vertical",min:a,max:i,value:s,onChange:this.handleChange})))},t}(o.Component);tl.propTypes={},tl.defaultProps={foregroundColor:"rgb(0, 0, 0)",min:0,max:100,open:!1,variant:"slider"};const nl=Fs()((0,Ys.A)((function(e){var t,n=e.palette,r=e.breakpoints;return{slider:(t={backgroundColor:(0,$s.fade)(n.shades.main,.8),borderRadius:25,top:48,marginTop:2,position:"absolute",height:150,zIndex:100,marginLeft:2,padding:[[2,7,2,7]]},t[r.down("sm")]={top:"auto",right:48,width:150,height:"auto",marginTop:-46,marginBottom:2,padding:[[4,2,4,2]]},t)}})),(0,Ks.Ay)())(tl);var rl=n(21906),il=n(33899);function ol(e){return ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(e)}var al=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==ol(t)&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+ol(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.variant,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["label","variant"]);return o.createElement(Js.Y,al({"aria-label":t},r),"left"===n?o.createElement(il.A,null):o.createElement(rl.A,null))},t}(o.Component);sl.propTypes={};var ll=n(78174);function ul(e){return ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(e)}var cl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==ul(t)&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+ul(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.flipped,n=e.label,r=e.backgroundColor,i=e.foregroundColor,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["flipped","label","backgroundColor","foregroundColor"]);return o.createElement(Js.Y,cl({"aria-label":n,style:{backgroundColor:t&&(0,$s.fade)(i,.25)}},a),o.createElement(ll.A,{style:{color:t&&r}}))},t}(o.Component);function dl(e){return dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(e)}fl.propTypes={},fl.defaultProps={backgroundColor:"rgb(255, 255, 255)",foregroundColor:"rgb(0, 0, 0)"};var pl=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==dl(t)&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.toggleState=r.toggleState.bind(r),r.toggleRotate=r.toggleRotate.bind(r),r.toggleFlip=r.toggleFlip.bind(r),r.handleChange=r.handleChange.bind(r),r.handleReset=r.handleReset.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+dl(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.viewer&&this.applyFilters()},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.viewConfig;t.viewer&&n!==e.viewConfig&&this.applyFilters()},t.prototype.handleChange=function(e){var t=this.props,n=t.updateViewport,r=t.windowId;return function(t){var i;return n(r,((i={})[e]=t,i))}},t.prototype.handleReset=function(){var e=this.props;(0,e.updateViewport)(e.windowId,{rotation:0,flip:!1,brightness:100,contrast:100,saturate:100,grayscale:0,invert:0})},t.prototype.applyFilters=function(){var e=this.props,t=e.viewConfig,n=t.brightness,r=void 0===n?100:n,i=t.contrast,o=void 0===i?100:i,a=t.saturate,s=void 0===a?100:a,l=t.grayscale,u=void 0===l?0:l,c=t.invert,f=void 0===c?0:c,d=e.viewer.canvas;if(d){var p=["brightness","contrast","saturate","grayscale","invert"],h=d.style.filter.split(" ").filter((function(e){return!p.some((function(t){return e.includes(t)}))}));h.push("brightness("+r+"%)"),h.push("contrast("+o+"%)"),h.push("saturate("+s+"%)"),h.push("grayscale("+u+"%)"),h.push("invert("+f+"%)"),d.style.filter=h.join(" ")}},t.prototype.toggleState=function(){var e=this.props,t=e.open;(0,e.updateWindow)(e.windowId,{imageToolsOpen:!t})},t.prototype.toggleRotate=function(e){var t=this.props,n=t.updateViewport,r=t.viewConfig,i=r.flip,o=void 0!==i&&i,a=r.rotation,s=void 0===a?0:a;n(t.windowId,{rotation:(s+(o?-1*e:e))%360})},t.prototype.toggleFlip=function(){var e=this.props,t=e.updateViewport,n=e.viewConfig.flip,r=void 0!==n&&n;t(e.windowId,{flip:!r})},t.prototype.render=function(){var e=this,t=this.props,n=t.classes,r=t.containerId,i=t.enabled,a=t.open,s=t.viewer,l=t.windowId,u=t.width,c=t.theme.palette,f=t.viewConfig,d=f.flip,p=void 0!==d&&d,h=f.brightness,m=void 0===h?100:h,v=f.contrast,g=void 0===v?100:v,y=f.saturate,b=void 0===y?100:y,w=f.grayscale,x=void 0===w?0:w,S=f.invert,E=void 0===S?0:S,_=t.t;if(!s||!i)return null;var T=c.shades.main,O=c.getContrastText(T),A=["xs","sm"].indexOf(u)>=0,C=o.createElement("div",{className:A&&a?n.borderContainer:""},o.createElement(Js.Y,{"aria-expanded":a,"aria-haspopup":!0,"aria-label":_("collapse",{context:a?"open":"close"}),containerId:r,onClick:this.toggleState},a?o.createElement(Xs.A,null):o.createElement(qs.A,null)));return o.createElement("div",{className:"MuiPaper-elevation4 "+n.root},A&&C,a&&o.createElement(o.Fragment,null,o.createElement("div",{className:n.borderContainer},o.createElement(sl,{containerId:r,label:_("rotateRight"),onClick:function(){return e.toggleRotate(90)},variant:"right"}),o.createElement(sl,{containerId:r,label:_("rotateLeft"),onClick:function(){return e.toggleRotate(-90)},variant:"left"}),o.createElement(fl,{label:_("flip"),onClick:this.toggleFlip,flipped:p,containerId:r})),o.createElement("div",{className:n.borderContainer},o.createElement(nl,{type:"brightness",label:_("brightness"),max:200,windowId:l,value:m,foregroundColor:O,containerId:r,onChange:this.handleChange("brightness")},o.createElement(Ws.A,null)),o.createElement(nl,{type:"contrast",label:_("contrast"),max:200,windowId:l,value:g,foregroundColor:O,containerId:r,onChange:this.handleChange("contrast")},o.createElement(Vs.A,{style:{transform:"rotate(180deg)"}})),o.createElement(nl,{type:"saturate",label:_("saturation"),max:200,windowId:l,value:b,foregroundColor:O,containerId:r,onChange:this.handleChange("saturate")},o.createElement(Us.A,null)),o.createElement(nl,{type:"grayscale",variant:"toggle",label:_("greyscale"),windowId:l,value:x,backgroundColor:T,foregroundColor:O,containerId:r,onChange:this.handleChange("grayscale")},o.createElement(Hs.A,null)),o.createElement(nl,{type:"invert",variant:"toggle",label:_("invert"),windowId:l,value:E,foregroundColor:O,containerId:r,onChange:this.handleChange("invert")},o.createElement(Gs.A,null))),o.createElement("div",{className:A?"":n.borderContainer},o.createElement(Js.Y,{"aria-label":_("revert"),containerId:r,onClick:this.handleReset},o.createElement(Zs.A,null)))),!A&&C)},t}(o.Component);pl.propTypes={},pl.defaultProps={enabled:!0,open:!0,viewer:void 0,viewConfig:{}};const hl=Fs()((0,Ys.A)((function(e){var t,n,r=e.breakpoints,i=e.palette,o=i.shades.main,a=i.getContrastText(o),s="1px solid "+(0,$s.fade)(a,.2),l="linear-gradient(to bottom, "+(0,$s.fade)(a,0)+" 20%, "+(0,$s.fade)(a,.2)+" 20% 80%, "+(0,$s.fade)(a,0)+" 80% )",u=l.replace("to bottom","to right");return{root:(t={backgroundColor:(0,$s.fade)(o,.8),borderRadius:25,position:"absolute",top:8,right:8,zIndex:999,display:"flex",flexDirection:"row"},t[r.down("sm")]={flexDirection:"column"},t),borderContainer:(n={border:0,borderRight:s,borderImageSlice:1,borderImageSource:l,display:"flex",flexDirection:"row"},n[r.down("sm")]={flexDirection:"column",borderBottom:s,borderRight:"none",borderImageSource:u},n)}})),(0,Ks.Ay)())(pl);var ml=n(44631),vl=n(35143),gl=n(23631),yl=function(e){var t=e.enabled,n=e.handleClose,r=e.t,i=e.updateWindow,a=e.windowId;return o.createElement(ml.A,{onClick:function(){n(),i(a,{imageToolsEnabled:!t})}},o.createElement(vl.A,null,o.createElement(qs.A,null)),o.createElement(gl.A,{primaryTypographyProps:{variant:"body1"}},r(t?"hide":"show")))};yl.propTypes={},yl.defaultProps={enabled:!0};const bl=yl,wl=[{target:"OpenSeadragonViewer",mapDispatchToProps:{updateWindow:Jo.uE,updateViewport:Ko.yR},mapStateToProps:function(e,t){var n=t.windowId;return{containerId:(0,E.TW)(e),enabled:(0,na.R2)(e,{windowId:n}).imageToolsEnabled||!1,open:(0,na.R2)(e,{windowId:n}).imageToolsOpen||!1,viewConfig:(0,Eo.tk)(e,{windowId:n})||{}}},mode:"add",component:(0,zs.A)(hl),config:{translations:{de:{brightness:"Helligkeit",collapse_open:"Bildbearbeitung ausblenden",collapse_close:"Bildbearbeitung einblenden",contrast:"Kontrast",flip:"Spiegeln",greyscale:"Darstellung in Graustufen",hide:"Bildbearbeitung verbergen",invert:"Umkehrung der Farben",revert:"Einstellungen zurcksetzen",rotateLeft:"Rotation links",rotateRight:"Rotation rechts",saturation:"Sttigung",show:"Bildbearbeitung anzeigen"},en:{brightness:"Brightness",collapse_open:"Collapse image tools",collapse_close:"Expand image tools",contrast:"Contrast",flip:"Flip",greyscale:"Greyscale",hide:"Hide image tools",invert:"Invert colors",revert:"Revert image",rotateLeft:"Rotate left",rotateRight:"Rotate right",saturation:"Saturation",show:"Show image tools"},fr:{brightness:"Luminosit",collapse_open:"Fermer les outils de rglages de l'image",collapse_close:"Ouvrir les outils de rglages de l'image",contrast:"Contraste",flip:"Miroir",greyscale:"Niveaux de gris",invert:"Inverser les couleurs",revert:"Rinitialiser les rglages",rotateLeft:"Rotation vers la gauche",rotateRight:"Rotation vers la droite",saturation:"Saturation"},sr:{brightness:"",collapse_open:" ",collapse_close:" ",contrast:"",flip:"",greyscale:"",hideImageTools:" ",invert:" ",revert:" ",rotateLeft:" ",rotateRight:" ",saturation:"",showImageTools:" "}}}},{target:"WindowTopBarPluginMenu",component:bl,mode:"add",mapDispatchToProps:{updateWindow:Jo.uE},mapStateToProps:function(e,t){var n=t.windowId;return{enabled:(0,na.R2)(e,{windowId:n}).imageToolsEnabled||!1}}}];var xl=n(903),Sl=n.n(xl),El=n(3324);function _l(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function Tl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ol(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ol(e,t){if(e){if("string"==typeof e)return Al(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Al(e,t):void 0}}function Al(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cl(){return Cl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Il(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Cl.apply(this,arguments)}function Pl(e,t,n){return t=Il(t),kl(e,Rl()?Reflect.construct(t,n||[],Il(e).constructor):t.apply(e,n))}function kl(e,t){if(t&&("object"===zl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ml(e)}function Rl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Rl=function(){return!!e})()}function Il(e){return Il=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Il(e)}function Ml(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jl(e,t)}function jl(e,t){return jl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jl(e,t)}function Ll(e,t,n){return(t=Hl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nl(){Nl=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),s=new k(r||[]);return i(a,"_invoke",{value:O(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};u(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(R([])));S&&S!==n&&r.call(S,a)&&(w=S);var E=b.prototype=g.prototype=Object.create(w);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,o,a,s){var l=f(e[i],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==zl(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function O(t,n,r){var i=d;return function(o,a){if(i===h)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=A(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var u=f(t,n,r);if("normal"===u.type){if(i=r.done?m:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=m,r.method="throw",r.arg=u.arg)}}}function A(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(zl(t)+" is not iterable")}return y.prototype=b,i(E,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},_(T.prototype),u(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new T(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(E),u(E,l,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function zl(e){return zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(e)}function Bl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hl(r.key),r)}}function Wl(e,t,n){return t&&Fl(e.prototype,t),n&&Fl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hl(e){var t=function(e,t){if("object"!=zl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=zl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==zl(t)?t:String(t)}for(var Ul="139",Vl=0,Gl=1,ql=2,Xl=1,Zl=2,$l=3,Yl=0,Kl=1,Jl=2,Ql=0,eu=1,tu=2,nu=3,ru=4,iu=5,ou=100,au=101,su=102,lu=103,uu=104,cu=200,fu=201,du=202,pu=203,hu=204,mu=205,vu=206,gu=207,yu=208,bu=209,wu=210,xu=0,Su=1,Eu=2,_u=3,Tu=4,Ou=5,Au=6,Cu=7,Pu=0,ku=1,Ru=2,Iu=0,Mu=1,Du=2,ju=3,Lu=4,Nu=5,zu=301,Bu=302,Fu=303,Wu=304,Hu=306,Uu=1e3,Vu=1001,Gu=1002,qu=1003,Xu=1004,Zu=1005,$u=1006,Yu=1007,Ku=1008,Ju=1009,Qu=1010,ec=1011,tc=1012,nc=1013,rc=1014,ic=1015,oc=1016,ac=1017,sc=1018,lc=1020,uc=1021,cc=1022,fc=1023,dc=1024,pc=1025,hc=1026,mc=1027,vc=1028,gc=1029,yc=1030,bc=1031,wc=1033,xc=33776,Sc=33777,Ec=33778,_c=33779,Tc=35840,Oc=35841,Ac=35842,Cc=35843,Pc=36196,kc=37492,Rc=37496,Ic=37808,Mc=37809,Dc=37810,jc=37811,Lc=37812,Nc=37813,zc=37814,Bc=37815,Fc=37816,Wc=37817,Hc=37818,Uc=37819,Vc=37820,Gc=37821,qc=36492,Xc=2300,Zc=2301,$c=2302,Yc=2400,Kc=2401,Jc=2402,Qc=3e3,ef=3001,tf=3201,nf=0,rf=1,of="srgb",af="srgb-linear",sf=7680,lf=35044,uf=35048,cf="300 es",ff=1035,df=function(){function e(){Bl(this,e)}return Wl(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),pf=[],hf=0;hf<256;hf++)pf[hf]=(hf<16?"0":"")+hf.toString(16);var mf=Math.PI/180,vf=180/Math.PI;function gf(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(pf[255&e]+pf[e>>8&255]+pf[e>>16&255]+pf[e>>24&255]+"-"+pf[255&t]+pf[t>>8&255]+"-"+pf[t>>16&15|64]+pf[t>>24&255]+"-"+pf[63&n|128]+pf[n>>8&255]+"-"+pf[n>>16&255]+pf[n>>24&255]+pf[255&r]+pf[r>>8&255]+pf[r>>16&255]+pf[r>>24&255]).toLowerCase()}function yf(e,t,n){return Math.max(t,Math.min(n,e))}function bf(e,t,n){return(1-n)*e+n*t}function wf(e){return 0==(e&e-1)&&0!==e}function xf(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}var Sf=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Bl(this,e),this.x=t,this.y=n}return Wl(e,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e,t){return void 0!==t?(El.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(El.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){return Math.atan2(-this.y,-this.x)+Math.PI}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&El.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:Nl().mark((function e(){return Nl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),e}();Sf.prototype.isVector2=!0;var Ef=function(){function e(){Bl(this,e),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&El.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return Wl(e,[{key:"set",value:function(e,t,n,r,i,o,a,s,l){var u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=o,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],l=n[1],u=n[4],c=n[7],f=n[2],d=n[5],p=n[8],h=r[0],m=r[3],v=r[6],g=r[1],y=r[4],b=r[7],w=r[2],x=r[5],S=r[8];return i[0]=o*h+a*g+s*w,i[3]=o*m+a*y+s*x,i[6]=o*v+a*b+s*S,i[1]=l*h+u*g+c*w,i[4]=l*m+u*y+c*x,i[7]=l*v+u*b+c*S,i[2]=f*h+d*g+p*w,i[5]=f*m+d*y+p*x,i[8]=f*v+d*b+p*S,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8];return t*o*u-t*a*l-n*i*u+n*a*s+r*i*l-r*o*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=u*o-a*l,f=a*s-u*i,d=l*i-o*s,p=t*c+n*f+r*d;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);var h=1/p;return e[0]=c*h,e[1]=(r*l-u*n)*h,e[2]=(a*n-r*o)*h,e[3]=f*h,e[4]=(u*t-r*s)*h,e[5]=(r*i-a*t)*h,e[6]=d*h,e[7]=(n*s-l*t)*h,e[8]=(o*t-n*i)*h,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,o,a){var s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*o+l*a)+o+e,-r*l,r*s,-r*(-l*o+s*a)+a+t,0,0,1),this}},{key:"scale",value:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],o=r[3],a=r[6],s=r[1],l=r[4],u=r[7];return r[0]=t*i+n*s,r[3]=t*o+n*l,r[6]=t*a+n*u,r[1]=-n*i+t*s,r[4]=-n*o+t*l,r[7]=-n*a+t*u,this}},{key:"translate",value:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}();function _f(e){for(var t=e.length-1;t>=0;--t)if(e[t]>65535)return!0;return!1}function Tf(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Of(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Af(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}Ef.prototype.isMatrix3=!0,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;var Cf=Ll(Ll({},of,Ll({},af,Of)),af,Ll({},of,Af)),Pf={legacyMode:!0,get workingColorSpace(){return af},set workingColorSpace(e){El.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(this.legacyMode||t===n||!t||!n)return e;if(Cf[t]&&void 0!==Cf[t][n]){var r=Cf[t][n];return e.r=r(e.r),e.g=r(e.g),e.b=r(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},kf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Rf={r:0,g:0,b:0},If={h:0,s:0,l:0},Mf={h:0,s:0,l:0};function Df(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function jf(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}var Lf,Nf=function(){function e(t,n,r){return Bl(this,e),void 0===n&&void 0===r?this.set(t):this.setRGB(t,n,r)}return Wl(e,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:of;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Pf.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:af;return this.r=e,this.g=t,this.b=n,Pf.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:af;if(e=(e%(r=1)+r)%r,t=yf(t,0,1),n=yf(n,0,1),0===t)this.r=this.g=this.b=n;else{var o=n<=.5?n*(1+t):n+t-n*t,a=2*n-o;this.r=Df(a,o,e+1/3),this.g=Df(a,o,e),this.b=Df(a,o,e-1/3)}return Pf.toWorkingColorSpace(this,i),this}},{key:"setStyle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:of;function r(t){void 0!==t&&parseFloat(t)<1&&El.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var i,o=t[1],a=t[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,Pf.toWorkingColorSpace(this,n),r(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,Pf.toWorkingColorSpace(this,n),r(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){var s=parseFloat(i[1])/360,l=parseInt(i[2],10)/100,u=parseInt(i[3],10)/100;return r(i[4]),this.setHSL(s,l,u,n)}}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var c=t[1],f=c.length;if(3===f)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,Pf.toWorkingColorSpace(this,n),this;if(6===f)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,Pf.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:of,n=kf[e.toLowerCase()];return void 0!==n?this.setHex(n,t):El.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=Of(e.r),this.g=Of(e.g),this.b=Of(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=Af(e.r),this.g=Af(e.g),this.b=Af(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:of;return Pf.fromWorkingColorSpace(jf(this,Rf),e),yf(255*Rf.r,0,255)<<16^yf(255*Rf.g,0,255)<<8^yf(255*Rf.b,0,255)<<0}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:of;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:af;Pf.fromWorkingColorSpace(jf(this,Rf),t);var n,r,i=Rf.r,o=Rf.g,a=Rf.b,s=Math.max(i,o,a),l=Math.min(i,o,a),u=(l+s)/2;if(l===s)n=0,r=0;else{var c=s-l;switch(r=u<=.5?c/(s+l):c/(2-s-l),s){case i:n=(o-a)/c+(o<a?6:0);break;case o:n=(a-i)/c+2;break;case a:n=(i-o)/c+4}n/=6}return e.h=n,e.s=r,e.l=u,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:af;return Pf.fromWorkingColorSpace(jf(this,Rf),t),e.r=Rf.r,e.g=Rf.g,e.b=Rf.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:of;return Pf.fromWorkingColorSpace(jf(this,Rf),e),e!==of?"color(".concat(e," ").concat(Rf.r," ").concat(Rf.g," ").concat(Rf.b,")"):"rgb(".concat(255*Rf.r|0,",").concat(255*Rf.g|0,",").concat(255*Rf.b|0,")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(If),If.h+=e,If.s+=t,If.l+=n,this.setHSL(If.h,If.s,If.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(If),e.getHSL(Mf);var n=bf(If.h,Mf.h,t),r=bf(If.s,Mf.s,t),i=bf(If.l,Mf.l,t);return this.setHSL(n,r,i),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),e}();Nf.NAMES=kf,Nf.prototype.isColor=!0,Nf.prototype.r=1,Nf.prototype.g=1,Nf.prototype.b=1;var zf=function(){function e(){Bl(this,e)}return Wl(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Lf&&(Lf=Tf("canvas")),Lf.width=e.width,Lf.height=e.height;var n=Lf.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Lf}return t.width>2048||t.height>2048?(El.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var t=Tf("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,o=0;o<i.length;o++)i[o]=255*Of(i[o]/255);return n.putImageData(r,0,0),t}if(e.data){for(var a=e.data.slice(0),s=0;s<a.length;s++)a instanceof Uint8Array||a instanceof Uint8ClampedArray?a[s]=Math.floor(255*Of(a[s]/255)):a[s]=Of(a[s]);return{data:a,width:e.width,height:e.height}}return El.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),Bf=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Bl(this,e),this.uuid=gf(),this.data=t,this.version=0}return Wl(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var i;if(Array.isArray(r)){i=[];for(var o=0,a=r.length;o<a;o++)r[o].isDataTexture?i.push(Ff(r[o].image)):i.push(Ff(r[o]))}else i=Ff(r);n.url=i}return t||(e.images[this.uuid]=n),n}}]),e}();function Ff(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?zf.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(El.warn("THREE.Texture: Unable to serialize Texture."),{})}Bf.prototype.isSource=!0;var Wf=0,Hf=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_IMAGE,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.DEFAULT_MAPPING,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vu,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Vu,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$u,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ku,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fc,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Ju,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Qc;return Bl(this,t),e=Pl(this,t),Object.defineProperty(Ml(e),"id",{value:Wf++}),e.uuid=gf(),e.name="",e.source=new Bf(n),e.mipmaps=[],e.mapping=r,e.wrapS=i,e.wrapT=o,e.magFilter=a,e.minFilter=s,e.anisotropy=c,e.format=l,e.internalFormat=null,e.type=u,e.offset=new Sf(0,0),e.repeat=new Sf(1,1),e.center=new Sf(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new Ef,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=f,e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return Dl(t,e),Wl(t,[{key:"image",get:function(){return this.source.data},set:function(e){this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Uu:e.x=e.x-Math.floor(e.x);break;case Vu:e.x=e.x<0?0:1;break;case Gu:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Uu:e.y=e.y-Math.floor(e.y);break;case Vu:e.y=e.y<0?0:1;break;case Gu:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}]),t}(df);Hf.DEFAULT_IMAGE=null,Hf.DEFAULT_MAPPING=300,Hf.prototype.isTexture=!0;var Uf=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Bl(this,e),this.x=t,this.y=n,this.z=r,this.w=i}return Wl(e,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e,t){return void 0!==t?(El.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(El.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,o=.01,a=.1,s=e.elements,l=s[0],u=s[4],c=s[8],f=s[1],d=s[5],p=s[9],h=s[2],m=s[6],v=s[10];if(Math.abs(u-f)<o&&Math.abs(c-h)<o&&Math.abs(p-m)<o){if(Math.abs(u+f)<a&&Math.abs(c+h)<a&&Math.abs(p+m)<a&&Math.abs(l+d+v-3)<a)return this.set(1,0,0,0),this;t=Math.PI;var g=(l+1)/2,y=(d+1)/2,b=(v+1)/2,w=(u+f)/4,x=(c+h)/4,S=(p+m)/4;return g>y&&g>b?g<o?(n=0,r=.707106781,i=.707106781):(r=w/(n=Math.sqrt(g)),i=x/n):y>b?y<o?(n=.707106781,r=0,i=.707106781):(n=w/(r=Math.sqrt(y)),i=S/r):b<o?(n=.707106781,r=.707106781,i=0):(n=x/(i=Math.sqrt(b)),r=S/i),this.set(n,r,i,t),this}var E=Math.sqrt((m-p)*(m-p)+(c-h)*(c-h)+(f-u)*(f-u));return Math.abs(E)<.001&&(E=1),this.x=(m-p)/E,this.y=(c-h)/E,this.z=(f-u)/E,this.w=Math.acos((l+d+v-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&El.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:Nl().mark((function e(){return Nl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),e}();Uf.prototype.isVector4=!0;var Vf=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Bl(this,t),(r=Pl(this,t)).width=e,r.height=n,r.depth=1,r.scissor=new Uf(0,0,e,n),r.scissorTest=!1,r.viewport=new Uf(0,0,e,n);var o={width:e,height:n,depth:1};return r.texture=new Hf(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),r.texture.isRenderTargetTexture=!0,r.texture.flipY=!1,r.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,r.texture.internalFormat=void 0!==i.internalFormat?i.internalFormat:null,r.texture.minFilter=void 0!==i.minFilter?i.minFilter:$u,r.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,r.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,r.depthTexture=void 0!==i.depthTexture?i.depthTexture:null,r.samples=void 0!==i.samples?i.samples:0,r}return Dl(t,e),Wl(t,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0,this.texture.image=Object.assign({},e.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),t}(df);Vf.prototype.isWebGLRenderTarget=!0;var Gf=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Bl(this,t),(e=Pl(this,t,[null])).image={data:n,width:r,height:i,depth:o},e.magFilter=qu,e.minFilter=qu,e.wrapR=Vu,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return Dl(t,e),Wl(t)}(Hf);Gf.prototype.isDataArrayTexture=!0,function(e){function t(e,n,r){var i;return Bl(this,t),(i=Pl(this,t,[e,n])).depth=r,i.texture=new Gf(null,e,n,r),i.texture.isRenderTargetTexture=!0,i}return Dl(t,e),Wl(t)}(Vf).prototype.isWebGLArrayRenderTarget=!0;var qf=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Bl(this,t),(e=Pl(this,t,[null])).image={data:n,width:r,height:i,depth:o},e.magFilter=qu,e.minFilter=qu,e.wrapR=Vu,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return Dl(t,e),Wl(t)}(Hf);qf.prototype.isData3DTexture=!0,function(e){function t(e,n,r){var i;return Bl(this,t),(i=Pl(this,t,[e,n])).depth=r,i.texture=new qf(null,e,n,r),i.texture.isRenderTargetTexture=!0,i}return Dl(t,e),Wl(t)}(Vf).prototype.isWebGL3DRenderTarget=!0,function(e){function t(e,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Bl(this,t);var a=(i=Pl(this,t,[e,n,o])).texture;i.texture=[];for(var s=0;s<r;s++)i.texture[s]=a.clone(),i.texture[s].isRenderTargetTexture=!0;return i}return Dl(t,e),Wl(t,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(var r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}},{key:"copy",value:function(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(var t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone();return this}}]),t}(Vf).prototype.isWebGLMultipleRenderTargets=!0;var Xf=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Bl(this,e),this._x=t,this._y=n,this._z=r,this._w=i}return Wl(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,o=e._order,a=Math.cos,s=Math.sin,l=a(n/2),u=a(r/2),c=a(i/2),f=s(n/2),d=s(r/2),p=s(i/2);switch(o){case"XYZ":this._x=f*u*c+l*d*p,this._y=l*d*c-f*u*p,this._z=l*u*p+f*d*c,this._w=l*u*c-f*d*p;break;case"YXZ":this._x=f*u*c+l*d*p,this._y=l*d*c-f*u*p,this._z=l*u*p-f*d*c,this._w=l*u*c+f*d*p;break;case"ZXY":this._x=f*u*c-l*d*p,this._y=l*d*c+f*u*p,this._z=l*u*p+f*d*c,this._w=l*u*c-f*d*p;break;case"ZYX":this._x=f*u*c-l*d*p,this._y=l*d*c+f*u*p,this._z=l*u*p-f*d*c,this._w=l*u*c+f*d*p;break;case"YZX":this._x=f*u*c+l*d*p,this._y=l*d*c+f*u*p,this._z=l*u*p-f*d*c,this._w=l*u*c-f*d*p;break;case"XZY":this._x=f*u*c-l*d*p,this._y=l*d*c-f*u*p,this._z=l*u*p+f*d*c,this._w=l*u*c+f*d*p;break;default:El.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],o=t[1],a=t[5],s=t[9],l=t[2],u=t[6],c=t[10],f=n+a+c;if(f>0){var d=.5/Math.sqrt(f+1);this._w=.25/d,this._x=(u-s)*d,this._y=(i-l)*d,this._z=(o-r)*d}else if(n>a&&n>c){var p=2*Math.sqrt(1+n-a-c);this._w=(u-s)/p,this._x=.25*p,this._y=(r+o)/p,this._z=(i+l)/p}else if(a>c){var h=2*Math.sqrt(1+a-n-c);this._w=(i-l)/h,this._x=(r+o)/h,this._y=.25*h,this._z=(s+u)/h}else{var m=2*Math.sqrt(1+c-n-a);this._w=(o-r)/m,this._x=(i+l)/m,this._y=(s+u)/m,this._z=.25*m}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(yf(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e,t){return void 0!==t?(El.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+o*a+r*l-i*s,this._y=r*u+o*s+i*a-n*l,this._z=i*u+o*l+n*s-r*a,this._w=o*u-n*a-r*s-i*l,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=1-a*a;if(s<=Number.EPSILON){var l=1-t;return this._w=l*o+t*this._w,this._x=l*n+t*this._x,this._y=l*r+t*this._y,this._z=l*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,a),f=Math.sin((1-t)*c)/u,d=Math.sin(t*c)/u;return this._w=o*f+this._w*d,this._x=n*f+this._x*d,this._y=r*f+this._y*d,this._z=i*f+this._z*d,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}],[{key:"slerp",value:function(e,t,n,r){return El.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(e,t,r)}},{key:"slerpFlat",value:function(e,t,n,r,i,o,a){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],f=i[o+0],d=i[o+1],p=i[o+2],h=i[o+3];if(0===a)return e[t+0]=s,e[t+1]=l,e[t+2]=u,void(e[t+3]=c);if(1===a)return e[t+0]=f,e[t+1]=d,e[t+2]=p,void(e[t+3]=h);if(c!==h||s!==f||l!==d||u!==p){var m=1-a,v=s*f+l*d+u*p+c*h,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var b=Math.sqrt(y),w=Math.atan2(b,v*g);m=Math.sin(m*w)/b,a=Math.sin(a*w)/b}var x=a*g;if(s=s*m+f*x,l=l*m+d*x,u=u*m+p*x,c=c*m+h*x,m===1-a){var S=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=S,l*=S,u*=S,c*=S}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,o){var a=n[r],s=n[r+1],l=n[r+2],u=n[r+3],c=i[o],f=i[o+1],d=i[o+2],p=i[o+3];return e[t]=a*p+u*c+s*d-l*f,e[t+1]=s*p+u*f+l*c-a*d,e[t+2]=l*p+u*d+a*f-s*c,e[t+3]=u*p-a*c-s*f-l*d,e}}]),e}();Xf.prototype.isQuaternion=!0;var Zf=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Bl(this,e),this.x=t,this.y=n,this.z=r}return Wl(e,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e,t){return void 0!==t?(El.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(El.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(El.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return e&&e.isEuler||El.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Yf.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(Yf.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,l=s*t+o*r-a*n,u=s*n+a*t-i*r,c=s*r+i*n-o*t,f=-i*t-o*n-a*r;return this.x=l*s+f*-i+u*-a-c*-o,this.y=u*s+f*-o+c*-i-l*-a,this.z=c*s+f*-a+l*-o-u*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e,t){return void 0!==t?(El.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return $f.copy(this).projectOnVector(e),this.sub($f)}},{key:"reflect",value:function(e){return this.sub($f.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(yf(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&El.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:Symbol.iterator,value:Nl().mark((function e(){return Nl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),e}();Zf.prototype.isVector3=!0;var $f=new Zf,Yf=new Xf,Kf=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zf(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zf(-1/0,-1/0,-1/0);Bl(this,e),this.min=t,this.max=n}return Wl(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,l=e.length;s<l;s+=3){var u=e[s],c=e[s+1],f=e[s+2];u<t&&(t=u),c<n&&(n=c),f<r&&(r=f),u>i&&(i=u),c>o&&(o=c),f>a&&(a=f)}return this.min.set(t,n,r),this.max.set(i,o,a),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,l=e.count;s<l;s++){var u=e.getX(s),c=e.getY(s),f=e.getZ(s);u<t&&(t=u),c<n&&(n=c),f<r&&(r=f),u>i&&(i=u),c>o&&(o=c),f>a&&(a=f)}return this.min.set(t,n,r),this.max.set(i,o,a),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Qf.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);var n=e.geometry;if(void 0!==n)if(t&&null!=n.attributes&&void 0!==n.attributes.position)for(var r=n.attributes.position,i=0,o=r.count;i<o;i++)Qf.fromBufferAttribute(r,i).applyMatrix4(e.matrixWorld),this.expandByPoint(Qf);else null===n.boundingBox&&n.computeBoundingBox(),ed.copy(n.boundingBox),ed.applyMatrix4(e.matrixWorld),this.union(ed);for(var a=e.children,s=0,l=a.length;s<l;s++)this.expandByObject(a[s],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,Qf),Qf.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(sd),ld.subVectors(this.max,sd),td.subVectors(e.a,sd),nd.subVectors(e.b,sd),rd.subVectors(e.c,sd),id.subVectors(nd,td),od.subVectors(rd,nd),ad.subVectors(td,rd);var t=[0,-id.z,id.y,0,-od.z,od.y,0,-ad.z,ad.y,id.z,0,-id.x,od.z,0,-od.x,ad.z,0,-ad.x,-id.y,id.x,0,-od.y,od.x,0,-ad.y,ad.x,0];return!!fd(t,td,nd,rd,ld)&&!!fd(t=[1,0,0,0,1,0,0,0,1],td,nd,rd,ld)&&(ud.crossVectors(id,od),fd(t=[ud.x,ud.y,ud.z],td,nd,rd,ld))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return Qf.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(Qf).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(Jf[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Jf[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Jf[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Jf[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Jf[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Jf[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Jf[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Jf[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Jf)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();Kf.prototype.isBox3=!0;var Jf=[new Zf,new Zf,new Zf,new Zf,new Zf,new Zf,new Zf,new Zf],Qf=new Zf,ed=new Kf,td=new Zf,nd=new Zf,rd=new Zf,id=new Zf,od=new Zf,ad=new Zf,sd=new Zf,ld=new Zf,ud=new Zf,cd=new Zf;function fd(e,t,n,r,i){for(var o=0,a=e.length-3;o<=a;o+=3){cd.fromArray(e,o);var s=i.x*Math.abs(cd.x)+i.y*Math.abs(cd.y)+i.z*Math.abs(cd.z),l=t.dot(cd),u=n.dot(cd),c=r.dot(cd);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var dd=new Kf,pd=new Zf,hd=new Zf,md=new Zf,vd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zf,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;Bl(this,e),this.center=t,this.radius=n}return Wl(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):dd.setFromPoints(e).getCenter(n);for(var r=0,i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){md.subVectors(e,this.center);var t=md.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.add(md.multiplyScalar(r/n)),this.radius+=r}return this}},{key:"union",value:function(e){return!0===this.center.equals(e.center)?hd.set(0,0,1).multiplyScalar(e.radius):hd.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(pd.copy(e.center).add(hd)),this.expandByPoint(pd.copy(e.center).sub(hd)),this}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),gd=new Zf,yd=new Zf,bd=new Zf,wd=new Zf,xd=new Zf,Sd=new Zf,Ed=new Zf,_d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zf,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zf(0,0,-1);Bl(this,e),this.origin=t,this.direction=n}return Wl(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,gd)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=gd.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(gd.copy(this.direction).multiplyScalar(t).add(this.origin),gd.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){yd.copy(e).add(t).multiplyScalar(.5),bd.copy(t).sub(e).normalize(),wd.copy(this.origin).sub(yd);var i,o,a,s,l=.5*e.distanceTo(t),u=-this.direction.dot(bd),c=wd.dot(this.direction),f=-wd.dot(bd),d=wd.lengthSq(),p=Math.abs(1-u*u);if(p>0)if(o=u*c-f,s=l*p,(i=u*f-c)>=0)if(o>=-s)if(o<=s){var h=1/p;a=(i*=h)*(i+u*(o*=h)+2*c)+o*(u*i+o+2*f)+d}else o=l,a=-(i=Math.max(0,-(u*o+c)))*i+o*(o+2*f)+d;else o=-l,a=-(i=Math.max(0,-(u*o+c)))*i+o*(o+2*f)+d;else o<=-s?a=-(i=Math.max(0,-(-u*l+c)))*i+(o=i>0?-l:Math.min(Math.max(-l,-f),l))*(o+2*f)+d:o<=s?(i=0,a=(o=Math.min(Math.max(-l,-f),l))*(o+2*f)+d):a=-(i=Math.max(0,-(u*l+c)))*i+(o=i>0?l:Math.min(Math.max(-l,-f),l))*(o+2*f)+d;else o=u>0?-l:l,a=-(i=Math.max(0,-(u*o+c)))*i+o*(o+2*f)+d;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(bd).multiplyScalar(o).add(yd),a}},{key:"intersectSphere",value:function(e,t){gd.subVectors(e.center,this.origin);var n=gd.dot(this.direction),r=gd.dot(gd)-n*n,i=e.radius*e.radius;if(r>i)return null;var o=Math.sqrt(i-r),a=n-o,s=n+o;return a<0&&s<0?null:a<0?this.at(s,t):this.at(a,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,o,a,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,f=this.origin;return l>=0?(n=(e.min.x-f.x)*l,r=(e.max.x-f.x)*l):(n=(e.max.x-f.x)*l,r=(e.min.x-f.x)*l),u>=0?(i=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(i=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),n>o||i>r?null:((i>n||n!=n)&&(n=i),(o<r||r!=r)&&(r=o),c>=0?(a=(e.min.z-f.z)*c,s=(e.max.z-f.z)*c):(a=(e.max.z-f.z)*c,s=(e.min.z-f.z)*c),n>s||a>r?null:((a>n||n!=n)&&(n=a),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,gd)}},{key:"intersectTriangle",value:function(e,t,n,r,i){xd.subVectors(t,e),Sd.subVectors(n,e),Ed.crossVectors(xd,Sd);var o,a=this.direction.dot(Ed);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}wd.subVectors(this.origin,e);var s=o*this.direction.dot(Sd.crossVectors(wd,Sd));if(s<0)return null;var l=o*this.direction.dot(xd.cross(wd));if(l<0)return null;if(s+l>a)return null;var u=-o*wd.dot(Ed);return u<0?null:this.at(u/a,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Td=function(){function e(){Bl(this,e),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&El.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return Wl(e,[{key:"set",value:function(e,t,n,r,i,o,a,s,l,u,c,f,d,p,h,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=o,v[9]=a,v[13]=s,v[2]=l,v[6]=u,v[10]=c,v[14]=f,v[3]=d,v[7]=p,v[11]=h,v[15]=m,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/Od.setFromMatrixColumn(e,0).length(),i=1/Od.setFromMatrixColumn(e,1).length(),o=1/Od.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){e&&e.isEuler||El.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var f=o*u,d=o*c,p=a*u,h=a*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=d+p*l,t[5]=f-h*l,t[9]=-a*s,t[2]=h-f*l,t[6]=p+d*l,t[10]=o*s}else if("YXZ"===e.order){var m=s*u,v=s*c,g=l*u,y=l*c;t[0]=m+y*a,t[4]=g*a-v,t[8]=o*l,t[1]=o*c,t[5]=o*u,t[9]=-a,t[2]=v*a-g,t[6]=y+m*a,t[10]=o*s}else if("ZXY"===e.order){var b=s*u,w=s*c,x=l*u,S=l*c;t[0]=b-S*a,t[4]=-o*c,t[8]=x+w*a,t[1]=w+x*a,t[5]=o*u,t[9]=S-b*a,t[2]=-o*l,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){var E=o*u,_=o*c,T=a*u,O=a*c;t[0]=s*u,t[4]=T*l-_,t[8]=E*l+O,t[1]=s*c,t[5]=O*l+E,t[9]=_*l-T,t[2]=-l,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var A=o*s,C=o*l,P=a*s,k=a*l;t[0]=s*u,t[4]=k-A*c,t[8]=P*c+C,t[1]=c,t[5]=o*u,t[9]=-a*u,t[2]=-l*u,t[6]=C*c+P,t[10]=A-k*c}else if("XZY"===e.order){var R=o*s,I=o*l,M=a*s,D=a*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=R*c+D,t[5]=o*u,t[9]=I*c-M,t[2]=M*c-I,t[6]=a*u,t[10]=D*c+R}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(Cd,e,Pd)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return Id.subVectors(e,t),0===Id.lengthSq()&&(Id.z=1),Id.normalize(),kd.crossVectors(n,Id),0===kd.lengthSq()&&(1===Math.abs(n.z)?Id.x+=1e-4:Id.z+=1e-4,Id.normalize(),kd.crossVectors(n,Id)),kd.normalize(),Rd.crossVectors(Id,kd),r[0]=kd.x,r[4]=Rd.x,r[8]=Id.x,r[1]=kd.y,r[5]=Rd.y,r[9]=Id.y,r[2]=kd.z,r[6]=Rd.z,r[10]=Id.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(El.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],u=n[1],c=n[5],f=n[9],d=n[13],p=n[2],h=n[6],m=n[10],v=n[14],g=n[3],y=n[7],b=n[11],w=n[15],x=r[0],S=r[4],E=r[8],_=r[12],T=r[1],O=r[5],A=r[9],C=r[13],P=r[2],k=r[6],R=r[10],I=r[14],M=r[3],D=r[7],j=r[11],L=r[15];return i[0]=o*x+a*T+s*P+l*M,i[4]=o*S+a*O+s*k+l*D,i[8]=o*E+a*A+s*R+l*j,i[12]=o*_+a*C+s*I+l*L,i[1]=u*x+c*T+f*P+d*M,i[5]=u*S+c*O+f*k+d*D,i[9]=u*E+c*A+f*R+d*j,i[13]=u*_+c*C+f*I+d*L,i[2]=p*x+h*T+m*P+v*M,i[6]=p*S+h*O+m*k+v*D,i[10]=p*E+h*A+m*R+v*j,i[14]=p*_+h*C+m*I+v*L,i[3]=g*x+y*T+b*P+w*M,i[7]=g*S+y*O+b*k+w*D,i[11]=g*E+y*A+b*R+w*j,i[15]=g*_+y*C+b*I+w*L,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],l=e[13],u=e[2],c=e[6],f=e[10],d=e[14];return e[3]*(+i*s*c-r*l*c-i*a*f+n*l*f+r*a*d-n*s*d)+e[7]*(+t*s*d-t*l*f+i*o*f-r*o*d+r*l*u-i*s*u)+e[11]*(+t*l*c-t*a*d-i*o*c+n*o*d+i*a*u-n*l*u)+e[15]*(-r*a*u-t*s*c+t*a*f+r*o*c-n*o*f+n*s*u)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],f=e[10],d=e[11],p=e[12],h=e[13],m=e[14],v=e[15],g=c*m*l-h*f*l+h*s*d-a*m*d-c*s*v+a*f*v,y=p*f*l-u*m*l-p*s*d+o*m*d+u*s*v-o*f*v,b=u*h*l-p*c*l+p*a*d-o*h*d-u*a*v+o*c*v,w=p*c*s-u*h*s-p*a*f+o*h*f+u*a*m-o*c*m,x=t*g+n*y+r*b+i*w;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var S=1/x;return e[0]=g*S,e[1]=(h*f*i-c*m*i-h*r*d+n*m*d+c*r*v-n*f*v)*S,e[2]=(a*m*i-h*s*i+h*r*l-n*m*l-a*r*v+n*s*v)*S,e[3]=(c*s*i-a*f*i-c*r*l+n*f*l+a*r*d-n*s*d)*S,e[4]=y*S,e[5]=(u*m*i-p*f*i+p*r*d-t*m*d-u*r*v+t*f*v)*S,e[6]=(p*s*i-o*m*i-p*r*l+t*m*l+o*r*v-t*s*v)*S,e[7]=(o*f*i-u*s*i+u*r*l-t*f*l-o*r*d+t*s*d)*S,e[8]=b*S,e[9]=(p*c*i-u*h*i-p*n*d+t*h*d+u*n*v-t*c*v)*S,e[10]=(o*h*i-p*a*i+p*n*l-t*h*l-o*n*v+t*a*v)*S,e[11]=(u*a*i-o*c*i-u*n*l+t*c*l+o*n*d-t*a*d)*S,e[12]=w*S,e[13]=(u*h*r-p*c*r+p*n*f-t*h*f-u*n*m+t*c*m)*S,e[14]=(p*a*r-o*h*r-p*n*s+t*h*s+o*n*m-t*a*m)*S,e[15]=(o*c*r-u*a*r+u*n*s-t*c*s-o*n*f+t*a*f)*S,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,l=i*o,u=i*a;return this.set(l*o+n,l*a-r*s,l*s+r*a,0,l*a+r*s,u*a+n,u*s-r*o,0,l*s-r*a,u*s+r*o,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,o){return this.set(1,n,i,0,e,1,o,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,l=i+i,u=o+o,c=a+a,f=i*l,d=i*u,p=i*c,h=o*u,m=o*c,v=a*c,g=s*l,y=s*u,b=s*c,w=n.x,x=n.y,S=n.z;return r[0]=(1-(h+v))*w,r[1]=(d+b)*w,r[2]=(p-y)*w,r[3]=0,r[4]=(d-b)*x,r[5]=(1-(f+v))*x,r[6]=(m+g)*x,r[7]=0,r[8]=(p+y)*S,r[9]=(m-g)*S,r[10]=(1-(f+h))*S,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=Od.set(r[0],r[1],r[2]).length(),o=Od.set(r[4],r[5],r[6]).length(),a=Od.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Ad.copy(this);var s=1/i,l=1/o,u=1/a;return Ad.elements[0]*=s,Ad.elements[1]*=s,Ad.elements[2]*=s,Ad.elements[4]*=l,Ad.elements[5]*=l,Ad.elements[6]*=l,Ad.elements[8]*=u,Ad.elements[9]*=u,Ad.elements[10]*=u,t.setFromRotationMatrix(Ad),n.x=i,n.y=o,n.z=a,this}},{key:"makePerspective",value:function(e,t,n,r,i,o){void 0===o&&El.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(t-e),l=2*i/(n-r),u=(t+e)/(t-e),c=(n+r)/(n-r),f=-(o+i)/(o-i),d=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=l,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,o){var a=this.elements,s=1/(t-e),l=1/(n-r),u=1/(o-i),c=(t+e)*s,f=(n+r)*l,d=(o+i)*u;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}();Td.prototype.isMatrix4=!0;var Od=new Zf,Ad=new Td,Cd=new Zf(0,0,0),Pd=new Zf(1,1,1),kd=new Zf,Rd=new Zf,Id=new Zf,Md=new Td,Dd=new Xf,jd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DefaultOrder;Bl(this,e),this._x=t,this._y=n,this._z=r,this._order=i}return Wl(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],o=r[4],a=r[8],s=r[1],l=r[5],u=r[9],c=r[2],f=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(yf(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,d),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(f,l),this._z=0);break;case"YXZ":this._x=Math.asin(-yf(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,d),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(yf(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-yf(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(f,d),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(yf(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(a,d));break;case"XZY":this._z=Math.asin(-yf(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,l),this._y=Math.atan2(a,i)):(this._x=Math.atan2(-u,d),this._y=0);break;default:El.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return Md.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Md,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return Dd.setFromEuler(this),this.setFromQuaternion(Dd,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}]),e}();jd.prototype.isEuler=!0,jd.DefaultOrder="XYZ",jd.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var Ld=function(){function e(){Bl(this,e),this.mask=1}return Wl(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!=(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!=(this.mask&(1<<e|0))}}]),e}(),Nd=0,zd=new Zf,Bd=new Xf,Fd=new Td,Wd=new Zf,Hd=new Zf,Ud=new Zf,Vd=new Xf,Gd=new Zf(1,0,0),qd=new Zf(0,1,0),Xd=new Zf(0,0,1),Zd={type:"added"},$d={type:"removed"},Yd=function(e){function t(){var e;Bl(this,t),e=Pl(this,t),Object.defineProperty(Ml(e),"id",{value:Nd++}),e.uuid=gf(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=t.DefaultUp.clone();var n=new Zf,r=new jd,i=new Xf,o=new Zf(1,1,1);return r._onChange((function(){i.setFromEuler(r,!1)})),i._onChange((function(){r.setFromQuaternion(i,void 0,!1)})),Object.defineProperties(Ml(e),{position:{configurable:!0,enumerable:!0,value:n},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Td},normalMatrix:{value:new Ef}}),e.matrix=new Td,e.matrixWorld=new Td,e.matrixAutoUpdate=t.DefaultMatrixAutoUpdate,e.matrixWorldNeedsUpdate=!1,e.layers=new Ld,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return Dl(t,e),Wl(t,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return Bd.setFromAxisAngle(e,t),this.quaternion.multiply(Bd),this}},{key:"rotateOnWorldAxis",value:function(e,t){return Bd.setFromAxisAngle(e,t),this.quaternion.premultiply(Bd),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(Gd,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(qd,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(Xd,e)}},{key:"translateOnAxis",value:function(e,t){return zd.copy(e).applyQuaternion(this.quaternion),this.position.add(zd.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(Gd,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(qd,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(Xd,e)}},{key:"localToWorld",value:function(e){return e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return e.applyMatrix4(Fd.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?Wd.copy(e):Wd.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),Hd.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Fd.lookAt(Hd,Wd,this.up):Fd.lookAt(Wd,Hd,this.up),this.quaternion.setFromRotationMatrix(Fd),r&&(Fd.extractRotation(r.matrixWorld),Bd.setFromRotationMatrix(Fd),this.quaternion.premultiply(Bd.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(El.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Zd)):El.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent($d)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent($d)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),Fd.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Fd.multiply(e.parent.matrixWorld)),e.applyMatrix4(Fd),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Hd,e,Ud),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Hd,Vd,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,o=r.length;i<o;i++)r[i].updateWorldMatrix(!1,!0)}},{key:"toJSON",value:function(e){var t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,l=a.length;s<l;s++){var u=a[s];i(e.shapes,u)}else i(e.shapes,a)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],f=0,d=this.material.length;f<d;f++)c.push(i(e.materials,this.material[f]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var p=0;p<this.children.length;p++)r.children.push(this.children[p].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var h=0;h<this.animations.length;h++){var m=this.animations[h];r.animations.push(i(e.animations,m))}}if(t){var v=_(e.geometries),g=_(e.materials),y=_(e.textures),b=_(e.images),w=_(e.shapes),x=_(e.skeletons),S=_(e.animations),E=_(e.nodes);v.length>0&&(n.geometries=v),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),b.length>0&&(n.images=b),w.length>0&&(n.shapes=w),x.length>0&&(n.skeletons=x),S.length>0&&(n.animations=S),E.length>0&&(n.nodes=E)}return n.object=r,n;function _(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),t}(df);Yd.DefaultUp=new Zf(0,1,0),Yd.DefaultMatrixAutoUpdate=!0,Yd.prototype.isObject3D=!0;var Kd=new Zf,Jd=new Zf,Qd=new Zf,ep=new Zf,tp=new Zf,np=new Zf,rp=new Zf,ip=new Zf,op=new Zf,ap=new Zf,sp=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zf,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zf,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Zf;Bl(this,e),this.a=t,this.b=n,this.c=r}return Wl(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return Kd.subVectors(this.c,this.b),Jd.subVectors(this.a,this.b),.5*Kd.cross(Jd).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,o){return e.getUV(t,this.a,this.b,this.c,n,r,i,o)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,o=this.b,a=this.c;tp.subVectors(o,i),np.subVectors(a,i),ip.subVectors(e,i);var s=tp.dot(ip),l=np.dot(ip);if(s<=0&&l<=0)return t.copy(i);op.subVectors(e,o);var u=tp.dot(op),c=np.dot(op);if(u>=0&&c<=u)return t.copy(o);var f=s*c-u*l;if(f<=0&&s>=0&&u<=0)return n=s/(s-u),t.copy(i).addScaledVector(tp,n);ap.subVectors(e,a);var d=tp.dot(ap),p=np.dot(ap);if(p>=0&&d<=p)return t.copy(a);var h=d*l-s*p;if(h<=0&&l>=0&&p<=0)return r=l/(l-p),t.copy(i).addScaledVector(np,r);var m=u*p-d*c;if(m<=0&&c-u>=0&&d-p>=0)return rp.subVectors(a,o),r=(c-u)/(c-u+(d-p)),t.copy(o).addScaledVector(rp,r);var v=1/(m+h+f);return n=h*v,r=f*v,t.copy(i).addScaledVector(tp,n).addScaledVector(np,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),Kd.subVectors(e,t),r.cross(Kd);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){Kd.subVectors(r,t),Jd.subVectors(n,t),Qd.subVectors(e,t);var o=Kd.dot(Kd),a=Kd.dot(Jd),s=Kd.dot(Qd),l=Jd.dot(Jd),u=Jd.dot(Qd),c=o*l-a*a;if(0===c)return i.set(-2,-1,-1);var f=1/c,d=(l*s-a*u)*f,p=(o*u-a*s)*f;return i.set(1-d-p,p,d)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,ep),ep.x>=0&&ep.y>=0&&ep.x+ep.y<=1}},{key:"getUV",value:function(e,t,n,r,i,o,a,s){return this.getBarycoord(e,t,n,r,ep),s.set(0,0),s.addScaledVector(i,ep.x),s.addScaledVector(o,ep.y),s.addScaledVector(a,ep.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return Kd.subVectors(n,t),Jd.subVectors(e,t),Kd.cross(Jd).dot(r)<0}}]),e}(),lp=0,up=function(e){function t(){var e;return Bl(this,t),e=Pl(this,t),Object.defineProperty(Ml(e),"id",{value:lp++}),e.uuid=gf(),e.name="",e.type="Material",e.fog=!0,e.blending=eu,e.side=Yl,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.blendSrc=hu,e.blendDst=mu,e.blendEquation=ou,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=_u,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=519,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=sf,e.stencilZFail=sf,e.stencilZPass=sf,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return Dl(t,e),Wl(t,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:El.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else El.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else El.warn("THREE.Material: '"+t+"' parameter is undefined.")}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==eu&&(n.blending=this.blending),this.side!==Yl&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),o=r(e.images);i.length>0&&(n.textures=i),o.length>0&&(n.images=o)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),t}(df);up.prototype.isMaterial=!0,up.fromType=function(){return null};var cp=function(e){function t(e){var n;return Bl(this,t),(n=Pl(this,t)).type="MeshBasicMaterial",n.color=new Nf(16777215),n.map=null,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=null,n.aoMapIntensity=1,n.specularMap=null,n.alphaMap=null,n.envMap=null,n.combine=Pu,n.reflectivity=1,n.refractionRatio=.98,n.wireframe=!1,n.wireframeLinewidth=1,n.wireframeLinecap="round",n.wireframeLinejoin="round",n.setValues(e),n}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),t}(up);cp.prototype.isMeshBasicMaterial=!0;var fp=new Zf,dp=new Sf,pp=function(){function e(t,n,r){if(Bl(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=!0===r,this.usage=lf,this.updateRange={offset:0,count:-1},this.version=0}return Wl(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"copyColorsArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(El.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new Nf),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this}},{key:"copyVector2sArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(El.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new Sf),t[n++]=o.x,t[n++]=o.y}return this}},{key:"copyVector3sArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(El.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new Zf),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this}},{key:"copyVector4sArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(El.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new Uf),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)dp.fromBufferAttribute(this,t),dp.applyMatrix3(e),this.setXY(t,dp.x,dp.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)fp.fromBufferAttribute(this,r),fp.applyMatrix3(e),this.setXYZ(r,fp.x,fp.y,fp.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)fp.fromBufferAttribute(this,t),fp.applyMatrix4(e),this.setXYZ(t,fp.x,fp.y,fp.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)fp.fromBufferAttribute(this,t),fp.applyNormalMatrix(e),this.setXYZ(t,fp.x,fp.y,fp.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)fp.fromBufferAttribute(this,t),fp.transformDirection(e),this.setXYZ(t,fp.x,fp.y,fp.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){return this.array[e*this.itemSize]}},{key:"setX",value:function(e,t){return this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){return this.array[e*this.itemSize+1]}},{key:"setY",value:function(e,t){return this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){return this.array[e*this.itemSize+2]}},{key:"setZ",value:function(e,t){return this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){return this.array[e*this.itemSize+3]}},{key:"setW",value:function(e,t){return this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==lf&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}]),e}();pp.prototype.isBufferAttribute=!0;var hp=function(e){function t(e,n,r){return Bl(this,t),Pl(this,t,[new Uint16Array(e),n,r])}return Dl(t,e),Wl(t)}(pp),mp=function(e){function t(e,n,r){return Bl(this,t),Pl(this,t,[new Uint32Array(e),n,r])}return Dl(t,e),Wl(t)}(pp);(function(e){function t(e,n,r){return Bl(this,t),Pl(this,t,[new Uint16Array(e),n,r])}return Dl(t,e),Wl(t)})(pp).prototype.isFloat16BufferAttribute=!0;var vp=function(e){function t(e,n,r){return Bl(this,t),Pl(this,t,[new Float32Array(e),n,r])}return Dl(t,e),Wl(t)}(pp),gp=0,yp=new Td,bp=new Yd,wp=new Zf,xp=new Kf,Sp=new Kf,Ep=new Zf,_p=function(e){function t(){var e;return Bl(this,t),e=Pl(this,t),Object.defineProperty(Ml(e),"id",{value:gp++}),e.uuid=gf(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return Dl(t,e),Wl(t,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(_f(e)?mp:hp)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new Ef).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return yp.makeRotationFromQuaternion(e),this.applyMatrix4(yp),this}},{key:"rotateX",value:function(e){return yp.makeRotationX(e),this.applyMatrix4(yp),this}},{key:"rotateY",value:function(e){return yp.makeRotationY(e),this.applyMatrix4(yp),this}},{key:"rotateZ",value:function(e){return yp.makeRotationZ(e),this.applyMatrix4(yp),this}},{key:"translate",value:function(e,t,n){return yp.makeTranslation(e,t,n),this.applyMatrix4(yp),this}},{key:"scale",value:function(e,t,n){return yp.makeScale(e,t,n),this.applyMatrix4(yp),this}},{key:"lookAt",value:function(e){return bp.lookAt(e),bp.updateMatrix(),this.applyMatrix4(bp.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(wp).negate(),this.translate(wp.x,wp.y,wp.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new vp(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new Kf);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return El.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Zf(-1/0,-1/0,-1/0),new Zf(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];xp.setFromBufferAttribute(i),this.morphTargetsRelative?(Ep.addVectors(this.boundingBox.min,xp.min),this.boundingBox.expandByPoint(Ep),Ep.addVectors(this.boundingBox.max,xp.max),this.boundingBox.expandByPoint(Ep)):(this.boundingBox.expandByPoint(xp.min),this.boundingBox.expandByPoint(xp.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&El.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new vd);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return El.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Zf,1/0);if(e){var n=this.boundingSphere.center;if(xp.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var o=t[r];Sp.setFromBufferAttribute(o),this.morphTargetsRelative?(Ep.addVectors(xp.min,Sp.min),xp.expandByPoint(Ep),Ep.addVectors(xp.max,Sp.max),xp.expandByPoint(Ep)):(xp.expandByPoint(Sp.min),xp.expandByPoint(Sp.max))}xp.getCenter(n);for(var a=0,s=0,l=e.count;s<l;s++)Ep.fromBufferAttribute(e,s),a=Math.max(a,n.distanceToSquared(Ep));if(t)for(var u=0,c=t.length;u<c;u++)for(var f=t[u],d=this.morphTargetsRelative,p=0,h=f.count;p<h;p++)Ep.fromBufferAttribute(f,p),d&&(wp.fromBufferAttribute(e,p),Ep.add(wp)),a=Math.max(a,n.distanceToSquared(Ep));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&El.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,o=t.uv.array,a=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new pp(new Float32Array(4*a),4));for(var s=this.getAttribute("tangent").array,l=[],u=[],c=0;c<a;c++)l[c]=new Zf,u[c]=new Zf;var f=new Zf,d=new Zf,p=new Zf,h=new Sf,m=new Sf,v=new Sf,g=new Zf,y=new Zf,b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(var w=0,x=b.length;w<x;++w)for(var S=b[w],E=S.start,_=E,T=E+S.count;_<T;_+=3)L(n[_+0],n[_+1],n[_+2]);for(var O=new Zf,A=new Zf,C=new Zf,P=new Zf,k=0,R=b.length;k<R;++k)for(var I=b[k],M=I.start,D=M,j=M+I.count;D<j;D+=3)N(n[D+0]),N(n[D+1]),N(n[D+2])}else El.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function L(e,t,n){f.fromArray(r,3*e),d.fromArray(r,3*t),p.fromArray(r,3*n),h.fromArray(o,2*e),m.fromArray(o,2*t),v.fromArray(o,2*n),d.sub(f),p.sub(f),m.sub(h),v.sub(h);var i=1/(m.x*v.y-v.x*m.y);isFinite(i)&&(g.copy(d).multiplyScalar(v.y).addScaledVector(p,-m.y).multiplyScalar(i),y.copy(p).multiplyScalar(m.x).addScaledVector(d,-v.x).multiplyScalar(i),l[e].add(g),l[t].add(g),l[n].add(g),u[e].add(y),u[t].add(y),u[n].add(y))}function N(e){C.fromArray(i,3*e),P.copy(C);var t=l[e];O.copy(t),O.sub(C.multiplyScalar(C.dot(t))).normalize(),A.crossVectors(P,t);var n=A.dot(u[e])<0?-1:1;s[4*e]=O.x,s[4*e+1]=O.y,s[4*e+2]=O.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new pp(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var o=new Zf,a=new Zf,s=new Zf,l=new Zf,u=new Zf,c=new Zf,f=new Zf,d=new Zf;if(e)for(var p=0,h=e.count;p<h;p+=3){var m=e.getX(p+0),v=e.getX(p+1),g=e.getX(p+2);o.fromBufferAttribute(t,m),a.fromBufferAttribute(t,v),s.fromBufferAttribute(t,g),f.subVectors(s,a),d.subVectors(o,a),f.cross(d),l.fromBufferAttribute(n,m),u.fromBufferAttribute(n,v),c.fromBufferAttribute(n,g),l.add(f),u.add(f),c.add(f),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(v,u.x,u.y,u.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,b=t.count;y<b;y+=3)o.fromBufferAttribute(t,y+0),a.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),f.subVectors(s,a),d.subVectors(o,a),f.cross(d),n.setXYZ(y+0,f.x,f.y,f.z),n.setXYZ(y+1,f.x,f.y,f.z),n.setXYZ(y+2,f.x,f.y,f.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,El.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,o=e.attributes[r],a=o.array,s=o.itemSize*t,l=Math.min(a.length,i.length-s),u=0,c=s;u<l;u++,c++)i[c]=a[u];return this}El.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)Ep.fromBufferAttribute(e,t),Ep.normalize(),e.setXYZ(t,Ep.x,Ep.y,Ep.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,o=new n.constructor(t.length*r),a=0,s=0,l=0,u=t.length;l<u;l++){a=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(var c=0;c<r;c++)o[s++]=n[a++]}return new pp(o,r,i)}if(null===this.index)return El.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var n=new t,r=this.index.array,i=this.attributes;for(var o in i){var a=e(i[o],r);n.setAttribute(o,a)}var s=this.morphAttributes;for(var l in s){for(var u=[],c=s[l],f=0,d=c.length;f<d;f++){var p=e(c[f],r);u.push(p)}n.morphAttributes[l]=u}n.morphTargetsRelative=this.morphTargetsRelative;for(var h=this.groups,m=0,v=h.length;m<v;m++){var g=h[m];n.addGroup(g.start,g.count,g.materialIndex)}return n}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var o in i){var a=i[o];e.data.attributes[o]=a.toJSON(e.data)}var s={},l=!1;for(var u in this.morphAttributes){for(var c=this.morphAttributes[u],f=[],d=0,p=c.length;d<p;d++){var h=c[d];f.push(h.toJSON(e.data))}f.length>0&&(s[u]=f,l=!0)}l&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var m=this.groups;m.length>0&&(e.data.groups=JSON.parse(JSON.stringify(m)));var v=this.boundingSphere;return null!==v&&(e.data.boundingSphere={center:v.center.toArray(),radius:v.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var o=r[i];this.setAttribute(i,o.clone(t))}var a=e.morphAttributes;for(var s in a){for(var l=[],u=a[s],c=0,f=u.length;c<f;c++)l.push(u[c].clone(t));this.morphAttributes[s]=l}this.morphTargetsRelative=e.morphTargetsRelative;for(var d=e.groups,p=0,h=d.length;p<h;p++){var m=d[p];this.addGroup(m.start,m.count,m.materialIndex)}var v=e.boundingBox;null!==v&&(this.boundingBox=v.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),t}(df);_p.prototype.isBufferGeometry=!0;var Tp=new Td,Op=new _d,Ap=new vd,Cp=new Zf,Pp=new Zf,kp=new Zf,Rp=new Zf,Ip=new Zf,Mp=new Zf,Dp=new Zf,jp=new Zf,Lp=new Zf,Np=new Sf,zp=new Sf,Bp=new Sf,Fp=new Zf,Wp=new Zf,Hp=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _p,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new cp;return Bl(this,t),(e=Pl(this,t)).type="Mesh",e.geometry=n,e.material=r,e.updateMorphTargets(),e}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,o=r.length;i<o;i++){var a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&El.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"raycast",value:function(e,t){var n,r=this.geometry,i=this.material,o=this.matrixWorld;if(void 0!==i&&(null===r.boundingSphere&&r.computeBoundingSphere(),Ap.copy(r.boundingSphere),Ap.applyMatrix4(o),!1!==e.ray.intersectsSphere(Ap)&&(Tp.copy(o).invert(),Op.copy(e.ray).applyMatrix4(Tp),null===r.boundingBox||!1!==Op.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var a=r.index,s=r.attributes.position,l=r.morphAttributes.position,u=r.morphTargetsRelative,c=r.attributes.uv,f=r.attributes.uv2,d=r.groups,p=r.drawRange;if(null!==a)if(Array.isArray(i))for(var h=0,m=d.length;h<m;h++)for(var v=d[h],g=i[v.materialIndex],y=Math.max(v.start,p.start),b=Math.min(a.count,Math.min(v.start+v.count,p.start+p.count));y<b;y+=3){var w=a.getX(y),x=a.getX(y+1),S=a.getX(y+2);(n=Up(this,g,e,Op,s,l,u,c,f,w,x,S))&&(n.faceIndex=Math.floor(y/3),n.face.materialIndex=v.materialIndex,t.push(n))}else for(var E=Math.max(0,p.start),_=Math.min(a.count,p.start+p.count);E<_;E+=3){var T=a.getX(E),O=a.getX(E+1),A=a.getX(E+2);(n=Up(this,i,e,Op,s,l,u,c,f,T,O,A))&&(n.faceIndex=Math.floor(E/3),t.push(n))}else if(void 0!==s)if(Array.isArray(i))for(var C=0,P=d.length;C<P;C++)for(var k=d[C],R=i[k.materialIndex],I=Math.max(k.start,p.start),M=Math.min(s.count,Math.min(k.start+k.count,p.start+p.count));I<M;I+=3)(n=Up(this,R,e,Op,s,l,u,c,f,I,I+1,I+2))&&(n.faceIndex=Math.floor(I/3),n.face.materialIndex=k.materialIndex,t.push(n));else for(var D=Math.max(0,p.start),j=Math.min(s.count,p.start+p.count);D<j;D+=3)(n=Up(this,i,e,Op,s,l,u,c,f,D,D+1,D+2))&&(n.faceIndex=Math.floor(D/3),t.push(n))}else r.isGeometry&&El.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}]),t}(Yd);function Up(e,t,n,r,i,o,a,s,l,u,c,f){Cp.fromBufferAttribute(i,u),Pp.fromBufferAttribute(i,c),kp.fromBufferAttribute(i,f);var d=e.morphTargetInfluences;if(o&&d){Dp.set(0,0,0),jp.set(0,0,0),Lp.set(0,0,0);for(var p=0,h=o.length;p<h;p++){var m=d[p],v=o[p];0!==m&&(Rp.fromBufferAttribute(v,u),Ip.fromBufferAttribute(v,c),Mp.fromBufferAttribute(v,f),a?(Dp.addScaledVector(Rp,m),jp.addScaledVector(Ip,m),Lp.addScaledVector(Mp,m)):(Dp.addScaledVector(Rp.sub(Cp),m),jp.addScaledVector(Ip.sub(Pp),m),Lp.addScaledVector(Mp.sub(kp),m)))}Cp.add(Dp),Pp.add(jp),kp.add(Lp)}e.isSkinnedMesh&&(e.boneTransform(u,Cp),e.boneTransform(c,Pp),e.boneTransform(f,kp));var g=function(e,t,n,r,i,o,a,s){if(null===(t.side===Kl?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,t.side!==Jl,s)))return null;Wp.copy(s),Wp.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(Wp);return l<n.near||l>n.far?null:{distance:l,point:Wp.clone(),object:e}}(e,t,n,r,Cp,Pp,kp,Fp);if(g){s&&(Np.fromBufferAttribute(s,u),zp.fromBufferAttribute(s,c),Bp.fromBufferAttribute(s,f),g.uv=sp.getUV(Fp,Cp,Pp,kp,Np,zp,Bp,new Sf)),l&&(Np.fromBufferAttribute(l,u),zp.fromBufferAttribute(l,c),Bp.fromBufferAttribute(l,f),g.uv2=sp.getUV(Fp,Cp,Pp,kp,Np,zp,Bp,new Sf));var y={a:u,b:c,c:f,normal:new Zf,materialIndex:0};sp.getNormal(Cp,Pp,kp,y.normal),g.face=y}return g}Hp.prototype.isMesh=!0;var Vp=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;Bl(this,t),(e=Pl(this,t)).type="BoxGeometry",e.parameters={width:n,height:r,depth:i,widthSegments:o,heightSegments:a,depthSegments:s};var l=Ml(e);o=Math.floor(o),a=Math.floor(a),s=Math.floor(s);var u=[],c=[],f=[],d=[],p=0,h=0;function m(e,t,n,r,i,o,a,s,m,v,g){for(var y=o/m,b=a/v,w=o/2,x=a/2,S=s/2,E=m+1,_=v+1,T=0,O=0,A=new Zf,C=0;C<_;C++)for(var P=C*b-x,k=0;k<E;k++){var R=k*y-w;A[e]=R*r,A[t]=P*i,A[n]=S,c.push(A.x,A.y,A.z),A[e]=0,A[t]=0,A[n]=s>0?1:-1,f.push(A.x,A.y,A.z),d.push(k/m),d.push(1-C/v),T+=1}for(var I=0;I<v;I++)for(var M=0;M<m;M++){var D=p+M+E*I,j=p+M+E*(I+1),L=p+(M+1)+E*(I+1),N=p+(M+1)+E*I;u.push(D,j,N),u.push(j,L,N),O+=6}l.addGroup(h,O,g),h+=O,p+=T}return m("z","y","x",-1,-1,i,r,n,s,a,0),m("z","y","x",1,-1,i,r,-n,s,a,1),m("x","z","y",1,1,n,i,r,o,s,2),m("x","z","y",1,-1,n,i,-r,o,s,3),m("x","y","z",1,-1,n,r,i,o,a,4),m("x","y","z",-1,-1,n,r,-i,o,a,5),e.setIndex(u),e.setAttribute("position",new vp(c,3)),e.setAttribute("normal",new vp(f,3)),e.setAttribute("uv",new vp(d,2)),e}return Dl(t,e),Wl(t,null,[{key:"fromJSON",value:function(e){return new t(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),t}(_p);function Gp(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function qp(e){for(var t={},n=0;n<e.length;n++){var r=Gp(e[n]);for(var i in r)t[i]=r[i]}return t}var Xp={clone:Gp,merge:qp},Zp=function(e){function t(e){var n;return Bl(this,t),(n=Pl(this,t)).type="ShaderMaterial",n.defines={},n.uniforms={},n.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",n.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",n.linewidth=1,n.wireframe=!1,n.wireframeLinewidth=1,n.fog=!1,n.lights=!1,n.clipping=!1,n.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},n.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},n.index0AttributeName=void 0,n.uniformsNeedUpdate=!1,n.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&El.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),n.setValues(e)),n}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Gp(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var n=Cl(Il(t.prototype),"toJSON",this).call(this,e);for(var r in n.glslVersion=this.glslVersion,n.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?n.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?n.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?n.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?n.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?n.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?n.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?n.uniforms[r]={type:"m4",value:i.toArray()}:n.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;var o={};for(var a in this.extensions)!0===this.extensions[a]&&(o[a]=!0);return Object.keys(o).length>0&&(n.extensions=o),n}}]),t}(up);Zp.prototype.isShaderMaterial=!0;var $p=function(e){function t(){var e;return Bl(this,t),(e=Pl(this,t)).type="Camera",e.matrixWorldInverse=new Td,e.projectionMatrix=new Td,e.projectionMatrixInverse=new Td,e}return Dl(t,e),Wl(t,[{key:"copy",value:function(e,n){return Cl(Il(t.prototype),"copy",this).call(this,e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){Cl(Il(t.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,n){Cl(Il(t.prototype),"updateWorldMatrix",this).call(this,e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(Yd);$p.prototype.isCamera=!0;var Yp=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return Bl(this,t),(e=Pl(this,t)).type="PerspectiveCamera",e.fov=n,e.zoom=1,e.near=i,e.far=o,e.focus=10,e.aspect=r,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return Dl(t,e),Wl(t,[{key:"copy",value:function(e,n){return Cl(Il(t.prototype),"copy",this).call(this,e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*vf*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*mf*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*vf*Math.atan(Math.tan(.5*mf*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*mf*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,t-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var l=this.filmOffset;0!==l&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var n=Cl(Il(t.prototype),"toJSON",this).call(this,e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,null!==this.view&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}]),t}($p);Yp.prototype.isPerspectiveCamera=!0;var Kp=90,Jp=function(e){function t(e,n,r){var i;if(Bl(this,t),(i=Pl(this,t)).type="CubeCamera",!0!==r.isWebGLCubeRenderTarget)return El.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter."),kl(i);i.renderTarget=r;var o=new Yp(Kp,1,e,n);o.layers=i.layers,o.up.set(0,-1,0),o.lookAt(new Zf(1,0,0)),i.add(o);var a=new Yp(Kp,1,e,n);a.layers=i.layers,a.up.set(0,-1,0),a.lookAt(new Zf(-1,0,0)),i.add(a);var s=new Yp(Kp,1,e,n);s.layers=i.layers,s.up.set(0,0,1),s.lookAt(new Zf(0,1,0)),i.add(s);var l=new Yp(Kp,1,e,n);l.layers=i.layers,l.up.set(0,0,-1),l.lookAt(new Zf(0,-1,0)),i.add(l);var u=new Yp(Kp,1,e,n);u.layers=i.layers,u.up.set(0,-1,0),u.lookAt(new Zf(0,0,1)),i.add(u);var c=new Yp(Kp,1,e,n);return c.layers=i.layers,c.up.set(0,-1,0),c.lookAt(new Zf(0,0,-1)),i.add(c),i}return Dl(t,e),Wl(t,[{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n,r,i=this.renderTarget,o=(n=this.children,r=6,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(n,r)||Ol(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],s=o[1],l=o[2],u=o[3],c=o[4],f=o[5],d=e.getRenderTarget(),p=e.outputEncoding,h=e.toneMapping,m=e.xr.enabled;e.outputEncoding=Qc,e.toneMapping=Iu,e.xr.enabled=!1;var v=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,a),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,l),e.setRenderTarget(i,3),e.render(t,u),e.setRenderTarget(i,4),e.render(t,c),i.texture.generateMipmaps=v,e.setRenderTarget(i,5),e.render(t,f),e.setRenderTarget(d),e.outputEncoding=p,e.toneMapping=h,e.xr.enabled=m,i.texture.needsPMREMUpdate=!0}}]),t}(Yd),Qp=function(e){function t(e,n,r,i,o,a,s,l,u,c){var f;return Bl(this,t),(f=Pl(this,t,[e=void 0!==e?e:[],n=void 0!==n?n:zu,r,i,o,a,s,l,u,c])).flipY=!1,f}return Dl(t,e),Wl(t,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),t}(Hf);Qp.prototype.isCubeTexture=!0;var eh=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Bl(this,t);var i={width:e,height:e,depth:1},o=[i,i,i,i,i,i];return(n=Pl(this,t,[e,e,r])).texture=new Qp(o,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),n.texture.isRenderTargetTexture=!0,n.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,n.texture.minFilter=void 0!==r.minFilter?r.minFilter:$u,n}return Dl(t,e),Wl(t,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n=new Vp(5,5,5),r=new Zp({name:"CubemapFromEquirect",uniforms:Gp({tEquirect:{value:null}}),vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",side:Kl,blending:Ql});r.uniforms.tEquirect.value=t;var i=new Hp(n,r),o=t.minFilter;return t.minFilter===Ku&&(t.minFilter=$u),new Jp(1,10,this).update(e,i),t.minFilter=o,i.geometry.dispose(),i.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,r);e.setRenderTarget(i)}}]),t}(Vf);eh.prototype.isWebGLCubeRenderTarget=!0;var th=new Zf,nh=new Zf,rh=new Ef,ih=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zf(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Bl(this,e),this.normal=t,this.constant=n}return Wl(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=th.subVectors(n,t).cross(nh.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){var n=e.delta(th),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(n).multiplyScalar(i).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||rh.getNormalMatrix(e),r=this.coplanarPoint(th).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();ih.prototype.isPlane=!0;var oh=new vd,ah=new Zf,sh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ih,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ih,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ih,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new ih,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new ih,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new ih;Bl(this,e),this.planes=[t,n,r,i,o,a]}return Wl(e,[{key:"set",value:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6],c=n[7],f=n[8],d=n[9],p=n[10],h=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return t[0].setComponents(a-r,c-s,h-f,y-m).normalize(),t[1].setComponents(a+r,c+s,h+f,y+m).normalize(),t[2].setComponents(a+i,c+l,h+d,y+v).normalize(),t[3].setComponents(a-i,c-l,h-d,y-v).normalize(),t[4].setComponents(a-o,c-u,h-p,y-g).normalize(),t[5].setComponents(a+o,c+u,h+p,y+g).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),oh.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(oh)}},{key:"intersectsSprite",value:function(e){return oh.center.set(0,0,0),oh.radius=.7071067811865476,oh.applyMatrix4(e.matrixWorld),this.intersectsSphere(oh)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++)if(t[i].distanceToPoint(n)<r)return!1;return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(ah.x=r.normal.x>0?e.max.x:e.min.x,ah.y=r.normal.y>0?e.max.y:e.min.y,ah.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(ah)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function lh(){var e=null,t=!1,n=null,r=null;function i(t,o){n(t,o),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function uh(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var o=r.get(t);(!o||o.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var a=r.get(t);void 0===a?r.set(t,function(t,r){var i,o=t.array,a=t.usage,s=e.createBuffer();if(e.bindBuffer(r,s),e.bufferData(r,o,a),t.onUploadCallback(),o instanceof Float32Array)i=5126;else if(o instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");i=5131}else i=5123;else if(o instanceof Int16Array)i=5122;else if(o instanceof Uint32Array)i=5125;else if(o instanceof Int32Array)i=5124;else if(o instanceof Int8Array)i=5120;else if(o instanceof Uint8Array)i=5121;else{if(!(o instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+o);i=5121}return{buffer:s,type:i,bytesPerElement:o.BYTES_PER_ELEMENT,version:t.version}}(t,i)):a.version<t.version&&(function(t,r,i){var o=r.array,a=r.updateRange;e.bindBuffer(i,t),-1===a.count?e.bufferSubData(i,0,o):(n?e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1)}(a.buffer,t,i),a.version=t.version)}}}}var ch=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Bl(this,t),(e=Pl(this,t)).type="PlaneGeometry",e.parameters={width:n,height:r,widthSegments:i,heightSegments:o};for(var a=n/2,s=r/2,l=Math.floor(i),u=Math.floor(o),c=l+1,f=u+1,d=n/l,p=r/u,h=[],m=[],v=[],g=[],y=0;y<f;y++)for(var b=y*p-s,w=0;w<c;w++){var x=w*d-a;m.push(x,-b,0),v.push(0,0,1),g.push(w/l),g.push(1-y/u)}for(var S=0;S<u;S++)for(var E=0;E<l;E++){var _=E+c*S,T=E+c*(S+1),O=E+1+c*(S+1),A=E+1+c*S;h.push(_,T,A),h.push(T,O,A)}return e.setIndex(h),e.setAttribute("position",new vp(m,3)),e.setAttribute("normal",new vp(v,3)),e.setAttribute("uv",new vp(g,2)),e}return Dl(t,e),Wl(t,null,[{key:"fromJSON",value:function(e){return new t(e.width,e.height,e.widthSegments,e.heightSegments)}}]),t}(_p),fh={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},dh={common:{diffuse:{value:new Nf(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ef},uv2Transform:{value:new Ef},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Sf(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Nf(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Nf(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ef}},sprite:{diffuse:{value:new Nf(16777215)},opacity:{value:1},center:{value:new Sf(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ef}}},ph={basic:{uniforms:qp([dh.common,dh.specularmap,dh.envmap,dh.aomap,dh.lightmap,dh.fog]),vertexShader:fh.meshbasic_vert,fragmentShader:fh.meshbasic_frag},lambert:{uniforms:qp([dh.common,dh.specularmap,dh.envmap,dh.aomap,dh.lightmap,dh.emissivemap,dh.fog,dh.lights,{emissive:{value:new Nf(0)}}]),vertexShader:fh.meshlambert_vert,fragmentShader:fh.meshlambert_frag},phong:{uniforms:qp([dh.common,dh.specularmap,dh.envmap,dh.aomap,dh.lightmap,dh.emissivemap,dh.bumpmap,dh.normalmap,dh.displacementmap,dh.fog,dh.lights,{emissive:{value:new Nf(0)},specular:{value:new Nf(1118481)},shininess:{value:30}}]),vertexShader:fh.meshphong_vert,fragmentShader:fh.meshphong_frag},standard:{uniforms:qp([dh.common,dh.envmap,dh.aomap,dh.lightmap,dh.emissivemap,dh.bumpmap,dh.normalmap,dh.displacementmap,dh.roughnessmap,dh.metalnessmap,dh.fog,dh.lights,{emissive:{value:new Nf(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:fh.meshphysical_vert,fragmentShader:fh.meshphysical_frag},toon:{uniforms:qp([dh.common,dh.aomap,dh.lightmap,dh.emissivemap,dh.bumpmap,dh.normalmap,dh.displacementmap,dh.gradientmap,dh.fog,dh.lights,{emissive:{value:new Nf(0)}}]),vertexShader:fh.meshtoon_vert,fragmentShader:fh.meshtoon_frag},matcap:{uniforms:qp([dh.common,dh.bumpmap,dh.normalmap,dh.displacementmap,dh.fog,{matcap:{value:null}}]),vertexShader:fh.meshmatcap_vert,fragmentShader:fh.meshmatcap_frag},points:{uniforms:qp([dh.points,dh.fog]),vertexShader:fh.points_vert,fragmentShader:fh.points_frag},dashed:{uniforms:qp([dh.common,dh.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:fh.linedashed_vert,fragmentShader:fh.linedashed_frag},depth:{uniforms:qp([dh.common,dh.displacementmap]),vertexShader:fh.depth_vert,fragmentShader:fh.depth_frag},normal:{uniforms:qp([dh.common,dh.bumpmap,dh.normalmap,dh.displacementmap,{opacity:{value:1}}]),vertexShader:fh.meshnormal_vert,fragmentShader:fh.meshnormal_frag},sprite:{uniforms:qp([dh.sprite,dh.fog]),vertexShader:fh.sprite_vert,fragmentShader:fh.sprite_frag},background:{uniforms:{uvTransform:{value:new Ef},t2D:{value:null}},vertexShader:fh.background_vert,fragmentShader:fh.background_frag},cube:{uniforms:qp([dh.envmap,{opacity:{value:1}}]),vertexShader:fh.cube_vert,fragmentShader:fh.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:fh.equirect_vert,fragmentShader:fh.equirect_frag},distanceRGBA:{uniforms:qp([dh.common,dh.displacementmap,{referencePosition:{value:new Zf},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:fh.distanceRGBA_vert,fragmentShader:fh.distanceRGBA_frag},shadow:{uniforms:qp([dh.lights,dh.fog,{color:{value:new Nf(0)},opacity:{value:1}}]),vertexShader:fh.shadow_vert,fragmentShader:fh.shadow_frag}};function hh(e,t,n,r,i,o){var a,s,l=new Nf(0),u=!0===i?0:1,c=null,f=0,d=null;function p(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,o)}return{getClearColor:function(){return l},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;l.set(e),p(l,u=t)},getClearAlpha:function(){return u},setClearAlpha:function(e){p(l,u=e)},render:function(n,i){var o=!1,h=!0===i.isScene?i.background:null;h&&h.isTexture&&(h=t.get(h));var m=e.xr,v=m.getSession&&m.getSession();v&&"additive"===v.environmentBlendMode&&(h=null),null===h?p(l,u):h&&h.isColor&&(p(h,1),o=!0),(e.autoClear||o)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),h&&(h.isCubeTexture||h.mapping===Hu)?(void 0===s&&((s=new Hp(new Vp(1,1,1),new Zp({name:"BackgroundCubeMaterial",uniforms:Gp(ph.cube.uniforms),vertexShader:ph.cube.vertexShader,fragmentShader:ph.cube.fragmentShader,side:Kl,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),s.geometry.deleteAttribute("uv"),s.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(s.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(s)),s.material.uniforms.envMap.value=h,s.material.uniforms.flipEnvMap.value=h.isCubeTexture&&!1===h.isRenderTargetTexture?-1:1,c===h&&f===h.version&&d===e.toneMapping||(s.material.needsUpdate=!0,c=h,f=h.version,d=e.toneMapping),n.unshift(s,s.geometry,s.material,0,0,null)):h&&h.isTexture&&(void 0===a&&((a=new Hp(new ch(2,2),new Zp({name:"BackgroundMaterial",uniforms:Gp(ph.background.uniforms),vertexShader:ph.background.vertexShader,fragmentShader:ph.background.fragmentShader,side:Yl,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(a)),a.material.uniforms.t2D.value=h,!0===h.matrixAutoUpdate&&h.updateMatrix(),a.material.uniforms.uvTransform.value.copy(h.matrix),c===h&&f===h.version&&d===e.toneMapping||(a.material.needsUpdate=!0,c=h,f=h.version,d=e.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null))}}}function mh(e,t,n,r){var i=e.getParameter(34921),o=r.isWebGL2?null:t.get("OES_vertex_array_object"),a=r.isWebGL2||null!==o,s={},l=p(null),u=l,c=!1;function f(t){return r.isWebGL2?e.bindVertexArray(t):o.bindVertexArrayOES(t)}function d(t){return r.isWebGL2?e.deleteVertexArray(t):o.deleteVertexArrayOES(t)}function p(e){for(var t=[],n=[],r=[],o=0;o<i;o++)t[o]=0,n[o]=0,r[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function h(){for(var e=u.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function m(e){v(e,0)}function v(n,i){var o=u.newAttributes,a=u.enabledAttributes,s=u.attributeDivisors;o[n]=1,0===a[n]&&(e.enableVertexAttribArray(n),a[n]=1),s[n]!==i&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function g(){for(var t=u.newAttributes,n=u.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,i,o,a,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,o,a,s):e.vertexAttribIPointer(t,n,i,a,s)}function b(){w(),c=!0,u!==l&&f((u=l).object)}function w(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,d,b,w){var x=!1;if(a){var S=function(t,n,i){var a=!0===i.wireframe,l=s[t.id];void 0===l&&(l={},s[t.id]=l);var u=l[n.id];void 0===u&&(u={},l[n.id]=u);var c=u[a];return void 0===c&&(c=p(r.isWebGL2?e.createVertexArray():o.createVertexArrayOES()),u[a]=c),c}(b,d,l);u!==S&&f((u=S).object),x=function(e,t){var n=u.attributes,r=e.attributes,i=0;for(var o in r){var a=n[o],s=r[o];if(void 0===a)return!0;if(a.attribute!==s)return!0;if(a.data!==s.data)return!0;i++}return u.attributesNum!==i||u.index!==t}(b,w),x&&function(e,t){var n={},r=e.attributes,i=0;for(var o in r){var a=r[o],s={};s.attribute=a,a.data&&(s.data=a.data),n[o]=s,i++}u.attributes=n,u.attributesNum=i,u.index=t}(b,w)}else{var E=!0===l.wireframe;u.geometry===b.id&&u.program===d.id&&u.wireframe===E||(u.geometry=b.id,u.program=d.id,u.wireframe=E,x=!0)}!0===i.isInstancedMesh&&(x=!0),null!==w&&n.update(w,34963),(x||c)&&(c=!1,function(i,o,a,s){if(!1!==r.isWebGL2||!i.isInstancedMesh&&!s.isInstancedBufferGeometry||null!==t.get("ANGLE_instanced_arrays")){h();var l=s.attributes,u=a.getAttributes(),c=o.defaultAttributeValues;for(var f in u){var d=u[f];if(d.location>=0){var p=l[f];if(void 0===p&&("instanceMatrix"===f&&i.instanceMatrix&&(p=i.instanceMatrix),"instanceColor"===f&&i.instanceColor&&(p=i.instanceColor)),void 0!==p){var b=p.normalized,w=p.itemSize,x=n.get(p);if(void 0===x)continue;var S=x.buffer,E=x.type,_=x.bytesPerElement;if(p.isInterleavedBufferAttribute){var T=p.data,O=T.stride,A=p.offset;if(T.isInstancedInterleavedBuffer){for(var C=0;C<d.locationSize;C++)v(d.location+C,T.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=T.meshPerAttribute*T.count)}else for(var P=0;P<d.locationSize;P++)m(d.location+P);e.bindBuffer(34962,S);for(var k=0;k<d.locationSize;k++)y(d.location+k,w/d.locationSize,E,b,O*_,(A+w/d.locationSize*k)*_)}else{if(p.isInstancedBufferAttribute){for(var R=0;R<d.locationSize;R++)v(d.location+R,p.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=p.meshPerAttribute*p.count)}else for(var I=0;I<d.locationSize;I++)m(d.location+I);e.bindBuffer(34962,S);for(var M=0;M<d.locationSize;M++)y(d.location+M,w/d.locationSize,E,b,w*_,w/d.locationSize*M*_)}}else if(void 0!==c){var D=c[f];if(void 0!==D)switch(D.length){case 2:e.vertexAttrib2fv(d.location,D);break;case 3:e.vertexAttrib3fv(d.location,D);break;case 4:e.vertexAttrib4fv(d.location,D);break;default:e.vertexAttrib1fv(d.location,D)}}}}g()}}(i,l,d,b),null!==w&&e.bindBuffer(34963,n.get(w).buffer))},reset:b,resetDefaultState:w,dispose:function(){for(var e in b(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)d(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:h,enableAttribute:m,disableUnusedAttributes:g}}function vh(e,t,n,r){var i,o=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,a,s){if(0!==s){var l,u;if(o)l=e,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void El.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](i,r,a,s),n.update(a,i,s)}}}function gh(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var o="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,a=void 0!==n.precision?n.precision:"highp",s=i(a);s!==a&&(El.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var l=o||t.has("WEBGL_draw_buffers"),u=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),f=e.getParameter(35660),d=e.getParameter(3379),p=e.getParameter(34076),h=e.getParameter(34921),m=e.getParameter(36347),v=e.getParameter(36348),g=e.getParameter(36349),y=f>0,b=o||t.has("OES_texture_float");return{isWebGL2:o,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:f,maxTextureSize:d,maxCubemapSize:p,maxAttributes:h,maxVertexUniforms:m,maxVaryings:v,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:y&&b,maxSamples:o?e.getParameter(36183):0}}function yh(e){var t=this,n=null,r=0,i=!1,o=!1,a=new ih,s=new Ef,l={value:null,needsUpdate:!1};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function c(e,n,r,i){var o=null!==e?e.length:0,u=null;if(0!==o){if(u=l.value,!0!==i||null===u){var c=r+4*o,f=n.matrixWorldInverse;s.getNormalMatrix(f),(null===u||u.length<c)&&(u=new Float32Array(c));for(var d=0,p=r;d!==o;++d,p+=4)a.copy(e[d]).applyMatrix4(f,s),a.normal.toArray(u,p),u[p+3]=a.constant}l.value=u,l.needsUpdate=!0}return t.numPlanes=o,t.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,o){var a=0!==e.length||t||0!==r||i;return i=t,n=c(e,o,0),r=e.length,a},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1,u()},this.setState=function(t,a,s){var f=t.clippingPlanes,d=t.clipIntersection,p=t.clipShadows,h=e.get(t);if(!i||null===f||0===f.length||o&&!p)o?c(null):u();else{var m=o?0:r,v=4*m,g=h.clippingState||null;l.value=g,g=c(f,a,v,s);for(var y=0;y!==v;++y)g[y]=n[y];h.clippingState=g,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=m}}}function bh(e){var t=new WeakMap;function n(e,t){return t===Fu?e.mapping=zu:t===Wu&&(e.mapping=Bu),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){var o=i.mapping;if(o===Fu||o===Wu){if(t.has(i))return n(t.get(i).texture,i.mapping);var a=i.image;if(a&&a.height>0){var s=new eh(a.height/2);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}ph.physical={uniforms:qp([ph.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Sf(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Nf(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Sf},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Nf(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Nf(1,1,1)},specularColorMap:{value:null}}]),vertexShader:fh.meshphysical_vert,fragmentShader:fh.meshphysical_frag};var wh=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return Bl(this,t),(e=Pl(this,t)).type="OrthographicCamera",e.zoom=1,e.view=null,e.left=n,e.right=r,e.top=i,e.bottom=o,e.near=a,e.far=s,e.updateProjectionMatrix(),e}return Dl(t,e),Wl(t,[{key:"copy",value:function(e,n){return Cl(Il(t.prototype),"copy",this).call(this,e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o=(i+=l*this.view.offsetX)+l*this.view.width,s=(a-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var n=Cl(Il(t.prototype),"toJSON",this).call(this,e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,null!==this.view&&(n.object.view=Object.assign({},this.view)),n}}]),t}($p);wh.prototype.isOrthographicCamera=!0;var xh=[.125,.215,.35,.446,.526,.582],Sh=20,Eh=new wh,_h=new Nf,Th=null,Oh=(1+Math.sqrt(5))/2,Ah=1/Oh,Ch=[new Zf(1,1,1),new Zf(-1,1,1),new Zf(1,1,-1),new Zf(-1,1,-1),new Zf(0,Oh,Ah),new Zf(0,Oh,-Ah),new Zf(Ah,0,Oh),new Zf(-Ah,0,Oh),new Zf(Oh,Ah,0),new Zf(-Oh,Ah,0)],Ph=function(){function e(t){Bl(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return Wl(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Th=this._renderer.getRenderTarget(),this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=Mh(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=Ih(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(Th),e.scissorTest=!1,Rh(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===zu||e.mapping===Bu?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Th=this._renderer.getRenderTarget();var n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize-32,n={magFilter:$u,minFilter:$u,generateMipmaps:!1,type:oc,format:fc,encoding:Qc,depthBuffer:!1},r=kh(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=kh(e,t,n);var i=this._lodMax,o=function(e){for(var t=[],n=[],r=[],i=e,o=e-4+1+xh.length,a=0;a<o;a++){var s=Math.pow(2,i);n.push(s);var l=1/s;a>e-4?l=xh[a-e+4-1]:0===a&&(l=0),r.push(l);for(var u=1/(s-1),c=-u/2,f=1+u/2,d=[c,c,f,c,f,f,c,c,f,f,c,f],p=new Float32Array(108),h=new Float32Array(72),m=new Float32Array(36),v=0;v<6;v++){var g=v%3*2/3-1,y=v>2?0:-1,b=[g,y,0,g+2/3,y,0,g+2/3,y+1,0,g,y,0,g+2/3,y+1,0,g,y+1,0];p.set(b,18*v),h.set(d,12*v);var w=[v,v,v,v,v,v];m.set(w,6*v)}var x=new _p;x.setAttribute("position",new pp(p,3)),x.setAttribute("uv",new pp(h,2)),x.setAttribute("faceIndex",new pp(m,1)),t.push(x),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(i);this._sizeLods=o.sizeLods,this._lodPlanes=o.lodPlanes,this._sigmas=o.sigmas,this._blurMaterial=function(e,t,n){var r=new Float32Array(Sh),i=new Zf(0,1,0);return new Zp({name:"SphericalGaussianBlur",defines:{n:Sh,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:Ql,depthTest:!1,depthWrite:!1})}(i,e,t)}return r}},{key:"_compileMaterial",value:function(e){var t=new Hp(this._lodPlanes[0],e);this._renderer.compile(t,Eh)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new Yp(90,1,t,n),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,u=s.toneMapping;s.getClearColor(_h),s.toneMapping=Iu,s.autoClear=!1;var c=new cp({name:"PMREM.Background",side:Kl,depthWrite:!1,depthTest:!1}),f=new Hp(new Vp,c),d=!1,p=e.background;p?p.isColor&&(c.color.copy(p),e.background=null,d=!0):(c.color.copy(_h),d=!0);for(var h=0;h<6;h++){var m=h%3;0===m?(i.up.set(0,o[h],0),i.lookAt(a[h],0,0)):1===m?(i.up.set(0,0,o[h]),i.lookAt(0,a[h],0)):(i.up.set(0,o[h],0),i.lookAt(0,0,a[h]));var v=this._cubeSize;Rh(r,m*v,h>2?v:0,v,v),s.setRenderTarget(r),d&&s.render(f,i),s.render(e,i)}f.geometry.dispose(),f.material.dispose(),s.toneMapping=u,s.autoClear=l,e.background=p}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,r=e.mapping===zu||e.mapping===Bu;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Mh()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Ih());var i=r?this._cubemapMaterial:this._equirectMaterial,o=new Hp(this._lodPlanes[0],i);i.uniforms.envMap.value=e;var a=this._cubeSize;Rh(t,0,0,3*a,2*a),n.setRenderTarget(t),n.render(o,Eh)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<this._lodPlanes.length;r++){var i=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=Ch[(r-1)%Ch.length];this._blur(e,r-1,r,i,o)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",i),this._halfBlur(o,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,o,a){var s=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&El.error("blur direction must be either latitudinal or longitudinal!");var u=new Hp(this._lodPlanes[r],l),c=l.uniforms,f=this._sizeLods[n]-1,d=isFinite(i)?Math.PI/(2*f):2*Math.PI/39,p=i/d,h=isFinite(i)?1+Math.floor(3*p):Sh;h>Sh&&El.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(h," samples when the maximum is set to ").concat(Sh));for(var m=[],v=0,g=0;g<Sh;++g){var y=g/p,b=Math.exp(-y*y/2);m.push(b),0===g?v+=b:g<h&&(v+=2*b)}for(var w=0;w<m.length;w++)m[w]=m[w]/v;c.envMap.value=e.texture,c.samples.value=h,c.weights.value=m,c.latitudinal.value="latitudinal"===o,a&&(c.poleAxis.value=a);var x=this._lodMax;c.dTheta.value=d,c.mipInt.value=x-n;var S=this._sizeLods[r];Rh(t,3*S*(r>x-4?r-x+4:0),4*(this._cubeSize-S),3*S,2*S),s.setRenderTarget(t),s.render(u,Eh)}}]),e}();function kh(e,t,n){var r=new Vf(e,t,n);return r.texture.mapping=Hu,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Rh(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Ih(){return new Zp({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:Ql,depthTest:!1,depthWrite:!1})}function Mh(){return new Zp({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:Ql,depthTest:!1,depthWrite:!1})}function Dh(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var o=i.mapping,a=o===Fu||o===Wu,s=o===zu||o===Bu;if(a||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;var l=t.get(i);return null===n&&(n=new Ph(e)),l=a?n.fromEquirectangular(i,l):n.fromCubemap(i,l),t.set(i,l),l.texture}if(t.has(i))return t.get(i).texture;var u=i.image;if(a&&u&&u.height>0||s&&u&&function(e){for(var t=0,n=0;n<6;n++)void 0!==e[n]&&t++;return 6===t}(u)){null===n&&(n=new Ph(e));var c=a?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,c),i.addEventListener("dispose",r),c.texture}return null}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function jh(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){var t=n(e);return null===t&&El.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Lh(e,t,n,r){var i={},o=new WeakMap;function a(e){var s=e.target;for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);s.removeEventListener("dispose",a),delete i[s.id];var u=o.get(s);u&&(t.remove(u),o.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,a=0;if(null!==r){var s=r.array;a=r.version;for(var l=0,u=s.length;l<u;l+=3){var c=s[l+0],f=s[l+1],d=s[l+2];n.push(c,f,f,d,d,c)}}else{var p=i.array;a=i.version;for(var h=0,m=p.length/3-1;h<m;h+=3){var v=h+0,g=h+1,y=h+2;n.push(v,g,g,y,y,v)}}var b=new(_f(n)?mp:hp)(n,1);b.version=a;var w=o.get(e);w&&t.remove(w),o.set(e,b)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",a),i[t.id]=!0,n.memory.geometries++),t},update:function(e){var n=e.attributes;for(var r in n)t.update(n[r],34962);var i=e.morphAttributes;for(var o in i)for(var a=i[o],s=0,l=a.length;s<l;s++)t.update(a[s],34962)},getWireframeAttribute:function(e){var t=o.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return o.get(e)}}}function Nh(e,t,n,r){var i,o,a,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,o,t*a),n.update(r,i,1)},this.renderInstances=function(r,l,u){if(0!==u){var c,f;if(s)c=e,f="drawElementsInstanced";else if(f="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void El.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[f](i,l,o,r*a,u),n.update(l,i,u)}}}function zh(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:El.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Bh(e,t){return e[0]-t[0]}function Fh(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Wh(e,t){var n=1,r=t.isInterleavedBufferAttribute?t.data.array:t.array;r instanceof Int8Array?n=127:r instanceof Int16Array?n=32767:r instanceof Int32Array?n=2147483647:El.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),e.divideScalar(n)}function Hh(e,t,n){for(var r={},i=new Float32Array(8),o=new WeakMap,a=new Uf,s=[],l=0;l<8;l++)s[l]=[l,0];return{update:function(l,u,c,f){var d=l.morphTargetInfluences;if(!0===t.isWebGL2){var p=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,h=void 0!==p?p.length:0,m=o.get(u);if(void 0===m||m.count!==h){void 0!==m&&m.texture.dispose();var v=void 0!==u.morphAttributes.position,g=void 0!==u.morphAttributes.normal,y=void 0!==u.morphAttributes.color,b=u.morphAttributes.position||[],w=u.morphAttributes.normal||[],x=u.morphAttributes.color||[],S=0;!0===v&&(S=1),!0===g&&(S=2),!0===y&&(S=3);var E=u.attributes.position.count*S,_=1;E>t.maxTextureSize&&(_=Math.ceil(E/t.maxTextureSize),E=t.maxTextureSize);var T=new Float32Array(E*_*4*h),O=new Gf(T,E,_,h);O.type=ic,O.needsUpdate=!0;for(var A=4*S,C=0;C<h;C++)for(var P=b[C],k=w[C],R=x[C],I=E*_*4*C,M=0;M<P.count;M++){var D=M*A;!0===v&&(a.fromBufferAttribute(P,M),!0===P.normalized&&Wh(a,P),T[I+D+0]=a.x,T[I+D+1]=a.y,T[I+D+2]=a.z,T[I+D+3]=0),!0===g&&(a.fromBufferAttribute(k,M),!0===k.normalized&&Wh(a,k),T[I+D+4]=a.x,T[I+D+5]=a.y,T[I+D+6]=a.z,T[I+D+7]=0),!0===y&&(a.fromBufferAttribute(R,M),!0===R.normalized&&Wh(a,R),T[I+D+8]=a.x,T[I+D+9]=a.y,T[I+D+10]=a.z,T[I+D+11]=4===R.itemSize?a.w:1)}m={count:h,texture:O,size:new Sf(E,_)},o.set(u,m),u.addEventListener("dispose",(function e(){O.dispose(),o.delete(u),u.removeEventListener("dispose",e)}))}for(var j=0,L=0;L<d.length;L++)j+=d[L];var N=u.morphTargetsRelative?1:1-j;f.getUniforms().setValue(e,"morphTargetBaseInfluence",N),f.getUniforms().setValue(e,"morphTargetInfluences",d),f.getUniforms().setValue(e,"morphTargetsTexture",m.texture,n),f.getUniforms().setValue(e,"morphTargetsTextureSize",m.size)}else{var z=void 0===d?0:d.length,B=r[u.id];if(void 0===B||B.length!==z){B=[];for(var F=0;F<z;F++)B[F]=[F,0];r[u.id]=B}for(var W=0;W<z;W++){var H=B[W];H[0]=W,H[1]=d[W]}B.sort(Fh);for(var U=0;U<8;U++)U<z&&B[U][1]?(s[U][0]=B[U][0],s[U][1]=B[U][1]):(s[U][0]=Number.MAX_SAFE_INTEGER,s[U][1]=0);s.sort(Bh);for(var V=u.morphAttributes.position,G=u.morphAttributes.normal,q=0,X=0;X<8;X++){var Z=s[X],$=Z[0],Y=Z[1];$!==Number.MAX_SAFE_INTEGER&&Y?(V&&u.getAttribute("morphTarget"+X)!==V[$]&&u.setAttribute("morphTarget"+X,V[$]),G&&u.getAttribute("morphNormal"+X)!==G[$]&&u.setAttribute("morphNormal"+X,G[$]),i[X]=Y,q+=Y):(V&&!0===u.hasAttribute("morphTarget"+X)&&u.deleteAttribute("morphTarget"+X),G&&!0===u.hasAttribute("morphNormal"+X)&&u.deleteAttribute("morphNormal"+X),i[X]=0)}var K=u.morphTargetsRelative?1:1-q;f.getUniforms().setValue(e,"morphTargetBaseInfluence",K),f.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function Uh(e,t,n,r){var i=new WeakMap;function o(e){var t=e.target;t.removeEventListener("dispose",o),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){var a=r.render.frame,s=e.geometry,l=t.get(e,s);return i.get(l)!==a&&(t.update(l),i.set(l,a)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",o)&&e.addEventListener("dispose",o),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),l},dispose:function(){i=new WeakMap}}}var Vh=new Hf,Gh=new Gf,qh=new qf,Xh=new Qp,Zh=[],$h=[],Yh=new Float32Array(16),Kh=new Float32Array(9),Jh=new Float32Array(4);function Qh(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,o=Zh[i];if(void 0===o&&(o=new Float32Array(i),Zh[i]=o),0!==t){r.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function em(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function tm(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function nm(e,t){var n=$h[t];void 0===n&&(n=new Int32Array(t),$h[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function rm(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function im(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(em(n,t))return;e.uniform2fv(this.addr,t),tm(n,t)}}function om(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(em(n,t))return;e.uniform3fv(this.addr,t),tm(n,t)}}function am(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(em(n,t))return;e.uniform4fv(this.addr,t),tm(n,t)}}function sm(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(em(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),tm(n,t)}else{if(em(n,r))return;Jh.set(r),e.uniformMatrix2fv(this.addr,!1,Jh),tm(n,r)}}function lm(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(em(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),tm(n,t)}else{if(em(n,r))return;Kh.set(r),e.uniformMatrix3fv(this.addr,!1,Kh),tm(n,r)}}function um(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(em(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),tm(n,t)}else{if(em(n,r))return;Yh.set(r),e.uniformMatrix4fv(this.addr,!1,Yh),tm(n,r)}}function cm(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function fm(e,t){var n=this.cache;em(n,t)||(e.uniform2iv(this.addr,t),tm(n,t))}function dm(e,t){var n=this.cache;em(n,t)||(e.uniform3iv(this.addr,t),tm(n,t))}function pm(e,t){var n=this.cache;em(n,t)||(e.uniform4iv(this.addr,t),tm(n,t))}function hm(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function mm(e,t){var n=this.cache;em(n,t)||(e.uniform2uiv(this.addr,t),tm(n,t))}function vm(e,t){var n=this.cache;em(n,t)||(e.uniform3uiv(this.addr,t),tm(n,t))}function gm(e,t){var n=this.cache;em(n,t)||(e.uniform4uiv(this.addr,t),tm(n,t))}function ym(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||Vh,i)}function bm(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||qh,i)}function wm(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||Xh,i)}function xm(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||Gh,i)}function Sm(e,t){e.uniform1fv(this.addr,t)}function Em(e,t){var n=Qh(t,this.size,2);e.uniform2fv(this.addr,n)}function _m(e,t){var n=Qh(t,this.size,3);e.uniform3fv(this.addr,n)}function Tm(e,t){var n=Qh(t,this.size,4);e.uniform4fv(this.addr,n)}function Om(e,t){var n=Qh(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Am(e,t){var n=Qh(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Cm(e,t){var n=Qh(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Pm(e,t){e.uniform1iv(this.addr,t)}function km(e,t){e.uniform2iv(this.addr,t)}function Rm(e,t){e.uniform3iv(this.addr,t)}function Im(e,t){e.uniform4iv(this.addr,t)}function Mm(e,t){e.uniform1uiv(this.addr,t)}function Dm(e,t){e.uniform2uiv(this.addr,t)}function jm(e,t){e.uniform3uiv(this.addr,t)}function Lm(e,t){e.uniform4uiv(this.addr,t)}function Nm(e,t,n){var r=t.length,i=nm(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTexture2D(t[o]||Vh,i[o])}function zm(e,t,n){var r=t.length,i=nm(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTexture3D(t[o]||qh,i[o])}function Bm(e,t,n){var r=t.length,i=nm(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTextureCube(t[o]||Xh,i[o])}function Fm(e,t,n){var r=t.length,i=nm(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTexture2DArray(t[o]||Gh,i[o])}function Wm(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return rm;case 35664:return im;case 35665:return om;case 35666:return am;case 35674:return sm;case 35675:return lm;case 35676:return um;case 5124:case 35670:return cm;case 35667:case 35671:return fm;case 35668:case 35672:return dm;case 35669:case 35673:return pm;case 5125:return hm;case 36294:return mm;case 36295:return vm;case 36296:return gm;case 35678:case 36198:case 36298:case 36306:case 35682:return ym;case 35679:case 36299:case 36307:return bm;case 35680:case 36300:case 36308:case 36293:return wm;case 36289:case 36303:case 36311:case 36292:return xm}}(t.type)}function Hm(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Sm;case 35664:return Em;case 35665:return _m;case 35666:return Tm;case 35674:return Om;case 35675:return Am;case 35676:return Cm;case 5124:case 35670:return Pm;case 35667:case 35671:return km;case 35668:case 35672:return Rm;case 35669:case 35673:return Im;case 5125:return Mm;case 36294:return Dm;case 36295:return jm;case 36296:return Lm;case 35678:case 36198:case 36298:case 36306:case 35682:return Nm;case 35679:case 36299:case 36307:return zm;case 35680:case 36300:case 36308:case 36293:return Bm;case 36289:case 36303:case 36311:case 36292:return Fm}}(t.type)}function Um(e){this.id=e,this.seq=[],this.map={}}Hm.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),tm(t,e)},Um.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,o=r.length;i!==o;++i){var a=r[i];a.setValue(e,t[a.id],n)}};var Vm=/(\w+)(\])?(\[|\.)?/g;function Gm(e,t){e.seq.push(t),e.map[t.id]=t}function qm(e,t,n){var r=e.name,i=r.length;for(Vm.lastIndex=0;;){var o=Vm.exec(r),a=Vm.lastIndex,s=o[1],l="]"===o[2],u=o[3];if(l&&(s|=0),void 0===u||"["===u&&a+2===i){Gm(n,void 0===u?new Wm(s,e,t):new Hm(s,e,t));break}var c=n.map[s];void 0===c&&Gm(n,c=new Um(s)),n=c}}function Xm(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),r=0;r<n;++r){var i=e.getActiveUniform(t,r);qm(i,e.getUniformLocation(t,i.name),this)}}function Zm(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}Xm.prototype.setValue=function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)},Xm.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},Xm.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,r)}},Xm.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var o=e[r];o.id in t&&n.push(o)}return n};var $m=0;function Ym(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";var o=parseInt(/ERROR: 0:(\d+)/.exec(i)[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){for(var n=e.split("\n"),r=[],i=Math.max(t-6,0),o=Math.min(t+6,n.length),a=i;a<o;a++)r.push(a+1+": "+n[a]);return r.join("\n")}(e.getShaderSource(t),o)}function Km(e,t){var n;switch(t){case Mu:n="Linear";break;case Du:n="Reinhard";break;case ju:n="OptimizedCineon";break;case Lu:n="ACESFilmic";break;case Nu:n="Custom";break;default:El.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Jm(e){return""!==e}function Qm(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function ev(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var tv=/^[ \t]*#include +<([\w\d./]+)>/gm;function nv(e){return e.replace(tv,rv)}function rv(e,t){var n=fh[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return nv(n)}var iv=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,ov=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function av(e){return e.replace(ov,lv).replace(iv,sv)}function sv(e,t,n,r){return El.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),lv(0,t,n,r)}function lv(e,t,n,r){for(var i="",o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function uv(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function cv(e,t,n,r){var i,o,a,s,l,u=e.getContext(),c=n.defines,f=n.vertexShader,d=n.fragmentShader,p=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===Xl?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===Zl?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===$l&&(t="SHADOWMAP_TYPE_VSM"),t}(n),h=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case zu:case Bu:t="ENVMAP_TYPE_CUBE";break;case Hu:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),m=function(e){var t="ENVMAP_MODE_REFLECTION";return e.envMap&&e.envMapMode===Bu&&(t="ENVMAP_MODE_REFRACTION"),t}(n),v=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case Pu:t="ENVMAP_BLENDING_MULTIPLY";break;case ku:t="ENVMAP_BLENDING_MIX";break;case Ru:t="ENVMAP_BLENDING_ADD"}return t}(n),g=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var n=Math.log2(t/32+1)+3,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),y=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Jm).join("\n")}(n),b=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(c),w=u.createProgram(),x=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=[b].filter(Jm).join("\n")).length>0&&(i+="\n"),(o=[y,b].filter(Jm).join("\n")).length>0&&(o+="\n")):(i=[uv(n),"#define SHADER_NAME "+n.shaderName,b,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+m:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+p:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Jm).join("\n"),o=[y,uv(n),"#define SHADER_NAME "+n.shaderName,b,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.envMap?"#define "+m:"",n.envMap?"#define "+v:"",g?"#define CUBEUV_TEXEL_WIDTH "+g.texelWidth:"",g?"#define CUBEUV_TEXEL_HEIGHT "+g.texelHeight:"",g?"#define CUBEUV_MAX_MIP "+g.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+p:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Iu?"#define TONE_MAPPING":"",n.toneMapping!==Iu?fh.tonemapping_pars_fragment:"",n.toneMapping!==Iu?Km("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",fh.encodings_pars_fragment,(a="linearToOutputTexel",s=n.outputEncoding,l=function(e){switch(e){case Qc:return["Linear","( value )"];case ef:return["sRGB","( value )"];default:return El.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(s),"vec4 "+a+"( vec4 value ) { return LinearTo"+l[0]+l[1]+"; }"),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Jm).join("\n")),f=ev(f=Qm(f=nv(f),n),n),d=ev(d=Qm(d=nv(d),n),n),f=av(f),d=av(d),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(x="#version 300 es\n",i=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,o=["#define varying in",n.glslVersion===cf?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===cf?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+o);var S,E,_=x+o+d,T=Zm(u,35633,x+i+f),O=Zm(u,35632,_);if(u.attachShader(w,T),u.attachShader(w,O),void 0!==n.index0AttributeName?u.bindAttribLocation(w,0,n.index0AttributeName):!0===n.morphTargets&&u.bindAttribLocation(w,0,"position"),u.linkProgram(w),e.debug.checkShaderErrors){var A=u.getProgramInfoLog(w).trim(),C=u.getShaderInfoLog(T).trim(),P=u.getShaderInfoLog(O).trim(),k=!0,R=!0;if(!1===u.getProgramParameter(w,35714)){k=!1;var I=Ym(u,T,"vertex"),M=Ym(u,O,"fragment");El.error("THREE.WebGLProgram: Shader Error "+u.getError()+" - VALIDATE_STATUS "+u.getProgramParameter(w,35715)+"\n\nProgram Info Log: "+A+"\n"+I+"\n"+M)}else""!==A?El.warn("THREE.WebGLProgram: Program Info Log:",A):""!==C&&""!==P||(R=!1);R&&(this.diagnostics={runnable:k,programLog:A,vertexShader:{log:C,prefix:i},fragmentShader:{log:P,prefix:o}})}return u.deleteShader(T),u.deleteShader(O),this.getUniforms=function(){return void 0===S&&(S=new Xm(u,w)),S},this.getAttributes=function(){return void 0===E&&(E=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var o=e.getActiveAttrib(t,i),a=o.name,s=1;35674===o.type&&(s=2),35675===o.type&&(s=3),35676===o.type&&(s=4),n[a]={type:o.type,location:e.getAttribLocation(t,a),locationSize:s}}return n}(u,w)),E},this.destroy=function(){r.releaseStatesOfProgram(this),u.deleteProgram(w),this.program=void 0},this.name=n.shaderName,this.id=$m++,this.cacheKey=t,this.usedTimes=1,this.program=w,this.vertexShader=T,this.fragmentShader=O,this}var fv=0,dv=function(){function e(){Bl(this,e),this.shaderCache=new Map,this.materialCache=new Map}return Wl(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(i)&&(o.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,n=Tl(this.materialCache.get(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code)}}catch(e){n.e(e)}finally{n.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache;return!1===t.has(e)&&t.set(e,new Set),t.get(e)}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache;if(!1===t.has(e)){var n=new pv(e);t.set(e,n)}return t.get(e)}}]),e}(),pv=Wl((function e(t){Bl(this,e),this.id=fv++,this.code=t,this.usedTimes=0}));function hv(e,t,n,r,i,o,a){var s=new Ld,l=new dv,u=[],c=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.floatVertexTextures,p=i.maxVertexUniforms,h=i.vertexTextures,m=i.precision,v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(o,s,u,g,y){var b=g.fog,w=y.geometry,x=o.isMeshStandardMaterial?g.environment:null,S=(o.isMeshStandardMaterial?n:t).get(o.envMap||x),E=S&&S.mapping===Hu?S.image.height:null,_=v[o.type],T=y.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(d)return 1024;var n=p,r=Math.floor((n-20)/4),i=Math.min(r,t.length);return i<t.length?(El.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+i+"."),0):i}(y):0;null!==o.precision&&(m=i.getMaxPrecision(o.precision))!==o.precision&&El.warn("THREE.WebGLProgram.getParameters:",o.precision,"not supported, using",m,"instead.");var O,A,C,P,k=w.morphAttributes.position||w.morphAttributes.normal||w.morphAttributes.color,R=void 0!==k?k.length:0,I=0;if(void 0!==w.morphAttributes.position&&(I=1),void 0!==w.morphAttributes.normal&&(I=2),void 0!==w.morphAttributes.color&&(I=3),_){var M=ph[_];O=M.vertexShader,A=M.fragmentShader}else O=o.vertexShader,A=o.fragmentShader,l.update(o),C=l.getVertexShaderID(o),P=l.getFragmentShaderID(o);var D=e.getRenderTarget(),j=o.alphaTest>0,L=o.clearcoat>0;return{isWebGL2:c,shaderID:_,shaderName:o.type,vertexShader:O,fragmentShader:A,defines:o.defines,customVertexShaderID:C,customFragmentShaderID:P,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:m,instancing:!0===y.isInstancedMesh,instancingColor:!0===y.isInstancedMesh&&null!==y.instanceColor,supportsVertexTextures:h,outputEncoding:null===D?e.outputEncoding:!0===D.isXRRenderTarget?D.texture.encoding:Qc,map:!!o.map,matcap:!!o.matcap,envMap:!!S,envMapMode:S&&S.mapping,envMapCubeUVHeight:E,lightMap:!!o.lightMap,aoMap:!!o.aoMap,emissiveMap:!!o.emissiveMap,bumpMap:!!o.bumpMap,normalMap:!!o.normalMap,objectSpaceNormalMap:o.normalMapType===rf,tangentSpaceNormalMap:o.normalMapType===nf,decodeVideoTexture:!!o.map&&!0===o.map.isVideoTexture&&o.map.encoding===ef,clearcoat:L,clearcoatMap:L&&!!o.clearcoatMap,clearcoatRoughnessMap:L&&!!o.clearcoatRoughnessMap,clearcoatNormalMap:L&&!!o.clearcoatNormalMap,displacementMap:!!o.displacementMap,roughnessMap:!!o.roughnessMap,metalnessMap:!!o.metalnessMap,specularMap:!!o.specularMap,specularIntensityMap:!!o.specularIntensityMap,specularColorMap:!!o.specularColorMap,opaque:!1===o.transparent&&o.blending===eu,alphaMap:!!o.alphaMap,alphaTest:j,gradientMap:!!o.gradientMap,sheen:o.sheen>0,sheenColorMap:!!o.sheenColorMap,sheenRoughnessMap:!!o.sheenRoughnessMap,transmission:o.transmission>0,transmissionMap:!!o.transmissionMap,thicknessMap:!!o.thicknessMap,combine:o.combine,vertexTangents:!!o.normalMap&&!!w.attributes.tangent,vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!w.attributes.color&&4===w.attributes.color.itemSize,vertexUvs:!!(o.map||o.bumpMap||o.normalMap||o.specularMap||o.alphaMap||o.emissiveMap||o.roughnessMap||o.metalnessMap||o.clearcoatMap||o.clearcoatRoughnessMap||o.clearcoatNormalMap||o.displacementMap||o.transmissionMap||o.thicknessMap||o.specularIntensityMap||o.specularColorMap||o.sheenColorMap||o.sheenRoughnessMap),uvsVertexOnly:!(o.map||o.bumpMap||o.normalMap||o.specularMap||o.alphaMap||o.emissiveMap||o.roughnessMap||o.metalnessMap||o.clearcoatNormalMap||o.transmission>0||o.transmissionMap||o.thicknessMap||o.specularIntensityMap||o.specularColorMap||o.sheen>0||o.sheenColorMap||o.sheenRoughnessMap||!o.displacementMap),fog:!!b,useFog:o.fog,fogExp2:b&&b.isFogExp2,flatShading:!!o.flatShading,sizeAttenuation:o.sizeAttenuation,logarithmicDepthBuffer:f,skinning:!0===y.isSkinnedMesh&&T>0,maxBones:T,useVertexTexture:d,morphTargets:void 0!==w.morphAttributes.position,morphNormals:void 0!==w.morphAttributes.normal,morphColors:void 0!==w.morphAttributes.color,morphTargetsCount:R,morphTextureStride:I,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:o.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:o.toneMapped?e.toneMapping:Iu,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:o.premultipliedAlpha,doubleSided:o.side===Jl,flipSided:o.side===Kl,depthPacking:void 0!==o.depthPacking&&o.depthPacking,index0AttributeName:o.index0AttributeName,extensionDerivatives:o.extensions&&o.extensions.derivatives,extensionFragDepth:o.extensions&&o.extensions.fragDepth,extensionDrawBuffers:o.extensions&&o.extensions.drawBuffers,extensionShaderTextureLOD:o.extensions&&o.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:o.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);return!1===t.isRawShaderMaterial&&(function(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.combine),e.push(t.vertexUvs),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.maxBones),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0),t.supportsVertexTextures&&s.enable(1),t.instancing&&s.enable(2),t.instancingColor&&s.enable(3),t.map&&s.enable(4),t.matcap&&s.enable(5),t.envMap&&s.enable(6),t.lightMap&&s.enable(7),t.aoMap&&s.enable(8),t.emissiveMap&&s.enable(9),t.bumpMap&&s.enable(10),t.normalMap&&s.enable(11),t.objectSpaceNormalMap&&s.enable(12),t.tangentSpaceNormalMap&&s.enable(13),t.clearcoat&&s.enable(14),t.clearcoatMap&&s.enable(15),t.clearcoatRoughnessMap&&s.enable(16),t.clearcoatNormalMap&&s.enable(17),t.displacementMap&&s.enable(18),t.specularMap&&s.enable(19),t.roughnessMap&&s.enable(20),t.metalnessMap&&s.enable(21),t.gradientMap&&s.enable(22),t.alphaMap&&s.enable(23),t.alphaTest&&s.enable(24),t.vertexColors&&s.enable(25),t.vertexAlphas&&s.enable(26),t.vertexUvs&&s.enable(27),t.vertexTangents&&s.enable(28),t.uvsVertexOnly&&s.enable(29),t.fog&&s.enable(30),e.push(s.mask),s.disableAll(),t.useFog&&s.enable(0),t.flatShading&&s.enable(1),t.logarithmicDepthBuffer&&s.enable(2),t.skinning&&s.enable(3),t.useVertexTexture&&s.enable(4),t.morphTargets&&s.enable(5),t.morphNormals&&s.enable(6),t.morphColors&&s.enable(7),t.premultipliedAlpha&&s.enable(8),t.shadowMapEnabled&&s.enable(9),t.physicallyCorrectLights&&s.enable(10),t.doubleSided&&s.enable(11),t.flipSided&&s.enable(12),t.depthPacking&&s.enable(13),t.dithering&&s.enable(14),t.specularIntensityMap&&s.enable(15),t.specularColorMap&&s.enable(16),t.transmission&&s.enable(17),t.transmissionMap&&s.enable(18),t.thicknessMap&&s.enable(19),t.sheen&&s.enable(20),t.sheenColorMap&&s.enable(21),t.sheenRoughnessMap&&s.enable(22),t.decodeVideoTexture&&s.enable(23),t.opaque&&s.enable(24),e.push(s.mask)}(n,t),n.push(e.outputEncoding)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=v[e.type];if(n){var r=ph[n];t=Xp.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,a=u.length;i<a;i++){var s=u[i];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new cv(e,n,t,o),u.push(r)),r},releaseProgram:function(e){if(0==--e.usedTimes){var t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function mv(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function vv(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function gv(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function yv(){var e=[],t=0,n=[],r=[],i=[];function o(n,r,i,o,a,s){var l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:o,renderOrder:n.renderOrder,z:a,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=o,l.renderOrder=n.renderOrder,l.z=a,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,a,s,l,u){var c=o(e,t,a,s,l,u);a.transmission>0?r.push(c):!0===a.transparent?i.push(c):n.push(c)},unshift:function(e,t,a,s,l,u){var c=o(e,t,a,s,l,u);a.transmission>0?r.unshift(c):!0===a.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||vv),r.length>1&&r.sort(t||gv),i.length>1&&i.sort(t||gv)}}}function bv(){var e=new WeakMap;return{get:function(t,n){var r;return!1===e.has(t)?(r=new yv,e.set(t,[r])):n>=e.get(t).length?(r=new yv,e.get(t).push(r)):r=e.get(t)[n],r},dispose:function(){e=new WeakMap}}}function wv(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new Zf,color:new Nf};break;case"SpotLight":n={position:new Zf,direction:new Zf,color:new Nf,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Zf,color:new Nf,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Zf,skyColor:new Nf,groundColor:new Nf};break;case"RectAreaLight":n={color:new Nf,position:new Zf,halfWidth:new Zf,halfHeight:new Zf}}return e[t.id]=n,n}}}var xv=0;function Sv(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Ev(e,t){for(var n,r=new wv,i=(n={},{get:function(e){if(void 0!==n[e.id])return n[e.id];var t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Sf};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Sf,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}),o={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},a=0;a<9;a++)o.probe.push(new Zf);var s=new Zf,l=new Td,u=new Td;return{setup:function(n,a){for(var s=0,l=0,u=0,c=0;c<9;c++)o.probe[c].set(0,0,0);var f=0,d=0,p=0,h=0,m=0,v=0,g=0,y=0;n.sort(Sv);for(var b=!0!==a?Math.PI:1,w=0,x=n.length;w<x;w++){var S=n[w],E=S.color,_=S.intensity,T=S.distance,O=S.shadow&&S.shadow.map?S.shadow.map.texture:null;if(S.isAmbientLight)s+=E.r*_*b,l+=E.g*_*b,u+=E.b*_*b;else if(S.isLightProbe)for(var A=0;A<9;A++)o.probe[A].addScaledVector(S.sh.coefficients[A],_);else if(S.isDirectionalLight){var C=r.get(S);if(C.color.copy(S.color).multiplyScalar(S.intensity*b),S.castShadow){var P=S.shadow,k=i.get(S);k.shadowBias=P.bias,k.shadowNormalBias=P.normalBias,k.shadowRadius=P.radius,k.shadowMapSize=P.mapSize,o.directionalShadow[f]=k,o.directionalShadowMap[f]=O,o.directionalShadowMatrix[f]=S.shadow.matrix,v++}o.directional[f]=C,f++}else if(S.isSpotLight){var R=r.get(S);if(R.position.setFromMatrixPosition(S.matrixWorld),R.color.copy(E).multiplyScalar(_*b),R.distance=T,R.coneCos=Math.cos(S.angle),R.penumbraCos=Math.cos(S.angle*(1-S.penumbra)),R.decay=S.decay,S.castShadow){var I=S.shadow,M=i.get(S);M.shadowBias=I.bias,M.shadowNormalBias=I.normalBias,M.shadowRadius=I.radius,M.shadowMapSize=I.mapSize,o.spotShadow[p]=M,o.spotShadowMap[p]=O,o.spotShadowMatrix[p]=S.shadow.matrix,y++}o.spot[p]=R,p++}else if(S.isRectAreaLight){var D=r.get(S);D.color.copy(E).multiplyScalar(_),D.halfWidth.set(.5*S.width,0,0),D.halfHeight.set(0,.5*S.height,0),o.rectArea[h]=D,h++}else if(S.isPointLight){var j=r.get(S);if(j.color.copy(S.color).multiplyScalar(S.intensity*b),j.distance=S.distance,j.decay=S.decay,S.castShadow){var L=S.shadow,N=i.get(S);N.shadowBias=L.bias,N.shadowNormalBias=L.normalBias,N.shadowRadius=L.radius,N.shadowMapSize=L.mapSize,N.shadowCameraNear=L.camera.near,N.shadowCameraFar=L.camera.far,o.pointShadow[d]=N,o.pointShadowMap[d]=O,o.pointShadowMatrix[d]=S.shadow.matrix,g++}o.point[d]=j,d++}else if(S.isHemisphereLight){var z=r.get(S);z.skyColor.copy(S.color).multiplyScalar(_*b),z.groundColor.copy(S.groundColor).multiplyScalar(_*b),o.hemi[m]=z,m++}}h>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(o.rectAreaLTC1=dh.LTC_FLOAT_1,o.rectAreaLTC2=dh.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(o.rectAreaLTC1=dh.LTC_HALF_1,o.rectAreaLTC2=dh.LTC_HALF_2):El.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),o.ambient[0]=s,o.ambient[1]=l,o.ambient[2]=u;var B=o.hash;B.directionalLength===f&&B.pointLength===d&&B.spotLength===p&&B.rectAreaLength===h&&B.hemiLength===m&&B.numDirectionalShadows===v&&B.numPointShadows===g&&B.numSpotShadows===y||(o.directional.length=f,o.spot.length=p,o.rectArea.length=h,o.point.length=d,o.hemi.length=m,o.directionalShadow.length=v,o.directionalShadowMap.length=v,o.pointShadow.length=g,o.pointShadowMap.length=g,o.spotShadow.length=y,o.spotShadowMap.length=y,o.directionalShadowMatrix.length=v,o.pointShadowMatrix.length=g,o.spotShadowMatrix.length=y,B.directionalLength=f,B.pointLength=d,B.spotLength=p,B.rectAreaLength=h,B.hemiLength=m,B.numDirectionalShadows=v,B.numPointShadows=g,B.numSpotShadows=y,o.version=xv++)},setupView:function(e,t){for(var n=0,r=0,i=0,a=0,c=0,f=t.matrixWorldInverse,d=0,p=e.length;d<p;d++){var h=e[d];if(h.isDirectionalLight){var m=o.directional[n];m.direction.setFromMatrixPosition(h.matrixWorld),s.setFromMatrixPosition(h.target.matrixWorld),m.direction.sub(s),m.direction.transformDirection(f),n++}else if(h.isSpotLight){var v=o.spot[i];v.position.setFromMatrixPosition(h.matrixWorld),v.position.applyMatrix4(f),v.direction.setFromMatrixPosition(h.matrixWorld),s.setFromMatrixPosition(h.target.matrixWorld),v.direction.sub(s),v.direction.transformDirection(f),i++}else if(h.isRectAreaLight){var g=o.rectArea[a];g.position.setFromMatrixPosition(h.matrixWorld),g.position.applyMatrix4(f),u.identity(),l.copy(h.matrixWorld),l.premultiply(f),u.extractRotation(l),g.halfWidth.set(.5*h.width,0,0),g.halfHeight.set(0,.5*h.height,0),g.halfWidth.applyMatrix4(u),g.halfHeight.applyMatrix4(u),a++}else if(h.isPointLight){var y=o.point[r];y.position.setFromMatrixPosition(h.matrixWorld),y.position.applyMatrix4(f),r++}else if(h.isHemisphereLight){var b=o.hemi[c];b.direction.setFromMatrixPosition(h.matrixWorld),b.direction.transformDirection(f),b.direction.normalize(),c++}}},state:o}}function _v(e,t){var n=new Ev(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function Tv(e,t){var n=new WeakMap;return{get:function(r){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!1===n.has(r)?(i=new _v(e,t),n.set(r,[i])):o>=n.get(r).length?(i=new _v(e,t),n.get(r).push(i)):i=n.get(r)[o],i},dispose:function(){n=new WeakMap}}}var Ov=function(e){function t(e){var n;return Bl(this,t),(n=Pl(this,t)).type="MeshDepthMaterial",n.depthPacking=3200,n.map=null,n.alphaMap=null,n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.wireframe=!1,n.wireframeLinewidth=1,n.fog=!1,n.setValues(e),n}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),t}(up);Ov.prototype.isMeshDepthMaterial=!0;var Av=function(e){function t(e){var n;return Bl(this,t),(n=Pl(this,t)).type="MeshDistanceMaterial",n.referencePosition=new Zf,n.nearDistance=1,n.farDistance=1e3,n.map=null,n.alphaMap=null,n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.fog=!1,n.setValues(e),n}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),t}(up);Av.prototype.isMeshDistanceMaterial=!0;var Cv="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",Pv="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function kv(e,t,n){var r=new sh,i=new Sf,o=new Sf,a=new Uf,s=new Ov({depthPacking:tf}),l=new Av,u={},c=n.maxTextureSize,f={0:Kl,1:Yl,2:Jl},d=new Zp({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Sf},radius:{value:4}},vertexShader:Cv,fragmentShader:Pv}),p=d.clone();p.defines.HORIZONTAL_PASS=1;var h=new _p;h.setAttribute("position",new pp(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var m=new Hp(h,d),v=this;function g(n,r){var i=t.update(m);d.defines.VSM_SAMPLES!==n.blurSamples&&(d.defines.VSM_SAMPLES=n.blurSamples,p.defines.VSM_SAMPLES=n.blurSamples,d.needsUpdate=!0,p.needsUpdate=!0),d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,d,m,null),p.uniforms.shadow_pass.value=n.mapPass.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,p,m,null)}function y(t,n,r,i,o,a){var c=null,d=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(c=void 0!==d?d:!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0){var p=c.uuid,h=n.uuid,m=u[p];void 0===m&&(m={},u[p]=m);var v=m[h];void 0===v&&(v=c.clone(),m[h]=v),c=v}return c.visible=n.visible,c.wireframe=n.wireframe,c.side=a===$l?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:f[n.side],c.alphaMap=n.alphaMap,c.alphaTest=n.alphaTest,c.clipShadows=n.clipShadows,c.clippingPlanes=n.clippingPlanes,c.clipIntersection=n.clipIntersection,c.displacementMap=n.displacementMap,c.displacementScale=n.displacementScale,c.displacementBias=n.displacementBias,c.wireframeLinewidth=n.wireframeLinewidth,c.linewidth=n.linewidth,!0===r.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(r.matrixWorld),c.nearDistance=i,c.farDistance=o),c}function b(n,i,o,a,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===$l)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);var l=t.update(n),u=n.material;if(Array.isArray(u))for(var c=l.groups,f=0,d=c.length;f<d;f++){var p=c[f],h=u[p.materialIndex];if(h&&h.visible){var m=y(n,h,a,o.near,o.far,s);e.renderBufferDirect(o,null,l,m,n,p)}}else if(u.visible){var v=y(n,u,a,o.near,o.far,s);e.renderBufferDirect(o,null,l,v,n,null)}}for(var g=n.children,w=0,x=g.length;w<x;w++)b(g[w],i,o,a,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Xl,this.render=function(t,n,s){if(!1!==v.enabled&&(!1!==v.autoUpdate||!1!==v.needsUpdate)&&0!==t.length){var l=e.getRenderTarget(),u=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),d=e.state;d.setBlending(Ql),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var p=0,h=t.length;p<h;p++){var m=t[p],y=m.shadow;if(void 0!==y){if(!1!==y.autoUpdate||!1!==y.needsUpdate){i.copy(y.mapSize);var w=y.getFrameExtents();if(i.multiply(w),o.copy(y.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(o.x=Math.floor(c/w.x),i.x=o.x*w.x,y.mapSize.x=o.x),i.y>c&&(o.y=Math.floor(c/w.y),i.y=o.y*w.y,y.mapSize.y=o.y)),null!==y.map||y.isPointLightShadow||this.type!==$l||(y.map=new Vf(i.x,i.y),y.map.texture.name=m.name+".shadowMap",y.mapPass=new Vf(i.x,i.y),y.camera.updateProjectionMatrix()),null===y.map){var x={minFilter:qu,magFilter:qu,format:fc};y.map=new Vf(i.x,i.y,x),y.map.texture.name=m.name+".shadowMap",y.camera.updateProjectionMatrix()}e.setRenderTarget(y.map),e.clear();for(var S=y.getViewportCount(),E=0;E<S;E++){var _=y.getViewport(E);a.set(o.x*_.x,o.y*_.y,o.x*_.z,o.y*_.w),d.viewport(a),y.updateMatrices(m,E),r=y.getFrustum(),b(n,s,y.camera,m,this.type)}y.isPointLightShadow||this.type!==$l||g(y,s),y.needsUpdate=!1}}else El.warn("THREE.WebGLShadowMap:",m,"has no shadow.")}v.needsUpdate=!1,e.setRenderTarget(l,u,f)}}}function Rv(e,t,n){var r,i=n.isWebGL2,o=new function(){var t=!1,n=new Uf,r=null,i=new Uf(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},a=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?B(2929):F(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case xu:e.depthFunc(512);break;case Su:e.depthFunc(519);break;case Eu:e.depthFunc(513);break;case _u:e.depthFunc(515);break;case Tu:e.depthFunc(514);break;case Ou:e.depthFunc(518);break;case Au:e.depthFunc(516);break;case Cu:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},s=new function(){var t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,u=null;return{setTest:function(e){t||(e?B(2960):F(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&l===r||(e.stencilOp(t,n,r),a=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,u=null}}},l={},u={},c=new WeakMap,f=[],d=null,p=!1,h=null,m=null,v=null,g=null,y=null,b=null,w=null,x=!1,S=null,E=null,_=null,T=null,O=null,A=e.getParameter(35661),C=!1,P=0,k=e.getParameter(7938);-1!==k.indexOf("WebGL")?(P=parseFloat(/^WebGL (\d)/.exec(k)[1]),C=P>=1):-1!==k.indexOf("OpenGL ES")&&(P=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),C=P>=2);var R=null,I={},M=e.getParameter(3088),D=e.getParameter(2978),j=(new Uf).fromArray(M),L=(new Uf).fromArray(D);function N(t,n,r){var i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var a=0;a<r;a++)e.texImage2D(n+a,0,6408,1,1,0,6408,5121,i);return o}var z={};function B(t){!0!==l[t]&&(e.enable(t),l[t]=!0)}function F(t){!1!==l[t]&&(e.disable(t),l[t]=!1)}z[3553]=N(3553,3553,1),z[34067]=N(34067,34069,6),o.setClear(0,0,0,1),a.setClear(1),s.setClear(0),B(2929),a.setFunc(_u),G(!1),q(Gl),B(2884),V(Ql);var W=Ll(Ll(Ll({},ou,32774),au,32778),su,32779);if(i)W[lu]=32775,W[uu]=32776;else{var H=t.get("EXT_blend_minmax");null!==H&&(W[lu]=H.MIN_EXT,W[uu]=H.MAX_EXT)}var U=(Ll(Ll(Ll(Ll(Ll(Ll(Ll(Ll(Ll(Ll(r={},cu,0),fu,1),du,768),hu,770),wu,776),yu,774),vu,772),pu,769),mu,771),bu,775),Ll(r,gu,773));function V(t,n,r,i,o,a,s,l){if(t!==Ql){if(!1===p&&(B(3042),p=!0),t===iu)o=o||n,a=a||r,s=s||i,n===m&&o===y||(e.blendEquationSeparate(W[n],W[o]),m=n,y=o),r===v&&i===g&&a===b&&s===w||(e.blendFuncSeparate(U[r],U[i],U[a],U[s]),v=r,g=i,b=a,w=s),h=t,x=null;else if(t!==h||l!==x){if(m===ou&&y===ou||(e.blendEquation(32774),m=ou,y=ou),l)switch(t){case eu:e.blendFuncSeparate(1,771,1,771);break;case tu:e.blendFunc(1,1);break;case nu:e.blendFuncSeparate(0,769,0,1);break;case ru:e.blendFuncSeparate(0,768,0,770);break;default:El.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case eu:e.blendFuncSeparate(770,771,1,771);break;case tu:e.blendFunc(770,1);break;case nu:e.blendFuncSeparate(0,769,0,1);break;case ru:e.blendFunc(0,768);break;default:El.error("THREE.WebGLState: Invalid blending: ",t)}v=null,g=null,b=null,w=null,h=t,x=l}}else!0===p&&(F(3042),p=!1)}function G(t){S!==t&&(t?e.frontFace(2304):e.frontFace(2305),S=t)}function q(t){t!==Vl?(B(2884),t!==E&&(t===Gl?e.cullFace(1029):t===ql?e.cullFace(1028):e.cullFace(1032))):F(2884),E=t}function X(t,n,r){t?(B(32823),T===n&&O===r||(e.polygonOffset(n,r),T=n,O=r)):F(32823)}function Z(t){void 0===t&&(t=33984+A-1),R!==t&&(e.activeTexture(t),R=t)}return{buffers:{color:o,depth:a,stencil:s},enable:B,disable:F,bindFramebuffer:function(t,n){return u[t]!==n&&(e.bindFramebuffer(t,n),u[t]=n,i&&(36009===t&&(u[36160]=n),36160===t&&(u[36009]=n)),!0)},drawBuffers:function(r,i){var o=f,a=!1;if(r)if(void 0===(o=c.get(i))&&(o=[],c.set(i,o)),r.isWebGLMultipleRenderTargets){var s=r.texture;if(o.length!==s.length||36064!==o[0]){for(var l=0,u=s.length;l<u;l++)o[l]=36064+l;o.length=s.length,a=!0}}else 36064!==o[0]&&(o[0]=36064,a=!0);else 1029!==o[0]&&(o[0]=1029,a=!0);a&&(n.isWebGL2?e.drawBuffers(o):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(o))},useProgram:function(t){return d!==t&&(e.useProgram(t),d=t,!0)},setBlending:V,setMaterial:function(e,t){e.side===Jl?F(2884):B(2884);var n=e.side===Kl;t&&(n=!n),G(n),e.blending===eu&&!1===e.transparent?V(Ql):V(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),a.setFunc(e.depthFunc),a.setTest(e.depthTest),a.setMask(e.depthWrite),o.setMask(e.colorWrite);var r=e.stencilWrite;s.setTest(r),r&&(s.setMask(e.stencilWriteMask),s.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),s.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),X(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?B(32926):F(32926)},setFlipSided:G,setCullFace:q,setLineWidth:function(t){t!==_&&(C&&e.lineWidth(t),_=t)},setPolygonOffset:X,setScissorTest:function(e){e?B(3089):F(3089)},activeTexture:Z,bindTexture:function(t,n){null===R&&Z();var r=I[R];void 0===r&&(r={type:void 0,texture:void 0},I[R]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||z[t]),r.type=t,r.texture=n)},unbindTexture:function(){var t=I[R];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){El.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){El.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){El.error("THREE.WebGLState:",e)}},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(e){El.error("THREE.WebGLState:",e)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(e){El.error("THREE.WebGLState:",e)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(e){El.error("THREE.WebGLState:",e)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(e){El.error("THREE.WebGLState:",e)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(e){El.error("THREE.WebGLState:",e)}},scissor:function(t){!1===j.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),j.copy(t))},viewport:function(t){!1===L.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),L.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===i&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),l={},R=null,I={},u={},c=new WeakMap,f=[],d=null,p=!1,h=null,m=null,v=null,g=null,y=null,b=null,w=null,x=!1,S=null,E=null,_=null,T=null,O=null,j.set(0,0,e.canvas.width,e.canvas.height),L.set(0,0,e.canvas.width,e.canvas.height),o.reset(),a.reset(),s.reset()}}}function Iv(e,t,n,r,i,o,a){var s,l=i.isWebGL2,u=i.maxTextures,c=i.maxCubemapSize,f=i.maxTextureSize,d=i.maxSamples,p=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,h=/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap,v=new WeakMap,g=!1;try{g="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function y(e,t){return g?new OffscreenCanvas(e,t):Tf("canvas")}function b(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var o=t?xf:Math.floor,a=o(i*e.width),l=o(i*e.height);void 0===s&&(s=y(a,l));var u=n?y(a,l):s;return u.width=a,u.height=l,u.getContext("2d").drawImage(e,0,0,a,l),El.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+a+"x"+l+")."),u}return"data"in e&&El.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function w(e){return wf(e.width)&&wf(e.height)}function x(e,t){return e.generateMipmaps&&t&&e.minFilter!==qu&&e.minFilter!==$u}function S(t){e.generateMipmap(t)}function E(n,r,i,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===l)return r;if(null!==n){if(void 0!==e[n])return e[n];El.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var s=r;return 6403===r&&(5126===i&&(s=33326),5131===i&&(s=33325),5121===i&&(s=33321)),33319===r&&(5126===i&&(s=33328),5131===i&&(s=33327),5121===i&&(s=33323)),6408===r&&(5126===i&&(s=34836),5131===i&&(s=34842),5121===i&&(s=o===ef&&!1===a?35907:32856),32819===i&&(s=32854),32820===i&&(s=32855)),33325!==s&&33326!==s&&33327!==s&&33328!==s&&34842!==s&&34836!==s||t.get("EXT_color_buffer_float"),s}function _(e,t,n){return!0===x(e,n)||e.isFramebufferTexture&&e.minFilter!==qu&&e.minFilter!==$u?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function T(e){return e===qu||e===Xu||e===Zu?9728:9729}function O(e){var t=e.target;t.removeEventListener("dispose",O),function(e){var t=r.get(e);if(void 0!==t.__webglInit){var n=e.source,i=v.get(n);if(i){var o=i[t.__cacheKey];o.usedTimes--,0===o.usedTimes&&C(e),0===Object.keys(i).length&&v.delete(n)}r.remove(e)}}(t),t.isVideoTexture&&m.delete(t)}function A(t){var n=t.target;n.removeEventListener("dispose",A),function(t){var n=t.texture,i=r.get(t),o=r.get(n);if(void 0!==o.__webglTexture&&(e.deleteTexture(o.__webglTexture),a.memory.textures--),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)e.deleteFramebuffer(i.__webglFramebuffer[s]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[s]);else e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer&&e.deleteRenderbuffer(i.__webglColorRenderbuffer),i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer);if(t.isWebGLMultipleRenderTargets)for(var l=0,u=n.length;l<u;l++){var c=r.get(n[l]);c.__webglTexture&&(e.deleteTexture(c.__webglTexture),a.memory.textures--),r.remove(n[l])}r.remove(n),r.remove(t)}(n)}function C(t){var n=r.get(t);e.deleteTexture(n.__webglTexture);var i=t.source;delete v.get(i)[n.__cacheKey],a.memory.textures--}var P=0;function k(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=a.render.frame;m.get(e)!==t&&(m.set(e,t),e.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&i.__version!==e.version){var o=e.image;if(null===o)El.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==o.complete)return void j(i,e,t);El.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}var R=Ll(Ll(Ll({},Uu,10497),Vu,33071),Gu,33648),I=Ll(Ll(Ll(Ll(Ll(Ll({},qu,9728),Xu,9984),Zu,9986),$u,9729),Yu,9985),Ku,9987);function M(n,o,a){if(a?(e.texParameteri(n,10242,R[o.wrapS]),e.texParameteri(n,10243,R[o.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,R[o.wrapR]),e.texParameteri(n,10240,I[o.magFilter]),e.texParameteri(n,10241,I[o.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),o.wrapS===Vu&&o.wrapT===Vu||El.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,T(o.magFilter)),e.texParameteri(n,10241,T(o.minFilter)),o.minFilter!==qu&&o.minFilter!==$u&&El.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(o.type===ic&&!1===t.has("OES_texture_float_linear"))return;if(!1===l&&o.type===oc&&!1===t.has("OES_texture_half_float_linear"))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function D(t,n){var r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",O));var i=n.source,o=v.get(i);void 0===o&&(o={},v.set(i,o));var s=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}(n);if(s!==t.__cacheKey){void 0===o[s]&&(o[s]={texture:e.createTexture(),usedTimes:0},a.memory.textures++,r=!0),o[s].usedTimes++;var l=o[t.__cacheKey];void 0!==l&&(o[t.__cacheKey].usedTimes--,0===l.usedTimes&&C(n)),t.__cacheKey=s,t.__webglTexture=o[s].texture}return r}function j(t,r,i){var a=3553;r.isDataArrayTexture&&(a=35866),r.isData3DTexture&&(a=32879);var s=D(t,r),u=r.source;if(n.activeTexture(33984+i),n.bindTexture(a,t.__webglTexture),u.version!==u.__currentVersion||!0===s){e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);var c,d=function(e){return!l&&(e.wrapS!==Vu||e.wrapT!==Vu||e.minFilter!==qu&&e.minFilter!==$u)}(r)&&!1===w(r.image),p=b(r.image,d,!1,f),h=w(p=W(r,p))||l,m=o.convert(r.format,r.encoding),v=o.convert(r.type),g=E(r.internalFormat,m,v,r.encoding,r.isVideoTexture);M(a,r,h);var y=r.mipmaps,T=l&&!0!==r.isVideoTexture,O=void 0===t.__version,A=_(r,p,h);if(r.isDepthTexture)g=6402,l?g=r.type===ic?36012:r.type===rc?33190:r.type===lc?35056:33189:r.type===ic&&El.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===hc&&6402===g&&r.type!==tc&&r.type!==rc&&(El.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=tc,v=o.convert(r.type)),r.format===mc&&6402===g&&(g=34041,r.type!==lc&&(El.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=lc,v=o.convert(r.type))),T&&O?n.texStorage2D(3553,1,g,p.width,p.height):n.texImage2D(3553,0,g,p.width,p.height,0,m,v,null);else if(r.isDataTexture)if(y.length>0&&h){T&&O&&n.texStorage2D(3553,A,g,y[0].width,y[0].height);for(var C=0,P=y.length;C<P;C++)c=y[C],T?n.texSubImage2D(3553,C,0,0,c.width,c.height,m,v,c.data):n.texImage2D(3553,C,g,c.width,c.height,0,m,v,c.data);r.generateMipmaps=!1}else T?(O&&n.texStorage2D(3553,A,g,p.width,p.height),n.texSubImage2D(3553,0,0,0,p.width,p.height,m,v,p.data)):n.texImage2D(3553,0,g,p.width,p.height,0,m,v,p.data);else if(r.isCompressedTexture){T&&O&&n.texStorage2D(3553,A,g,y[0].width,y[0].height);for(var k=0,R=y.length;k<R;k++)c=y[k],r.format!==fc?null!==m?T?n.compressedTexSubImage2D(3553,k,0,0,c.width,c.height,m,c.data):n.compressedTexImage2D(3553,k,g,c.width,c.height,0,c.data):El.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):T?n.texSubImage2D(3553,k,0,0,c.width,c.height,m,v,c.data):n.texImage2D(3553,k,g,c.width,c.height,0,m,v,c.data)}else if(r.isDataArrayTexture)T?(O&&n.texStorage3D(35866,A,g,p.width,p.height,p.depth),n.texSubImage3D(35866,0,0,0,0,p.width,p.height,p.depth,m,v,p.data)):n.texImage3D(35866,0,g,p.width,p.height,p.depth,0,m,v,p.data);else if(r.isData3DTexture)T?(O&&n.texStorage3D(32879,A,g,p.width,p.height,p.depth),n.texSubImage3D(32879,0,0,0,0,p.width,p.height,p.depth,m,v,p.data)):n.texImage3D(32879,0,g,p.width,p.height,p.depth,0,m,v,p.data);else if(r.isFramebufferTexture)T&&O?n.texStorage2D(3553,A,g,p.width,p.height):n.texImage2D(3553,0,g,p.width,p.height,0,m,v,null);else if(y.length>0&&h){T&&O&&n.texStorage2D(3553,A,g,y[0].width,y[0].height);for(var I=0,j=y.length;I<j;I++)c=y[I],T?n.texSubImage2D(3553,I,0,0,m,v,c):n.texImage2D(3553,I,g,m,v,c);r.generateMipmaps=!1}else T?(O&&n.texStorage2D(3553,A,g,p.width,p.height),n.texSubImage2D(3553,0,0,0,m,v,p)):n.texImage2D(3553,0,g,m,v,p);x(r,h)&&S(a),u.__currentVersion=u.version,r.onUpdate&&r.onUpdate(r)}t.__version=r.version}function L(t,i,a,s,l){var u=o.convert(a.format,a.encoding),c=o.convert(a.type),f=E(a.internalFormat,u,c,a.encoding);r.get(i).__hasExternalTextures||(32879===l||35866===l?n.texImage3D(l,0,f,i.width,i.height,i.depth,0,u,c,null):n.texImage2D(l,0,f,i.width,i.height,0,u,c,null)),n.bindFramebuffer(36160,t),F(i)?p.framebufferTexture2DMultisampleEXT(36160,s,l,r.get(a).__webglTexture,0,B(i)):e.framebufferTexture2D(36160,s,l,r.get(a).__webglTexture,0),n.bindFramebuffer(36160,null)}function N(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var i=33189;if(r||F(n)){var a=n.depthTexture;a&&a.isDepthTexture&&(a.type===ic?i=36012:a.type===rc&&(i=33190));var s=B(n);F(n)?p.renderbufferStorageMultisampleEXT(36161,s,i,n.width,n.height):e.renderbufferStorageMultisample(36161,s,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){var l=B(n);r&&!1===F(n)?e.renderbufferStorageMultisample(36161,l,35056,n.width,n.height):F(n)?p.renderbufferStorageMultisampleEXT(36161,l,35056,n.width,n.height):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else{var u=!0===n.isWebGLMultipleRenderTargets?n.texture[0]:n.texture,c=o.convert(u.format,u.encoding),f=o.convert(u.type),d=E(u.internalFormat,c,f,u.encoding),h=B(n);r&&!1===F(n)?e.renderbufferStorageMultisample(36161,h,d,n.width,n.height):F(n)?p.renderbufferStorageMultisampleEXT(36161,h,d,n.width,n.height):e.renderbufferStorage(36161,d,n.width,n.height)}e.bindRenderbuffer(36161,null)}function z(t){var i=r.get(t),o=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(o)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),k(i.depthTexture,0);var o=r.get(i.depthTexture).__webglTexture,a=B(i);if(i.depthTexture.format===hc)F(i)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,o,0,a):e.framebufferTexture2D(36160,36096,3553,o,0);else{if(i.depthTexture.format!==mc)throw new Error("Unknown depthTexture format");F(i)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,o,0,a):e.framebufferTexture2D(36160,33306,3553,o,0)}}(i.__webglFramebuffer,t)}else if(o){i.__webglDepthbuffer=[];for(var a=0;a<6;a++)n.bindFramebuffer(36160,i.__webglFramebuffer[a]),i.__webglDepthbuffer[a]=e.createRenderbuffer(),N(i.__webglDepthbuffer[a],t,!1)}else n.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),N(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function B(e){return Math.min(d,e.samples)}function F(e){var n=r.get(e);return l&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function W(e,n){var r=e.encoding,i=e.format,o=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===ff||r!==Qc&&(r===ef?!1===l?!0===t.has("EXT_sRGB")&&i===fc?(e.format=ff,e.minFilter=$u,e.generateMipmaps=!1):n=zf.sRGBToLinear(n):i===fc&&o===Ju||El.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):El.error("THREE.WebGLTextures: Unsupported texture encoding:",r)),n}this.allocateTextureUnit=function(){var e=P;return e>=u&&El.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+u),P+=1,e},this.resetTextureUnits=function(){P=0},this.setTexture2D=k,this.setTexture2DArray=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?j(i,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?j(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?function(t,r,i){if(6===r.image.length){var a=D(t,r),s=r.source;if(n.activeTexture(33984+i),n.bindTexture(34067,t.__webglTexture),s.version!==s.__currentVersion||!0===a){e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);for(var u=r.isCompressedTexture||r.image[0].isCompressedTexture,f=r.image[0]&&r.image[0].isDataTexture,d=[],p=0;p<6;p++)d[p]=u||f?f?r.image[p].image:r.image[p]:b(r.image[p],!1,!0,c),d[p]=W(r,d[p]);var h,m=d[0],v=w(m)||l,g=o.convert(r.format,r.encoding),y=o.convert(r.type),T=E(r.internalFormat,g,y,r.encoding),O=l&&!0!==r.isVideoTexture,A=void 0===t.__version,C=_(r,m,v);if(M(34067,r,v),u){O&&A&&n.texStorage2D(34067,C,T,m.width,m.height);for(var P=0;P<6;P++){h=d[P].mipmaps;for(var k=0;k<h.length;k++){var R=h[k];r.format!==fc?null!==g?O?n.compressedTexSubImage2D(34069+P,k,0,0,R.width,R.height,g,R.data):n.compressedTexImage2D(34069+P,k,T,R.width,R.height,0,R.data):El.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):O?n.texSubImage2D(34069+P,k,0,0,R.width,R.height,g,y,R.data):n.texImage2D(34069+P,k,T,R.width,R.height,0,g,y,R.data)}}}else{h=r.mipmaps,O&&A&&(h.length>0&&C++,n.texStorage2D(34067,C,T,d[0].width,d[0].height));for(var I=0;I<6;I++)if(f){O?n.texSubImage2D(34069+I,0,0,0,d[I].width,d[I].height,g,y,d[I].data):n.texImage2D(34069+I,0,T,d[I].width,d[I].height,0,g,y,d[I].data);for(var j=0;j<h.length;j++){var L=h[j].image[I].image;O?n.texSubImage2D(34069+I,j+1,0,0,L.width,L.height,g,y,L.data):n.texImage2D(34069+I,j+1,T,L.width,L.height,0,g,y,L.data)}}else{O?n.texSubImage2D(34069+I,0,0,0,g,y,d[I]):n.texImage2D(34069+I,0,T,g,y,d[I]);for(var N=0;N<h.length;N++){var z=h[N];O?n.texSubImage2D(34069+I,N+1,0,0,g,y,z.image[I]):n.texImage2D(34069+I,N+1,T,g,y,z.image[I])}}}x(r,v)&&S(34067),s.__currentVersion=s.version,r.onUpdate&&r.onUpdate(r)}t.__version=r.version}}(a,t,i):(n.activeTexture(33984+i),n.bindTexture(34067,a.__webglTexture))},this.rebindTextures=function(e,t,n){var i=r.get(e);void 0!==t&&L(i.__webglFramebuffer,e,e.texture,36064,3553),void 0!==n&&z(e)},this.setupRenderTarget=function(t){var s=t.texture,u=r.get(t),c=r.get(s);t.addEventListener("dispose",A),!0!==t.isWebGLMultipleRenderTargets&&(void 0===c.__webglTexture&&(c.__webglTexture=e.createTexture()),c.__version=s.version,a.memory.textures++);var f=!0===t.isWebGLCubeRenderTarget,d=!0===t.isWebGLMultipleRenderTargets,p=w(t)||l;if(f){u.__webglFramebuffer=[];for(var h=0;h<6;h++)u.__webglFramebuffer[h]=e.createFramebuffer()}else if(u.__webglFramebuffer=e.createFramebuffer(),d)if(i.drawBuffers)for(var m=t.texture,v=0,g=m.length;v<g;v++){var y=r.get(m[v]);void 0===y.__webglTexture&&(y.__webglTexture=e.createTexture(),a.memory.textures++)}else El.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(l&&t.samples>0&&!1===F(t)){u.__webglMultisampledFramebuffer=e.createFramebuffer(),u.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,u.__webglColorRenderbuffer);var b=o.convert(s.format,s.encoding),_=o.convert(s.type),T=E(s.internalFormat,b,_,s.encoding),O=B(t);e.renderbufferStorageMultisample(36161,O,T,t.width,t.height),n.bindFramebuffer(36160,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,u.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(u.__webglDepthRenderbuffer=e.createRenderbuffer(),N(u.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}if(f){n.bindTexture(34067,c.__webglTexture),M(34067,s,p);for(var C=0;C<6;C++)L(u.__webglFramebuffer[C],t,s,36064,34069+C);x(s,p)&&S(34067),n.unbindTexture()}else if(d){for(var P=t.texture,k=0,R=P.length;k<R;k++){var I=P[k],D=r.get(I);n.bindTexture(3553,D.__webglTexture),M(3553,I,p),L(u.__webglFramebuffer,t,I,36064+k,3553),x(I,p)&&S(3553)}n.unbindTexture()}else{var j=3553;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(l?j=t.isWebGL3DRenderTarget?32879:35866:El.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(j,c.__webglTexture),M(j,s,p),L(u.__webglFramebuffer,t,s,36064,j),x(s,p)&&S(j),n.unbindTexture()}t.depthBuffer&&z(t)},this.updateRenderTargetMipmap=function(e){for(var t=w(e)||l,i=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture],o=0,a=i.length;o<a;o++){var s=i[o];if(x(s,t)){var u=e.isWebGLCubeRenderTarget?34067:3553,c=r.get(s).__webglTexture;n.bindTexture(u,c),S(u),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(l&&t.samples>0&&!1===F(t)){var i=t.width,o=t.height,a=16384,s=[36064],u=t.stencilBuffer?33306:36096;t.depthBuffer&&s.push(u);var c=r.get(t),f=void 0!==c.__ignoreDepthValues&&c.__ignoreDepthValues;!1===f&&(t.depthBuffer&&(a|=256),t.stencilBuffer&&(a|=1024)),n.bindFramebuffer(36008,c.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,c.__webglFramebuffer),!0===f&&(e.invalidateFramebuffer(36008,[u]),e.invalidateFramebuffer(36009,[u])),e.blitFramebuffer(0,0,i,o,0,0,i,o,a,9728),h&&e.invalidateFramebuffer(36008,s),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,c.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=z,this.setupFrameBufferTexture=L,this.useMultisampledRTT=F}function Mv(e,t,n){var r=n.isWebGL2;return{convert:function(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e===Ju)return 5121;if(e===ac)return 32819;if(e===sc)return 32820;if(e===Qu)return 5120;if(e===ec)return 5122;if(e===tc)return 5123;if(e===nc)return 5124;if(e===rc)return 5125;if(e===ic)return 5126;if(e===oc)return r?5131:null!==(n=t.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(e===uc)return 6406;if(e===fc)return 6408;if(e===dc)return 6409;if(e===pc)return 6410;if(e===hc)return 6402;if(e===mc)return 34041;if(e===vc)return 6403;if(e===cc)return El.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(e===ff)return null!==(n=t.get("EXT_sRGB"))?n.SRGB_ALPHA_EXT:null;if(e===gc)return 36244;if(e===yc)return 33319;if(e===bc)return 33320;if(e===wc)return 36249;if(e===xc||e===Sc||e===Ec||e===_c)if(i===ef){if(null===(n=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(e===xc)return n.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(e===Sc)return n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(e===Ec)return n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(e===_c)return n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(n=t.get("WEBGL_compressed_texture_s3tc")))return null;if(e===xc)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Sc)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===Ec)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===_c)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===Tc||e===Oc||e===Ac||e===Cc){if(null===(n=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===Tc)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===Oc)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===Ac)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===Cc)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===Pc)return null!==(n=t.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if(e===kc||e===Rc){if(null===(n=t.get("WEBGL_compressed_texture_etc")))return null;if(e===kc)return i===ef?n.COMPRESSED_SRGB8_ETC2:n.COMPRESSED_RGB8_ETC2;if(e===Rc)return i===ef?n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:n.COMPRESSED_RGBA8_ETC2_EAC}if(e===Ic||e===Mc||e===Dc||e===jc||e===Lc||e===Nc||e===zc||e===Bc||e===Fc||e===Wc||e===Hc||e===Uc||e===Vc||e===Gc){if(null===(n=t.get("WEBGL_compressed_texture_astc")))return null;if(e===Ic)return i===ef?n.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:n.COMPRESSED_RGBA_ASTC_4x4_KHR;if(e===Mc)return i===ef?n.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:n.COMPRESSED_RGBA_ASTC_5x4_KHR;if(e===Dc)return i===ef?n.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:n.COMPRESSED_RGBA_ASTC_5x5_KHR;if(e===jc)return i===ef?n.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:n.COMPRESSED_RGBA_ASTC_6x5_KHR;if(e===Lc)return i===ef?n.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:n.COMPRESSED_RGBA_ASTC_6x6_KHR;if(e===Nc)return i===ef?n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:n.COMPRESSED_RGBA_ASTC_8x5_KHR;if(e===zc)return i===ef?n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:n.COMPRESSED_RGBA_ASTC_8x6_KHR;if(e===Bc)return i===ef?n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:n.COMPRESSED_RGBA_ASTC_8x8_KHR;if(e===Fc)return i===ef?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:n.COMPRESSED_RGBA_ASTC_10x5_KHR;if(e===Wc)return i===ef?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:n.COMPRESSED_RGBA_ASTC_10x6_KHR;if(e===Hc)return i===ef?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:n.COMPRESSED_RGBA_ASTC_10x8_KHR;if(e===Uc)return i===ef?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:n.COMPRESSED_RGBA_ASTC_10x10_KHR;if(e===Vc)return i===ef?n.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:n.COMPRESSED_RGBA_ASTC_12x10_KHR;if(e===Gc)return i===ef?n.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:n.COMPRESSED_RGBA_ASTC_12x12_KHR}if(e===qc){if(null===(n=t.get("EXT_texture_compression_bptc")))return null;if(e===qc)return i===ef?n.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:n.COMPRESSED_RGBA_BPTC_UNORM_EXT}return e===lc?r?34042:null!==(n=t.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}var Dv=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Bl(this,t),(e=Pl(this,t)).cameras=n,e}return Dl(t,e),Wl(t)}(Yp);Dv.prototype.isArrayCamera=!0;var jv=function(e){function t(){var e;return Bl(this,t),(e=Pl(this,t)).type="Group",e}return Dl(t,e),Wl(t)}(Yd);jv.prototype.isGroup=!0;var Lv={type:"move"},Nv=function(){function e(){Bl(this,e),this._targetRay=null,this._grip=null,this._hand=null}return Wl(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new jv,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new jv,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Zf,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Zf),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new jv,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Zf,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Zf),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,o=null,a=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(null!==a&&null!==(r=t.getPose(e.targetRaySpace,n))&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Lv)),l&&e.hand){o=!0;var u,c=Tl(e.hand.values());try{for(c.s();!(u=c.n()).done;){var f=u.value,d=t.getJointPose(f,n);if(void 0===l.joints[f.jointName]){var p=new jv;p.matrixAutoUpdate=!1,p.visible=!1,l.joints[f.jointName]=p,l.add(p)}var h=l.joints[f.jointName];null!==d&&(h.matrix.fromArray(d.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.jointRadius=d.radius),h.visible=null!==d}}catch(e){c.e(e)}finally{c.f()}var m=l.joints["index-finger-tip"],v=l.joints["thumb-tip"],g=m.position.distanceTo(v.position);l.inputState.pinching&&g>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&g<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1);return null!==a&&(a.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==o),this}}]),e}(),zv=function(e){function t(e,n,r,i,o,a,s,l,u,c){var f;if(Bl(this,t),(c=void 0!==c?c:hc)!==hc&&c!==mc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===r&&c===hc&&(r=tc),void 0===r&&c===mc&&(r=lc),(f=Pl(this,t,[null,i,o,a,s,l,c,r,u])).image={width:e,height:n},f.magFilter=void 0!==s?s:qu,f.minFilter=void 0!==l?l:qu,f.flipY=!1,f.generateMipmaps=!1,f}return Dl(t,e),Wl(t)}(Hf);zv.prototype.isDepthTexture=!0;var Bv=function(e){function t(e,n){var r;Bl(this,t);var i=Ml(r=Pl(this,t)),o=null,a=1,s=null,l="local-floor",u=null,c=null,f=null,d=null,p=null,h=n.getContextAttributes(),m=null,v=null,g=[],y=new Map,b=new Yp;b.layers.enable(1),b.viewport=new Uf;var w=new Yp;w.layers.enable(2),w.viewport=new Uf;var x=[b,w],S=new Dv;S.layers.enable(1),S.layers.enable(2);var E=null,_=null;function T(e){var t=y.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function O(){y.forEach((function(e,t){e.disconnect(t)})),y.clear(),E=null,_=null,e.setRenderTarget(m),d=null,f=null,c=null,o=null,v=null,I.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function A(e){for(var t=o.inputSources,n=0;n<g.length;n++)y.set(t[n],g[n]);for(var r=0;r<e.removed.length;r++){var i=e.removed[r],a=y.get(i);a&&(a.dispatchEvent({type:"disconnected",data:i}),y.delete(i))}for(var s=0;s<e.added.length;s++){var l=e.added[s],u=y.get(l);u&&u.dispatchEvent({type:"connected",data:l})}}r.cameraAutoUpdate=!0,r.enabled=!1,r.isPresenting=!1,r.getController=function(e){var t=g[e];return void 0===t&&(t=new Nv,g[e]=t),t.getTargetRaySpace()},r.getControllerGrip=function(e){var t=g[e];return void 0===t&&(t=new Nv,g[e]=t),t.getGripSpace()},r.getHand=function(e){var t=g[e];return void 0===t&&(t=new Nv,g[e]=t),t.getHandSpace()},r.setFramebufferScaleFactor=function(e){a=e,!0===i.isPresenting&&El.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},r.setReferenceSpaceType=function(e){l=e,!0===i.isPresenting&&El.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},r.getReferenceSpace=function(){return s},r.getBaseLayer=function(){return null!==f?f:d},r.getBinding=function(){return c},r.getFrame=function(){return p},r.getSession=function(){return o},r.setSession=function(){var t,r=(t=Nl().mark((function t(r){var u,p,g,y,b;return Nl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(o=r)){t.next=24;break}if(m=e.getRenderTarget(),o.addEventListener("select",T),o.addEventListener("selectstart",T),o.addEventListener("selectend",T),o.addEventListener("squeeze",T),o.addEventListener("squeezestart",T),o.addEventListener("squeezeend",T),o.addEventListener("end",O),o.addEventListener("inputsourceschange",A),!0===h.xrCompatible){t.next=14;break}return t.next=14,n.makeXRCompatible();case 14:return void 0===o.renderState.layers||!1===e.capabilities.isWebGL2?(u={antialias:void 0!==o.renderState.layers||h.antialias,alpha:h.alpha,depth:h.depth,stencil:h.stencil,framebufferScaleFactor:a},d=new XRWebGLLayer(o,n,u),o.updateRenderState({baseLayer:d}),v=new Vf(d.framebufferWidth,d.framebufferHeight,{format:fc,type:Ju,encoding:e.outputEncoding})):(p=null,g=null,y=null,h.depth&&(y=h.stencil?35056:33190,p=h.stencil?mc:hc,g=h.stencil?lc:tc),b={colorFormat:e.outputEncoding===ef?35907:32856,depthFormat:y,scaleFactor:a},c=new XRWebGLBinding(o,n),f=c.createProjectionLayer(b),o.updateRenderState({layers:[f]}),v=new Vf(f.textureWidth,f.textureHeight,{format:fc,type:Ju,depthTexture:new zv(f.textureWidth,f.textureHeight,g,void 0,void 0,void 0,void 0,void 0,void 0,p),stencilBuffer:h.stencil,encoding:e.outputEncoding,samples:h.antialias?4:0}),e.properties.get(v).__ignoreDepthValues=f.ignoreDepthValues),v.isXRRenderTarget=!0,this.setFoveation(1),t.next=19,o.requestReferenceSpace(l);case 19:s=t.sent,I.setContext(o),I.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"});case 24:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){_l(o,r,i,a,s,"next",e)}function s(e){_l(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}();var C=new Zf,P=new Zf;function k(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}r.updateCamera=function(e){if(null!==o){S.near=w.near=b.near=e.near,S.far=w.far=b.far=e.far,E===S.near&&_===S.far||(o.updateRenderState({depthNear:S.near,depthFar:S.far}),E=S.near,_=S.far);var t=e.parent,n=S.cameras;k(S,t);for(var r=0;r<n.length;r++)k(n[r],t);S.matrixWorld.decompose(S.position,S.quaternion,S.scale),e.position.copy(S.position),e.quaternion.copy(S.quaternion),e.scale.copy(S.scale),e.matrix.copy(S.matrix),e.matrixWorld.copy(S.matrixWorld);for(var i=e.children,a=0,s=i.length;a<s;a++)i[a].updateMatrixWorld(!0);2===n.length?function(e,t,n){C.setFromMatrixPosition(t.matrixWorld),P.setFromMatrixPosition(n.matrixWorld);var r=C.distanceTo(P),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],u=(i[9]-1)/i[5],c=(i[8]-1)/i[0],f=(o[8]+1)/o[0],d=a*c,p=a*f,h=r/(-c+f),m=h*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(h),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var v=a+h,g=s+h,y=d-m,b=p+(r-m),w=l*s/g*v,x=u*s/g*v;e.projectionMatrix.makePerspective(y,b,w,x,v,g)}(S,b,w):S.projectionMatrix.copy(b.projectionMatrix)}},r.getCamera=function(){return S},r.getFoveation=function(){return null!==f?f.fixedFoveation:null!==d?d.fixedFoveation:void 0},r.setFoveation=function(e){null!==f&&(f.fixedFoveation=e),null!==d&&void 0!==d.fixedFoveation&&(d.fixedFoveation=e)};var R=null,I=new lh;return I.setAnimationLoop((function(t,n){if(u=n.getViewerPose(s),p=n,null!==u){var r=u.views;null!==d&&(e.setRenderTargetFramebuffer(v,d.framebuffer),e.setRenderTarget(v));var i=!1;r.length!==S.cameras.length&&(S.cameras.length=0,i=!0);for(var a=0;a<r.length;a++){var l=r[a],h=null;if(null!==d)h=d.getViewport(l);else{var m=c.getViewSubImage(f,l);h=m.viewport,0===a&&(e.setRenderTargetTextures(v,m.colorTexture,f.ignoreDepthValues?void 0:m.depthStencilTexture),e.setRenderTarget(v))}var y=x[a];y.matrix.fromArray(l.transform.matrix),y.projectionMatrix.fromArray(l.projectionMatrix),y.viewport.set(h.x,h.y,h.width,h.height),0===a&&S.matrix.copy(y.matrix),!0===i&&S.cameras.push(y)}}for(var b=o.inputSources,w=0;w<g.length;w++){var E=g[w],_=b[w];E.update(_,n,s)}R&&R(t,n),p=null})),r.setAnimationLoop=function(e){R=e},r.dispose=function(){},r}return Dl(t,e),Wl(t)}(df);function Fv(e,t){function n(n,r){n.opacity.value=r.opacity,r.color&&n.diffuse.value.copy(r.color),r.emissive&&n.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(n.map.value=r.map),r.alphaMap&&(n.alphaMap.value=r.alphaMap),r.bumpMap&&(n.bumpMap.value=r.bumpMap,n.bumpScale.value=r.bumpScale,r.side===Kl&&(n.bumpScale.value*=-1)),r.displacementMap&&(n.displacementMap.value=r.displacementMap,n.displacementScale.value=r.displacementScale,n.displacementBias.value=r.displacementBias),r.emissiveMap&&(n.emissiveMap.value=r.emissiveMap),r.normalMap&&(n.normalMap.value=r.normalMap,n.normalScale.value.copy(r.normalScale),r.side===Kl&&n.normalScale.value.negate()),r.specularMap&&(n.specularMap.value=r.specularMap),r.alphaTest>0&&(n.alphaTest.value=r.alphaTest);var i,o,a=t.get(r).envMap;if(a&&(n.envMap.value=a,n.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,n.reflectivity.value=r.reflectivity,n.ior.value=r.ior,n.refractionRatio.value=r.refractionRatio),r.lightMap){n.lightMap.value=r.lightMap;var s=!0!==e.physicallyCorrectLights?Math.PI:1;n.lightMapIntensity.value=r.lightMapIntensity*s}r.aoMap&&(n.aoMap.value=r.aoMap,n.aoMapIntensity.value=r.aoMapIntensity),r.map?i=r.map:r.specularMap?i=r.specularMap:r.displacementMap?i=r.displacementMap:r.normalMap?i=r.normalMap:r.bumpMap?i=r.bumpMap:r.roughnessMap?i=r.roughnessMap:r.metalnessMap?i=r.metalnessMap:r.alphaMap?i=r.alphaMap:r.emissiveMap?i=r.emissiveMap:r.clearcoatMap?i=r.clearcoatMap:r.clearcoatNormalMap?i=r.clearcoatNormalMap:r.clearcoatRoughnessMap?i=r.clearcoatRoughnessMap:r.specularIntensityMap?i=r.specularIntensityMap:r.specularColorMap?i=r.specularColorMap:r.transmissionMap?i=r.transmissionMap:r.thicknessMap?i=r.thicknessMap:r.sheenColorMap?i=r.sheenColorMap:r.sheenRoughnessMap&&(i=r.sheenRoughnessMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),n.uvTransform.value.copy(i.matrix)),r.aoMap?o=r.aoMap:r.lightMap&&(o=r.lightMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),n.uv2Transform.value.copy(o.matrix))}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,r,i,o,a){r.isMeshBasicMaterial||r.isMeshLambertMaterial?n(e,r):r.isMeshToonMaterial?(n(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,r)):r.isMeshPhongMaterial?(n(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,r)):r.isMeshStandardMaterial?(n(e,r),function(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap),t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}(e,r),r.isMeshPhysicalMaterial&&function(e,t,n){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap)),t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===Kl&&e.clearcoatNormalScale.value.negate())),t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=n.texture,e.transmissionSamplerSize.value.set(n.width,n.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor)),e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap)}(e,r,a)):r.isMeshMatcapMaterial?(n(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,r)):r.isMeshDepthMaterial?n(e,r):r.isMeshDistanceMaterial?(n(e,r),function(e,t){e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?n(e,r):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){var i;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest),t.map?i=t.map:t.alphaMap&&(i=t.alphaMap),void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,r,i,o):r.isSpriteMaterial?function(e,t){var n;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest),t.map?n=t.map:t.alphaMap&&(n=t.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function Wv(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=void 0!==n.canvas?n.canvas:((e=Tf("canvas")).style.display="block",e),i=void 0!==n.context?n.context:null,o=void 0===n.depth||n.depth,a=void 0===n.stencil||n.stencil,s=void 0!==n.antialias&&n.antialias,l=void 0===n.premultipliedAlpha||n.premultipliedAlpha,u=void 0!==n.preserveDrawingBuffer&&n.preserveDrawingBuffer,c=void 0!==n.powerPreference?n.powerPreference:"default",f=void 0!==n.failIfMajorPerformanceCaveat&&n.failIfMajorPerformanceCaveat;t=void 0!==n.context?i.getContextAttributes().alpha:void 0!==n.alpha&&n.alpha;var d=null,p=null,h=[],m=[];this.domElement=r,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Qc,this.physicallyCorrectLights=!1,this.toneMapping=Iu,this.toneMappingExposure=1;var v=this,g=!1,y=0,b=0,w=null,x=-1,S=null,E=new Uf,_=new Uf,T=null,O=r.width,A=r.height,C=1,P=null,k=null,R=new Uf(0,0,O,A),I=new Uf(0,0,O,A),M=!1,D=new sh,j=!1,L=!1,N=null,z=new Td,B=new Sf,F=new Zf,W={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function H(){return null===w?C:1}var U,V,G,q,X,Z,$,Y,K,J,Q,ee,te,ne,re,ie,oe,ae,se,le,ue,ce,fe,de=i;function pe(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=r.getContext(i,t);if(null!==o)return o}return null}try{var he={alpha:!0,depth:o,stencil:a,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in r&&r.setAttribute("data-engine","three.js r".concat(Ul)),r.addEventListener("webglcontextlost",ye,!1),r.addEventListener("webglcontextrestored",be,!1),null===de){var me=["webgl2","webgl","experimental-webgl"];if(!0===v.isWebGL1Renderer&&me.shift(),null===(de=pe(me,he)))throw pe(me)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===de.getShaderPrecisionFormat&&(de.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw El.error("THREE.WebGLRenderer: "+e.message),e}function ve(){U=new jh(de),V=new gh(de,U,n),U.init(V),ce=new Mv(de,U,V),G=new Rv(de,U,V),q=new zh(de),X=new mv,Z=new Iv(de,U,G,X,V,ce,q),$=new bh(v),Y=new Dh(v),K=new uh(de,V),fe=new mh(de,U,K,V),J=new Lh(de,K,q,fe),Q=new Uh(de,J,K,q),se=new Hh(de,V,Z),ie=new yh(X),ee=new hv(v,$,Y,U,V,fe,ie),te=new Fv(v,X),ne=new bv,re=new Tv(U,V),ae=new hh(v,$,G,Q,t,l),oe=new kv(v,Q,V),le=new vh(de,U,q,V),ue=new Nh(de,U,q,V),q.programs=ee.programs,v.capabilities=V,v.extensions=U,v.properties=X,v.renderLists=ne,v.shadowMap=oe,v.state=G,v.info=q}ve();var ge=new Bv(v,de);function ye(e){e.preventDefault(),El.log("THREE.WebGLRenderer: Context Lost."),g=!0}function be(){El.log("THREE.WebGLRenderer: Context Restored."),g=!1;var e=q.autoReset,t=oe.enabled,n=oe.autoUpdate,r=oe.needsUpdate,i=oe.type;ve(),q.autoReset=e,oe.enabled=t,oe.autoUpdate=n,oe.needsUpdate=r,oe.type=i}function we(e){var t=e.target;t.removeEventListener("dispose",we),function(e){(function(e){var t=X.get(e).programs;void 0!==t&&(t.forEach((function(e){ee.releaseProgram(e)})),e.isShaderMaterial&&ee.releaseShaderCache(e))})(e),X.remove(e)}(t)}this.xr=ge,this.getContext=function(){return de},this.getContextAttributes=function(){return de.getContextAttributes()},this.forceContextLoss=function(){var e=U.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=U.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return C},this.setPixelRatio=function(e){void 0!==e&&(C=e,this.setSize(O,A,!1))},this.getSize=function(e){return e.set(O,A)},this.setSize=function(e,t,n){ge.isPresenting?El.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(O=e,A=t,r.width=Math.floor(e*C),r.height=Math.floor(t*C),!1!==n&&(r.style.width=e+"px",r.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(O*C,A*C).floor()},this.setDrawingBufferSize=function(e,t,n){O=e,A=t,C=n,r.width=Math.floor(e*n),r.height=Math.floor(t*n),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(E)},this.getViewport=function(e){return e.copy(R)},this.setViewport=function(e,t,n,r){e.isVector4?R.set(e.x,e.y,e.z,e.w):R.set(e,t,n,r),G.viewport(E.copy(R).multiplyScalar(C).floor())},this.getScissor=function(e){return e.copy(I)},this.setScissor=function(e,t,n,r){e.isVector4?I.set(e.x,e.y,e.z,e.w):I.set(e,t,n,r),G.scissor(_.copy(I).multiplyScalar(C).floor())},this.getScissorTest=function(){return M},this.setScissorTest=function(e){G.setScissorTest(M=e)},this.setOpaqueSort=function(e){P=e},this.setTransparentSort=function(e){k=e},this.getClearColor=function(e){return e.copy(ae.getClearColor())},this.setClearColor=function(){ae.setClearColor.apply(ae,arguments)},this.getClearAlpha=function(){return ae.getClearAlpha()},this.setClearAlpha=function(){ae.setClearAlpha.apply(ae,arguments)},this.clear=function(){var e=0;(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(e|=16384),(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(e|=256),(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&(e|=1024),de.clear(e)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){r.removeEventListener("webglcontextlost",ye,!1),r.removeEventListener("webglcontextrestored",be,!1),ne.dispose(),re.dispose(),X.dispose(),$.dispose(),Y.dispose(),Q.dispose(),fe.dispose(),ee.dispose(),ge.dispose(),ge.removeEventListener("sessionstart",Se),ge.removeEventListener("sessionend",Ee),N&&(N.dispose(),N=null),_e.stop()},this.renderBufferDirect=function(e,t,n,r,i,o){null===t&&(t=W);var a=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=W),Z.resetTextureUnits();var o=t.fog,a=r.isMeshStandardMaterial?t.environment:null,s=null===w?v.outputEncoding:!0===w.isXRRenderTarget?w.texture.encoding:Qc,l=(r.isMeshStandardMaterial?Y:$).get(r.envMap||a),u=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!r.normalMap&&!!n.attributes.tangent,f=!!n.morphAttributes.position,d=!!n.morphAttributes.normal,h=!!n.morphAttributes.color,m=r.toneMapped?v.toneMapping:Iu,g=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,y=void 0!==g?g.length:0,b=X.get(r),E=p.state.lights;if(!0===j&&(!0===L||e!==S)){var _=e===S&&r.id===x;ie.setState(r,e,_)}var T=!1;r.version===b.__version?b.needsLights&&b.lightsStateVersion!==E.state.version||b.outputEncoding!==s||i.isInstancedMesh&&!1===b.instancing?T=!0:i.isInstancedMesh||!0!==b.instancing?i.isSkinnedMesh&&!1===b.skinning?T=!0:i.isSkinnedMesh||!0!==b.skinning?b.envMap!==l||r.fog&&b.fog!==o?T=!0:void 0===b.numClippingPlanes||b.numClippingPlanes===ie.numPlanes&&b.numIntersection===ie.numIntersection?(b.vertexAlphas!==u||b.vertexTangents!==c||b.morphTargets!==f||b.morphNormals!==d||b.morphColors!==h||b.toneMapping!==m||!0===V.isWebGL2&&b.morphTargetsCount!==y)&&(T=!0):T=!0:T=!0:T=!0:(T=!0,b.__version=r.version);var O=b.currentProgram;!0===T&&(O=Pe(r,t,i));var P=!1,k=!1,R=!1,I=O.getUniforms(),M=b.uniforms;if(G.useProgram(O.program)&&(P=!0,k=!0,R=!0),r.id!==x&&(x=r.id,k=!0),P||S!==e){if(I.setValue(de,"projectionMatrix",e.projectionMatrix),V.logarithmicDepthBuffer&&I.setValue(de,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),S!==e&&(S=e,k=!0,R=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var D=I.map.cameraPosition;void 0!==D&&D.setValue(de,F.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&I.setValue(de,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&I.setValue(de,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){I.setOptional(de,i,"bindMatrix"),I.setOptional(de,i,"bindMatrixInverse");var z=i.skeleton;z&&(V.floatVertexTextures?(null===z.boneTexture&&z.computeBoneTexture(),I.setValue(de,"boneTexture",z.boneTexture,Z),I.setValue(de,"boneTextureSize",z.boneTextureSize)):I.setOptional(de,z,"boneMatrices"))}var B,H,U=n.morphAttributes;return(void 0!==U.position||void 0!==U.normal||void 0!==U.color&&!0===V.isWebGL2)&&se.update(i,n,r,O),(k||b.receiveShadow!==i.receiveShadow)&&(b.receiveShadow=i.receiveShadow,I.setValue(de,"receiveShadow",i.receiveShadow)),k&&(I.setValue(de,"toneMappingExposure",v.toneMappingExposure),b.needsLights&&(H=R,(B=M).ambientLightColor.needsUpdate=H,B.lightProbe.needsUpdate=H,B.directionalLights.needsUpdate=H,B.directionalLightShadows.needsUpdate=H,B.pointLights.needsUpdate=H,B.pointLightShadows.needsUpdate=H,B.spotLights.needsUpdate=H,B.spotLightShadows.needsUpdate=H,B.rectAreaLights.needsUpdate=H,B.hemisphereLights.needsUpdate=H),o&&r.fog&&te.refreshFogUniforms(M,o),te.refreshMaterialUniforms(M,r,C,A,N),Xm.upload(de,b.uniformsList,M,Z)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(Xm.upload(de,b.uniformsList,M,Z),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&I.setValue(de,"center",i.center),I.setValue(de,"modelViewMatrix",i.modelViewMatrix),I.setValue(de,"normalMatrix",i.normalMatrix),I.setValue(de,"modelMatrix",i.matrixWorld),O}(e,t,n,r,i);G.setMaterial(r,a);var l=n.index,u=n.attributes.position;if(null===l){if(void 0===u||0===u.count)return}else if(0===l.count)return;var c,f=1;!0===r.wireframe&&(l=J.getWireframeAttribute(n),f=2),fe.setup(i,r,s,n,l);var d=le;null!==l&&(c=K.get(l),(d=ue).setIndex(c));var h=null!==l?l.count:u.count,m=n.drawRange.start*f,g=n.drawRange.count*f,y=null!==o?o.start*f:0,b=null!==o?o.count*f:1/0,E=Math.max(m,y),_=Math.min(h,m+g,y+b)-1,T=Math.max(0,_-E+1);if(0!==T){if(i.isMesh)!0===r.wireframe?(G.setLineWidth(r.wireframeLinewidth*H()),d.setMode(1)):d.setMode(4);else if(i.isLine){var O=r.linewidth;void 0===O&&(O=1),G.setLineWidth(O*H()),i.isLineSegments?d.setMode(1):i.isLineLoop?d.setMode(2):d.setMode(3)}else i.isPoints?d.setMode(0):i.isSprite&&d.setMode(4);if(i.isInstancedMesh)d.renderInstances(E,T,i.count);else if(n.isInstancedBufferGeometry){var P=Math.min(n.instanceCount,n._maxInstanceCount);d.renderInstances(E,T,P)}else d.render(E,T)}},this.compile=function(e,t){(p=re.get(e)).init(),m.push(p),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(p.pushLight(e),e.castShadow&&p.pushShadow(e))})),p.setupLights(v.physicallyCorrectLights),e.traverse((function(t){var n=t.material;if(n)if(Array.isArray(n))for(var r=0;r<n.length;r++)Pe(n[r],e,t);else Pe(n,e,t)})),m.pop(),p=null};var xe=null;function Se(){_e.stop()}function Ee(){_e.start()}var _e=new lh;function Te(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)p.pushLight(e),e.castShadow&&p.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||D.intersectsSprite(e)){r&&F.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);var i=Q.update(e),o=e.material;o.visible&&d.push(e,i,o,n,F.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==q.render.frame&&(e.skeleton.update(),e.skeleton.frame=q.render.frame),!e.frustumCulled||D.intersectsObject(e))){r&&F.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);var a=Q.update(e),s=e.material;if(Array.isArray(s))for(var l=a.groups,u=0,c=l.length;u<c;u++){var f=l[u],h=s[f.materialIndex];h&&h.visible&&d.push(e,a,h,n,F.z,f)}else s.visible&&d.push(e,a,s,n,F.z,null)}for(var m=e.children,v=0,g=m.length;v<g;v++)Te(m[v],t,n,r)}}function Oe(e,t,n,r){var i=e.opaque,o=e.transmissive,a=e.transparent;p.setupLightsView(n),o.length>0&&function(e,t,n){var r=V.isWebGL2;null===N&&(N=new Vf(1,1,{generateMipmaps:!0,type:null!==ce.convert(oc)?oc:Ju,minFilter:Ku,samples:r&&!0===s?4:0})),v.getDrawingBufferSize(B),r?N.setSize(B.x,B.y):N.setSize(xf(B.x),xf(B.y));var i=v.getRenderTarget();v.setRenderTarget(N),v.clear();var o=v.toneMapping;v.toneMapping=Iu,Ae(e,t,n),v.toneMapping=o,Z.updateMultisampleRenderTarget(N),Z.updateRenderTargetMipmap(N),v.setRenderTarget(i)}(i,t,n),r&&G.viewport(E.copy(r)),i.length>0&&Ae(i,t,n),o.length>0&&Ae(o,t,n),a.length>0&&Ae(a,t,n),G.buffers.depth.setTest(!0),G.buffers.depth.setMask(!0),G.buffers.color.setMask(!0),G.setPolygonOffset(!1)}function Ae(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,l=a.geometry,u=null===r?a.material:r,c=a.group;s.layers.test(n.layers)&&Ce(s,t,n,l,u,c)}}function Ce(e,t,n,r,i,o){e.onBeforeRender(v,t,n,r,i,o),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(v,t,n,r,e,o),!0===i.transparent&&i.side===Jl?(i.side=Kl,i.needsUpdate=!0,v.renderBufferDirect(n,t,r,i,e,o),i.side=Yl,i.needsUpdate=!0,v.renderBufferDirect(n,t,r,i,e,o),i.side=Jl):v.renderBufferDirect(n,t,r,i,e,o),e.onAfterRender(v,t,n,r,i,o)}function Pe(e,t,n){!0!==t.isScene&&(t=W);var r=X.get(e),i=p.state.lights,o=p.state.shadowsArray,a=i.state.version,s=ee.getParameters(e,i.state,o,t,n),l=ee.getProgramCacheKey(s),u=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?Y:$).get(e.envMap||r.environment),void 0===u&&(e.addEventListener("dispose",we),u=new Map,r.programs=u);var c=u.get(l);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===a)return ke(e,s),c}else s.uniforms=ee.getUniforms(e),e.onBuild(n,s,v),e.onBeforeCompile(s,v),c=ee.acquireProgram(s,l),u.set(l,c),r.uniforms=s.uniforms;var f=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(f.clippingPlanes=ie.uniform),ke(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=a,r.needsLights&&(f.ambientLightColor.value=i.state.ambient,f.lightProbe.value=i.state.probe,f.directionalLights.value=i.state.directional,f.directionalLightShadows.value=i.state.directionalShadow,f.spotLights.value=i.state.spot,f.spotLightShadows.value=i.state.spotShadow,f.rectAreaLights.value=i.state.rectArea,f.ltc_1.value=i.state.rectAreaLTC1,f.ltc_2.value=i.state.rectAreaLTC2,f.pointLights.value=i.state.point,f.pointLightShadows.value=i.state.pointShadow,f.hemisphereLights.value=i.state.hemi,f.directionalShadowMap.value=i.state.directionalShadowMap,f.directionalShadowMatrix.value=i.state.directionalShadowMatrix,f.spotShadowMap.value=i.state.spotShadowMap,f.spotShadowMatrix.value=i.state.spotShadowMatrix,f.pointShadowMap.value=i.state.pointShadowMap,f.pointShadowMatrix.value=i.state.pointShadowMatrix);var d=c.getUniforms(),h=Xm.seqWithValue(d.seq,f);return r.currentProgram=c,r.uniformsList=h,c}function ke(e,t){var n=X.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}_e.setAnimationLoop((function(e){xe&&xe(e)})),"undefined"!=typeof self&&_e.setContext(self),this.setAnimationLoop=function(e){xe=e,ge.setAnimationLoop(e),null===e?_e.stop():_e.start()},ge.addEventListener("sessionstart",Se),ge.addEventListener("sessionend",Ee),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==g){!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===ge.enabled&&!0===ge.isPresenting&&(!0===ge.cameraAutoUpdate&&ge.updateCamera(t),t=ge.getCamera()),!0===e.isScene&&e.onBeforeRender(v,e,t,w),(p=re.get(e,m.length)).init(),m.push(p),z.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),D.setFromProjectionMatrix(z),L=this.localClippingEnabled,j=ie.init(this.clippingPlanes,L,t),(d=ne.get(e,h.length)).init(),h.push(d),Te(e,t,0,v.sortObjects),d.finish(),!0===v.sortObjects&&d.sort(P,k),!0===j&&ie.beginShadows();var n=p.state.shadowsArray;if(oe.render(n,e,t),!0===j&&ie.endShadows(),!0===this.info.autoReset&&this.info.reset(),ae.render(d,e),p.setupLights(v.physicallyCorrectLights),t.isArrayCamera)for(var r=t.cameras,i=0,o=r.length;i<o;i++){var a=r[i];Oe(d,e,a,a.viewport)}else Oe(d,e,t);null!==w&&(Z.updateMultisampleRenderTarget(w),Z.updateRenderTargetMipmap(w)),!0===e.isScene&&e.onAfterRender(v,e,t),fe.resetDefaultState(),x=-1,S=null,m.pop(),p=m.length>0?m[m.length-1]:null,h.pop(),d=h.length>0?h[h.length-1]:null}}else El.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(e,t,n){X.get(e.texture).__webglTexture=t,X.get(e.depthTexture).__webglTexture=n;var r=X.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===U.has("WEBGL_multisampled_render_to_texture")&&(El.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){var n=X.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;w=e,y=t,b=n;var r=!0;if(e){var i=X.get(e);void 0!==i.__useDefaultFramebuffer?(G.bindFramebuffer(36160,null),r=!1):void 0===i.__webglFramebuffer?Z.setupRenderTarget(e):i.__hasExternalTextures&&Z.rebindTextures(e,X.get(e.texture).__webglTexture,X.get(e.depthTexture).__webglTexture)}var o=null,a=!1,s=!1;if(e){var l=e.texture;(l.isData3DTexture||l.isDataArrayTexture)&&(s=!0);var u=X.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(o=u[t],a=!0):o=V.isWebGL2&&e.samples>0&&!1===Z.useMultisampledRTT(e)?X.get(e).__webglMultisampledFramebuffer:u,E.copy(e.viewport),_.copy(e.scissor),T=e.scissorTest}else E.copy(R).multiplyScalar(C).floor(),_.copy(I).multiplyScalar(C).floor(),T=M;if(G.bindFramebuffer(36160,o)&&V.drawBuffers&&r&&G.drawBuffers(e,o),G.viewport(E),G.scissor(_),G.setScissorTest(T),a){var c=X.get(e.texture);de.framebufferTexture2D(36160,36064,34069+t,c.__webglTexture,n)}else if(s){var f=X.get(e.texture),d=t||0;de.framebufferTextureLayer(36160,36064,f.__webglTexture,n||0,d)}x=-1},this.readRenderTargetPixels=function(e,t,n,r,i,o,a){if(e&&e.isWebGLRenderTarget){var s=X.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){G.bindFramebuffer(36160,s);try{var l=e.texture,u=l.format,c=l.type;if(u!==fc&&ce.convert(u)!==de.getParameter(35739))return void El.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var f=c===oc&&(U.has("EXT_color_buffer_half_float")||V.isWebGL2&&U.has("EXT_color_buffer_float"));if(!(c===Ju||ce.convert(c)===de.getParameter(35738)||c===ic&&(V.isWebGL2||U.has("OES_texture_float")||U.has("WEBGL_color_buffer_float"))||f))return void El.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&de.readPixels(t,n,r,i,ce.convert(u),ce.convert(c),o)}finally{var d=null!==w?X.get(w).__webglFramebuffer:null;G.bindFramebuffer(36160,d)}}}else El.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!0===t.isFramebufferTexture){var r=Math.pow(2,-n),i=Math.floor(t.image.width*r),o=Math.floor(t.image.height*r);Z.setTexture2D(t,0),de.copyTexSubImage2D(3553,n,0,0,e.x,e.y,i,o),G.unbindTexture()}else El.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.")},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,o=t.image.height,a=ce.convert(n.format),s=ce.convert(n.type);Z.setTexture2D(n,0),de.pixelStorei(37440,n.flipY),de.pixelStorei(37441,n.premultiplyAlpha),de.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?de.texSubImage2D(3553,r,e.x,e.y,i,o,a,s,t.image.data):t.isCompressedTexture?de.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,a,t.mipmaps[0].data):de.texSubImage2D(3553,r,e.x,e.y,a,s,t.image),0===r&&n.generateMipmaps&&de.generateMipmap(3553),G.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(v.isWebGL1Renderer)El.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var o,a=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,l=e.max.z-e.min.z+1,u=ce.convert(r.format),c=ce.convert(r.type);if(r.isData3DTexture)Z.setTexture3D(r,0),o=32879;else{if(!r.isDataArrayTexture)return void El.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Z.setTexture2DArray(r,0),o=35866}de.pixelStorei(37440,r.flipY),de.pixelStorei(37441,r.premultiplyAlpha),de.pixelStorei(3317,r.unpackAlignment);var f=de.getParameter(3314),d=de.getParameter(32878),p=de.getParameter(3316),h=de.getParameter(3315),m=de.getParameter(32877),g=n.isCompressedTexture?n.mipmaps[0]:n.image;de.pixelStorei(3314,g.width),de.pixelStorei(32878,g.height),de.pixelStorei(3316,e.min.x),de.pixelStorei(3315,e.min.y),de.pixelStorei(32877,e.min.z),n.isDataTexture||n.isData3DTexture?de.texSubImage3D(o,i,t.x,t.y,t.z,a,s,l,u,c,g.data):n.isCompressedTexture?(El.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),de.compressedTexSubImage3D(o,i,t.x,t.y,t.z,a,s,l,u,g.data)):de.texSubImage3D(o,i,t.x,t.y,t.z,a,s,l,u,c,g),de.pixelStorei(3314,f),de.pixelStorei(32878,d),de.pixelStorei(3316,p),de.pixelStorei(3315,h),de.pixelStorei(32877,m),0===i&&r.generateMipmaps&&de.generateMipmap(o),G.unbindTexture()}},this.initTexture=function(e){Z.setTexture2D(e,0),G.unbindTexture()},this.resetState=function(){y=0,b=0,w=null,G.reset(),fe.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Wv.prototype.isWebGLRenderer=!0,function(e){function t(){return Bl(this,t),Pl(this,t,arguments)}return Dl(t,e),Wl(t)}(Wv).prototype.isWebGL1Renderer=!0,function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;Bl(this,e),this.name="",this.color=new Nf(t),this.density=n}return Wl(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}().prototype.isFogExp2=!0,function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;Bl(this,e),this.name="",this.color=new Nf(t),this.near=n,this.far=r}return Wl(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}().prototype.isFog=!0;var Hv=function(e){function t(){var e;return Bl(this,t),(e=Pl(this,t)).type="Scene",e.background=null,e.environment=null,e.fog=null,e.overrideMaterial=null,e.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:Ml(e)})),e}return Dl(t,e),Wl(t,[{key:"copy",value:function(e,n){return Cl(Il(t.prototype),"copy",this).call(this,e,n),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var n=Cl(Il(t.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(n.object.fog=this.fog.toJSON()),n}}]),t}(Yd);Hv.prototype.isScene=!0;var Uv=function(){function e(t,n){Bl(this,e),this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=lf,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=gf()}return Wl(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=gf()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=gf()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}();Uv.prototype.isInterleavedBuffer=!0;var Vv=new Zf,Gv=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Bl(this,e),this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=!0===i}return Wl(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)Vv.fromBufferAttribute(this,t),Vv.applyMatrix4(e),this.setXYZ(t,Vv.x,Vv.y,Vv.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Vv.fromBufferAttribute(this,t),Vv.applyNormalMatrix(e),this.setXYZ(t,Vv.x,Vv.y,Vv.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Vv.fromBufferAttribute(this,t),Vv.transformDirection(e),this.setXYZ(t,Vv.x,Vv.y,Vv.z);return this}},{key:"setX",value:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){return this.data.array[e*this.data.stride+this.offset]}},{key:"getY",value:function(e){return this.data.array[e*this.data.stride+this.offset+1]}},{key:"getZ",value:function(e){return this.data.array[e*this.data.stride+this.offset+2]}},{key:"getW",value:function(e){return this.data.array[e*this.data.stride+this.offset+3]}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0===t){El.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,o=0;o<this.itemSize;o++)n.push(this.data.array[i+o]);return new pp(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){El.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}();Gv.prototype.isInterleavedBufferAttribute=!0;var qv,Xv=function(e){function t(e){var n;return Bl(this,t),(n=Pl(this,t)).type="SpriteMaterial",n.color=new Nf(16777215),n.map=null,n.alphaMap=null,n.rotation=0,n.sizeAttenuation=!0,n.transparent=!0,n.setValues(e),n}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}]),t}(up);Xv.prototype.isSpriteMaterial=!0;var Zv=new Zf,$v=new Zf,Yv=new Zf,Kv=new Sf,Jv=new Sf,Qv=new Td,eg=new Zf,tg=new Zf,ng=new Zf,rg=new Sf,ig=new Sf,og=new Sf;function ag(e,t,n,r,i,o){Kv.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(Jv.x=o*Kv.x-i*Kv.y,Jv.y=i*Kv.x+o*Kv.y):Jv.copy(Kv),e.copy(t),e.x+=Jv.x,e.y+=Jv.y,e.applyMatrix4(Qv)}(function(e){function t(e){var n;if(Bl(this,t),(n=Pl(this,t)).type="Sprite",void 0===qv){qv=new _p;var r=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Uv(r,5);qv.setIndex([0,1,2,0,2,3]),qv.setAttribute("position",new Gv(i,3,0,!1)),qv.setAttribute("uv",new Gv(i,2,3,!1))}return n.geometry=qv,n.material=void 0!==e?e:new Xv,n.center=new Sf(.5,.5),n}return Dl(t,e),Wl(t,[{key:"raycast",value:function(e,t){null===e.camera&&El.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),$v.setFromMatrixScale(this.matrixWorld),Qv.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Yv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&$v.multiplyScalar(-Yv.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var o=this.center;ag(eg.set(-.5,-.5,0),Yv,o,$v,n,r),ag(tg.set(.5,-.5,0),Yv,o,$v,n,r),ag(ng.set(.5,.5,0),Yv,o,$v,n,r),rg.set(0,0),ig.set(1,0),og.set(1,1);var a=e.ray.intersectTriangle(eg,tg,ng,!1,Zv);if(null!==a||(ag(tg.set(-.5,.5,0),Yv,o,$v,n,r),ig.set(0,1),null!==(a=e.ray.intersectTriangle(eg,ng,tg,!1,Zv)))){var s=e.ray.origin.distanceTo(Zv);s<e.near||s>e.far||t.push({distance:s,point:Zv.clone(),uv:sp.getUV(Zv,eg,tg,ng,rg,ig,og,new Sf),face:null,object:this})}}},{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),t})(Yd).prototype.isSprite=!0;var sg=new Zf,lg=new Uf,ug=new Uf,cg=new Zf,fg=new Td,dg=function(e){function t(e,n){var r;return Bl(this,t),(r=Pl(this,t,[e,n])).type="SkinnedMesh",r.bindMode="attached",r.bindMatrix=new Td,r.bindMatrixInverse=new Td,r}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new Uf,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){Cl(Il(t.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():El.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"boneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;lg.fromBufferAttribute(r.attributes.skinIndex,e),ug.fromBufferAttribute(r.attributes.skinWeight,e),sg.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var o=ug.getComponent(i);if(0!==o){var a=lg.getComponent(i);fg.multiplyMatrices(n.bones[a].matrixWorld,n.boneInverses[a]),t.addScaledVector(cg.copy(sg).applyMatrix4(fg),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}]),t}(Hp);dg.prototype.isSkinnedMesh=!0,function(e){function t(){var e;return Bl(this,t),(e=Pl(this,t)).type="Bone",e}return Dl(t,e),Wl(t)}(Yd).prototype.isBone=!0,function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:qu,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:qu,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;return Bl(this,t),(e=Pl(this,t,[null,s,l,u,c,f,o,a,d,p])).image={data:n,width:r,height:i},e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return Dl(t,e),Wl(t)}(Hf).prototype.isDataTexture=!0;var pg=function(e){function t(e,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Bl(this,t),"number"==typeof r&&(o=r,r=!1,El.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),(i=Pl(this,t,[e,n,r])).meshPerAttribute=o,i}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=Cl(Il(t.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),t}(pp);pg.prototype.isInstancedBufferAttribute=!0;var hg=new Td,mg=new Td,vg=[],gg=new Hp;(function(e){function t(e,n,r){var i;return Bl(this,t),(i=Pl(this,t,[e,n])).instanceMatrix=new pg(new Float32Array(16*r),16),i.instanceColor=null,i.count=r,i.frustumCulled=!1,i}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(gg.geometry=this.geometry,gg.material=this.material,void 0!==gg.material)for(var i=0;i<r;i++){this.getMatrixAt(i,hg),mg.multiplyMatrices(n,hg),gg.matrixWorld=mg,gg.raycast(e,vg);for(var o=0,a=vg.length;o<a;o++){var s=vg[o];s.instanceId=i,s.object=this,t.push(s)}vg.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new pg(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),t})(Hp).prototype.isInstancedMesh=!0;var yg=function(e){function t(e){var n;return Bl(this,t),(n=Pl(this,t)).type="LineBasicMaterial",n.color=new Nf(16777215),n.linewidth=1,n.linecap="round",n.linejoin="round",n.setValues(e),n}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}]),t}(up);yg.prototype.isLineBasicMaterial=!0;var bg=new Zf,wg=new Zf,xg=new Td,Sg=new _d,Eg=new vd,_g=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _p,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new yg;return Bl(this,t),(e=Pl(this,t)).type="Line",e.geometry=n,e.material=r,e.updateMorphTargets(),e}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)bg.fromBufferAttribute(t,r-1),wg.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=bg.distanceTo(wg);e.setAttribute("lineDistance",new vp(n,1))}else El.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&El.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Eg.copy(n.boundingSphere),Eg.applyMatrix4(r),Eg.radius+=i,!1!==e.ray.intersectsSphere(Eg)){xg.copy(r).invert(),Sg.copy(e.ray).applyMatrix4(xg);var a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,l=new Zf,u=new Zf,c=new Zf,f=new Zf,d=this.isLineSegments?2:1;if(n.isBufferGeometry){var p=n.index,h=n.attributes.position;if(null!==p)for(var m=Math.max(0,o.start),v=Math.min(p.count,o.start+o.count)-1;m<v;m+=d){var g=p.getX(m),y=p.getX(m+1);if(l.fromBufferAttribute(h,g),u.fromBufferAttribute(h,y),!(Sg.distanceSqToSegment(l,u,f,c)>s)){f.applyMatrix4(this.matrixWorld);var b=e.ray.origin.distanceTo(f);b<e.near||b>e.far||t.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}else for(var w=Math.max(0,o.start),x=Math.min(h.count,o.start+o.count)-1;w<x;w+=d)if(l.fromBufferAttribute(h,w),u.fromBufferAttribute(h,w+1),!(Sg.distanceSqToSegment(l,u,f,c)>s)){f.applyMatrix4(this.matrixWorld);var S=e.ray.origin.distanceTo(f);S<e.near||S>e.far||t.push({distance:S,point:c.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else n.isGeometry&&El.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,o=r.length;i<o;i++){var a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&El.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),t}(Yd);_g.prototype.isLine=!0;var Tg=new Zf,Og=new Zf,Ag=function(e){function t(e,n){var r;return Bl(this,t),(r=Pl(this,t,[e,n])).type="LineSegments",r}return Dl(t,e),Wl(t,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)Tg.fromBufferAttribute(t,r),Og.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+Tg.distanceTo(Og);e.setAttribute("lineDistance",new vp(n,1))}else El.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&El.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}]),t}(_g);Ag.prototype.isLineSegments=!0,function(e){function t(e,n){var r;return Bl(this,t),(r=Pl(this,t,[e,n])).type="LineLoop",r}return Dl(t,e),Wl(t)}(_g).prototype.isLineLoop=!0;var Cg=function(e){function t(e){var n;return Bl(this,t),(n=Pl(this,t)).type="PointsMaterial",n.color=new Nf(16777215),n.map=null,n.alphaMap=null,n.size=1,n.sizeAttenuation=!0,n.setValues(e),n}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}]),t}(up);Cg.prototype.isPointsMaterial=!0;var Pg=new Td,kg=new _d,Rg=new vd,Ig=new Zf;function Mg(e,t,n,r,i,o,a){var s=kg.distanceSqToPoint(e);if(s<n){var l=new Zf;kg.closestPointToPoint(e,l),l.applyMatrix4(r);var u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;o.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,object:a})}}(function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _p,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Cg;return Bl(this,t),(e=Pl(this,t)).type="Points",e.geometry=n,e.material=r,e.updateMorphTargets(),e}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Rg.copy(n.boundingSphere),Rg.applyMatrix4(r),Rg.radius+=i,!1!==e.ray.intersectsSphere(Rg)){Pg.copy(r).invert(),kg.copy(e.ray).applyMatrix4(Pg);var a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a;if(n.isBufferGeometry){var l=n.index,u=n.attributes.position;if(null!==l)for(var c=Math.max(0,o.start),f=Math.min(l.count,o.start+o.count);c<f;c++){var d=l.getX(c);Ig.fromBufferAttribute(u,d),Mg(Ig,d,s,r,e,t,this)}else for(var p=Math.max(0,o.start),h=Math.min(u.count,o.start+o.count);p<h;p++)Ig.fromBufferAttribute(u,p),Mg(Ig,p,s,r,e,t,this)}else El.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,o=r.length;i<o;i++){var a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&El.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),t})(Yd).prototype.isPoints=!0,function(e){function t(e,n,r,i,o,a,s,l,u){var c;Bl(this,t),(c=Pl(this,t,[e,n,r,i,o,a,s,l,u])).minFilter=void 0!==a?a:$u,c.magFilter=void 0!==o?o:$u,c.generateMipmaps=!1;var f=Ml(c);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){f.needsUpdate=!0,e.requestVideoFrameCallback(t)})),c}return Dl(t,e),Wl(t,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;!1=="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),t}(Hf).prototype.isVideoTexture=!0,function(e){function t(e,n,r){var i;return Bl(this,t),(i=Pl(this,t,[{width:e,height:n}])).format=r,i.magFilter=qu,i.minFilter=qu,i.generateMipmaps=!1,i.needsUpdate=!0,i}return Dl(t,e),Wl(t)}(Hf).prototype.isFramebufferTexture=!0,function(e){function t(e,n,r,i,o,a,s,l,u,c,f,d){var p;return Bl(this,t),(p=Pl(this,t,[null,a,s,l,u,c,i,o,f,d])).image={width:n,height:r},p.mipmaps=e,p.flipY=!1,p.generateMipmaps=!1,p}return Dl(t,e),Wl(t)}(Hf).prototype.isCompressedTexture=!0,function(e){function t(e,n,r,i,o,a,s,l,u){var c;return Bl(this,t),(c=Pl(this,t,[e,n,r,i,o,a,s,l,u])).needsUpdate=!0,c}return Dl(t,e),Wl(t)}(Hf).prototype.isCanvasTexture=!0;var Dg=function(){function e(){Bl(this,e),this.type="Curve",this.arcLengthDivisions=200}return Wl(e,[{key:"getPoint",value:function(){return El.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var o=1;o<=e;o++)i+=(t=this.getPoint(o/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),i=0,o=r.length;n=t||e*r[o-1];for(var a,s=0,l=o-1;s<=l;)if((a=r[i=Math.floor(s+(l-s)/2)]-n)<0)s=i+1;else{if(!(a>0)){l=i;break}l=i-1}if(r[i=l]===n)return i/(o-1);var u=r[i];return(i+(n-u)/(r[i+1]-u))/(o-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);var o=this.getPoint(r),a=this.getPoint(i),s=t||(o.isVector2?new Sf:new Zf);return s.copy(a).sub(o).normalize(),s}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new Zf,r=[],i=[],o=[],a=new Zf,s=new Td,l=0;l<=e;l++){var u=l/e;r[l]=this.getTangentAt(u,new Zf)}i[0]=new Zf,o[0]=new Zf;var c=Number.MAX_VALUE,f=Math.abs(r[0].x),d=Math.abs(r[0].y),p=Math.abs(r[0].z);f<=c&&(c=f,n.set(1,0,0)),d<=c&&(c=d,n.set(0,1,0)),p<=c&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),o[0].crossVectors(r[0],i[0]);for(var h=1;h<=e;h++){if(i[h]=i[h-1].clone(),o[h]=o[h-1].clone(),a.crossVectors(r[h-1],r[h]),a.length()>Number.EPSILON){a.normalize();var m=Math.acos(yf(r[h-1].dot(r[h]),-1,1));i[h].applyMatrix4(s.makeRotationAxis(a,m))}o[h].crossVectors(r[h],i[h])}if(!0===t){var v=Math.acos(yf(i[0].dot(i[e]),-1,1));v/=e,r[0].dot(a.crossVectors(i[0],i[e]))>0&&(v=-v);for(var g=1;g<=e;g++)i[g].applyMatrix4(s.makeRotationAxis(r[g],v*g)),o[g].crossVectors(r[g],i[g])}return{tangents:r,normals:i,binormals:o}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),jg=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return Bl(this,t),(e=Pl(this,t)).type="EllipseCurve",e.aX=n,e.aY=r,e.xRadius=i,e.yRadius=o,e.aStartAngle=a,e.aEndAngle=s,e.aClockwise=l,e.aRotation=u,e}return Dl(t,e),Wl(t,[{key:"getPoint",value:function(e,t){for(var n=t||new Sf,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);var a=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),f=s-this.aX,d=l-this.aY;s=f*u-d*c+this.aX,l=f*c+d*u+this.aY}return n.set(s,l)}},{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=Cl(Il(t.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return Cl(Il(t.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),t}(Dg);jg.prototype.isEllipseCurve=!0;var Lg=function(e){function t(e,n,r,i,o,a){var s;return Bl(this,t),(s=Pl(this,t,[e,n,r,r,i,o,a])).type="ArcCurve",s}return Dl(t,e),Wl(t)}(jg);function Ng(){var e=0,t=0,n=0,r=0;function i(i,o,a,s){e=i,t=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(e,t,n,r,o){i(t,n,o*(n-e),o*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,o,a,s){var l=(t-e)/o-(n-e)/(o+a)+(n-t)/a,u=(n-t)/a-(r-t)/(a+s)+(r-n)/s;i(t,n,l*=a,u*=a)},calc:function(i){var o=i*i;return e+t*i+n*o+r*(o*i)}}}Lg.prototype.isArcCurve=!0;var zg=new Zf,Bg=new Ng,Fg=new Ng,Wg=new Ng,Hg=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return Bl(this,t),(e=Pl(this,t)).type="CatmullRomCurve3",e.points=n,e.closed=r,e.curveType=i,e.tension=o,e}return Dl(t,e),Wl(t,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zf,i=this.points,o=i.length,a=(o-(this.closed?0:1))*e,s=Math.floor(a),l=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:0===l&&s===o-1&&(s=o-2,l=1),this.closed||s>0?t=i[(s-1)%o]:(zg.subVectors(i[0],i[1]).add(i[0]),t=zg);var u=i[s%o],c=i[(s+1)%o];if(this.closed||s+2<o?n=i[(s+2)%o]:(zg.subVectors(i[o-1],i[o-2]).add(i[o-1]),n=zg),"centripetal"===this.curveType||"chordal"===this.curveType){var f="chordal"===this.curveType?.5:.25,d=Math.pow(t.distanceToSquared(u),f),p=Math.pow(u.distanceToSquared(c),f),h=Math.pow(c.distanceToSquared(n),f);p<1e-4&&(p=1),d<1e-4&&(d=p),h<1e-4&&(h=p),Bg.initNonuniformCatmullRom(t.x,u.x,c.x,n.x,d,p,h),Fg.initNonuniformCatmullRom(t.y,u.y,c.y,n.y,d,p,h),Wg.initNonuniformCatmullRom(t.z,u.z,c.z,n.z,d,p,h)}else"catmullrom"===this.curveType&&(Bg.initCatmullRom(t.x,u.x,c.x,n.x,this.tension),Fg.initCatmullRom(t.y,u.y,c.y,n.y,this.tension),Wg.initCatmullRom(t.z,u.z,c.z,n.z,this.tension));return r.set(Bg.calc(l),Fg.calc(l),Wg.calc(l)),r}},{key:"copy",value:function(e){Cl(Il(t.prototype),"copy",this).call(this,e),this.points=[];for(var n=0,r=e.points.length;n<r;n++){var i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=Cl(Il(t.prototype),"toJSON",this).call(this);e.points=[];for(var n=0,r=this.points.length;n<r;n++){var i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){Cl(Il(t.prototype),"fromJSON",this).call(this,e),this.points=[];for(var n=0,r=e.points.length;n<r;n++){var i=e.points[n];this.points.push((new Zf).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),t}(Dg);function Ug(e,t,n,r,i){var o=.5*(r-t),a=.5*(i-n),s=e*e;return(2*n-2*r+o+a)*(e*s)+(-3*n+3*r-2*o-a)*s+o*e+n}function Vg(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function Gg(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}Hg.prototype.isCatmullRomCurve3=!0;var qg=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Sf,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Sf,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Sf,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Sf;return Bl(this,t),(e=Pl(this,t)).type="CubicBezierCurve",e.v0=n,e.v1=r,e.v2=i,e.v3=o,e}return Dl(t,e),Wl(t,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Sf,n=this.v0,r=this.v1,i=this.v2,o=this.v3;return t.set(Gg(e,n.x,r.x,i.x,o.x),Gg(e,n.y,r.y,i.y,o.y)),t}},{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=Cl(Il(t.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return Cl(Il(t.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),t}(Dg);qg.prototype.isCubicBezierCurve=!0;var Xg=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zf,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zf,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Zf,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Zf;return Bl(this,t),(e=Pl(this,t)).type="CubicBezierCurve3",e.v0=n,e.v1=r,e.v2=i,e.v3=o,e}return Dl(t,e),Wl(t,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zf,n=this.v0,r=this.v1,i=this.v2,o=this.v3;return t.set(Gg(e,n.x,r.x,i.x,o.x),Gg(e,n.y,r.y,i.y,o.y),Gg(e,n.z,r.z,i.z,o.z)),t}},{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=Cl(Il(t.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return Cl(Il(t.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),t}(Dg);Xg.prototype.isCubicBezierCurve3=!0;var Zg=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Sf,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Sf;return Bl(this,t),(e=Pl(this,t)).type="LineCurve",e.v1=n,e.v2=r,e}return Dl(t,e),Wl(t,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Sf;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e,t){var n=t||new Sf;return n.copy(this.v2).sub(this.v1).normalize(),n}},{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Cl(Il(t.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Cl(Il(t.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),t}(Dg);Zg.prototype.isLineCurve=!0;var $g=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zf,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zf;return Bl(this,t),(e=Pl(this,t)).type="LineCurve3",e.isLineCurve3=!0,e.v1=n,e.v2=r,e}return Dl(t,e),Wl(t,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zf;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Cl(Il(t.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Cl(Il(t.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),t}(Dg),Yg=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Sf,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Sf,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Sf;return Bl(this,t),(e=Pl(this,t)).type="QuadraticBezierCurve",e.v0=n,e.v1=r,e.v2=i,e}return Dl(t,e),Wl(t,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Sf,n=this.v0,r=this.v1,i=this.v2;return t.set(Vg(e,n.x,r.x,i.x),Vg(e,n.y,r.y,i.y)),t}},{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Cl(Il(t.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Cl(Il(t.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),t}(Dg);Yg.prototype.isQuadraticBezierCurve=!0;var Kg=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zf,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zf,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Zf;return Bl(this,t),(e=Pl(this,t)).type="QuadraticBezierCurve3",e.v0=n,e.v1=r,e.v2=i,e}return Dl(t,e),Wl(t,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zf,n=this.v0,r=this.v1,i=this.v2;return t.set(Vg(e,n.x,r.x,i.x),Vg(e,n.y,r.y,i.y),Vg(e,n.z,r.z,i.z)),t}},{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Cl(Il(t.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Cl(Il(t.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),t}(Dg);Kg.prototype.isQuadraticBezierCurve3=!0;var Jg=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Bl(this,t),(e=Pl(this,t)).type="SplineCurve",e.points=n,e}return Dl(t,e),Wl(t,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Sf,n=this.points,r=(n.length-1)*e,i=Math.floor(r),o=r-i,a=n[0===i?i:i-1],s=n[i],l=n[i>n.length-2?n.length-1:i+1],u=n[i>n.length-3?n.length-1:i+2];return t.set(Ug(o,a.x,s.x,l.x,u.x),Ug(o,a.y,s.y,l.y,u.y)),t}},{key:"copy",value:function(e){Cl(Il(t.prototype),"copy",this).call(this,e),this.points=[];for(var n=0,r=e.points.length;n<r;n++){var i=e.points[n];this.points.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=Cl(Il(t.prototype),"toJSON",this).call(this);e.points=[];for(var n=0,r=this.points.length;n<r;n++){var i=this.points[n];e.points.push(i.toArray())}return e}},{key:"fromJSON",value:function(e){Cl(Il(t.prototype),"fromJSON",this).call(this,e),this.points=[];for(var n=0,r=e.points.length;n<r;n++){var i=e.points[n];this.points.push((new Sf).fromArray(i))}return this}}]),t}(Dg);Jg.prototype.isSplineCurve=!0;var Qg=Object.freeze({__proto__:null,ArcCurve:Lg,CatmullRomCurve3:Hg,CubicBezierCurve:qg,CubicBezierCurve3:Xg,EllipseCurve:jg,LineCurve:Zg,LineCurve3:$g,QuadraticBezierCurve:Yg,QuadraticBezierCurve3:Kg,SplineCurve:Jg}),ey=function(e){function t(e){var n;return Bl(this,t),(n=Pl(this,t)).type="Path",n.currentPoint=new Sf,e&&n.setFromPoints(e),n}return Dl(t,e),Wl(t,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new Zg(this.currentPoint.clone(),new Sf(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var i=new Yg(this.currentPoint.clone(),new Sf(e,t),new Sf(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,o){var a=new qg(this.currentPoint.clone(),new Sf(e,t),new Sf(n,r),new Sf(i,o));return this.curves.push(a),this.currentPoint.set(i,o),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new Jg(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+a,t+s,n,r,i,o),this}},{key:"absarc",value:function(e,t,n,r,i,o){return this.absellipse(e,t,n,n,r,i,o),this}},{key:"ellipse",value:function(e,t,n,r,i,o,a,s){var l=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+l,t+u,n,r,i,o,a,s),this}},{key:"absellipse",value:function(e,t,n,r,i,o,a,s){var l=new jg(e,t,n,r,i,o,a,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=Cl(Il(t.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return Cl(Il(t.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),t}(function(e){function t(){var e;return Bl(this,t),(e=Pl(this,t)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return Dl(t,e),Wl(t,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Zg(t,e))}},{key:"getPoint",value:function(e,t){for(var n=e*this.getLength(),r=this.getCurveLengths(),i=0;i<r.length;){if(r[i]>=n){var o=r[i]-n,a=this.curves[i],s=a.getLength(),l=0===s?0:1-o/s;return a.getPointAt(l,t)}i++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o.isEllipseCurve?2*t:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a),l=0;l<s.length;l++){var u=s[l];e&&e.equals(u)||(n.push(u),e=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){Cl(Il(t.prototype),"copy",this).call(this,e),this.curves=[];for(var n=0,r=e.curves.length;n<r;n++){var i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=Cl(Il(t.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var n=0,r=this.curves.length;n<r;n++){var i=this.curves[n];e.curves.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){Cl(Il(t.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var n=0,r=e.curves.length;n<r;n++){var i=e.curves[n];this.curves.push((new Qg[i.type]).fromJSON(i))}return this}}]),t}(Dg)),ty=(new Zf,new Zf,new Zf,new sp,function(e){function t(e){var n;return Bl(this,t),(n=Pl(this,t,[e])).uuid=gf(),n.type="Shape",n.holes=[],n}return Dl(t,e),Wl(t,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){Cl(Il(t.prototype),"copy",this).call(this,e),this.holes=[];for(var n=0,r=e.holes.length;n<r;n++){var i=e.holes[n];this.holes.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=Cl(Il(t.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var n=0,r=this.holes.length;n<r;n++){var i=this.holes[n];e.holes.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){Cl(Il(t.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var n=0,r=e.holes.length;n<r;n++){var i=e.holes[n];this.holes.push((new ey).fromJSON(i))}return this}}]),t}(ey));function ny(e,t,n,r,i){var o,a;if(i===function(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,n,r)>0)for(o=t;o<n;o+=r)a=Ey(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=Ey(o,e[o],e[o+1],a);return a&&gy(a,a.next)&&(_y(a),a=a.next),a}function ry(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!gy(r,r.next)&&0!==vy(r.prev,r,r.next))r=r.next;else{if(_y(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function iy(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=dy(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,l,u=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1)}(i)}(e,r,i,o);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,o?ay(e,r,i,o):oy(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),_y(e),e=l.next,u=l.next;else if((e=l)===u){a?1===a?iy(e=sy(ry(e),t,n),t,n,r,i,o,2):2===a&&ly(e,t,n,r,i,o):iy(ry(e),t,n,r,i,o,1);break}}}function oy(e){var t=e.prev,n=e,r=e.next;if(vy(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(hy(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&vy(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function ay(e,t,n,r){var i=e.prev,o=e,a=e.next;if(vy(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,u=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=dy(s,l,t,n,r),d=dy(u,c,t,n,r),p=e.prevZ,h=e.nextZ;p&&p.z>=f&&h&&h.z<=d;){if(p!==e.prev&&p!==e.next&&hy(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&vy(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,h!==e.prev&&h!==e.next&&hy(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&vy(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;p&&p.z>=f;){if(p!==e.prev&&p!==e.next&&hy(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&vy(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;h&&h.z<=d;){if(h!==e.prev&&h!==e.next&&hy(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&vy(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function sy(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!gy(i,o)&&yy(i,r,r.next,o)&&xy(i,o)&&xy(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),_y(r),_y(r.next),r=e=o),r=r.next}while(r!==e);return ry(r)}function ly(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&my(a,s)){var l=Sy(a,s);return a=ry(a,a.next),l=ry(l,l.next),iy(a,t,n,r,i,o),void iy(l,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function uy(e,t){return e.x-t.x}function cy(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;var l,u=n,c=n.x,f=n.y,d=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&hy(o<f?i:a,o,c,f,o<f?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),xy(r,e)&&(l<d||l===d&&(r.x>n.x||r.x===n.x&&fy(n,r)))&&(n=r,d=l)),r=r.next}while(r!==u);return n}(e,t),t){var n=Sy(t,e);ry(t,t.next),ry(n,n.next)}}function fy(e,t){return vy(e.prev,e,t.prev)<0&&vy(t.next,e,e.next)<0}function dy(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function py(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function hy(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function my(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&yy(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(xy(e,t)&&xy(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(vy(e.prev,e,t.prev)||vy(e,t.prev,t))||gy(e,t)&&vy(e.prev,e,e.next)>0&&vy(t.prev,t,t.next)>0)}function vy(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function gy(e,t){return e.x===t.x&&e.y===t.y}function yy(e,t,n,r){var i=wy(vy(e,t,n)),o=wy(vy(e,t,r)),a=wy(vy(n,r,e)),s=wy(vy(n,r,t));return i!==o&&a!==s||!(0!==i||!by(e,n,t))||!(0!==o||!by(e,r,t))||!(0!==a||!by(n,e,r))||!(0!==s||!by(n,t,r))}function by(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function wy(e){return e>0?1:e<0?-1:0}function xy(e,t){return vy(e.prev,e,e.next)<0?vy(e,t,e.next)>=0&&vy(e,e.prev,t)>=0:vy(e,t,e.prev)<0||vy(e,e.next,t)<0}function Sy(e,t){var n=new Ty(e.i,e.x,e.y),r=new Ty(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Ey(e,t,n,r){var i=new Ty(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function _y(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Ty(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Oy=function(){function e(){Bl(this,e)}return Wl(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],i=[];Ay(e),Cy(n,e);var o=e.length;t.forEach(Ay);for(var a=0;a<t.length;a++)r.push(o),o+=t[a].length,Cy(n,t[a]);for(var s=function(e,t){var n,r,i,o,a,s,l,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=t&&t.length,f=c?t[0]*u:e.length,d=ny(e,0,f,u,!0),p=[];if(!d||d.next===d.prev)return p;if(c&&(d=function(e,t,n,r){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=ny(e,t[i]*r,i<o-1?t[i+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),s.push(py(a));for(s.sort(uy),i=0;i<s.length;i++)cy(s[i],n),n=ry(n,n.next);return n}(e,t,d,u)),e.length>80*u){n=i=e[0],r=o=e[1];for(var h=u;h<f;h+=u)(a=e[h])<n&&(n=a),(s=e[h+1])<r&&(r=s),a>i&&(i=a),s>o&&(o=s);l=0!==(l=Math.max(i-n,o-r))?1/l:0}return iy(d,p,u,n,r,l),p}(n,r),l=0;l<s.length;l+=3)i.push(s.slice(l,l+3));return i}}]),e}();function Ay(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Cy(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var Py=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ty([new Sf(.5,.5),new Sf(-.5,.5),new Sf(-.5,-.5),new Sf(.5,-.5)]),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Bl(this,t),(e=Pl(this,t)).type="ExtrudeGeometry",e.parameters={shapes:n,options:r},n=Array.isArray(n)?n:[n];for(var i=Ml(e),o=[],a=[],s=0,l=n.length;s<l;s++)u(n[s]);function u(e){var t=[],n=void 0!==r.curveSegments?r.curveSegments:12,s=void 0!==r.steps?r.steps:1,l=void 0!==r.depth?r.depth:1,u=void 0===r.bevelEnabled||r.bevelEnabled,c=void 0!==r.bevelThickness?r.bevelThickness:.2,f=void 0!==r.bevelSize?r.bevelSize:c-.1,d=void 0!==r.bevelOffset?r.bevelOffset:0,p=void 0!==r.bevelSegments?r.bevelSegments:3,h=r.extrudePath,m=void 0!==r.UVGenerator?r.UVGenerator:ky;void 0!==r.amount&&(El.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=r.amount);var v,g,y,b,w,x=!1;h&&(v=h.getSpacedPoints(s),x=!0,u=!1,g=h.computeFrenetFrames(s,!1),y=new Zf,b=new Zf,w=new Zf),u||(p=0,c=0,f=0,d=0);var S=e.extractPoints(n),E=S.shape,_=S.holes;if(!Oy.isClockWise(E)){E=E.reverse();for(var T=0,O=_.length;T<O;T++){var A=_[T];Oy.isClockWise(A)&&(_[T]=A.reverse())}}for(var C=Oy.triangulateShape(E,_),P=E,k=0,R=_.length;k<R;k++){var I=_[k];E=E.concat(I)}function M(e,t,n){return t||El.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var D=E.length,j=C.length;function L(e,t,n){var r,i,o,a=e.x-t.x,s=e.y-t.y,l=n.x-e.x,u=n.y-e.y,c=a*a+s*s,f=a*u-s*l;if(Math.abs(f)>Number.EPSILON){var d=Math.sqrt(c),p=Math.sqrt(l*l+u*u),h=t.x-s/d,m=t.y+a/d,v=((n.x-u/p-h)*u-(n.y+l/p-m)*l)/(a*u-s*l),g=(r=h+a*v-e.x)*r+(i=m+s*v-e.y)*i;if(g<=2)return new Sf(r,i);o=Math.sqrt(g/2)}else{var y=!1;a>Number.EPSILON?l>Number.EPSILON&&(y=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(u)&&(y=!0),y?(r=-s,i=a,o=Math.sqrt(c)):(r=a,i=s,o=Math.sqrt(c/2))}return new Sf(r/o,i/o)}for(var N=[],z=0,B=P.length,F=B-1,W=z+1;z<B;z++,F++,W++)F===B&&(F=0),W===B&&(W=0),N[z]=L(P[z],P[F],P[W]);for(var H,U=[],V=N.concat(),G=0,q=_.length;G<q;G++){var X=_[G];H=[];for(var Z=0,$=X.length,Y=$-1,K=Z+1;Z<$;Z++,Y++,K++)Y===$&&(Y=0),K===$&&(K=0),H[Z]=L(X[Z],X[Y],X[K]);U.push(H),V=V.concat(H)}for(var J=0;J<p;J++){for(var Q=J/p,ee=c*Math.cos(Q*Math.PI/2),te=f*Math.sin(Q*Math.PI/2)+d,ne=0,re=P.length;ne<re;ne++){var ie=M(P[ne],N[ne],te);Re(ie.x,ie.y,-ee)}for(var oe=0,ae=_.length;oe<ae;oe++){var se=_[oe];H=U[oe];for(var le=0,ue=se.length;le<ue;le++){var ce=M(se[le],H[le],te);Re(ce.x,ce.y,-ee)}}}for(var fe=f+d,de=0;de<D;de++){var pe=u?M(E[de],V[de],fe):E[de];x?(b.copy(g.normals[0]).multiplyScalar(pe.x),y.copy(g.binormals[0]).multiplyScalar(pe.y),w.copy(v[0]).add(b).add(y),Re(w.x,w.y,w.z)):Re(pe.x,pe.y,0)}for(var he=1;he<=s;he++)for(var me=0;me<D;me++){var ve=u?M(E[me],V[me],fe):E[me];x?(b.copy(g.normals[he]).multiplyScalar(ve.x),y.copy(g.binormals[he]).multiplyScalar(ve.y),w.copy(v[he]).add(b).add(y),Re(w.x,w.y,w.z)):Re(ve.x,ve.y,l/s*he)}for(var ge=p-1;ge>=0;ge--){for(var ye=ge/p,be=c*Math.cos(ye*Math.PI/2),we=f*Math.sin(ye*Math.PI/2)+d,xe=0,Se=P.length;xe<Se;xe++){var Ee=M(P[xe],N[xe],we);Re(Ee.x,Ee.y,l+be)}for(var _e=0,Te=_.length;_e<Te;_e++){var Oe=_[_e];H=U[_e];for(var Ae=0,Ce=Oe.length;Ae<Ce;Ae++){var Pe=M(Oe[Ae],H[Ae],we);x?Re(Pe.x,Pe.y+v[s-1].y,v[s-1].x+be):Re(Pe.x,Pe.y,l+be)}}}function ke(e,t){for(var n=e.length;--n>=0;){var r=n,i=n-1;i<0&&(i=e.length-1);for(var o=0,a=s+2*p;o<a;o++){var l=D*o,u=D*(o+1);Me(t+r+l,t+i+l,t+i+u,t+r+u)}}}function Re(e,n,r){t.push(e),t.push(n),t.push(r)}function Ie(e,t,n){De(e),De(t),De(n);var r=o.length/3,a=m.generateTopUV(i,o,r-3,r-2,r-1);je(a[0]),je(a[1]),je(a[2])}function Me(e,t,n,r){De(e),De(t),De(r),De(t),De(n),De(r);var a=o.length/3,s=m.generateSideWallUV(i,o,a-6,a-3,a-2,a-1);je(s[0]),je(s[1]),je(s[3]),je(s[1]),je(s[2]),je(s[3])}function De(e){o.push(t[3*e+0]),o.push(t[3*e+1]),o.push(t[3*e+2])}function je(e){a.push(e.x),a.push(e.y)}!function(){var e=o.length/3;if(u){for(var t=0,n=D*t,r=0;r<j;r++){var a=C[r];Ie(a[2]+n,a[1]+n,a[0]+n)}n=D*(t=s+2*p);for(var l=0;l<j;l++){var c=C[l];Ie(c[0]+n,c[1]+n,c[2]+n)}}else{for(var f=0;f<j;f++){var d=C[f];Ie(d[2],d[1],d[0])}for(var h=0;h<j;h++){var m=C[h];Ie(m[0]+D*s,m[1]+D*s,m[2]+D*s)}}i.addGroup(e,o.length/3-e,0)}(),function(){var e=o.length/3,t=0;ke(P,t),t+=P.length;for(var n=0,r=_.length;n<r;n++){var a=_[n];ke(a,t),t+=a.length}i.addGroup(e,o.length/3-e,1)}()}return e.setAttribute("position",new vp(o,3)),e.setAttribute("uv",new vp(a,2)),e.computeVertexNormals(),e}return Dl(t,e),Wl(t,[{key:"toJSON",value:function(){var e=Cl(Il(t.prototype),"toJSON",this).call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];n.shapes.push(o.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,e)}}],[{key:"fromJSON",value:function(e,n){for(var r=[],i=0,o=e.shapes.length;i<o;i++){var a=n[e.shapes[i]];r.push(a)}var s=e.options.extrudePath;return void 0!==s&&(e.options.extrudePath=(new Qg[s.type]).fromJSON(s)),new t(r,e.options)}}]),t}(_p),ky={generateTopUV:function(e,t,n,r,i){var o=t[3*n],a=t[3*n+1],s=t[3*r],l=t[3*r+1],u=t[3*i],c=t[3*i+1];return[new Sf(o,a),new Sf(s,l),new Sf(u,c)]},generateSideWallUV:function(e,t,n,r,i,o){var a=t[3*n],s=t[3*n+1],l=t[3*n+2],u=t[3*r],c=t[3*r+1],f=t[3*r+2],d=t[3*i],p=t[3*i+1],h=t[3*i+2],m=t[3*o],v=t[3*o+1],g=t[3*o+2];return Math.abs(s-c)<Math.abs(a-u)?[new Sf(a,1-l),new Sf(u,1-f),new Sf(d,1-h),new Sf(m,1-g)]:[new Sf(s,1-l),new Sf(c,1-f),new Sf(p,1-h),new Sf(v,1-g)]}},Ry=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ty([new Sf(0,.5),new Sf(-.5,-.5),new Sf(.5,-.5)]),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;Bl(this,t),(e=Pl(this,t)).type="ShapeGeometry",e.parameters={shapes:n,curveSegments:r};var i=[],o=[],a=[],s=[],l=0,u=0;if(!1===Array.isArray(n))f(n);else for(var c=0;c<n.length;c++)f(n[c]),e.addGroup(l,u,c),l+=u,u=0;function f(e){var t=o.length/3,n=e.extractPoints(r),l=n.shape,c=n.holes;!1===Oy.isClockWise(l)&&(l=l.reverse());for(var f=0,d=c.length;f<d;f++){var p=c[f];!0===Oy.isClockWise(p)&&(c[f]=p.reverse())}for(var h=Oy.triangulateShape(l,c),m=0,v=c.length;m<v;m++){var g=c[m];l=l.concat(g)}for(var y=0,b=l.length;y<b;y++){var w=l[y];o.push(w.x,w.y,0),a.push(0,0,1),s.push(w.x,w.y)}for(var x=0,S=h.length;x<S;x++){var E=h[x],_=E[0]+t,T=E[1]+t,O=E[2]+t;i.push(_,T,O),u+=3}}return e.setIndex(i),e.setAttribute("position",new vp(o,3)),e.setAttribute("normal",new vp(a,3)),e.setAttribute("uv",new vp(s,2)),e}return Dl(t,e),Wl(t,[{key:"toJSON",value:function(){var e=Cl(Il(t.prototype),"toJSON",this).call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}],[{key:"fromJSON",value:function(e,n){for(var r=[],i=0,o=e.shapes.length;i<o;i++){var a=n[e.shapes[i]];r.push(a)}return new t(r,e.curveSegments)}}]),t}(_p),Iy=function(e){function t(e){var n;return Bl(this,t),(n=Pl(this,t)).type="ShadowMaterial",n.color=new Nf(0),n.transparent=!0,n.setValues(e),n}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this}}]),t}(up);Iy.prototype.isShadowMaterial=!0;var My=function(e){function t(e){var n;return Bl(this,t),(n=Pl(this,t,[e])).type="RawShaderMaterial",n}return Dl(t,e),Wl(t)}(Zp);My.prototype.isRawShaderMaterial=!0;var Dy=function(e){function t(e){var n;return Bl(this,t),(n=Pl(this,t)).defines={STANDARD:""},n.type="MeshStandardMaterial",n.color=new Nf(16777215),n.roughness=1,n.metalness=0,n.map=null,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=null,n.aoMapIntensity=1,n.emissive=new Nf(0),n.emissiveIntensity=1,n.emissiveMap=null,n.bumpMap=null,n.bumpScale=1,n.normalMap=null,n.normalMapType=nf,n.normalScale=new Sf(1,1),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.roughnessMap=null,n.metalnessMap=null,n.alphaMap=null,n.envMap=null,n.envMapIntensity=1,n.wireframe=!1,n.wireframeLinewidth=1,n.wireframeLinecap="round",n.wireframeLinejoin="round",n.flatShading=!1,n.setValues(e),n}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}]),t}(up);Dy.prototype.isMeshStandardMaterial=!0;var jy=function(e){function t(e){var n;return Bl(this,t),(n=Pl(this,t)).defines={STANDARD:"",PHYSICAL:""},n.type="MeshPhysicalMaterial",n.clearcoatMap=null,n.clearcoatRoughness=0,n.clearcoatRoughnessMap=null,n.clearcoatNormalScale=new Sf(1,1),n.clearcoatNormalMap=null,n.ior=1.5,Object.defineProperty(Ml(n),"reflectivity",{get:function(){return yf(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),n.sheenColor=new Nf(0),n.sheenColorMap=null,n.sheenRoughness=1,n.sheenRoughnessMap=null,n.transmissionMap=null,n.thickness=0,n.thicknessMap=null,n.attenuationDistance=0,n.attenuationColor=new Nf(1,1,1),n.specularIntensity=1,n.specularIntensityMap=null,n.specularColor=new Nf(1,1,1),n.specularColorMap=null,n._sheen=0,n._clearcoat=0,n._transmission=0,n.setValues(e),n}return Dl(t,e),Wl(t,[{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),t}(Dy);jy.prototype.isMeshPhysicalMaterial=!0;var Ly=function(e){function t(e){var n;return Bl(this,t),(n=Pl(this,t)).type="MeshPhongMaterial",n.color=new Nf(16777215),n.specular=new Nf(1118481),n.shininess=30,n.map=null,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=null,n.aoMapIntensity=1,n.emissive=new Nf(0),n.emissiveIntensity=1,n.emissiveMap=null,n.bumpMap=null,n.bumpScale=1,n.normalMap=null,n.normalMapType=nf,n.normalScale=new Sf(1,1),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.specularMap=null,n.alphaMap=null,n.envMap=null,n.combine=Pu,n.reflectivity=1,n.refractionRatio=.98,n.wireframe=!1,n.wireframeLinewidth=1,n.wireframeLinecap="round",n.wireframeLinejoin="round",n.flatShading=!1,n.setValues(e),n}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}]),t}(up);Ly.prototype.isMeshPhongMaterial=!0;var Ny=function(e){function t(e){var n;return Bl(this,t),(n=Pl(this,t)).defines={TOON:""},n.type="MeshToonMaterial",n.color=new Nf(16777215),n.map=null,n.gradientMap=null,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=null,n.aoMapIntensity=1,n.emissive=new Nf(0),n.emissiveIntensity=1,n.emissiveMap=null,n.bumpMap=null,n.bumpScale=1,n.normalMap=null,n.normalMapType=nf,n.normalScale=new Sf(1,1),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.alphaMap=null,n.wireframe=!1,n.wireframeLinewidth=1,n.wireframeLinecap="round",n.wireframeLinejoin="round",n.setValues(e),n}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),t}(up);Ny.prototype.isMeshToonMaterial=!0;var zy=function(e){function t(e){var n;return Bl(this,t),(n=Pl(this,t)).type="MeshNormalMaterial",n.bumpMap=null,n.bumpScale=1,n.normalMap=null,n.normalMapType=nf,n.normalScale=new Sf(1,1),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.wireframe=!1,n.wireframeLinewidth=1,n.fog=!1,n.flatShading=!1,n.setValues(e),n}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}]),t}(up);zy.prototype.isMeshNormalMaterial=!0;var By=function(e){function t(e){var n;return Bl(this,t),(n=Pl(this,t)).type="MeshLambertMaterial",n.color=new Nf(16777215),n.map=null,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=null,n.aoMapIntensity=1,n.emissive=new Nf(0),n.emissiveIntensity=1,n.emissiveMap=null,n.specularMap=null,n.alphaMap=null,n.envMap=null,n.combine=Pu,n.reflectivity=1,n.refractionRatio=.98,n.wireframe=!1,n.wireframeLinewidth=1,n.wireframeLinecap="round",n.wireframeLinejoin="round",n.setValues(e),n}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),t}(up);By.prototype.isMeshLambertMaterial=!0;var Fy=function(e){function t(e){var n;return Bl(this,t),(n=Pl(this,t)).defines={MATCAP:""},n.type="MeshMatcapMaterial",n.color=new Nf(16777215),n.matcap=null,n.map=null,n.bumpMap=null,n.bumpScale=1,n.normalMap=null,n.normalMapType=nf,n.normalScale=new Sf(1,1),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.alphaMap=null,n.flatShading=!1,n.setValues(e),n}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}]),t}(up);Fy.prototype.isMeshMatcapMaterial=!0;var Wy=function(e){function t(e){var n;return Bl(this,t),(n=Pl(this,t)).type="LineDashedMaterial",n.scale=1,n.dashSize=3,n.gapSize=1,n.setValues(e),n}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),t}(yg);Wy.prototype.isLineDashedMaterial=!0;var Hy={ShadowMaterial:Iy,SpriteMaterial:Xv,RawShaderMaterial:My,ShaderMaterial:Zp,PointsMaterial:Cg,MeshPhysicalMaterial:jy,MeshStandardMaterial:Dy,MeshPhongMaterial:Ly,MeshToonMaterial:Ny,MeshNormalMaterial:zy,MeshLambertMaterial:By,MeshDepthMaterial:Ov,MeshDistanceMaterial:Av,MeshBasicMaterial:cp,MeshMatcapMaterial:Fy,LineDashedMaterial:Wy,LineBasicMaterial:yg,Material:up};up.fromType=function(e){return new Hy[e]};var Uy={arraySlice:function(e,t,n){return Uy.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*t,l=0;l!==t;++l)i[a++]=e[s+l];return i},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];void 0!==o&&void 0===o[r];)o=e[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[r])&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[r])&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{void 0!==(a=o[r])&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)}},subclip:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,o=e.clone();o.name=t;for(var a=[],s=0;s<o.tracks.length;++s){for(var l=o.tracks[s],u=l.getValueSize(),c=[],f=[],d=0;d<l.times.length;++d){var p=l.times[d]*i;if(!(p<n||p>=r)){c.push(l.times[d]);for(var h=0;h<u;++h)f.push(l.values[d*u+h])}}0!==c.length&&(l.times=Uy.convertArray(c,l.times.constructor),l.values=Uy.convertArray(f,l.values.constructor),a.push(l))}o.tracks=a;for(var m=1/0,v=0;v<o.tracks.length;++v)m>o.tracks[v].times[0]&&(m=o.tracks[v].times[0]);for(var g=0;g<o.tracks.length;++g)o.tracks[g].shift(-1*m);return o.resetDuration(),o},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var i=n.tracks.length,o=t/r,a=function(){var t=n.tracks[s],r=t.ValueTypeName;if("bool"===r||"string"===r)return 0;var i=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===r}));if(void 0===i)return 0;var a=0,l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(a=l/3);var u=0,c=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=c/3);var f,d=t.times.length-1;if(o<=t.times[0]){var p=a,h=l-a;f=Uy.arraySlice(t.values,p,h)}else if(o>=t.times[d]){var m=d*l+a,v=m+l-a;f=Uy.arraySlice(t.values,m,v)}else{var g=t.createInterpolant(),y=a,b=l-a;g.evaluate(o),f=Uy.arraySlice(g.resultBuffer,y,b)}"quaternion"===r&&(new Xf).fromArray(f).normalize().conjugate().toArray(f);for(var w=i.times.length,x=0;x<w;++x){var S=x*c+u;if("quaternion"===r)Xf.multiplyQuaternionsFlat(i.values,S,f,0,i.values,S);else for(var E=c-2*u,_=0;_<E;++_)i.values[S+_]-=f[_]}},s=0;s<i;++s)a();return e.blendMode=2501,e}},Vy=function(){function e(t,n,r,i){Bl(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return Wl(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var o;n:{r:if(!(e<r)){for(var a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===a)break;if(i=r,e<(r=t[++n]))break t}o=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var l=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===l)break;if(r=i,e>=(i=t[--n-1]))break t}o=n,n=0}for(;n<o;){var u=n+o>>>1;e<t[u]?o=u:n=u+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,o=0;o!==r;++o)t[o]=n[i+o];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}();Vy.prototype.beforeStart_=Vy.prototype.copySampleValue_,Vy.prototype.afterEnd_=Vy.prototype.copySampleValue_;var Gy=function(e){function t(e,n,r,i){var o;return Bl(this,t),(o=Pl(this,t,[e,n,r,i]))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:Yc,endingEnd:Yc},o}return Dl(t,e),Wl(t,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case Kc:i=e,a=2*t-n;break;case Jc:a=t+r[i=r.length-2]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Kc:o=e,s=2*n-t;break;case Jc:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}var l=.5*(n-t),u=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=o*u}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,u=this._offsetPrev,c=this._offsetNext,f=this._weightPrev,d=this._weightNext,p=(n-t)/(r-t),h=p*p,m=h*p,v=-f*m+2*f*h-f*p,g=(1+f)*m+(-1.5-2*f)*h+(-.5+f)*p+1,y=(-1-d)*m+(1.5+d)*h+.5*p,b=d*m-d*h,w=0;w!==a;++w)i[w]=v*o[u+w]+g*o[l+w]+y*o[s+w]+b*o[c+w];return i}}]),t}(Vy),qy=function(e){function t(e,n,r,i){return Bl(this,t),Pl(this,t,[e,n,r,i])}return Dl(t,e),Wl(t,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,u=(n-t)/(r-t),c=1-u,f=0;f!==a;++f)i[f]=o[l+f]*c+o[s+f]*u;return i}}]),t}(Vy),Xy=function(e){function t(e,n,r,i){return Bl(this,t),Pl(this,t,[e,n,r,i])}return Dl(t,e),Wl(t,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),t}(Vy),Zy=function(){function e(t,n,r,i){if(Bl(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Uy.convertArray(n,this.TimeBufferType),this.values=Uy.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return Wl(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new Xy(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new qy(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new Gy(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case Xc:t=this.InterpolantFactoryMethodDiscrete;break;case Zc:t=this.InterpolantFactoryMethodLinear;break;case $c:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return El.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Xc;case this.InterpolantFactoryMethodLinear:return Zc;case this.InterpolantFactoryMethodSmooth:return $c}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(i=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=Uy.arraySlice(n,i,o),this.values=Uy.arraySlice(this.values,i*a,o*a)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(El.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(El.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"==typeof s&&isNaN(s)){El.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(null!==o&&o>s){El.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(void 0!==r&&Uy.isTypedArray(r))for(var l=0,u=r.length;l!==u;++l){var c=r[l];if(isNaN(c)){El.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=Uy.arraySlice(this.times),t=Uy.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===$c,i=e.length-1,o=1,a=1;a<i;++a){var s=!1,l=e[a];if(l!==e[a+1]&&(1!==a||l!==e[0]))if(r)s=!0;else for(var u=a*n,c=u-n,f=u+n,d=0;d!==n;++d){var p=t[u+d];if(p!==t[c+d]||p!==t[f+d]){s=!0;break}}if(s){if(a!==o){e[o]=e[a];for(var h=a*n,m=o*n,v=0;v!==n;++v)t[m+v]=t[h+v]}++o}}if(i>0){e[o]=e[i];for(var g=i*n,y=o*n,b=0;b!==n;++b)t[y+b]=t[g+b];++o}return o!==e.length?(this.times=Uy.arraySlice(e,0,o),this.values=Uy.arraySlice(t,0,o*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=Uy.arraySlice(this.times,0),t=Uy.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Uy.convertArray(e.times,Array),values:Uy.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();Zy.prototype.TimeBufferType=Float32Array,Zy.prototype.ValueBufferType=Float32Array,Zy.prototype.DefaultInterpolation=Zc;var $y=function(e){function t(){return Bl(this,t),Pl(this,t,arguments)}return Dl(t,e),Wl(t)}(Zy);$y.prototype.ValueTypeName="bool",$y.prototype.ValueBufferType=Array,$y.prototype.DefaultInterpolation=Xc,$y.prototype.InterpolantFactoryMethodLinear=void 0,$y.prototype.InterpolantFactoryMethodSmooth=void 0;var Yy=function(e){function t(){return Bl(this,t),Pl(this,t,arguments)}return Dl(t,e),Wl(t)}(Zy);Yy.prototype.ValueTypeName="color";var Ky=function(e){function t(){return Bl(this,t),Pl(this,t,arguments)}return Dl(t,e),Wl(t)}(Zy);Ky.prototype.ValueTypeName="number";var Jy=function(e){function t(e,n,r,i){return Bl(this,t),Pl(this,t,[e,n,r,i])}return Dl(t,e),Wl(t,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-t)/(r-t),l=e*a,u=l+a;l!==u;l+=4)Xf.slerpFlat(i,0,o,l-a,o,l,s);return i}}]),t}(Vy),Qy=function(e){function t(){return Bl(this,t),Pl(this,t,arguments)}return Dl(t,e),Wl(t,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new Jy(this.times,this.values,this.getValueSize(),e)}}]),t}(Zy);Qy.prototype.ValueTypeName="quaternion",Qy.prototype.DefaultInterpolation=Zc,Qy.prototype.InterpolantFactoryMethodSmooth=void 0;var eb=function(e){function t(){return Bl(this,t),Pl(this,t,arguments)}return Dl(t,e),Wl(t)}(Zy);eb.prototype.ValueTypeName="string",eb.prototype.ValueBufferType=Array,eb.prototype.DefaultInterpolation=Xc,eb.prototype.InterpolantFactoryMethodLinear=void 0,eb.prototype.InterpolantFactoryMethodSmooth=void 0;var tb=function(e){function t(){return Bl(this,t),Pl(this,t,arguments)}return Dl(t,e),Wl(t)}(Zy);tb.prototype.ValueTypeName="vector";var nb=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2500;Bl(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=gf(),this.duration<0&&this.resetDuration()}return Wl(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(rb(n[i]).scale(r));var a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,o=n.length;i!==o;++i)t.push(Zy.toJSON(n[i]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],l=[];s.push((a+i-1)%i,a,(a+1)%i),l.push(0,1,0);var u=Uy.getKeyframeOrder(s);s=Uy.sortedArray(s,1,u),l=Uy.sortedArray(l,1,u),r||0!==s[0]||(s.push(i),l.push(l[0])),o.push(new Ky(".morphTargetInfluences["+t[a].name+"]",s,l).scale(1/n))}return new this(e,-1,o)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],l=s.name.match(i);if(l&&l.length>1){var u=l[1],c=r[u];c||(r[u]=c=[]),c.push(s)}}var f=[];for(var d in r)f.push(this.CreateFromMorphTargetSequence(d,r[d],t,n));return f}},{key:"parseAnimation",value:function(e,t){if(!e)return El.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var o=[],a=[];Uy.flattenJSON(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.fps||30,a=e.blendMode,s=e.length||-1,l=e.hierarchy||[],u=0;u<l.length;u++){var c=l[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){var f={},d=void 0;for(d=0;d<c.length;d++)if(c[d].morphTargets)for(var p=0;p<c[d].morphTargets.length;p++)f[c[d].morphTargets[p]]=-1;for(var h in f){for(var m=[],v=[],g=0;g!==c[d].morphTargets.length;++g){var y=c[d];m.push(y.time),v.push(y.morphTarget===h?1:0)}r.push(new Ky(".morphTargetInfluence["+h+"]",m,v))}s=f.length*o}else{var b=".bones["+t[u].name+"]";n(tb,b+".position",c,"pos",r),n(Qy,b+".quaternion",c,"rot",r),n(tb,b+".scale",c,"scl",r)}}return 0===r.length?null:new this(i,s,r,a)}}]),e}();function rb(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ky;case"vector":case"vector2":case"vector3":case"vector4":return tb;case"color":return Yy;case"quaternion":return Qy;case"bool":case"boolean":return $y;case"string":return eb}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];Uy.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var ib={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},ob=new(Wl((function e(t,n,r){Bl(this,e);var i=this,o=!1,a=0,s=0,l=void 0,u=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===o&&void 0!==i.onStart&&i.onStart(e,a,s),o=!0},this.itemEnd=function(e){a++,void 0!==i.onProgress&&i.onProgress(e,a,s),a===s&&(o=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return l?l(e):e},this.setURLModifier=function(e){return l=e,this},this.addHandler=function(e,t){return u.push(e,t),this},this.removeHandler=function(e){var t=u.indexOf(e);return-1!==t&&u.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=u.length;t<n;t+=2){var r=u[t],i=u[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}}))),ab=function(){function e(t){Bl(this,e),this.manager=void 0!==t?t:ob,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return Wl(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),sb={},lb=function(e){function t(e){return Bl(this,t),Pl(this,t,[e])}return Dl(t,e),Wl(t,[{key:"load",value:function(e,t,n,r){var i=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var o=ib.get(e);if(void 0!==o)return this.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;if(void 0===sb[e]){sb[e]=[],sb[e].push({onLoad:t,onProgress:n,onError:r});var a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(a).then((function(t){if(200===t.status||0===t.status){if(0===t.status&&El.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;var n=sb[e],r=t.body.getReader(),i=t.headers.get("Content-Length"),o=i?parseInt(i):0,a=0!==o,s=0,l=new ReadableStream({start:function(e){!function t(){r.read().then((function(r){var i=r.done,l=r.value;if(i)e.close();else{s+=l.byteLength;for(var u=new ProgressEvent("progress",{lengthComputable:a,loaded:s,total:o}),c=0,f=n.length;c<f;c++){var d=n[c];d.onProgress&&d.onProgress(u)}e.enqueue(l),t()}}))}()}});return new Response(l)}throw Error('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText))})).then((function(e){switch(l){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,s)}));case"json":return e.json();default:if(void 0===s)return e.text();var t=/charset="?([^;"\s]*)"?/i.exec(s),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((function(e){return r.decode(e)}))}})).then((function(t){ib.add(e,t);var n=sb[e];delete sb[e];for(var r=0,i=n.length;r<i;r++){var o=n[r];o.onLoad&&o.onLoad(t)}})).catch((function(t){var n=sb[e];if(void 0===n)throw i.manager.itemError(e),t;delete sb[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemError(e)})).finally((function(){i.manager.itemEnd(e)})),this.manager.itemStart(e)}else sb[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),t}(ab),ub=function(e){function t(e){return Bl(this,t),Pl(this,t,[e])}return Dl(t,e),Wl(t,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=ib.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;var a=Tf("img");function s(){u(),ib.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){u(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function u(){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1)}return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a}}]),t}(ab),cb=function(e){function t(e){return Bl(this,t),Pl(this,t,[e])}return Dl(t,e),Wl(t,[{key:"load",value:function(e,t,n,r){var i=new Qp,o=new ub(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(n){o.load(e[n],(function(e){i.images[n]=e,6==++a&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var l=0;l<e.length;++l)s(l);return i}}]),t}(ab),fb=function(e){function t(e){return Bl(this,t),Pl(this,t,[e])}return Dl(t,e),Wl(t,[{key:"load",value:function(e,t,n,r){var i=new Hf,o=new ub(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}]),t}(ab),db=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Bl(this,t),(n=Pl(this,t)).type="Light",n.color=new Nf(e),n.intensity=r,n}return Dl(t,e),Wl(t,[{key:"dispose",value:function(){}},{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var n=Cl(Il(t.prototype),"toJSON",this).call(this,e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,void 0!==this.groundColor&&(n.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(n.object.distance=this.distance),void 0!==this.angle&&(n.object.angle=this.angle),void 0!==this.decay&&(n.object.decay=this.decay),void 0!==this.penumbra&&(n.object.penumbra=this.penumbra),void 0!==this.shadow&&(n.object.shadow=this.shadow.toJSON()),n}}]),t}(Yd);db.prototype.isLight=!0,function(e){function t(e,n,r){var i;return Bl(this,t),(i=Pl(this,t,[e,r])).type="HemisphereLight",i.position.copy(Yd.DefaultUp),i.updateMatrix(),i.groundColor=new Nf(n),i}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return db.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}]),t}(db).prototype.isHemisphereLight=!0;var pb=new Td,hb=new Zf,mb=new Zf,vb=function(){function e(t){Bl(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Sf(512,512),this.map=null,this.mapPass=null,this.matrix=new Td,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new sh,this._frameExtents=new Sf(1,1),this._viewportCount=1,this._viewports=[new Uf(0,0,1,1)]}return Wl(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;hb.setFromMatrixPosition(e.matrixWorld),t.position.copy(hb),mb.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(mb),t.updateMatrixWorld(),pb.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(pb),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),gb=function(e){function t(){var e;return Bl(this,t),(e=Pl(this,t,[new Yp(50,1,.5,500)])).focus=1,e}return Dl(t,e),Wl(t,[{key:"updateMatrices",value:function(e){var n=this.camera,r=2*vf*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;r===n.fov&&i===n.aspect&&o===n.far||(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),Cl(Il(t.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),t}(vb);gb.prototype.isSpotLightShadow=!0,function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return Bl(this,t),(r=Pl(this,t,[e,n])).type="SpotLight",r.position.copy(Yd.DefaultUp),r.updateMatrix(),r.target=new Yd,r.distance=i,r.angle=o,r.penumbra=a,r.decay=s,r.shadow=new gb,r}return Dl(t,e),Wl(t,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),t}(db).prototype.isSpotLight=!0;var yb=new Td,bb=new Zf,wb=new Zf,xb=function(e){function t(){var e;return Bl(this,t),(e=Pl(this,t,[new Yp(90,1,.5,500)]))._frameExtents=new Sf(4,2),e._viewportCount=6,e._viewports=[new Uf(2,1,1,1),new Uf(0,1,1,1),new Uf(3,1,1,1),new Uf(1,1,1,1),new Uf(3,0,1,1),new Uf(1,0,1,1)],e._cubeDirections=[new Zf(1,0,0),new Zf(-1,0,0),new Zf(0,0,1),new Zf(0,0,-1),new Zf(0,1,0),new Zf(0,-1,0)],e._cubeUps=[new Zf(0,1,0),new Zf(0,1,0),new Zf(0,1,0),new Zf(0,1,0),new Zf(0,0,1),new Zf(0,0,-1)],e}return Dl(t,e),Wl(t,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),bb.setFromMatrixPosition(e.matrixWorld),n.position.copy(bb),wb.copy(n.position),wb.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(wb),n.updateMatrixWorld(),r.makeTranslation(-bb.x,-bb.y,-bb.z),yb.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(yb)}}]),t}(vb);xb.prototype.isPointLightShadow=!0,function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Bl(this,t),(r=Pl(this,t,[e,n])).type="PointLight",r.distance=i,r.decay=o,r.shadow=new xb,r}return Dl(t,e),Wl(t,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),t}(db).prototype.isPointLight=!0;var Sb=function(e){function t(){return Bl(this,t),Pl(this,t,[new wh(-5,5,5,-5,.5,500)])}return Dl(t,e),Wl(t)}(vb);Sb.prototype.isDirectionalLightShadow=!0;var Eb=function(e){function t(e,n){var r;return Bl(this,t),(r=Pl(this,t,[e,n])).type="DirectionalLight",r.position.copy(Yd.DefaultUp),r.updateMatrix(),r.target=new Yd,r.shadow=new Sb,r}return Dl(t,e),Wl(t,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),t}(db);Eb.prototype.isDirectionalLight=!0;var _b=function(e){function t(e,n){var r;return Bl(this,t),(r=Pl(this,t,[e,n])).type="AmbientLight",r}return Dl(t,e),Wl(t)}(db);_b.prototype.isAmbientLight=!0,function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return Bl(this,t),(r=Pl(this,t,[e,n])).type="RectAreaLight",r.width=i,r.height=o,r}return Dl(t,e),Wl(t,[{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(e){this.intensity=e/(this.width*this.height*Math.PI)}},{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var n=Cl(Il(t.prototype),"toJSON",this).call(this,e);return n.object.width=this.width,n.object.height=this.height,n}}]),t}(db).prototype.isRectAreaLight=!0;var Tb=function(){function e(){Bl(this,e),this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new Zf)}return Wl(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*i),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],n*r*1.092548),t.addScaledVector(o[5],r*i*1.092548),t.addScaledVector(o[6],.315392*(3*i*i-1)),t.addScaledVector(o[7],n*i*1.092548),t.addScaledVector(o[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],1.023328*r),t.addScaledVector(o[2],1.023328*i),t.addScaledVector(o[3],1.023328*n),t.addScaledVector(o[4],.858086*n*r),t.addScaledVector(o[5],.858086*r*i),t.addScaledVector(o[6],.743125*i*i-.247708),t.addScaledVector(o[7],.858086*n*i),t.addScaledVector(o[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}]),e}();Tb.prototype.isSphericalHarmonics3=!0;var Ob=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Tb,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Bl(this,t),(e=Pl(this,t,[void 0,r])).sh=n,e}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var n=Cl(Il(t.prototype),"toJSON",this).call(this,e);return n.object.sh=this.sh.toArray(),n}}]),t}(db);Ob.prototype.isLightProbe=!0;var Ab,Cb=function(){function e(){Bl(this,e)}return Wl(e,null,[{key:"decodeText",value:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),e}();(function(e){function t(){var e;return Bl(this,t),(e=Pl(this,t)).type="InstancedBufferGeometry",e.instanceCount=1/0,e}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e=Cl(Il(t.prototype),"toJSON",this).call(this,this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),t})(_p).prototype.isInstancedBufferGeometry=!0,function(e){function t(e){var n;return Bl(this,t),n=Pl(this,t,[e]),"undefined"==typeof createImageBitmap&&El.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&El.warn("THREE.ImageBitmapLoader: fetch() not supported."),n.options={premultiplyAlpha:"none"},n}return Dl(t,e),Wl(t,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=ib.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;var a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){ib.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}]),t}(ab).prototype.isImageBitmapLoader=!0;var Pb=function(e){function t(e){return Bl(this,t),Pl(this,t,[e])}return Dl(t,e),Wl(t,[{key:"load",value:function(e,t,n,r){var i=this,o=new lb(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{var o=n.slice(0);(void 0===Ab&&(Ab=new(window.AudioContext||window.webkitAudioContext)),Ab).decodeAudioData(o,(function(e){t(e)}))}catch(t){r?r(t):El.error(t),i.manager.itemError(e)}}),n,r)}}]),t}(ab);(function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Bl(this,t),r=Pl(this,t,[void 0,i]);var o=(new Nf).set(e),a=(new Nf).set(n),s=new Zf(o.r,o.g,o.b),l=new Zf(a.r,a.g,a.b),u=Math.sqrt(Math.PI),c=u*Math.sqrt(.75);return r.sh.coefficients[0].copy(s).add(l).multiplyScalar(u),r.sh.coefficients[1].copy(s).sub(l).multiplyScalar(c),r}return Dl(t,e),Wl(t)})(Ob).prototype.isHemisphereLightProbe=!0,function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Bl(this,t),n=Pl(this,t,[void 0,r]);var i=(new Nf).set(e);return n.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI)),n}return Dl(t,e),Wl(t)}(Ob).prototype.isAmbientLightProbe=!0;var kb=function(e){function t(e){var n;return Bl(this,t),(n=Pl(this,t)).type="Audio",n.listener=e,n.context=e.context,n.gain=n.context.createGain(),n.gain.connect(e.getInput()),n.autoplay=!1,n.buffer=null,n.detune=0,n.loop=!1,n.loopStart=0,n.loopEnd=0,n.offset=0,n.duration=void 0,n.playbackRate=1,n.isPlaying=!1,n.hasPlaybackControl=!0,n.source=null,n.sourceType="empty",n._startedAt=0,n._progress=0,n._connected=!1,n.filters=[],n}return Dl(t,e),Wl(t,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}El.warn("THREE.Audio: this Audio has no playback control.")}else El.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;El.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;El.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;El.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(El.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;El.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),t}(Yd),Rb=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;Bl(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return Wl(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}(),Ib=function(){function e(t,n,r){var i,o,a;switch(Bl(this,e),this.binding=t,this.valueSize=r,n){case"quaternion":i=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:i=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return Wl(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=t}else{var s=t/(o+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-i,t)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var l=t,u=t+t;l!==u;++l)if(n[l]!==n[l+t]){a.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)e[t+o]=e[n+o]}},{key:"_slerp",value:function(e,t,n,r){Xf.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,i){var o=this._workIndex*i;Xf.multiplyQuaternionsFlat(e,o,e,t,e,n),Xf.slerpFlat(e,t,e,t,e,o,r)}},{key:"_lerp",value:function(e,t,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[n+a]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,i){for(var o=0;o!==i;++o){var a=t+o;e[a]=e[a]+e[n+o]*r}}}]),e}(),Mb="\\[\\]\\.:\\/",Db=new RegExp("["+Mb+"]","g"),jb="[^"+Mb+"]",Lb="[^"+Mb.replace("\\.","")+"]",Nb=/((?:WC+[\/:])*)/.source.replace("WC",jb),zb=/(WCOD+)?/.source.replace("WCOD",Lb),Bb=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",jb),Fb=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",jb),Wb=new RegExp("^"+Nb+zb+Bb+Fb+"$"),Hb=["material","materials","bones"],Ub=function(){function e(t,n,r){Bl(this,e);var i=r||Vb.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return Wl(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),Vb=function(){function e(t,n,r){Bl(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return Wl(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,o=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var a=n.objectIndex;switch(r){case"materials":if(!t.material)return void El.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void El.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void El.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===a){a=s;break}break;default:if(void 0===t[r])return void El.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==a){if(void 0===t[a])return void El.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[a]}}var l=t[i];if(void 0!==l){var u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===i){if(!t.geometry)return void El.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void El.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void El.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=o}else void 0!==l.fromArray&&void 0!==l.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(c=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else{var f=n.nodeName;El.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+i+" but it wasn't found.",t)}}else El.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(Db,"")}},{key:"parseTrackName",value:function(e){var t=Wb.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==Hb.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var o=e(i.children);if(o)return o}return null}(e.children);if(r)return r}return null}}]),e}();Vb.Composite=Ub,Vb.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Vb.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Vb.prototype.GetterByBindingType=[Vb.prototype._getValue_direct,Vb.prototype._getValue_array,Vb.prototype._getValue_arrayElement,Vb.prototype._getValue_toArray],Vb.prototype.SetterByBindingTypeAndVersioning=[[Vb.prototype._setValue_direct,Vb.prototype._setValue_direct_setNeedsUpdate,Vb.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Vb.prototype._setValue_array,Vb.prototype._setValue_array_setNeedsUpdate,Vb.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Vb.prototype._setValue_arrayElement,Vb.prototype._setValue_arrayElement_setNeedsUpdate,Vb.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Vb.prototype._setValue_fromArray,Vb.prototype._setValue_fromArray_setNeedsUpdate,Vb.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],function(){function e(){Bl(this,e),this.uuid=gf(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}return Wl(e,[{key:"add",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,o=i.length,a=void 0,s=e.length,l=this.nCachedObjects_,u=0,c=arguments.length;u!==c;++u){var f=arguments[u],d=f.uuid,p=t[d];if(void 0===p){p=s++,t[d]=p,e.push(f);for(var h=0,m=o;h!==m;++h)i[h].push(new Vb(f,n[h],r[h]))}else if(p<l){a=e[p];var v=--l,g=e[v];t[g.uuid]=p,e[p]=g,t[d]=v,e[v]=f;for(var y=0,b=o;y!==b;++y){var w=i[y],x=w[v],S=w[p];w[p]=x,void 0===S&&(S=new Vb(f,n[y],r[y])),w[v]=S}}else e[p]!==a&&El.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}},{key:"remove",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],l=s.uuid,u=t[l];if(void 0!==u&&u>=i){var c=i++,f=e[c];t[f.uuid]=u,e[u]=f,t[l]=c,e[c]=s;for(var d=0,p=r;d!==p;++d){var h=n[d],m=h[c],v=h[u];h[u]=m,h[c]=v}}}this.nCachedObjects_=i}},{key:"uncache",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,o=e.length,a=0,s=arguments.length;a!==s;++a){var l=arguments[a].uuid,u=t[l];if(void 0!==u)if(delete t[l],u<i){var c=--i,f=e[c],d=--o,p=e[d];t[f.uuid]=u,e[u]=f,t[p.uuid]=c,e[c]=p,e.pop();for(var h=0,m=r;h!==m;++h){var v=n[h],g=v[c],y=v[d];v[u]=g,v[c]=y,v.pop()}}else{var b=--o,w=e[b];b>0&&(t[w.uuid]=u),e[u]=w,e.pop();for(var x=0,S=r;x!==S;++x){var E=n[x];E[u]=E[b],E.pop()}}}this.nCachedObjects_=i}},{key:"subscribe_",value:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,c=new Array(l);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(c);for(var f=u,d=s.length;f!==d;++f){var p=s[f];c[f]=new Vb(p,e,t)}return c}},{key:"unsubscribe_",value:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}]),e}().prototype.isAnimationObjectGroup=!0;var Gb=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;Bl(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=i;for(var o=n.tracks,a=o.length,s=new Array(a),l={endingStart:Yc,endingEnd:Yc},u=0;u!==a;++u){var c=o[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return Wl(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,o=i/r,a=r/i;e.warp(1,o,t),this.warp(a,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,i=r.time,o=this.timeScale,a=this._timeScaleInterpolant;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,l=a.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/o,l[1]=t/o,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var o=(e-i)*n;if(o<0||0===n)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(s>0){var l=this._interpolants,u=this._propertyBindings;if(2501===this.blendMode)for(var c=0,f=l.length;c!==f;++c)l[c].evaluate(a),u[c].accumulateAdditive(s);else for(var d=0,p=l.length;d!==p;++d)l[d].evaluate(a),u[d].accumulate(r,s)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;null!==n&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,o=2202===n;if(0===e)return-1===i?r:o&&1==(1&i)?t-r:r;if(2200===n){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=t||r<0){var a=Math.floor(r/t);r-=t*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var l=e<0;this._setEndings(l,!l,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&1==(1&i))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=Kc,r.endingEnd=Kc):(r.endingStart=e?this.zeroSlopeAtStart?Kc:Yc:Jc,r.endingEnd=t?this.zeroSlopeAtEnd?Kc:Yc:Jc)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}}]),e}();(function(e){function t(e){var n;return Bl(this,t),(n=Pl(this,t))._root=e,n._initMemoryManager(),n._accuIndex=0,n.time=0,n.timeScale=1,n}return Dl(t,e),Wl(t,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==i;++c){var f=r[c],d=f.name,p=u[d];if(void 0!==p)++p.referenceCount,o[c]=p;else{if(void 0!==(p=o[c])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,d));continue}var h=t&&t._propertyBindings[c].binding.parsedPath;++(p=new Ib(Vb.create(n,d,h),f.ValueTypeName,f.getValueSize())).referenceCount,this._addInactiveBinding(p,s,d),o[c]=p}a[c].resultBuffer=p.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,l=s[s.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,o=r[t];void 0===o&&(o={},r[t]=o),o[n]=e,e._cacheIndex=i.length,i.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete a[i],0===Object.keys(a).length&&delete o[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new qy(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,i=r.uuid,o="string"==typeof e?nb.findByName(r,e):e,a=null!==o?o.uuid:e,s=this._actionsByClip[a],l=null;if(void 0===n&&(n=null!==o?o.blendMode:2500),void 0!==s){var u=s.actionByRoot[i];if(void 0!==u&&u.blendMode===n)return u;l=s.knownActions[0],null===o&&(o=l._clip)}if(null===o)return null;var c=new Gb(this,o,t,n);return this._bindAction(c,l),this._addInactiveAction(c,a,i),c}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?nb.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,a=0;a!==n;++a)t[a]._update(r,e,i,o);for(var s=this._bindings,l=this._nActiveBindings,u=0;u!==l;++u)s[u].apply(o);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var l=o[a];this._deactivateAction(l);var u=l._cacheIndex,c=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,t[u]=c,t.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[t];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),t})(df).prototype._controlInterpolantsResultBuffer=new Float32Array(1);var qb=function(){function e(t){Bl(this,e),"string"==typeof t&&(El.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}return Wl(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}();(function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Bl(this,t),(r=Pl(this,t,[e,n])).meshPerAttribute=i,r}return Dl(t,e),Wl(t,[{key:"copy",value:function(e){return Cl(Il(t.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var n=Cl(Il(t.prototype),"clone",this).call(this,e);return n.meshPerAttribute=this.meshPerAttribute,n}},{key:"toJSON",value:function(e){var n=Cl(Il(t.prototype),"toJSON",this).call(this,e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}]),t})(Uv).prototype.isInstancedInterleavedBuffer=!0,function(){function e(t,n,r,i,o){Bl(this,e),this.buffer=t,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}return Wl(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setBuffer",value:function(e){return this.buffer=e,this}},{key:"setType",value:function(e,t){return this.type=e,this.elementSize=t,this}},{key:"setItemSize",value:function(e){return this.itemSize=e,this}},{key:"setCount",value:function(e){return this.count=e,this}}]),e}().prototype.isGLBufferAttribute=!0;var Xb=new Sf,Zb=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Sf(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Sf(-1/0,-1/0);Bl(this,e),this.min=t,this.max=n}return Wl(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Xb.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return Xb.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();Zb.prototype.isBox2=!0;var $b=new Zf,Yb=new Zf,Kb=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zf,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zf;Bl(this,e),this.start=t,this.end=n}return Wl(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){$b.subVectors(e,this.start),Yb.subVectors(this.end,this.start);var n=Yb.dot(Yb),r=Yb.dot($b)/n;return t&&(r=yf(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Jb=new Zf,Qb=new Td,ew=new Td,tw=function(e){function t(e){var n;Bl(this,t);for(var r=nw(e),i=new _p,o=[],a=[],s=new Nf(0,0,1),l=new Nf(0,1,0),u=0;u<r.length;u++){var c=r[u];c.parent&&c.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),a.push(s.r,s.g,s.b),a.push(l.r,l.g,l.b))}return i.setAttribute("position",new vp(o,3)),i.setAttribute("color",new vp(a,3)),(n=Pl(this,t,[i,new yg({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})])).type="SkeletonHelper",n.isSkeletonHelper=!0,n.root=e,n.bones=r,n.matrix=e.matrixWorld,n.matrixAutoUpdate=!1,n}return Dl(t,e),Wl(t,[{key:"updateMatrixWorld",value:function(e){var n=this.bones,r=this.geometry,i=r.getAttribute("position");ew.copy(this.root.matrixWorld).invert();for(var o=0,a=0;o<n.length;o++){var s=n[o];s.parent&&s.parent.isBone&&(Qb.multiplyMatrices(ew,s.matrixWorld),Jb.setFromMatrixPosition(Qb),i.setXYZ(a,Jb.x,Jb.y,Jb.z),Qb.multiplyMatrices(ew,s.parent.matrixWorld),Jb.setFromMatrixPosition(Qb),i.setXYZ(a+1,Jb.x,Jb.y,Jb.z),a+=2)}r.getAttribute("position").needsUpdate=!0,Cl(Il(t.prototype),"updateMatrixWorld",this).call(this,e)}}]),t}(Ag);function nw(e){var t=[];!0===e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,nw(e.children[n]));return t}for(var rw=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;Bl(this,t),i=new Nf(i),o=new Nf(o);for(var a=r/2,s=n/r,l=n/2,u=[],c=[],f=0,d=0,p=-l;f<=r;f++,p+=s){u.push(-l,0,p,l,0,p),u.push(p,0,-l,p,0,l);var h=f===a?i:o;h.toArray(c,d),d+=3,h.toArray(c,d),d+=3,h.toArray(c,d),d+=3,h.toArray(c,d),d+=3}var m=new _p;return m.setAttribute("position",new vp(u,3)),m.setAttribute("color",new vp(c,3)),(e=Pl(this,t,[m,new yg({vertexColors:!0,toneMapped:!1})])).type="GridHelper",e}return Dl(t,e),Wl(t)}(Ag),iw=new Zf,ow=new Zf,aw=new Zf,sw=function(e){function t(e,n,r){var i;Bl(this,t),(i=Pl(this,t)).light=e,i.light.updateMatrixWorld(),i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i.color=r,void 0===n&&(n=1);var o=new _p;o.setAttribute("position",new vp([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));var a=new yg({fog:!1,toneMapped:!1});return i.lightPlane=new _g(o,a),i.add(i.lightPlane),(o=new _p).setAttribute("position",new vp([0,0,0,0,0,1],3)),i.targetLine=new _g(o,a),i.add(i.targetLine),i.update(),i}return Dl(t,e),Wl(t,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){iw.setFromMatrixPosition(this.light.matrixWorld),ow.setFromMatrixPosition(this.light.target.matrixWorld),aw.subVectors(ow,iw),this.lightPlane.lookAt(ow),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ow),this.targetLine.scale.z=aw.length()}}]),t}(Yd),lw=new ArrayBuffer(4),uw=(new Float32Array(lw),new Uint32Array(lw),new Uint32Array(512)),cw=new Uint32Array(512),fw=0;fw<256;++fw){var dw=fw-127;dw<-27?(uw[fw]=0,uw[256|fw]=32768,cw[fw]=24,cw[256|fw]=24):dw<-14?(uw[fw]=1024>>-dw-14,uw[256|fw]=1024>>-dw-14|32768,cw[fw]=-dw-1,cw[256|fw]=-dw-1):dw<=15?(uw[fw]=dw+15<<10,uw[256|fw]=dw+15<<10|32768,cw[fw]=13,cw[256|fw]=13):dw<128?(uw[fw]=31744,uw[256|fw]=64512,cw[fw]=24,cw[256|fw]=24):(uw[fw]=31744,uw[256|fw]=64512,cw[fw]=13,cw[256|fw]=13)}for(var pw=new Uint32Array(2048),hw=new Uint32Array(64),mw=new Uint32Array(64),vw=1;vw<1024;++vw){for(var gw=vw<<13,yw=0;0==(8388608&gw);)gw<<=1,yw-=8388608;gw&=-8388609,yw+=947912704,pw[vw]=gw|yw}for(var bw=1024;bw<2048;++bw)pw[bw]=939524096+(bw-1024<<13);for(var ww=1;ww<31;++ww)hw[ww]=ww<<23;hw[31]=1199570944,hw[32]=2147483648;for(var xw=33;xw<63;++xw)hw[xw]=2147483648+(xw-32<<23);hw[63]=3347054592;for(var Sw=1;Sw<64;++Sw)32!==Sw&&(mw[Sw]=1024);function Ew(e){return Ew="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ew(e)}function _w(){_w=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),s=new k(r||[]);return i(a,"_invoke",{value:O(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};u(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(R([])));S&&S!==n&&r.call(S,a)&&(w=S);var E=b.prototype=g.prototype=Object.create(w);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,o,a,s){var l=f(e[i],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==Ew(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function O(t,n,r){var i=d;return function(o,a){if(i===h)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=A(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var u=f(t,n,r);if("normal"===u.type){if(i=r.done?m:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=m,r.method="throw",r.arg=u.arg)}}}function A(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ew(t)+" is not iterable")}return y.prototype=b,i(E,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},_(T.prototype),u(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new T(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(E),u(E,l,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}Dg.create=function(e,t){return El.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Dg.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},ey.prototype.fromPoints=function(e){return El.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)},rw.prototype.setColors=function(){El.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},tw.prototype.update=function(){El.error("THREE.SkeletonHelper: update() no longer needs to be called.")},ab.prototype.extractUrlBase=function(e){return El.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Cb.extractUrlBase(e)},ab.Handlers={add:function(){El.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){El.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Zb.prototype.center=function(e){return El.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},Zb.prototype.empty=function(){return El.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Zb.prototype.isIntersectionBox=function(e){return El.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},Zb.prototype.size=function(e){return El.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)},Kf.prototype.center=function(e){return El.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Kf.prototype.empty=function(){return El.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Kf.prototype.isIntersectionBox=function(e){return El.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},Kf.prototype.isIntersectionSphere=function(e){return El.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},Kf.prototype.size=function(e){return El.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)},jd.prototype.toVector3=function(){El.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")},vd.prototype.empty=function(){return El.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},sh.prototype.setFromMatrix=function(e){return El.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},Kb.prototype.center=function(e){return El.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Ef.prototype.flattenToArrayOffset=function(e,t){return El.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},Ef.prototype.multiplyVector3=function(e){return El.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},Ef.prototype.multiplyVector3Array=function(){El.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},Ef.prototype.applyToBufferAttribute=function(e){return El.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},Ef.prototype.applyToVector3Array=function(){El.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},Ef.prototype.getInverse=function(e){return El.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},Td.prototype.extractPosition=function(e){return El.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},Td.prototype.flattenToArrayOffset=function(e,t){return El.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},Td.prototype.getPosition=function(){return El.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Zf).setFromMatrixColumn(this,3)},Td.prototype.setRotationFromQuaternion=function(e){return El.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},Td.prototype.multiplyToArray=function(){El.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Td.prototype.multiplyVector3=function(e){return El.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Td.prototype.multiplyVector4=function(e){return El.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Td.prototype.multiplyVector3Array=function(){El.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Td.prototype.rotateAxis=function(e){El.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},Td.prototype.crossVector=function(e){return El.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Td.prototype.translate=function(){El.error("THREE.Matrix4: .translate() has been removed.")},Td.prototype.rotateX=function(){El.error("THREE.Matrix4: .rotateX() has been removed.")},Td.prototype.rotateY=function(){El.error("THREE.Matrix4: .rotateY() has been removed.")},Td.prototype.rotateZ=function(){El.error("THREE.Matrix4: .rotateZ() has been removed.")},Td.prototype.rotateByAxis=function(){El.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Td.prototype.applyToBufferAttribute=function(e){return El.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Td.prototype.applyToVector3Array=function(){El.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Td.prototype.makeFrustum=function(e,t,n,r,i,o){return El.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,o)},Td.prototype.getInverse=function(e){return El.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},ih.prototype.isIntersectionLine=function(e){return El.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},Xf.prototype.multiplyVector3=function(e){return El.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Xf.prototype.inverse=function(){return El.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},_d.prototype.isIntersectionBox=function(e){return El.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},_d.prototype.isIntersectionPlane=function(e){return El.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},_d.prototype.isIntersectionSphere=function(e){return El.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},sp.prototype.area=function(){return El.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},sp.prototype.barycoordFromPoint=function(e,t){return El.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},sp.prototype.midpoint=function(e){return El.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},sp.prototypenormal=function(e){return El.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},sp.prototype.plane=function(e){return El.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)},sp.barycoordFromPoint=function(e,t,n,r,i){return El.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),sp.getBarycoord(e,t,n,r,i)},sp.normal=function(e,t,n,r){return El.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),sp.getNormal(e,t,n,r)},ty.prototype.extractAllPoints=function(e){return El.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},ty.prototype.extrude=function(e){return El.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Py(this,e)},ty.prototype.makeGeometry=function(e){return El.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Ry(this,e)},Sf.prototype.fromAttribute=function(e,t,n){return El.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},Sf.prototype.distanceToManhattan=function(e){return El.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},Sf.prototype.lengthManhattan=function(){return El.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Zf.prototype.setEulerFromRotationMatrix=function(){El.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},Zf.prototype.setEulerFromQuaternion=function(){El.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},Zf.prototype.getPositionFromMatrix=function(e){return El.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},Zf.prototype.getScaleFromMatrix=function(e){return El.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},Zf.prototype.getColumnFromMatrix=function(e,t){return El.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},Zf.prototype.applyProjection=function(e){return El.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},Zf.prototype.fromAttribute=function(e,t,n){return El.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},Zf.prototype.distanceToManhattan=function(e){return El.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},Zf.prototype.lengthManhattan=function(){return El.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Uf.prototype.fromAttribute=function(e,t,n){return El.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},Uf.prototype.lengthManhattan=function(){return El.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Yd.prototype.getChildByName=function(e){return El.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},Yd.prototype.renderDepth=function(){El.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},Yd.prototype.translate=function(e,t){return El.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},Yd.prototype.getWorldRotation=function(){El.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},Yd.prototype.applyMatrix=function(e){return El.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(Yd.prototype,{eulerOrder:{get:function(){return El.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){El.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){El.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){El.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Hp.prototype.setDrawMode=function(){El.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(Hp.prototype,{drawMode:{get:function(){return El.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){El.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),dg.prototype.initBones=function(){El.error("THREE.SkinnedMesh: initBones() has been removed.")},Yp.prototype.setLens=function(e,t){El.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(db.prototype,{onlyShadow:{set:function(){El.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){El.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){El.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){El.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){El.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){El.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){El.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){El.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){El.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){El.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){El.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){El.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){El.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(pp.prototype,{length:{get:function(){return El.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return El.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===uf},set:function(){El.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(uf)}}}),pp.prototype.setDynamic=function(e){return El.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?uf:lf),this},pp.prototype.copyIndicesArray=function(){El.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},pp.prototype.setArray=function(){El.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},_p.prototype.addIndex=function(e){El.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},_p.prototype.addAttribute=function(e,t){return El.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(El.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(El.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new pp(arguments[1],arguments[2])))},_p.prototype.addDrawCall=function(e,t,n){void 0!==n&&El.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),El.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},_p.prototype.clearDrawCalls=function(){El.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},_p.prototype.computeOffsets=function(){El.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},_p.prototype.removeAttribute=function(e){return El.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},_p.prototype.applyMatrix=function(e){return El.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(_p.prototype,{drawcalls:{get:function(){return El.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return El.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Uv.prototype.setDynamic=function(e){return El.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?uf:lf),this},Uv.prototype.setArray=function(){El.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Py.prototype.getArrays=function(){El.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},Py.prototype.addShapeList=function(){El.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},Py.prototype.addShape=function(){El.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},Hv.prototype.dispose=function(){El.error("THREE.Scene: .dispose() has been removed.")},qb.prototype.onUpdate=function(){return El.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(up.prototype,{wrapAround:{get:function(){El.warn("THREE.Material: .wrapAround has been removed.")},set:function(){El.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){El.warn("THREE.Material: .overdraw has been removed.")},set:function(){El.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return El.warn("THREE.Material: .wrapRGB has been removed."),new Nf}},shading:{get:function(){El.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){El.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return El.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){El.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}},vertexTangents:{get:function(){El.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){El.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(Zp.prototype,{derivatives:{get:function(){return El.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){El.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Wv.prototype.clearTarget=function(e,t,n,r){El.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},Wv.prototype.animate=function(e){El.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},Wv.prototype.getCurrentRenderTarget=function(){return El.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},Wv.prototype.getMaxAnisotropy=function(){return El.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},Wv.prototype.getPrecision=function(){return El.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},Wv.prototype.resetGLState=function(){return El.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},Wv.prototype.supportsFloatTextures=function(){return El.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},Wv.prototype.supportsHalfFloatTextures=function(){return El.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},Wv.prototype.supportsStandardDerivatives=function(){return El.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},Wv.prototype.supportsCompressedTextureS3TC=function(){return El.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},Wv.prototype.supportsCompressedTexturePVRTC=function(){return El.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},Wv.prototype.supportsBlendMinMax=function(){return El.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},Wv.prototype.supportsVertexTextures=function(){return El.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},Wv.prototype.supportsInstancedArrays=function(){return El.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},Wv.prototype.enableScissorTest=function(e){El.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},Wv.prototype.initMaterial=function(){El.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},Wv.prototype.addPrePlugin=function(){El.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},Wv.prototype.addPostPlugin=function(){El.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},Wv.prototype.updateShadowMap=function(){El.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},Wv.prototype.setFaceCulling=function(){El.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},Wv.prototype.allocTextureUnit=function(){El.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},Wv.prototype.setTexture=function(){El.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},Wv.prototype.setTexture2D=function(){El.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},Wv.prototype.setTextureCube=function(){El.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},Wv.prototype.getActiveMipMapLevel=function(){return El.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(Wv.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){El.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){El.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){El.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){El.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return El.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return El.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return El.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){El.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return El.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){El.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?ef:Qc}},toneMappingWhitePoint:{get:function(){return El.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){El.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return El.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){El.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}}),Object.defineProperties(kv.prototype,{cullFace:{get:function(){El.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){El.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){El.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){El.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){El.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){El.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Vf.prototype,{wrapS:{get:function(){return El.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){El.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return El.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){El.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return El.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){El.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return El.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){El.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return El.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){El.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return El.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){El.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return El.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){El.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return El.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){El.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return El.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){El.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return El.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){El.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),kb.prototype.load=function(e){El.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new Pb).load(e,(function(e){t.setBuffer(e)})),this},Rb.prototype.getData=function(){return El.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Jp.prototype.updateCubeMap=function(e,t){return El.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},Jp.prototype.clear=function(e,t,n,r){return El.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,n,r)},zf.crossOrigin=void 0,zf.loadTexture=function(e,t,n,r){El.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new fb;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},zf.loadTextureCube=function(e,t,n,r){El.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new cb;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},zf.loadCompressedTexture=function(){El.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},zf.loadCompressedTextureCube=function(){El.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ul}})),"undefined"!=typeof window&&(window.__THREE__?El.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ul);var Tw=_w().mark(jw);function Ow(e,t){return e[t]?e[t]:null}function Aw(e,t){if(!Array.isArray(t))return null;var n=t.map((function(t){return t[e]}));return void 0===n[0]?null:n}var Cw=function(e,t,n){var r={},i=e;r.preferredFormats=Ow(t,"preferredFormats")||null,r.width=Ow(t,"width"),r.height=Ow(t,"height");var o=Ow(t,"tiles")[0],a=function(e,t,n,r,i,o){for(var a=[],s=i.width,l=i.height||i.width,u=i.scaleFactors.sort((function(e,t){return t-e}))[o],c=u*s,f=u*l,d=Math.floor(t/u),p=Math.floor(n/u),h=0;h<n;){for(var m=0;m<t;){var v=void 0,g=void 0,y=void 0;d<=s&&p<=l?(g=s,y=l,v="full"):v=m+","+h+","+(g=Math.min(c,t-m))+","+(y=Math.min(f,n-h));var b=Math.floor((t-m)/u),w=Math.floor((n-h)/u),x=Math.min(s,b),S=Math.min(l,w),E="jpg";r?E=r[0]:S="";var _="/"+v+"/"+x+","+S+"/0/default."+E;a.push({url:e+_,tile:{w:parseInt(g),h:parseInt(y),x:m,y:h}}),m+=c}h+=f}return a}(i,r.width,r.height,r.preferredFormats,o,n);return r.urls=Aw("url",a),r.tiles=Aw("tile",a),r};function Pw(e){var t={};return e.forEach((function(e){var n=e.getService("http://iiif.io/api/annex/services/lightingmap");null===n&&(n=e.getService("http://iiif.io/api/extension/lightingmap")),t[e.id]=null!==n?n.__jsonld.mapType:"none"})),t}function kw(e){var t=[];return e.forEach((function(e){t.push({id:e.id})})),t}function Rw(e,t){var n;return e.forEach((function(e){var r=e.getService("http://iiif.io/api/annex/services/lightingmap");null===r&&(r=e.getService("http://iiif.io/api/extension/lightingmap"));var i=e.getServices();null!==r&&r.__jsonld.mapType===t&&i.forEach((function(e){"ImageService3"===e.__jsonld.type&&(n=e.id),null===n&&"ImageService2"===e.__jsonld["@type"]&&(n=e["@id"])}))})),n}function Iw(e){var t={},n=e.viewer.viewport.getBounds(!0),r=e.viewer.world.getItemAt(0).getBounds(!0),i=n.intersection(r);if(i)return t.intersectionTopLeft=i.getTopLeft(),t.intersectionBottomLeft=i.getBottomLeft(),t.intersection=i,t}function Mw(e,t,n,r,i,o){var a=Pw(t);r(n,o,Dw(kw(t),a,i))}function Dw(e,t,n){return e.reduce((function(e,r,i){var o,a;return a=t[r.id].trim(),o=n.includes(a),e[r.id]={index:i,visibility:o},e}),{})}function jw(e,t,n,r){return _w().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,zn(n(e,t,r));case 2:case"end":return i.stop()}}),Tw)}var Lw=n(39405);function Nw(e){return Nw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nw(e)}function zw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bw(r.key),r)}}function Bw(e){var t=function(e,t){if("object"!=Nw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Nw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Nw(t)?t:String(t)}function Fw(e,t,n){return t=Hw(t),function(e,t){if(t&&("object"===Nw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ww()?Reflect.construct(t,n||[],Hw(e).constructor):t.apply(e,n))}function Ww(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ww=function(){return!!e})()}function Hw(e){return Hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hw(e)}function Uw(e,t){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Uw(e,t)}var Vw=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fw(this,t,[e])}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uw(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.tooltipTitle,r=e.defaultNormalDepth,i=e.normalDepth,a=e.onChange,s=e.step,l=e.min,u=e.max,c=e.orientation,f=e.size;return o.createElement(Lw.Ay,{title:n},o.createElement(Qs.A,{id:t,style:{marginTop:"20px",marginBottom:"20px",height:"87px",padding:"0px 15px"},size:f,orientation:c,marks:!0,defaultValue:r,value:i,step:s,min:l,max:u,onChange:a}))}}])&&zw(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.Component);Vw.propTypes={id:Sl().string.isRequired,tooltipTitle:Sl().string.isRequired,onChange:Sl().func.isRequired,normalDepth:Sl().number,defaultNormalDepth:Sl().number,step:Sl().number,min:Sl().number,max:Sl().number,orientation:Sl().string,size:Sl().string},Vw.defaultProps={normalDepth:1,defaultNormalDepth:1,step:1,min:1,max:10,orientation:"vertical",size:"small"};const Gw=Vw;function qw(e){return qw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qw(e)}function Xw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zw(r.key),r)}}function Zw(e){var t=function(e,t){if("object"!=qw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=qw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qw(t)?t:String(t)}function $w(e,t,n){return t=Kw(t),function(e,t){if(t&&("object"===qw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Yw()?Reflect.construct(t,n||[],Kw(e).constructor):t.apply(e,n))}function Yw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Yw=function(){return!!e})()}function Kw(e){return Kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kw(e)}function Jw(e,t){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jw(e,t)}var Qw=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$w(this,t,[e])}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jw(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.tooltipTitle,r=e.defaultIntensity,i=e.intensity,a=e.onChange,s=e.step,l=e.min,u=e.max,c=e.orientation,f=e.size;return o.createElement(Lw.Ay,{title:n},o.createElement(Qs.A,{id:t,style:{marginTop:"20px",marginBottom:"20px",height:"87px",padding:"0px 15px"},size:f,orientation:c,marks:!0,defaultValue:r,value:i,step:s,min:l,max:u,onChange:a}))}}])&&Xw(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.Component);Qw.propTypes={id:Sl().string.isRequired,tooltipTitle:Sl().string.isRequired,onChange:Sl().func.isRequired,intensity:Sl().number,defaultIntensity:Sl().number,step:Sl().number,min:Sl().number,max:Sl().number,orientation:Sl().string,size:Sl().string},Qw.defaultProps={intensity:.1,defaultIntensity:.1,step:.1,min:0,max:1,orientation:"vertical",size:"small"};const ex=Qw;function tx(e){return tx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tx(e)}function nx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rx(r.key),r)}}function rx(e){var t=function(e,t){if("object"!=tx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=tx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==tx(t)?t:String(t)}function ix(e,t,n){return t=ax(t),function(e,t){if(t&&("object"===tx(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ox()?Reflect.construct(t,n||[],ax(e).constructor):t.apply(e,n))}function ox(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ox=function(){return!!e})()}function ax(e){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ax(e)}function sx(e,t){return sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sx(e,t)}var lx=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ix(this,t,[e])}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sx(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.tooltipTitle,r=e.defaultIntensity,i=e.intensity,a=e.onChange,s=e.step,l=e.min,u=e.max,c=e.orientation,f=e.size;return o.createElement(Lw.Ay,{title:n},o.createElement(Qs.A,{id:t,style:{marginTop:"20px",marginBottom:"20px",height:"87px",padding:"0px 15px"},size:f,orientation:c,marks:!0,defaultValue:r,value:i,step:s,min:l,max:u,onChange:a}))}}])&&nx(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.Component);lx.propTypes={id:Sl().string.isRequired,tooltipTitle:Sl().string.isRequired,onChange:Sl().func.isRequired,intensity:Sl().number,defaultIntensity:Sl().number,step:Sl().number,min:Sl().number,max:Sl().number,orientation:Sl().string,size:Sl().string},lx.defaultProps={intensity:1,defaultIntensity:1,step:.1,min:.1,max:1,orientation:"vertical",size:"small"};const ux=lx;var cx,fx,dx,px,hx,mx,vx,gx,yx,bx,wx;function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xx.apply(this,arguments)}var Sx=function(e){return o.createElement("svg",xx({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:505,height:505,viewBox:"-252.5 -252.5 505 505"},e),cx||(cx=o.createElement("circle",{r:250,opacity:.05})),fx||(fx=o.createElement("g",{id:"angles_svg__b",stroke:"gray",strokeLinecap:"round"},o.createElement("path",{d:"M0-250v40m0 420v40M-250 0h40m420 0h40M21.789-249.049l-1.743 19.924m-40.092 458.25-1.743 19.924M-249.049-21.79l19.924 1.743m458.25 40.092 19.924 1.743"}),o.createElement("path",{id:"angles_svg__a",d:"M0-250v10m0 480v10M-250 0h10m480 0h10",transform:"rotate(1)"}),o.createElement("use",{xlinkHref:"#angles_svg__a",transform:"rotate(1)"}),o.createElement("use",{xlinkHref:"#angles_svg__a",transform:"rotate(2)"}),o.createElement("use",{xlinkHref:"#angles_svg__a",transform:"rotate(3)"}),o.createElement("use",{xlinkHref:"#angles_svg__a",transform:"rotate(5)"}),o.createElement("use",{xlinkHref:"#angles_svg__a",transform:"rotate(6)"}),o.createElement("use",{xlinkHref:"#angles_svg__a",transform:"rotate(7)"}),o.createElement("use",{xlinkHref:"#angles_svg__a",transform:"rotate(8)"}))),dx||(dx=o.createElement("use",{xlinkHref:"#angles_svg__b",transform:"rotate(10)"})),px||(px=o.createElement("use",{xlinkHref:"#angles_svg__b",transform:"rotate(20)"})),hx||(hx=o.createElement("use",{xlinkHref:"#angles_svg__b",transform:"rotate(30)"})),mx||(mx=o.createElement("use",{xlinkHref:"#angles_svg__b",transform:"rotate(40)"})),vx||(vx=o.createElement("use",{xlinkHref:"#angles_svg__b",transform:"rotate(50)"})),gx||(gx=o.createElement("use",{xlinkHref:"#angles_svg__b",transform:"rotate(60)"})),yx||(yx=o.createElement("use",{xlinkHref:"#angles_svg__b",transform:"rotate(70)"})),bx||(bx=o.createElement("use",{xlinkHref:"#angles_svg__b",transform:"rotate(80)"})),wx||(wx=o.createElement("g",{fill:"none",stroke:"gray"},o.createElement("path",{stroke:"green",d:"M-250 0h500M0-250v500"}),o.createElement("path",{stroke:"red",d:"m-176.777-176.777 353.554 353.554m0-353.554-353.554 353.554"}),o.createElement("circle",{r:200}),o.createElement("circle",{r:150}),o.createElement("circle",{r:100}),o.createElement("circle",{r:50}),o.createElement("circle",{r:250,stroke:"#000"}))))};function Ex(e){return Ex="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ex(e)}function _x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tx(r.key),r)}}function Tx(e){var t=function(e,t){if("object"!=Ex(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Ex(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ex(t)?t:String(t)}function Ox(e,t,n){return t=Cx(t),function(e,t){if(t&&("object"===Ex(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ax()?Reflect.construct(t,n||[],Cx(e).constructor):t.apply(e,n))}function Ax(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ax=function(){return!!e})()}function Cx(e){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cx(e)}function Px(e,t){return Px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Px(e,t)}var kx=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ox(this,t,[e])).rotation=n.props.rotation%360,n.adjustedAngle=0,n.currentAngle=0,n.transform="rotate(".concat(n.rotation,"deg)"),n.state={calculatedBackgroundStyle:"radial-gradient(at 50% 50%, #ffffff, #000000)"},n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Px(e,t)}(t,e),n=t,r=[{key:"rotatePoint",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!n)switch(i){case 0:this.adjustedAngle=0;break;case-270:case 90:this.adjustedAngle=90;break;case-180:case 180:this.adjustedAngle=180;break;case-90:case 270:this.adjustedAngle=270}var o=Math.PI/180*(i-this.adjustedAngle),a=Math.cos(o),s=Math.sin(o),l=a*(e-50)-s*(t-50)+50,u=a*(t-50)+s*(e-50)+50;n||r?this.setState({calculatedBackgroundStyle:"radial-gradient(at "+Math.abs(l)+"% "+Math.abs(u)+"%, #ffffff, #000000)"}):this.setState({calculatedBackgroundStyle:"radial-gradient(at "+Math.abs(e)+"% "+Math.abs(t)+"%, #ffffff, #000000)"})}},{key:"componentDidUpdate",value:function(e,t,n){e.rotation!==this.props.rotation&&this.rotatePoint(this.props.moveX,this.props.moveY,!0,this.props.flipped,this.props.rotation%360),e.moveX===this.props.moveX&&e.moveY===this.props.moveY||this.rotatePoint(this.props.moveX,this.props.moveY,!1,this.props.flipped,this.props.rotation%360),e.flipped!==this.props.flipped&&this.rotatePoint(this.props.moveX,this.props.moveY,!1,this.props.flipped,this.props.rotation%360)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.tooltipTitle,r=e.onMouseMove,i=e.onMouseDown,a=e.onMouseUp,s=e.onMouseLeave;return o.createElement(o.Fragment,null,o.createElement(Lw.Ay,{title:n},o.createElement("div",{id:t,style:{border:"#000000",width:"100px",height:"100px",margin:"13px",borderRadius:"50px",background:this.state.calculatedBackgroundStyle},"aria-label":"Change light direction","aria-expanded":"False",onMouseMove:r,onMouseDown:i,onMouseUp:a,onMouseLeave:s,onTouchMove:r},o.createElement(Sx,{width:"100px",height:"100px",alt:""}))))}}],r&&_x(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.Component);kx.propTypes={id:Sl().string.isRequired,tooltipTitle:Sl().string.isRequired,moveX:Sl().number.isRequired,moveY:Sl().number.isRequired,onMouseMove:Sl().func.isRequired,onMouseDown:Sl().func.isRequired,onMouseUp:Sl().func.isRequired,onMouseLeave:Sl().func.isRequired,onTouchMove:Sl().func.isRequired,mouseX:Sl().number.isRequired,mouseY:Sl().number.isRequired,flipped:Sl().bool.isRequired,rotation:Sl().number.isRequired},kx.defaultProps={mouseX:50,mouseY:50};const Rx=kx;function Ix(e){return Ix="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ix(e)}function Mx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dx(r.key),r)}}function Dx(e){var t=function(e,t){if("object"!=Ix(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Ix(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ix(t)?t:String(t)}function jx(e,t,n){return t=Nx(t),function(e,t){if(t&&("object"===Ix(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Lx()?Reflect.construct(t,n||[],Nx(e).constructor):t.apply(e,n))}function Lx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Lx=function(){return!!e})()}function Nx(e){return Nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nx(e)}function zx(e,t){return zx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zx(e,t)}var Bx=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jx(this,t,[e])}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zx(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.children,n="block";return"landscape"===e.aspect&&(n="flex"),o.createElement("div",{style:{display:n}},t)}}])&&Mx(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.Component);Bx.propTypes={children:Sl().oneOfType([Sl().arrayOf(Sl().node),Sl().node]).isRequired,aspect:Sl().string.isRequired};const Fx=Bx;function Wx(e){return Wx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wx(e)}function Hx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ux(r.key),r)}}function Ux(e){var t=function(e,t){if("object"!=Wx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Wx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Wx(t)?t:String(t)}function Vx(e,t,n){return t=qx(t),function(e,t){if(t&&("object"===Wx(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Gx()?Reflect.construct(t,n||[],qx(e).constructor):t.apply(e,n))}function Gx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Gx=function(){return!!e})()}function qx(e){return qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qx(e)}function Xx(e,t){return Xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xx(e,t)}var Zx=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vx(this,t,[e])}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xx(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e,t=this.props,n=t.id,r=t.sideBarOpen,i=t.children;return e=r?"37px":"8px",o.createElement("div",{style:{display:"grid",alignItems:"center",position:"absolute",top:"8px",borderRadius:"25px",zIndex:999,backgroundColor:"rgba(255, 255, 255, 0.8)",left:e},className:"MuiPaper-elevation4 ",id:n},i)}}])&&Hx(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.Component);Zx.propTypes={id:Sl().string.isRequired,sideBarOpen:Sl().bool,children:Sl().oneOfType([Sl().arrayOf(Sl().node),Sl().node]).isRequired};const $x=Zx;function Yx(e){return Yx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yx(e)}function Kx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jx(r.key),r)}}function Jx(e){var t=function(e,t){if("object"!=Yx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Yx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yx(t)?t:String(t)}function Qx(e,t,n){return t=tS(t),function(e,t){if(t&&("object"===Yx(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,eS()?Reflect.construct(t,n||[],tS(e).constructor):t.apply(e,n))}function eS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(eS=function(){return!!e})()}function tS(e){return tS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tS(e)}function nS(e,t){return nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nS(e,t)}var rS=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qx(this,t,[e])}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nS(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.onClick;return o.createElement(Js.Y,{"aria-label":"Reset all lighting settings to the default values",style:{clear:"both"},onClick:e},o.createElement(Zs.A,null))}}])&&Kx(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.Component);rS.propTypes={onClick:Sl().func.isRequired};const iS=rS;function oS(e){return oS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oS(e)}function aS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sS(r.key),r)}}function sS(e){var t=function(e,t){if("object"!=oS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=oS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==oS(t)?t:String(t)}function lS(e,t,n){return t=cS(t),function(e,t){if(t&&("object"===oS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,uS()?Reflect.construct(t,n||[],cS(e).constructor):t.apply(e,n))}function uS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(uS=function(){return!!e})()}function cS(e){return cS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cS(e)}function fS(e,t){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fS(e,t)}var dS=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),lS(this,t,[e])}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fS(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.children;return o.createElement("div",{style:{display:"flex",borderTop:"1px solid rgba(0, 0, 0, 0.2)",borderImageSlice:1,borderImageSource:"linear-gradient(to left, rgba(0, 0, 0, 0) 5%, rgba(0, 0, 0, 0.2) 5% 95%, rgba(0, 0, 0, 0) 95% )"}},e)}}])&&aS(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.Component);dS.propTypes={children:Sl().oneOfType([Sl().arrayOf(Sl().node),Sl().node]).isRequired};const pS=dS;var hS=n(46875),mS=n(67757);function vS(e){return vS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vS(e)}function gS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yS(r.key),r)}}function yS(e){var t=function(e,t){if("object"!=vS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=vS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==vS(t)?t:String(t)}function bS(e,t,n){return t=xS(t),function(e,t){if(t&&("object"===vS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wS()?Reflect.construct(t,n||[],xS(e).constructor):t.apply(e,n))}function wS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wS=function(){return!!e})()}function xS(e){return xS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xS(e)}function SS(e,t){return SS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},SS(e,t)}var ES=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),bS(this,t,[e])}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SS(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.active,n=e.onClick,r=e.id;return o.createElement(Js.Y,{id:r,"aria-label":t?"Turn off the 3D overlay to return to the default Mirador view":"Turn on the 3D overlay to relight this object virtually",style:{clear:"both"},onClick:n},t?o.createElement(hS.A,null):o.createElement(mS.A,null))}}])&&gS(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.Component);ES.propTypes={id:Sl().string.isRequired,active:Sl().bool,onClick:Sl().func.isRequired},ES.defaultProps={active:!1};const _S=ES;var TS=n(94082),OS=n(34923),AS=n(25703),CS=n(16635);function PS(e){return PS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PS(e)}function kS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RS(r.key),r)}}function RS(e){var t=function(e,t){if("object"!=PS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=PS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==PS(t)?t:String(t)}function IS(e,t,n){return t=DS(t),function(e,t){if(t&&("object"===PS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,MS()?Reflect.construct(t,n||[],DS(e).constructor):t.apply(e,n))}function MS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(MS=function(){return!!e})()}function DS(e){return DS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},DS(e)}function jS(e,t){return jS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jS(e,t)}var LS=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),IS(this,t,[e])}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jS(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.drawerOpen,n=e.aspect,r=e.onClick,i=t?o.createElement(OS.A,null):o.createElement(TS.A,null);return"landscape"===n&&(i=t?o.createElement(AS.A,null):o.createElement(CS.A,null)),o.createElement(Js.Y,{style:{clear:"both"},"aria-label":t?"Collapse relighting shader control sliders":"Expand shader control sliders to take control of the light levels and shading parameters. You can control light intensity, metalness, roughness, and normal depth here; there is a description of what each one does on the relevant slider, just hover over it and see.",onClick:r},i)}}])&&kS(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.Component);LS.propTypes={drawerOpen:Sl().bool.isRequired,aspect:Sl().string.isRequired,onClick:Sl().func.isRequired};const NS=LS,zS={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var BS,FS=new Uint8Array(16);function WS(){if(!BS&&!(BS="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return BS(FS)}for(var HS=[],US=0;US<256;++US)HS.push((US+256).toString(16).slice(1));const VS=function(e,t,n){if(zS.randomUUID&&!t&&!e)return zS.randomUUID();var r=(e=e||{}).random||(e.rng||WS)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return HS[e[t+0]]+HS[e[t+1]]+HS[e[t+2]]+HS[e[t+3]]+"-"+HS[e[t+4]]+HS[e[t+5]]+"-"+HS[e[t+6]]+HS[e[t+7]]+"-"+HS[e[t+8]]+HS[e[t+9]]+"-"+HS[e[t+10]]+HS[e[t+11]]+HS[e[t+12]]+HS[e[t+13]]+HS[e[t+14]]+HS[e[t+15]]}(r)};var GS=n(3324);function qS(e){return qS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qS(e)}function XS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZS(r.key),r)}}function ZS(e){var t=function(e,t){if("object"!=qS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=qS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qS(t)?t:String(t)}function $S(e,t,n){return t=KS(t),function(e,t){if(t&&("object"===qS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,YS()?Reflect.construct(t,n||[],KS(e).constructor):t.apply(e,n))}function YS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(YS=function(){return!!e})()}function KS(e){return KS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},KS(e)}function JS(e,t){return JS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},JS(e,t)}var QS=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=$S(this,t,[e])).state={lightX:n.props.lightX,lightY:n.props.lightY,normalDepth:n.props.normalDepth,shininess:n.props.shininess,zoom:n.props.zoom,width:n.props.intersection.width,height:n.props.intersection.height,contentWidth:n.props.contentWidth,contentHeight:n.props.contentHeight,x:n.props.intersection.x,y:n.props.intersection.y},n.id="canvas-container-"+VS(),n.threeResources={},n.groups={},n.scene=new Hv,n.renderer=new Wv({alpha:!1}),n.renderer.setSize(n.state.width*n.state.zoom,n.state.height*n.state.zoom),n.wireframe=!1,n.targetGeometry=new Vp(10,10,.2),n.targetMaterial=new cp,n.target=new Hp(n.targetGeometry,n.targetMaterial),n.target.position.set(0,0,0),n.camera=new wh(n.props.contentWidth/-2,n.props.contentWidth/2,n.props.contentHeight/2,n.props.contentHeight/-2,-1,1200),n.camera.position.set(0,0,1200),n._cameraOffset(n.camera,n.props);for(var r=0;r<n.props.maxTileLevel+1;r++)n.threeResources[r]={},n.threeResources[r].geometries={},n.threeResources[r].materials={},n.threeResources[r].meshes={};return n.generateTiles(),n.ambientLight=new _b(16777215,n.props.ambientIntensity),n.directionalLight=new Eb(16777215,n.props.directionalIntensity),n.directionalLight.position.set(0,0,999),n.directionalLightHelper=new sw(n.directionalLight,100,"#1967d2"),n.directionalLight.castShadow=!0,n.scene.add(n.target),n.scene.add(n.directionalLightHelper),n.directionalLight.target=n.target,n.moveLight(),n.scene.add(n.camera),n.scene.add(n.directionalLight),n.scene.add(n.ambientLight),n.directionalLightHelper.visible=n.props.helperOn,n.target.visible=n.props.helperOn,n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JS(e,t)}(t,e),n=t,(r=[{key:"_cameraOffset",value:function(e,t){e.setViewOffset(t.contentWidth*t.zoom,t.contentHeight*t.zoom,t.intersection.x*t.zoom,t.intersection.y*t.zoom,t.intersection.width*t.zoom,t.intersection.height*t.zoom)}},{key:"_updateTextures",value:function(){for(var e=0;e<this.props.maxTileLevel+1;e++)for(var t=0;t<this.props.tileSets[e].albedoTiles.urls.length;t++)this.threeResources[e].materials[this.props.tileSets[e].albedoTiles.urls[t]].map=this.props.images[this.props.tileSets[e].albedoTiles.urls[t]]||null,this.threeResources[e].materials[this.props.tileSets[e].albedoTiles.urls[t]].normalMap=this.props.images[this.props.tileSets[e].normalTiles.urls[t]]||null,this.threeResources[e].materials[this.props.tileSets[e].albedoTiles.urls[t]].needsUpdate=!0,this.threeResources[e].materials[this.props.tileSets[e].albedoTiles.urls[t]].normalScale=new Sf(this.props.normalDepth,this.props.normalDepth),this.threeResources[e].materials[this.props.tileSets[e].albedoTiles.urls[t]].shininess=this.props.shininess,this.threeResources[e].materials[this.props.tileSets[e].albedoTiles.urls[t]].metalness=this.props.metalness,this.threeResources[e].materials[this.props.tileSets[e].albedoTiles.urls[t]].roughness=this.props.roughness,this.threeResources[e].meshes[this.props.tileSets[e].albedoTiles.urls[t]].visible=!(null===this.threeResources[e].materials[this.props.tileSets[e].albedoTiles.urls[t]].map||null===this.threeResources[e].materials[this.props.tileSets[e].albedoTiles.urls[t]].normalMap)}},{key:"convertV3ImageURL",value:function(){}},{key:"generateTiles",value:function(){for(var e=0;e<this.props.maxTileLevel+1;e++){this.groups[e]=new jv;for(var t=0;t<this.props.tileSets[e].albedoTiles.urls.length;t++){var n=this.props.images[this.props.tileSets[e].albedoTiles.urls[t]],r=this.props.images[this.props.tileSets[e].normalTiles.urls[t]];GS.log("Threejs: ",this.props.tileSets[e].normalTiles.urls[t]),GS.log("Threejs: ",this.props.images),GS.log("Threejs: ",r);var i=void 0;n&&r?(n.needsUpdate=!0,r.needsUpdate=!0,i=this.props.renderMode?new Dy({map:n,normalMap:r,flatShading:!0,normalScale:new Sf(this.props.normalDepth,this.props.normalDepth),metalness:this.props.metalness,roughness:this.props.roughness,color:"#ffffff",wireframe:this.wireframe}):new Ly({map:n,normalMap:r,flatShading:!0,normalScale:new Sf(this.props.normalDepth,this.props.normalDepth),shininess:this.props.shininess,specular:"#ffffff",color:"#000000",wireframe:this.wireframe})):i=this.props.renderMode?new Dy({flatShading:!0,normalScale:new Sf(this.props.normalDepth,this.props.normalDepth),metalness:this.props.metalness,roughness:this.props.roughness,color:"#ffffff",wireframe:this.wireframe}):new Ly({flatShading:!0,normalScale:new Sf(this.props.normalDepth,this.props.normalDepth),shininess:this.props.shininess,specular:"#ffffff",color:"#000000",wireframe:this.wireframe});var o=this.props.tileSets[e].albedoTiles.tiles[t].x+this.props.tileSets[e].albedoTiles.tiles[t].w/2,a=this.props.tileSets[e].albedoTiles.tiles[t].y+this.props.tileSets[e].albedoTiles.tiles[t].h/2,s=new ch(this.props.tileSets[e].albedoTiles.tiles[t].w,this.props.tileSets[e].albedoTiles.tiles[t].h),l=new Hp(s,i);l.position.set(o,Math.ceil(this.props.intersection.height-a),0),n||r||(l.visible=!1),this.threeResources[e].geometries[this.props.tileSets[e].albedoTiles.urls[t]]=s,this.threeResources[e].materials[this.props.tileSets[e].albedoTiles.urls[t]]=i,this.threeResources[e].meshes[this.props.tileSets[e].albedoTiles.urls[t]]=l,this.groups[e].add(l)}(new Kf).setFromObject(this.groups[e]).getCenter(this.groups[e].position).multiplyScalar(-1),this.scene.add(this.groups[e])}}},{key:"rerender",value:function(){this.renderer.setSize(this.props.intersection.width*this.props.zoom,this.props.intersection.height*this.props.zoom),this._cameraOffset(this.camera,this.props);var e,t=new Sf;this.renderer.getSize(t),e=this.props.intersection.y<=0?this.props.intersection.y-this.props.intersection.height/2+this.props.contentHeight/2:-(this.props.intersection.y+this.props.intersection.height/2-this.props.contentHeight/2),this.target.position.set(this.props.intersection.x+this.props.intersection.width/2-this.props.contentWidth/2,e,0),this.moveLight()}},{key:"moveLight",value:function(){var e=new Zf(this.props.lightX,-this.props.lightY,0).sub(this.camera.position).normalize(),t=-this.camera.position.z/e.z,n=this.camera.position.clone().add(e.multiplyScalar(t));this.directionalLight.position.set(this.target.position.x+n.x*this.props.intersection.width,this.target.position.y+n.y*this.props.intersection.height,999),this.directionalLight.updateMatrixWorld(),this.target.updateMatrixWorld(),this.directionalLightHelper.updateMatrixWorld(),this.directionalLightHelper.update()}},{key:"startAnimation",value:function(){var e=this;!function t(){e.animateReq=requestAnimationFrame(t),e.renderer.render(e.scene,e.camera),e._updateTextures()}()}},{key:"stopAnimation",value:function(){null!==this.animateReq&&(cancelAnimationFrame(this.animateReq),this.animateReq=null)}},{key:"componentDidMount",value:function(){document.getElementById(this.id).appendChild(this.renderer.domElement),this.startAnimation()}},{key:"componentDidUpdate",value:function(e,t,n){this.directionalLightHelper.visible=this.props.helperOn,this.target.visible=this.props.helperOn,e.renderMode!==this.props.renderMode&&this.generateTiles(),e.tileLevel===this.props.tileLevel&&e.images.length===this.props.images.length||(this.groups[this.props.tileLevel].visible=!0),e.zoom===this.props.zoom&&e.intersection===this.props.intersection&&e.lightX===this.props.lightX&&e.lightY===this.props.lightY&&e.directionalIntensity===this.props.directionalIntensity&&e.ambientIntensity===this.props.ambientIntensity&&e.normalDepth===this.props.normalDepth||(this.ambientLight.intensity=this.props.ambientIntensity,this.directionalLight.intensity=this.props.directionalIntensity,this.moveLight(),this.rerender(),this.camera.updateProjectionMatrix(),this.directionalLight.updateMatrixWorld(),this.directionalLightHelper.updateMatrixWorld(),this.directionalLightHelper.update())}},{key:"componentWillUnmount",value:function(){this.stopAnimation(),this.renderer.forceContextLoss(),this.renderer.dispose()}},{key:"render",value:function(){return o.createElement("div",{id:"container",style:{position:"relative"}},o.createElement("div",{id:this.id,style:{width:"100%",height:"100%",position:"absolute",top:"0",left:"0"}}))}}])&&XS(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.Component);QS.propTypes={id:Sl().string.isRequired,contentWidth:Sl().number.isRequired,contentHeight:Sl().number.isRequired,tileLevel:Sl().number.isRequired,maxTileLevel:Sl().number.isRequired,lightX:Sl().number.isRequired,lightY:Sl().number.isRequired,zoom:Sl().number.isRequired,normalDepth:Sl().number.isRequired,metalness:Sl().number.isRequired,roughness:Sl().number.isRequired,shininess:Sl().number.isRequired,ambientIntensity:Sl().number.isRequired,directionalIntensity:Sl().number.isRequired,intersection:Sl().shape({height:Sl().number.isRequired,width:Sl().number.isRequired,x:Sl().number.isRequired,y:Sl().number.isRequired}).isRequired,images:Sl().arrayOf(Hf.type).isRequired,tileSets:Sl().arrayOf(Sl().any).isRequired,helperOn:Sl().bool.isRequired,renderMode:Sl().bool.isRequired};const eE=QS;function tE(e){return tE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tE(e)}function nE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rE(r.key),r)}}function rE(e){var t=function(e,t){if("object"!=tE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=tE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==tE(t)?t:String(t)}function iE(e,t,n){return t=aE(t),function(e,t){if(t&&("object"===tE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,oE()?Reflect.construct(t,n||[],aE(e).constructor):t.apply(e,n))}function oE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(oE=function(){return!!e})()}function aE(e){return aE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},aE(e)}function sE(e,t){return sE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sE(e,t)}var lE=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),iE(this,t,[e])}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sE(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.threeCanvasProps,t=e.images,n=e.zoom,r=e.rendererInstructions,i=e.contentWidth,a=e.contentHeight,s=e.lightX,l=e.lightY,u=e.normalDepth,c=e.metalness,f=e.roughness,d=e.shininess,p=e.directionalIntensity,h=e.ambientIntensity,m=e.tileLevel,v=e.maxTileLevel,g=e.tileSets,y=e.tileLevels,b=e.helperOn,w=e.renderMode;return o.createElement(eE,{images:t,zoom:n,intersection:r.intersection,contentWidth:i,contentHeight:a,lightX:s,lightY:l,normalDepth:u,metalness:c,roughness:f,shininess:d,directionalIntensity:p,ambientIntensity:h,tileLevel:m,maxTileLevel:v,tileSets:g,tileLevels:y,helperOn:b,renderMode:w})}}])&&nE(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.Component);lE.propTypes={threeCanvasProps:(0,xl.shape)({images:Sl().arrayOf(Hf.type).isRequired,zoom:Sl().number.isRequired,intersection:Sl().shape({height:Sl().number.isRequired,width:Sl().number.isRequired,x:Sl().number.isRequired,y:Sl().number.isRequired}).isRequired,contentWidth:Sl().number.isRequired,contentHeight:Sl().number.isRequired,lightX:Sl().number.isRequired,lightY:Sl().number.isRequired,normalDepth:Sl().number.isRequired,metalness:Sl().number.isRequired,roughness:Sl().number.isRequired,shininess:Sl().number.isRequired,directionalIntensity:Sl().number.isRequired,ambientIntensity:Sl().number.isRequired,tileLevel:Sl().number.isRequired,maxTileLevel:Sl().number.isRequired,tileSets:Sl().arrayOf(Sl().any).isRequired,tileLevels:Sl().arrayOf(Sl().number).isRequired,helperOn:Sl().bool.isRequired,renderMode:Sl().bool.isRequired})};const uE=lE;var cE=n(33497);function fE(e){return fE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fE(e)}function dE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pE(r.key),r)}}function pE(e){var t=function(e,t){if("object"!=fE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=fE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fE(t)?t:String(t)}function hE(e,t,n){return t=vE(t),function(e,t){if(t&&("object"===fE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mE()?Reflect.construct(t,n||[],vE(e).constructor):t.apply(e,n))}function mE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(mE=function(){return!!e})()}function vE(e){return vE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vE(e)}function gE(e,t){return gE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gE(e,t)}var yE=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hE(this,t,[e])}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gE(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.open,n=e.onClick;return o.createElement(Js.Y,{"aria-label":t?"Collapse relighting tools":"Expand relighting tools to access controls that allow 3D rendering of this object in your browser",style:{float:"left",clear:"both"},onClick:n},t?o.createElement(Xs.A,null):o.createElement(cE.A,null))}}])&&dE(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.Component);yE.propTypes={open:Sl().bool.isRequired,onClick:Sl().func.isRequired};const bE=yE;function wE(e){return wE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wE(e)}function xE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SE(r.key),r)}}function SE(e){var t=function(e,t){if("object"!=wE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=wE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==wE(t)?t:String(t)}function EE(e,t,n){return t=TE(t),function(e,t){if(t&&("object"===wE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_E()?Reflect.construct(t,n||[],TE(e).constructor):t.apply(e,n))}function _E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_E=function(){return!!e})()}function TE(e){return TE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},TE(e)}function OE(e,t){return OE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},OE(e,t)}var AE=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),EE(this,t,[e])}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OE(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.children;return o.createElement("div",{style:{display:"inline-block"}},e)}}])&&xE(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.Component);AE.propTypes={children:Sl().oneOfType([Sl().arrayOf(Sl().node),Sl().node]).isRequired};const CE=AE;var PE=n(94782),kE=n(77982);function RE(e){return RE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RE(e)}function IE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ME(r.key),r)}}function ME(e){var t=function(e,t){if("object"!=RE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=RE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==RE(t)?t:String(t)}function DE(e,t,n){return t=LE(t),function(e,t){if(t&&("object"===RE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jE()?Reflect.construct(t,n||[],LE(e).constructor):t.apply(e,n))}function jE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jE=function(){return!!e})()}function LE(e){return LE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},LE(e)}function NE(e,t){return NE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},NE(e,t)}var zE=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),DE(this,t,[e])}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NE(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.helperOn,n=e.onClick;return o.createElement(Js.Y,{"aria-label":t?"Turn off the light direction helper":"Turn on a light direction helper to help you to visualise light position",style:{clear:"both"},onClick:n,helperOn:t},t?o.createElement(PE.A,null):o.createElement(kE.A,null))}}])&&IE(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.Component);zE.propTypes={helperOn:Sl().bool.isRequired,onClick:Sl().func.isRequired};const BE=zE;var FE=n(53391),WE=n(3229);function HE(e){return HE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HE(e)}function UE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VE(r.key),r)}}function VE(e){var t=function(e,t){if("object"!=HE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=HE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==HE(t)?t:String(t)}function GE(e,t,n){return t=XE(t),function(e,t){if(t&&("object"===HE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qE()?Reflect.construct(t,n||[],XE(e).constructor):t.apply(e,n))}function qE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qE=function(){return!!e})()}function XE(e){return XE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},XE(e)}function ZE(e,t){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ZE(e,t)}var $E=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),GE(this,t,[e])}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZE(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.mode,n=e.onClick;return o.createElement(Js.Y,{"aria-label":t?"Render using specular enhancement to make the highlights really pop out":"Render using physically based renderer (PBR) for a realistic digital fascimile",style:{clear:"both"},onClick:n},t?o.createElement(WE.A,null):o.createElement(FE.A,null))}}])&&UE(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.Component);$E.propTypes={mode:Sl().bool.isRequired,onClick:Sl().func.isRequired};const YE=$E;var KE=n(22571);function JE(e){return JE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JE(e)}function QE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,e_(r.key),r)}}function e_(e){var t=function(e,t){if("object"!=JE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=JE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==JE(t)?t:String(t)}function t_(e,t,n){return t=r_(t),function(e,t){if(t&&("object"===JE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,n_()?Reflect.construct(t,n||[],r_(e).constructor):t.apply(e,n))}function n_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(n_=function(){return!!e})()}function r_(e){return r_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r_(e)}function i_(e,t){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i_(e,t)}var o_=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),t_(this,t,[e])}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i_(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.onClick,r=e.active;return o.createElement(Js.Y,{id:t,"aria-label":"Click here to cycle through the layers for this object in Mirador; layers can tell you extra information about this object.",style:{clear:"both"},onClick:n,disabled:r},o.createElement(KE.A,null))}}])&&QE(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.Component);o_.propTypes={id:Sl().string.isRequired,onClick:Sl().func.isRequired,active:Sl().bool.isRequired};const a_=o_;function s_(e){return s_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s_(e)}function l_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u_(r.key),r)}}function u_(e){var t=function(e,t){if("object"!=s_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=s_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s_(t)?t:String(t)}function c_(e,t,n){return t=d_(t),function(e,t){if(t&&("object"===s_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,f_()?Reflect.construct(t,n||[],d_(e).constructor):t.apply(e,n))}function f_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f_=function(){return!!e})()}function d_(e){return d_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d_(e)}function p_(e,t){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p_(e,t)}var h_=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c_(this,t,[e])}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p_(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.tooltipTitle,r=e.defaultIntensity,i=e.intensity,a=e.onChange,s=e.step,l=e.min,u=e.max,c=e.orientation,f=e.size;return o.createElement(Lw.Ay,{title:n},o.createElement(Qs.A,{id:t,style:{marginTop:"20px",marginBottom:"20px",height:"87px",padding:"0px 15px"},size:f,orientation:c,marks:!0,defaultValue:r,value:i,step:s,min:l,max:u,onChange:a}))}}])&&l_(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.Component);h_.propTypes={id:Sl().string.isRequired,tooltipTitle:Sl().string.isRequired,onChange:Sl().func.isRequired,intensity:Sl().number,defaultIntensity:Sl().number,step:Sl().number,min:Sl().number,max:Sl().number,orientation:Sl().string,size:Sl().string},h_.defaultProps={intensity:30,defaultIntensity:30,step:1,min:0,max:100,orientation:"vertical",size:"small"};const m_=h_;function v_(e){return v_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v_(e)}function g_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y_(r.key),r)}}function y_(e){var t=function(e,t){if("object"!=v_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=v_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==v_(t)?t:String(t)}function b_(e,t,n){return t=x_(t),function(e,t){if(t&&("object"===v_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,w_()?Reflect.construct(t,n||[],x_(e).constructor):t.apply(e,n))}function w_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(w_=function(){return!!e})()}function x_(e){return x_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x_(e)}function S_(e,t){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S_(e,t)}var E_=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b_(this,t,[e])}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S_(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.tooltipTitle,r=e.defaultIntensity,i=e.intensity,a=e.onChange,s=e.step,l=e.min,u=e.max,c=e.orientation,f=e.size;return o.createElement(Lw.Ay,{title:n},o.createElement(Qs.A,{id:t,style:{marginTop:"20px",marginBottom:"20px",height:"87px",padding:"0px 15px"},size:f,orientation:c,marks:!0,defaultValue:r,value:i,step:s,min:l,max:u,onChange:a}))}}])&&g_(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.Component);E_.propTypes={id:Sl().string.isRequired,tooltipTitle:Sl().string.isRequired,onChange:Sl().func.isRequired,intensity:Sl().number,defaultIntensity:Sl().number,step:Sl().number,min:Sl().number,max:Sl().number,orientation:Sl().string,size:Sl().string},E_.defaultProps={intensity:0,defaultIntensity:0,step:.1,min:0,max:1,orientation:"vertical",size:"small"};const __=E_;function T_(e){return T_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T_(e)}function O_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A_(r.key),r)}}function A_(e){var t=function(e,t){if("object"!=T_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=T_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==T_(t)?t:String(t)}function C_(e,t,n){return t=k_(t),function(e,t){if(t&&("object"===T_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,P_()?Reflect.construct(t,n||[],k_(e).constructor):t.apply(e,n))}function P_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(P_=function(){return!!e})()}function k_(e){return k_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k_(e)}function R_(e,t){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R_(e,t)}var I_=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),C_(this,t,[e])}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R_(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.tooltipTitle,r=e.defaultIntensity,i=e.intensity,a=e.onChange,s=e.step,l=e.min,u=e.max,c=e.orientation,f=e.size;return o.createElement(Lw.Ay,{title:n},o.createElement(Qs.A,{id:t,style:{marginTop:"20px",marginBottom:"20px",height:"87px",padding:"0px 15px"},size:f,orientation:c,marks:!0,defaultValue:r,value:i,step:s,min:l,max:u,onChange:a}))}}])&&O_(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.Component);I_.propTypes={id:Sl().string.isRequired,tooltipTitle:Sl().string.isRequired,onChange:Sl().func.isRequired,intensity:Sl().number,defaultIntensity:Sl().number,step:Sl().number,min:Sl().number,max:Sl().number,orientation:Sl().string,size:Sl().string},I_.defaultProps={intensity:.5,defaultIntensity:.5,step:.1,min:0,max:1,orientation:"vertical",size:"small"};const M_=I_;function D_(e){return D_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D_(e)}function j_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,N_(r.key),r)}}function N_(e){var t=function(e,t){if("object"!=D_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=D_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==D_(t)?t:String(t)}function z_(e,t,n){return t=F_(t),function(e,t){if(t&&("object"===D_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,B_()?Reflect.construct(t,n||[],F_(e).constructor):t.apply(e,n))}function B_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(B_=function(){return!!e})()}function F_(e){return F_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},F_(e)}function W_(e,t){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W_(e,t)}var H_=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=z_(this,t,[e])).state={active:!1,flipped:!1,open:n.props.window.archioxPluginOpen||!1,drawerOpen:!1,visible:!1,loaded:!1,loadHandlerAdded:!1,threeCanvasProps:{}},n.threeCanvasProps={},n.mouseDown=!1,n.mouseX=50,n.mouseY=50,n.moveX=50,n.moveY=50,n.lightX=0,n.lightY=0,n.metalness=0,n.roughness=.5,n.shininess=30,n.directionalIntensity=1,n.ambientIntensity=.1,n.images={},n.tileSets={},n.tileLevels={},n.helperOn=!1,n.renderMode=!0,n.albedoInfo={},n.renderMode?n.normalDepth=1:n.normalDepth=10,n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W_(e,t)}(t,e),n=t,(r=[{key:"onMouseMove",value:function(e,t,n){var r=document.getElementById(t).getBoundingClientRect();"mousemove"===e.type&&this.mouseDown?(e.preventDefault(),this.moveX=e.clientX-r.left,this.moveY=e.clientY-r.top):"touchmove"===e.type&&(this.mouseDown=!0,this.moveX=e.touches[0].clientX-r.left,this.moveY=e.touches[0].clientY-r.top);var i=n%360;if(this.mouseDown){switch(i){case 0:this.mouseX=this.moveX,this.mouseY=this.moveY,this.lightX=this.mouseX/100*2-1,this.lightY=this.mouseY/100*2-1,this.lightX=this.flipped?-this.lightX:this.lightX;break;case-270:case 90:this.mouseX=this.moveY,this.mouseY=this.moveX,this.lightX=this.mouseX/100*2-1,this.lightY=-(this.mouseY/100*2-1),this.lightY=this.flipped?-this.lightY:this.lightY;break;case-180:case 180:this.mouseX=this.moveX,this.mouseY=this.moveY,this.lightX=-(this.mouseX/100*2-1),this.lightY=-(this.mouseY/100*2-1),this.lightX=this.flipped?-this.lightX:this.lightX;break;case-90:case 270:this.mouseX=this.moveY,this.mouseY=this.moveX,this.lightX=-(this.mouseX/100*2-1),this.lightY=this.mouseY/100*2-1,this.lightY=this.flipped?-this.lightY:this.lightY}this.threeCanvasProps.lightX=this.lightX,this.threeCanvasProps.lightY=this.lightY,this.setState({threeCanvasProps:this.threeCanvasProps})}}},{key:"onMouseDown",value:function(){this.mouseDown=!0}},{key:"onMouseUp",value:function(){this.mouseDown=!1}},{key:"onMouseLeave",value:function(){this.mouseDown=!1}},{key:"onDirectionalLightChange",value:function(e,t){this.directionalIntensity=t,this.threeCanvasProps.directionalIntensity=t,this.setState({threeCanvasProps:this.threeCanvasProps})}},{key:"onAmbientLightChange",value:function(e,t){this.ambientIntensity=t,this.threeCanvasProps.ambientIntensity=t,this.setState({threeCanvasProps:this.threeCanvasProps})}},{key:"onNormalDepthChange",value:function(e,t){this.normalDepth=t,this.threeCanvasProps.normalDepth=t,this.setState({threeCanvasProps:this.threeCanvasProps})}},{key:"onShininessChange",value:function(e,t){this.shininess=t,this.threeCanvasProps.shininess=t,this.setState({threeCanvasProps:this.threeCanvasProps})}},{key:"onMetalnessChange",value:function(e,t){this.metalness=t,this.threeCanvasProps.metalness=t,this.setState({threeCanvasProps:this.threeCanvasProps})}},{key:"onRoughnessChange",value:function(e,t){this.roughness=t,this.threeCanvasProps.roughness=t,this.setState({threeCanvasProps:this.threeCanvasProps})}},{key:"menuHandler",value:function(){this.setState((function(e){return{open:!e.open}}))}},{key:"resetHandler",value:function(e){this.state.active&&(this.ambientIntensity=.1,this.directionalIntensity=1,this.lightX=0,this.lightY=0,this.renderMode?this.normalDepth=1:this.normalDepth=10,this.metalness=0,this.roughness=.5,this.shininess=30,this.moveX=50,this.moveY=50,document.getElementById(e).style.background="radial-gradient(at 50% 50%, #ffffff, #000000)",this.initialiseThreeCanvasProps(),this.setState({threeCanvasProps:this.threeCanvasProps}))}},{key:"helperHandler",value:function(){this.helperOn=!this.helperOn,this.updateOverlay()}},{key:"initialiseThreeCanvasProps",value:function(){var e=this.props.viewer.viewport.getZoom(!0);this.threeCanvasProps={},this.threeCanvasProps.helperOn=this.helperOn,this.threeCanvasProps.renderMode=this.renderMode,this.threeCanvasProps.rendererInstructions=Iw(this.props),this.threeCanvasProps.zoom=this.props.viewer.world.getItemAt(0).viewportToImageZoom(e),this.threeCanvasProps.albedoMap=this.albedoMap,this.threeCanvasProps.normalMap=this.normalMap,this.threeCanvasProps.lightX=this.lightX,this.threeCanvasProps.lightY=this.lightY,this.threeCanvasProps.normalDepth=this.normalDepth,this.threeCanvasProps.metalness=this.metalness,this.threeCanvasProps.roughness=this.roughness,this.threeCanvasProps.shininess=this.shininess,this.threeCanvasProps.directionalIntensity=this.directionalIntensity,this.threeCanvasProps.ambientIntensity=this.ambientIntensity,this.threeCanvasProps.tileLevel=this.tileLevel,this.threeCanvasProps.minTileLevel=Math.min.apply(Math,this.tileLevels),this.threeCanvasProps.tileLevels=this.tileLevels,this.threeCanvasProps.maxTileLevel=this.albedoInfo.tiles[0].scaleFactors.length-1,this.tileSets=function(e,t,n,r){for(var i={},o=0;o<e+1;o++)i[o]={albedoTiles:Cw(n,t,o),normalTiles:Cw(r,t,o)};return i}(this.threeCanvasProps.maxTileLevel,this.albedoInfo,this.threeCanvasProps.albedoMap,this.threeCanvasProps.normalMap),this.threeCanvasProps.contentWidth=this.tileSets[1].albedoTiles.width,this.threeCanvasProps.contentHeight=this.tileSets[1].albedoTiles.height,this.threeCanvasProps.images=this.images,this.threeCanvasProps.tileSets=this.tileSets}},{key:"updateOverlay",value:function(){this.updateThreeCanvasProps(),this.setState({threeCanvasProps:this.threeCanvasProps}),this.overlay&&this.overlay.update(this.threeCanvasProps.rendererInstructions.intersectionTopLeft)}},{key:"generateMapData",value:function(){this.albedoMap=Rw(this.props.canvas.iiifImageResources,"albedo"),this.normalMap=Rw(this.props.canvas.iiifImageResources,"normal"),this.map_ids=[this.albedoMap.split("/").pop(),this.normalMap.split("/").pop()]}},{key:"updateThreeCanvasProps",value:function(){this.threeCanvasProps.renderMode=this.renderMode,this.threeCanvasProps.helperOn=this.helperOn;var e=this.props.viewer.viewport.getZoom(!0);this.threeCanvasProps.rendererInstructions=Iw(this.props),this.threeCanvasProps.zoom=this.props.viewer.viewport.viewer.world.getItemAt(0).viewportToImageZoom(e),this.threeCanvasProps.tileLevel=this.tileLevel,this.threeCanvasProps.images=this.images}},{key:"torchHandler",value:function(){var e,t=this;this.albedoInfo=this.props.state.infoResponses[this.albedoMap].json,this.setState((function(e){return{active:!e.active}})),e=this.state.active?["normal","albedo","composite"]:["normal","albedo"],Mw(this.props.state,this.props.canvas.iiifImageResources,this.props.windowId,this.props.updateLayers,e,this.canvasId),this.state.active?(this.props.viewer.removeOverlay(this.threeCanvas),this.props.viewer.removeAllHandlers("viewport-change")):(this.initialiseThreeCanvasProps(),this.props.viewer.addOverlay(this.threeCanvas),this.overlay=this.props.viewer.getOverlayById(this.threeCanvas),this.overlay.update(this.threeCanvasProps.rendererInstructions.intersectionTopLeft),this.props.viewer.forceRedraw(),this.props.viewer.addHandler("viewport-change",(function(){t.updateOverlay()})),this.props.viewer.addHandler("rotate",(function(){t.updateOverlay()}))),this.state.active?a.unmountComponentAtNode(this.threeCanvas):a.render(o.createElement(uE,{threeCanvasProps:this.threeCanvasProps}),this.threeCanvas)}},{key:"annotationsHandler",value:function(){}},{key:"renderHandler",value:function(){this.renderMode=!this.renderMode,this.resetHandler(this.props.relightLightDirectionID),this.updateOverlay()}},{key:"defaultLayerHandler",value:function(){var e,t,n=(e=this.props.state,(0,Rs.t)(e).layers)[this.props.windowId][this.canvasId];n&&(t=Object.entries(n).map((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,n)||function(e,t){if(e){if("string"==typeof e)return j_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j_(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],o=r[1];return{url:i,index:o.index,visibility:o.visibility}})).sort((function(e,t){return e.index-t.index})).map((function(e){return{id:e.url}})));var r=Pw(this.props.canvas.iiifImageResources);void 0!==this.layers||n?this.layers=t:this.layers=kw(this.props.canvas.iiifImageResources),this.layers.push(this.layers.shift());var i=Dw(this.layers,r,["composite","albedo","normal","shaded","depth","none"]);jw(this.props.windowId,this.canvasId,this.props.updateLayers,i).next()}},{key:"drawerHandler",value:function(){this.setState((function(e){return{drawerOpen:!e.drawerOpen}}))}},{key:"disposeTextures",value:function(e){for(var t in e)e[t]instanceof Hf&&(e[t].dispose(),delete e[t])}},{key:"componentDidUpdate",value:function(e,t,n){this.state.active&&a.render(o.createElement(uE,{threeCanvasProps:this.threeCanvasProps}),this.threeCanvas)}},{key:"componentWillUnmount",value:function(){this.disposeTextures(this.images)}},{key:"render",value:function(){var e,t=this;if(this.aspect=(e="portrait",window.innerHeight<window.innerWidth&&(e="landscape"),e),void 0===this.props.canvas||this.state.visible||(this.albedoMap=Rw(this.props.canvas.iiifImageResources,"albedo"),this.normalMap=Rw(this.props.canvas.iiifImageResources,"normal"),void 0===this.albedoMap||void 0===this.normalMap||this.state.visible||(this.setState((function(e){return{visible:!e.visible}})),this.map_ids=[this.albedoMap.split("/").pop(),this.normalMap.split("/").pop()]),this.viewer=this.props.viewer,this.threeCanvas=document.createElement("div"),this.threeCanvas.id="three-canvas-"+this.props.relightThreeCanvasID),this.props.viewer&&void 0!==this.albedoMap&&void 0!==this.normalMap&&!this.state.loaded&&!this.state.loadHandlerAdded){this.setState({loaded:!0});var n=["composite","normal","albedo"];this.maps=Pw(this.props.canvas.iiifImageResources),this.canvasId=this.props.canvas.id,this.rotation=this.props.viewer.viewport.getRotation(!0),this.flipped=this.props.viewer.viewport.flipped,Mw(this.props.state,this.props.canvas.iiifImageResources,this.props.windowId,this.props.updateLayers,n,this.canvasId),this.props.viewer.addHandler("rotate",(function(e){t.rotation=e.degrees})),this.props.viewer.addHandler("flip",(function(e){t.flipped=e.flipped,t.setState({flipped:t.flipped})})),this.props.viewer.addHandler("close",(function(){t.canvasId=t.props.canvas.id,Mw(t.props.state,t.props.canvas.iiifImageResources,t.props.windowId,t.props.updateLayers,n,t.canvasId),t.generateMapData(),t.setState({active:!1,visible:!1}),t.props.viewer.removeAllHandlers("viewport-change")})),this.props.viewer.addHandler("tile-loaded",(function(e){t.setState({loadHandlerAdded:!0}),t.tileLevels[e.tile.level]=e.tile.level,t.tileLevel=e.tile.level;var n=e.data.currentSrc.split("/")[5],r=document.createElement("canvas"),i=new Hf(e.data),o=e.tile.cacheKey;r.width=e.data.width,r.height=e.data.height,e.tile.context2D=r.getContext("2d"),e.tile.context2D.drawImage(e.data,0,0),i.needsUpdate=!0,t.map_ids.includes(n)&&(o in t.images||(t.images[o]=i,t.threeCanvasProps.images=t.images),t.setState({threeCanvasProps:t.threeCanvasProps}))}))}var r,i=null,a=null,s=null,l=null,u=null;if(r=this.renderMode?o.createElement(ex,{id:this.props.relightAmbientLightIntensityID,tooltipTitle:"Change the ambient light intensity (the incidental light): increasing this can help you to see the colours of the object more clearly",intensity:this.state.threeCanvasProps.ambientIntensity,onChange:function(e,n){return t.onAmbientLightChange(e,n)}}):null,this.state.active){if(s=o.createElement(pS,null,o.createElement(iS,{onClick:function(){return t.resetHandler(t.props.relightLightDirectionID)}}),o.createElement(BE,{helperOn:this.helperOn,onClick:function(){return t.helperHandler()}}),o.createElement(YE,{mode:this.renderMode,onClick:function(){return t.renderHandler()}}),o.createElement(NS,{drawerOpen:this.state.drawerOpen,aspect:this.aspect,onClick:function(){return t.drawerHandler()}})),l=this.renderMode?o.createElement(o.Fragment,null,o.createElement(M_,{id:this.props.relightRoughnessIntensityID,tooltipTitle:"Change material roughness: change the roughness to model how polished the material is, glass is highly polished (low roughness) and a corroded piece of metal is not (high roughness).",intensity:this.state.threeCanvasProps.roughness,onChange:function(e,n){return t.onRoughnessChange(e,n)}}),o.createElement(__,{id:this.props.relightMetalnessIntensityID,tooltipTitle:"Change material metalness: change the metalness to model how metalic the material is, generally a metal has a metalness of 1, however I highly corroded metal and a none metal would have a metalness of 0.",intensity:this.state.threeCanvasProps.metalness,onChange:function(e,n){return t.onMetalnessChange(e,n)}})):o.createElement(o.Fragment,null,o.createElement(m_,{id:this.props.relightShininessIntensityID,tooltipTitle:"Change the shininess of the object: increasing this can enhance the reflective highlights to bring out more features",intensity:this.state.threeCanvasProps.shininess,onChange:function(e,n){return t.onShininessChange(e,n)}})),this.state.drawerOpen){var c={textAlign:"center"};"landscape"===this.aspect&&(c={textAlign:"center",marginRight:"13px"}),u=o.createElement("div",{style:c},o.createElement(ux,{id:this.props.relightDirectionalLightIntensityID,tooltipTitle:"Change the directional light intensity (the torch): decreasing this can help you to see more features if the light is over saturated",intensity:this.state.threeCanvasProps.directionalIntensity,onChange:function(e,n){return t.onDirectionalLightChange(e,n)}}),r,o.createElement(Gw,{id:this.props.relightNormalDepthID,tooltipTitle:"Change normal map depth: increasing this exagerates the depth of the details helping to bring out more features",normalDepth:this.state.threeCanvasProps.normalDepth,onChange:function(e,n){return t.onNormalDepthChange(e,n)}}),l)}else u=null;a=o.createElement(Fx,{aspect:this.aspect},o.createElement("div",{style:{maxWidth:"fit-content",marginInline:"auto"}},o.createElement(Rx,{id:this.props.relightLightDirectionID,aspect:this.aspect,tooltipTitle:"Change the directional light direction by dragging your mouse over this control: more raking light can help to reveal hidden details",moveX:this.moveX,moveY:this.moveY,mouseX:this.mouseX,mouseY:this.mouseY,flipped:this.state.flipped,onMouseMove:function(e){return t.onMouseMove(e,t.props.relightLightDirectionID,t.rotation)},onMouseDown:function(e){return t.onMouseDown(e)},onMouseUp:function(e){return t.onMouseUp(e)},onMouseLeave:function(e){return t.onMouseLeave(e)},onTouchMove:function(e){return t.onMouseMove(e,t.props.relightLightDirectionID,t.rotation)},rotation:this.rotation})),u)}return this.state.visible&&this.state.open?i=o.createElement($x,{id:this.props.relightToolMenuID,visible:this.state.visible,sideBarOpen:this.props.window.sideBarOpen},o.createElement(CE,{id:this.props.relightMenuButtonsID},o.createElement(bE,{onClick:function(){return t.menuHandler()},open:this.state.open}),o.createElement(_S,{id:this.props.relightTorchButtonID,onClick:function(){return t.torchHandler()},active:this.state.active}),o.createElement(a_,{id:this.props.relightCycleDefaultLayerID,onClick:function(){return t.defaultLayerHandler()},active:this.state.active})),s,a):this.state.visible&&!this.state.open?i=o.createElement($x,{id:this.props.relightToolMenuID,visible:this.state.visible,sideBarOpen:this.props.window.sideBarOpen},o.createElement(bE,{open:this.state.open,onClick:function(){return t.menuHandler()}})):this.state.visible||(i=null),o.createElement(o.Fragment,null,i)}}])&&L_(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.Component);H_.propTypes={onClick:Sl().func.isRequired,ambientIntensity:Sl().number.isRequired,updateLayers:Sl().func.isRequired,windowId:Sl().number.isRequired,viewer:Sl().object.isRequired,window:Sl().object.isRequired,canvas:Sl().object.isRequired,state:Sl().object.isRequired,relightLightDirectionID:Sl().string.isRequired,relightThreeCanvasID:Sl().string.isRequired,relightAmbientLightIntensityID:Sl().string.isRequired,relightRoughnessIntensityID:Sl().string.isRequired,relightMetalnessIntensityID:Sl().string.isRequired,relightShininessIntensityID:Sl().string.isRequired,relightDirectionalLightIntensityID:Sl().string.isRequired,relightNormalDepthID:Sl().string.isRequired,relightToolMenuID:Sl().string.isRequired,relightMenuButtonsID:Sl().string.isRequired,relightTorchButtonID:Sl().string.isRequired,relightAnnotationButtonID:Sl().string.isRequired,relightCycleDefaultLayerID:Sl().string.isRequired};const U_=H_;var V_=n(44269);function G_(e){return G_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G_(e)}function q_(){q_=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),s=new k(r||[]);return i(a,"_invoke",{value:O(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};u(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(R([])));S&&S!==n&&r.call(S,a)&&(w=S);var E=b.prototype=g.prototype=Object.create(w);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,o,a,s){var l=f(e[i],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==G_(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function O(t,n,r){var i=d;return function(o,a){if(i===h)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=A(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var u=f(t,n,r);if("normal"===u.type){if(i=r.done?m:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=m,r.method="throw",r.arg=u.arg)}}}function A(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(G_(t)+" is not iterable")}return y.prototype=b,i(E,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},_(T.prototype),u(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new T(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(E),u(E,l,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}var X_=q_().mark(K_),Z_=q_().mark(J_);function $_(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Y_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Y_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K_(e){var t,n,r,i,o,a,s,l,u,c,f,d,p,h,m,v,g,y;return q_().wrap((function(b){for(;;)switch(b.prev=b.next){case 0:return t=Jo.Aq,n=V_.o,r=Es._R,i=e.windowId,o=["composite","normal","albedo"],b.next=7,Vn(Eo.sl,i);case 7:a=b.sent,s=Object.keys(a).map((function(e){return a[e].id})),l=$_(s),b.prev=10,l.s();case 12:if((u=l.n()).done){b.next=40;break}return c=u.value,f=void 0,b.next=17,Vn(So.kR,{windowId:c});case 17:if(d=b.sent,p=d.id,h=Pw(d.iiifImageResources),m=kw(d.iiifImageResources),"Choice"!==d.__jsonld.items[0].items[0].body.type){b.next=38;break}return v=[{key:"single",behaviors:["individuals","paged"]},{key:"book",behaviors:["individuals","paged"]},{key:"scroll",behaviors:["continuous"]},{key:"gallery"}],b.next=25,Vn(E.zj);case 25:return g=b.sent,y=!0,(s.length>1||navigator.userAgent.indexOf("Mobi")>-1)&&(y=!1),g.window.views=v,g.window.sideBarOpen=y,g.window.imageToolsEnabled=!0,f=Dw(m,h,o),b.next=34,zn(n(c,p,f));case 34:return b.next=36,zn(t(c,y));case 36:return b.next=38,zn(r(g));case 38:b.next=12;break;case 40:b.next=45;break;case 42:b.prev=42,b.t0=b.catch(10),l.e(b.t0);case 45:return b.prev=45,l.f(),b.finish(45);case 48:case"end":return b.stop()}}),X_,null,[[10,42,45,48]])}function J_(){return q_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bn([uo(Mr.A.SET_CANVAS,K_)]);case 2:case"end":return e.stop()}}),Z_)}const Q_={Mirador:Ns,MiradorPlugins:{relightMiradorPlugin:[{target:"OpenSeadragonViewer",mapDispatchToProps:{updateLayers:V_.o},mapStateToProps:function(e,t){var n=t.windowId;return{relightLightDirectionID:VS(),relightThreeCanvasID:VS(),relightAmbientLightIntensityID:VS(),relightRoughnessIntensityID:VS(),relightMetalnessIntensityID:VS(),relightShininessIntensityID:VS(),relightDirectionalLightIntensityID:VS(),relightNormalDepthID:VS(),relightToolMenuID:VS(),relightMenuButtonsID:VS(),relightTorchButtonID:VS(),relightAnnotationButtonID:VS(),relightCycleDefaultLayerID:VS(),canvas:(0,So.kR)(e,{windowId:n}),window:(0,Eo.zk)(e,t),state:e}},saga:J_,mode:"add",component:U_}],miradorImageToolsPlugin:wl}}})(),r.default})()));